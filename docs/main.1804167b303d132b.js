"use strict";(self.webpackChunklandding_page=self.webpackChunklandding_page||[]).push([[179],{2011:(dt,Me,P)=>{P.d(Me,{Dh:()=>pe,GT:()=>Ce,cc:()=>Fe,on:()=>ke,pX:()=>de,xv:()=>Ee});var h=P(4650),z=P(127);dt=P.hmd(dt);const ie=["ngOnDestroy"],de=(re,ce,et,Xe={})=>new Proxy(re,{get:(De,Ae)=>et.runOutsideAngular(()=>{var me;if(re[Ae])return!(null===(me=Xe?.spy)||void 0===me)&&me.get&&Xe.spy.get(Ae,re[Ae]),re[Ae];if(ie.indexOf(Ae)>-1)return()=>{};const Ve=ce.toPromise().then(ee=>{const ne=ee&&ee[Ae];return"function"==typeof ne?ne.bind(ee):ne&&ne.then?ne.then(le=>et.run(()=>le)):et.run(()=>ne)});return new Proxy(()=>{},{get:(ee,ne)=>Ve[ne],apply:(ee,ne,le)=>Ve.then(W=>{var q;const se=W&&W(...le);return!(null===(q=Xe?.spy)||void 0===q)&&q.apply&&Xe.spy.apply(Ae,le,se),se})})})}),Ce=(re,ce)=>{ce.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(Xe=>{Object.defineProperty(re.prototype,Xe,Object.getOwnPropertyDescriptor(et.prototype||et,Xe))})})};class ve{constructor(ce){return ce}}const pe=new h.OlP("angularfire2.app.options"),Ee=new h.OlP("angularfire2.app.name");function ke(re,ce,et){const De="object"==typeof et&&et||{};De.name=De.name||"string"==typeof et&&et||"[DEFAULT]";const me=z.Z.apps.filter(Ve=>Ve&&Ve.name===De.name)[0]||ce.runOutsideAngular(()=>z.Z.initializeApp(re,De));try{JSON.stringify(re)!==JSON.stringify(me.options)&&B("error",`${me.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ve(me)}const B=(re,...ce)=>{(0,h.X6Q)()&&typeof console<"u"&&console[re](...ce)};function Fe(re,ce,et,Xe,De){const[,Ae,me]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===re)||[];if(Ae)return function Pe(re,ce){try{return re.toString()===ce.toString()}catch{return re===ce}}(De,me)||(Ke("error",`${ce} was already initialized on the ${et} Firebase App with different settings.${be?" You may need to reload as Firebase is not HMR aware.":""}`),Ke("warn",{is:De,was:me})),Ae;{const Ve=Xe();return globalThis.\u0275AngularfireInstanceCache.push([re,Ve,De]),Ve}}const be=!!dt.hot,Ke=(re,...ce)=>{(0,h.X6Q)()&&typeof console<"u"&&console[re](...ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8247:(dt,Me,P)=>{P.d(Me,{$:()=>y1,A:()=>U,B:()=>Pe,G:()=>oo,H:()=>li,J:()=>as,L:()=>F,M:()=>D0,N:()=>T0,P:()=>K0,Q:()=>Hl,R:()=>im,T:()=>Bl,U:()=>mo,V:()=>go,W:()=>Ed,X:()=>X7,Y:()=>v1,Z:()=>Et,_:()=>J7,a:()=>Ls,a0:()=>xd,a1:()=>rr,a2:()=>$c,a3:()=>Wl,a4:()=>Nd,a5:()=>em,a6:()=>Wn,a7:()=>Ki,a8:()=>A1,a9:()=>Rs,aA:()=>O,aB:()=>h2,aC:()=>P1,aD:()=>Z0,aE:()=>ot,aI:()=>pa,aL:()=>ua,aa:()=>tm,ab:()=>Kl,ac:()=>Yl,af:()=>Ld,ag:()=>Pd,ah:()=>O0,ak:()=>g1,al:()=>Fd,an:()=>Vd,ao:()=>iu,ap:()=>le,aq:()=>He,ar:()=>ln,as:()=>Xe,at:()=>V1,au:()=>wa,av:()=>Bt,aw:()=>De,ax:()=>ee,ay:()=>ba,az:()=>q,b:()=>yo,c:()=>c2,d:()=>Yd,e:()=>sm,f:()=>Y0,g:()=>om,h:()=>Qd,i:()=>s2,j:()=>J0,k:()=>Yr,l:()=>Mr,m:()=>Hs,n:()=>H1,o:()=>Ee,r:()=>Kn,s:()=>yn,u:()=>Kr});var h=P(5861),z=P(2090),ie=P(9681),de=P(1877),Ce=P(655),ve=P(4859);const Ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},U={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function Y(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},be=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ke=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ce=new de.Yd("@firebase/auth");function et(C,...g){ce.logLevel<=de.in.ERROR&&ce.error(`Auth (${ie.SDK_VERSION}): ${C}`,...g)}function Xe(C,...g){throw Ve(C,...g)}function De(C,...g){return Ve(C,...g)}function Ae(C,g,_){const E=Object.assign(Object.assign({},be()),{[g]:_});return new z.LL("auth","Firebase",E).create(g,{appName:C.name})}function me(C,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Xe(C,"argument-error"),Ae(C,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(C,...g){if("string"!=typeof C){const _=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=C.name),C._errorFactory.create(_,...E)}return Ke.create(C,...g)}function ee(C,g,..._){if(!C)throw Ve(g,..._)}function ne(C){const g="INTERNAL ASSERTION FAILED: "+C;throw et(g),new Error(g)}function le(C,g){C||ne(g)}const W=new Map;function q(C){le(C instanceof Function,"Expected a class definition");let g=W.get(C);return g?(le(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,W.set(C,g),g)}function xe(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Re(){return"http:"===ct()||"https:"===ct()}function ct(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Ue{constructor(g,_){this.shortDelay=g,this.longDelay=_,le(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function Kt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Re()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hn(C,g){le(C.emulator,"Emulator should always be set here");const{url:_}=C.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class er{static initialize(g,_,E){this.fetchImpl=g,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Zt=new Ue(3e4,6e4);function jt(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function Dt(C,g,_,E){return oi.apply(this,arguments)}function oi(){return(oi=(0,h.Z)(function*(C,g,_,E,T={}){return xs(C,T,(0,h.Z)(function*(){let k={},Q={};E&&("GET"===g?Q=E:k={body:JSON.stringify(E)});const he=(0,z.xO)(Object.assign({key:C.config.apiKey},Q)).slice(1),We=yield C._getAdditionalHeaders();return We["Content-Type"]="application/json",C.languageCode&&(We["X-Firebase-Locale"]=C.languageCode),er.fetch()(no(C,C.config.apiHost,_,he),Object.assign({method:g,headers:We,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function xs(C,g,_){return ia.apply(this,arguments)}function ia(){return(ia=(0,h.Z)(function*(C,g,_){C._canInitEmulator=!1;const E=Object.assign(Object.assign({},dn),g);try{const T=new ji(C),k=yield Promise.race([_(),T.promise]);T.clearNetworkTimeout();const Q=yield k.json();if("needConfirmation"in Q)throw bi(C,"account-exists-with-different-credential",Q);if(k.ok&&!("errorMessage"in Q))return Q;{const he=k.ok?Q.errorMessage:Q.error.message,[We,st]=he.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===We)throw bi(C,"credential-already-in-use",Q);if("EMAIL_EXISTS"===We)throw bi(C,"email-already-in-use",Q);if("USER_DISABLED"===We)throw bi(C,"user-disabled",Q);const vt=E[We]||We.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw Ae(C,vt,st);Xe(C,vt)}}catch(T){if(T instanceof z.ZR)throw T;Xe(C,"network-request-failed")}})).apply(this,arguments)}function jn(C,g,_,E){return to.apply(this,arguments)}function to(){return(to=(0,h.Z)(function*(C,g,_,E,T={}){const k=yield Dt(C,g,_,E,T);return"mfaPendingCredential"in k&&Xe(C,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function no(C,g,_,E){const T=`${g}${_}?${E}`;return C.config.emulator?hn(C.config,T):`${C.config.apiScheme}://${T}`}class ji{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(De(this.auth,"network-request-failed")),Zt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bi(C,g,_){const E={appName:C.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const T=De(C,g,E);return T.customData._tokenResponse=_,T}function oa(){return(oa=(0,h.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Ze(C,g){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Lc(C,g){return tr.apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Gi(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Gn(){return(Gn=(0,h.Z)(function*(C,g=!1){const _=(0,z.m9)(C),E=yield _.getIdToken(g),T=ht(E);ee(T&&T.exp&&T.auth_time&&T.iat,_.auth,"internal-error");const k="object"==typeof T.firebase?T.firebase:void 0,Q=k?.sign_in_provider;return{claims:T,token:E,authTime:Gi(vn(T.auth_time)),issuedAtTime:Gi(vn(T.iat)),expirationTime:Gi(vn(T.exp)),signInProvider:Q||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function vn(C){return 1e3*Number(C)}function ht(C){var g;const[_,E,T]=C.split(".");if(void 0===_||void 0===E||void 0===T)return et("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,z.tV)(E);return k?JSON.parse(k):(et("Failed to decode base64 JWT payload"),null)}catch(k){return et("Caught error parsing JWT payload as JSON",null===(g=k)||void 0===g?void 0:g.toString()),null}}function Ft(C,g){return $i.apply(this,arguments)}function $i(){return($i=(0,h.Z)(function*(C,g,_=!1){if(_)return g;try{return yield g}catch(E){throw E instanceof z.ZR&&pr(E)&&C.auth.currentUser===C&&(yield C.auth.signOut()),E}})).apply(this,arguments)}function pr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class ai{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const T=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,h.Z)(function*(){yield _.iteration()}),E)}iteration(){var g=this;return(0,h.Z)(function*(){var _;try{yield g.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(_=E)||void 0===_?void 0:_.code)&&g.schedule(!0))}g.schedule()})()}}class wt{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gi(this.lastLoginAt),this.creationTime=Gi(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function wi(C){return tn.apply(this,arguments)}function tn(){return(tn=(0,h.Z)(function*(C){var g;const _=C.auth,E=yield C.getIdToken(),T=yield Ft(C,Lc(_,{idToken:E}));ee(T?.users.length,_,"internal-error");const k=T.users[0];C._notifyReloadListener(k);const Q=null!==(g=k.providerUserInfo)&&void 0!==g&&g.length?ci(k.providerUserInfo):[],he=kr(C.providerData,Q),vt=!!C.isAnonymous&&!(C.email&&k.passwordHash||he?.length),mn={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:he,metadata:new wt(k.createdAt,k.lastLoginAt),isAnonymous:vt};Object.assign(C,mn)})).apply(this,arguments)}function Gt(){return(Gt=(0,h.Z)(function*(C){const g=(0,z.m9)(C);yield wi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function kr(C,g){return[...C.filter(E=>!g.some(T=>T.providerId===E.providerId)),...g]}function ci(C){return C.map(g=>{var{providerId:_}=g,E=(0,Ce._T)(g,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function _e(){return(_e=(0,h.Z)(function*(C,g){const _=yield xs(C,{},(0,h.Z)(function*(){const E=(0,z.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:T,apiKey:k}=C.config,Q=no(C,T,"/v1/token",`key=${k}`),he=yield C._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",er.fetch()(Q,{method:"POST",headers:he,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class qe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ee(g.idToken,"internal-error"),ee(typeof g.idToken<"u","internal-error"),ee(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function lt(C){const g=ht(C);return ee(g,"internal-error"),ee(typeof g.exp<"u","internal-error"),ee(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var E=this;return(0,h.Z)(function*(){return ee(!E.accessToken||E.refreshToken,g,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var E=this;return(0,h.Z)(function*(){const{accessToken:T,refreshToken:k,expiresIn:Q}=yield function Ye(C,g){return _e.apply(this,arguments)}(g,_);E.updateTokensAndExpiration(T,k,Number(Q))})()}updateTokensAndExpiration(g,_,E){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,_){const{refreshToken:E,accessToken:T,expirationTime:k}=_,Q=new qe;return E&&(ee("string"==typeof E,"internal-error",{appName:g}),Q.refreshToken=E),T&&(ee("string"==typeof T,"internal-error",{appName:g}),Q.accessToken=T),k&&(ee("number"==typeof k,"internal-error",{appName:g}),Q.expirationTime=k),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new qe,this.toJSON())}_performRefresh(){return ne("not implemented")}}function pt(C,g){ee("string"==typeof C||typeof C>"u","internal-error",{appName:g})}class Ct{constructor(g){var{uid:_,auth:E,stsTokenManager:T}=g,k=(0,Ce._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ai(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new wt(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,h.Z)(function*(){const E=yield Ft(_,_.stsTokenManager.getToken(_.auth,g));return ee(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(g){return function Ln(C){return Gn.apply(this,arguments)}(this,g)}reload(){return function ro(C){return Gt.apply(this,arguments)}(this)}_assign(g){this!==g&&(ee(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Ct(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var E=this;return(0,h.Z)(function*(){let T=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),T=!0),_&&(yield wi(E)),yield E.auth._persistUserIfCurrent(E),T&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,h.Z)(function*(){const _=yield g.getIdToken();return yield Ft(g,function sa(C,g){return oa.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var E,T,k,Q,he,We,st,vt;const mn=null!==(E=_.displayName)&&void 0!==E?E:void 0,Di=null!==(T=_.email)&&void 0!==T?T:void 0,ds=null!==(k=_.phoneNumber)&&void 0!==k?k:void 0,B1=null!==(Q=_.photoURL)&&void 0!==Q?Q:void 0,Fn=null!==(he=_.tenantId)&&void 0!==he?he:void 0,Ji=null!==(We=_._redirectEventId)&&void 0!==We?We:void 0,U1=null!==(st=_.createdAt)&&void 0!==st?st:void 0,c6=null!==(vt=_.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:No,emailVerified:_u,isAnonymous:yu,providerData:j1,stsTokenManager:G1}=_;ee(No&&G1,g,"internal-error");const l6=qe.fromJSON(this.name,G1);ee("string"==typeof No,g,"internal-error"),pt(mn,g.name),pt(Di,g.name),ee("boolean"==typeof _u,g,"internal-error"),ee("boolean"==typeof yu,g,"internal-error"),pt(ds,g.name),pt(B1,g.name),pt(Fn,g.name),pt(Ji,g.name),pt(U1,g.name),pt(c6,g.name);const Cu=new Ct({uid:No,auth:g,email:Di,emailVerified:_u,displayName:mn,isAnonymous:yu,photoURL:B1,phoneNumber:ds,tenantId:Fn,stsTokenManager:l6,createdAt:U1,lastLoginAt:c6});return j1&&Array.isArray(j1)&&(Cu.providerData=j1.map(ko=>Object.assign({},ko))),Ji&&(Cu._redirectEventId=Ji),Cu}static _fromIdTokenResponse(g,_,E=!1){return(0,h.Z)(function*(){const T=new qe;T.updateFromServerResponse(_);const k=new Ct({uid:_.localId,auth:g,stsTokenManager:T,isAnonymous:E});return yield wi(k),k})()}}const F=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(_,E){var T=this;return(0,h.Z)(function*(){T.storage[_]=E})()}_get(_){var E=this;return(0,h.Z)(function*(){const T=E.storage[_];return void 0===T?null:T})()}_remove(_){var E=this;return(0,h.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return C.type="NONE",C})();function O(C,g,_){return`firebase:${C}:${g}:${_}`}class G{constructor(g,_,E){this.persistence=g,this.auth=_,this.userKey=E;const{config:T,name:k}=this.auth;this.fullUserKey=O(this.userKey,T.apiKey,k),this.fullPersistenceKey=O("persistence",T.apiKey,k),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,h.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?Ct._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,h.Z)(function*(){if(_.persistence===g)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,E="authUser"){return(0,h.Z)(function*(){if(!_.length)return new G(q(F),g,E);const T=(yield Promise.all(_.map(function(){var st=(0,h.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return st.apply(this,arguments)}}()))).filter(st=>st);let k=T[0]||q(F);const Q=O(E,g.config.apiKey,g.name);let he=null;for(const st of _)try{const vt=yield st._get(Q);if(vt){const mn=Ct._fromJSON(g,vt);st!==k&&(he=mn),k=st;break}}catch{}const We=T.filter(st=>st._shouldAllowMigration);return k._shouldAllowMigration&&We.length?(k=We[0],he&&(yield k._set(Q,he.toJSON())),yield Promise.all(_.map(function(){var st=(0,h.Z)(function*(vt){if(vt!==k)try{yield vt._remove(Q)}catch{}});return function(vt){return st.apply(this,arguments)}}())),new G(k,g,E)):new G(k,g,E)})()}}function ge(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Yt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(K(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(sn(g))return"Blackberry";if(ze(g))return"Webos";if(je(g))return"Safari";if((g.includes("chrome/")||ut(g))&&!g.includes("edge/"))return"Chrome";if(ln(g))return"Android";{const E=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function K(C=(0,z.z$)()){return/firefox\//i.test(C)}function je(C=(0,z.z$)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ut(C=(0,z.z$)()){return/crios\//i.test(C)}function Yt(C=(0,z.z$)()){return/iemobile/i.test(C)}function ln(C=(0,z.z$)()){return/android/i.test(C)}function sn(C=(0,z.z$)()){return/blackberry/i.test(C)}function ze(C=(0,z.z$)()){return/webos/i.test(C)}function He(C=(0,z.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Bt(C=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Pn(C=(0,z.z$)()){return He(C)||ln(C)||ze(C)||sn(C)||/windows phone/i.test(C)||Yt(C)}function _n(C,g=[]){let _;switch(C){case"Browser":_=ge((0,z.z$)());break;case"Worker":_=`${ge((0,z.z$)())}-${C}`;break;default:_=C}const E=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${ie.SDK_VERSION}/${E}`}class u1{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const E=k=>new Promise((Q,he)=>{try{Q(g(k))}catch(We){he(We)}});E.onAbort=_,this.queue.push(E);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,h.Z)(function*(){var E;if(_.auth.currentUser===g)return;const T=[];try{for(const k of _.queue)yield k(g),k.onAbort&&T.push(k.onAbort)}catch(k){T.reverse();for(const Q of T)try{Q()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=k)||void 0===E?void 0:E.message})}})()}}class h1{constructor(g,_,E){this.app=g,this.heartbeatServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new so(this),this.idTokenSubscription=new so(this),this.beforeStateQueue=new u1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ke,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,_){var E=this;return _&&(this._popupRedirectResolver=q(_)),this._initializationPromise=this.queue((0,h.Z)(function*(){var T,k;if(!E._deleted&&(E.persistenceManager=yield G.create(E,g),!E._deleted)){if(null!==(T=E._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(k=E.currentUser)||void 0===k?void 0:k.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,h.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,h.Z)(function*(){var E;const T=yield _.assertedPersistence.getCurrentUser();let k=T,Q=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const he=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,We=k?._redirectEventId,st=yield _.tryRedirectSignIn(g);(!he||he===We)&&st?.user&&(k=st.user,Q=!0)}if(!k)return _.directlySetCurrentUser(null);if(!k._redirectEventId){if(Q)try{yield _.beforeStateQueue.runMiddleware(k)}catch(he){k=T,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(he))}return k?_.reloadAndSetCurrentUserOrClear(k):_.directlySetCurrentUser(null)}return ee(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===k._redirectEventId?_.directlySetCurrentUser(k):_.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(g){var _=this;return(0,h.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,h.Z)(function*(){var E;try{yield wi(g)}catch(T){if("auth/network-request-failed"!==(null===(E=T)||void 0===E?void 0:E.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Pt(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,h.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,h.Z)(function*(){const E=g?(0,z.m9)(g):null;return E&&ee(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(g,_=!1){var E=this;return(0,h.Z)(function*(){if(!E._deleted)return g&&ee(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,h.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,h.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,h.Z)(function*(){yield _.assertedPersistence.setPersistence(q(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new z.LL("auth","Firebase",g())}onAuthStateChanged(g,_,E){return this.registerStateListener(this.authStateSubscription,g,_,E)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,E){return this.registerStateListener(this.idTokenSubscription,g,_,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var E=this;return(0,h.Z)(function*(){const T=yield E.getOrInitRedirectPersistenceManager(_);return null===g?T.removeCurrentUser():T.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,h.Z)(function*(){if(!_.redirectPersistenceManager){const E=g&&q(g)||_._popupRedirectResolver;ee(E,_,"argument-error"),_.redirectPersistenceManager=yield G.create(_,[q(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,h.Z)(function*(){var E,T;return _._isInitialized&&(yield _.queue((0,h.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===g?_._currentUser:(null===(T=_.redirectUser)||void 0===T?void 0:T._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,h.Z)(function*(){if(g===_.currentUser)return _.queue((0,h.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,E,T){if(this._deleted)return()=>{};const k="function"==typeof _?_:_.next.bind(_),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(Q,this,"internal-error"),Q.then(()=>k(this.currentUser)),"function"==typeof _?g.addObserver(_,E,T):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,h.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=_n(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,h.Z)(function*(){var _;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const T=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return T&&(E["X-Firebase-Client"]=T),E})()}}function ot(C){return(0,z.m9)(C)}class so{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,z.ne)(_=>this.observer=_)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function oo(C,g,_){const E=ot(C);ee(E._canInitEmulator,E,"emulator-config-failed"),ee(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const T=!!_?.disableWarnings,k=Pc(g),{host:Q,port:he}=function ao(C){const g=Pc(C),_=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(E);if(T){const k=T[1];return{host:k,port:$n(E.substr(k.length+1))}}{const[k,Q]=E.split(":");return{host:k,port:$n(Q)}}}(g);E.config.emulator={url:`${k}//${Q}${null===he?"":`:${he}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Q,port:he,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function co(){function C(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function Pc(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function $n(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class li{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return ne("not implemented")}_getIdTokenResponse(g){return ne("not implemented")}_linkToIdToken(g,_){return ne("not implemented")}_getReauthenticationResolver(g){return ne("not implemented")}}function ui(C,g){return lo.apply(this,arguments)}function lo(){return(lo=(0,h.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:resetPassword",jt(C,g))})).apply(this,arguments)}function Oc(C,g){return nn.apply(this,arguments)}function nn(){return(nn=(0,h.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function bd(C,g){return zc.apply(this,arguments)}function zc(){return(zc=(0,h.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:update",jt(C,g))})).apply(this,arguments)}function f1(){return(f1=(0,h.Z)(function*(C,g){return jn(C,"POST","/v1/accounts:signInWithPassword",jt(C,g))})).apply(this,arguments)}function $r(C,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,h.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:sendOobCode",jt(C,g))})).apply(this,arguments)}function ho(C,g){return un.apply(this,arguments)}function un(){return(un=(0,h.Z)(function*(C,g){return $r(C,g)})).apply(this,arguments)}function wd(C,g){return lr.apply(this,arguments)}function lr(){return(lr=(0,h.Z)(function*(C,g){return $r(C,g)})).apply(this,arguments)}function Wr(C,g){return fo.apply(this,arguments)}function fo(){return(fo=(0,h.Z)(function*(C,g){return $r(C,g)})).apply(this,arguments)}function Fc(C,g){return aa.apply(this,arguments)}function aa(){return(aa=(0,h.Z)(function*(C,g){return $r(C,g)})).apply(this,arguments)}function Vc(){return(Vc=(0,h.Z)(function*(C,g){return jn(C,"POST","/v1/accounts:signInWithEmailLink",jt(C,g))})).apply(this,arguments)}function Fl(){return(Fl=(0,h.Z)(function*(C,g){return jn(C,"POST","/v1/accounts:signInWithEmailLink",jt(C,g))})).apply(this,arguments)}class p1 extends li{constructor(g,_,E,T=null){super("password",E),this._email=g,this._password=_,this._tenantId=T}static _fromEmailAndPassword(g,_){return new p1(g,_,"password")}static _fromEmailAndCode(g,_,E=null){return new p1(g,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,h.Z)(function*(){switch(_.signInMethod){case"password":return function d1(C,g){return f1.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Wi(C,g){return Vc.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Xe(g,"internal-error")}})()}_linkToIdToken(g,_){var E=this;return(0,h.Z)(function*(){switch(E.signInMethod){case"password":return Oc(g,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function $7(C,g){return Fl.apply(this,arguments)}(g,{idToken:_,email:E._email,oobCode:E._password});default:Xe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function po(C,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,h.Z)(function*(C,g){return jn(C,"POST","/v1/accounts:signInWithIdp",jt(C,g))})).apply(this,arguments)}class as extends li{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new as(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Xe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:T}=_,k=(0,Ce._T)(_,["providerId","signInMethod"]);if(!E||!T)return null;const Q=new as(E,T);return Q.idToken=k.idToken||void 0,Q.accessToken=k.accessToken||void 0,Q.secret=k.secret,Q.nonce=k.nonce,Q.pendingToken=k.pendingToken||null,Q}_getIdTokenResponse(g){return po(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,po(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,po(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,z.xO)(_)}return g}}function q7(C,g){return w0.apply(this,arguments)}function w0(){return(w0=(0,h.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:sendVerificationCode",jt(C,g))})).apply(this,arguments)}function E0(){return(E0=(0,h.Z)(function*(C,g){return jn(C,"POST","/v1/accounts:signInWithPhoneNumber",jt(C,g))})).apply(this,arguments)}function M0(){return(M0=(0,h.Z)(function*(C,g){const _=yield jn(C,"POST","/v1/accounts:signInWithPhoneNumber",jt(C,g));if(_.temporaryProof)throw bi(C,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Y7={USER_NOT_FOUND:"user-not-found"};function S0(){return(S0=(0,h.Z)(function*(C,g){return jn(C,"POST","/v1/accounts:signInWithPhoneNumber",jt(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Y7)})).apply(this,arguments)}class ca extends li{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new ca({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new ca({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function K7(C,g){return E0.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Z7(C,g){return M0.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Q7(C,g){return S0.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:E,verificationCode:T}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:E,code:T}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:E,phoneNumber:T,temporaryProof:k}=g;return E||_||T||k?new ca({verificationId:_,verificationCode:E,phoneNumber:T,temporaryProof:k}):null}}class Hc{constructor(g){var _,E,T,k,Q,he;const We=(0,z.zd)((0,z.pd)(g)),st=null!==(_=We.apiKey)&&void 0!==_?_:null,vt=null!==(E=We.oobCode)&&void 0!==E?E:null,mn=function I0(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=We.mode)&&void 0!==T?T:null);ee(st&&vt&&mn,"argument-error"),this.apiKey=st,this.operation=mn,this.code=vt,this.continueUrl=null!==(k=We.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(Q=We.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(he=We.tenantId)&&void 0!==he?he:null}static parseLink(g){const _=function Vl(C){const g=(0,z.zd)((0,z.pd)(C)).link,_=g?(0,z.zd)((0,z.pd)(g)).deep_link_id:null,E=(0,z.zd)((0,z.pd)(C)).deep_link_id;return(E?(0,z.zd)((0,z.pd)(E)).link:null)||E||_||g||C}(g);try{return new Hc(_)}catch{return null}}}let D0=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(_,E){return p1._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const T=Hc.parseLink(E);return ee(T,"argument-error"),p1._fromEmailAndCode(_,T.code,T.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class mr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class la extends mr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class mo extends la{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return ee("providerId"in _&&"signInMethod"in _,"argument-error"),as._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ee(g.idToken||g.accessToken,"argument-error"),as._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return mo.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return mo.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:T,pendingToken:k,nonce:Q,providerId:he}=g;if(!E&&!T&&!_&&!k||!he)return null;try{return new mo(he)._credential({idToken:_,accessToken:E,nonce:Q,pendingToken:k})}catch{return null}}}let T0=(()=>{class C extends la{constructor(){super("facebook.com")}static credential(_){return as._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Hl=(()=>{class C extends la{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return as._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:T}=_;if(!E&&!T)return null;try{return C.credential(E,T)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Bl=(()=>{class C extends la{constructor(){super("github.com")}static credential(_){return as._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class ua extends li{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return po(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,po(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,po(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:T,pendingToken:k}=_;return E&&T&&k&&E===T?new ua(E,k):null}static _create(g,_){return new ua(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class go extends mr{constructor(g){ee(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return go.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return go.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=ua.fromJSON(g);return ee(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:E}=g;if(!_||!E)return null;try{return ua._create(E,_)}catch{return null}}}let Ed=(()=>{class C extends la{constructor(){super("twitter.com")}static credential(_,E){return as._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:T}=_;if(!E||!T)return null;try{return C.credential(E,T)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function qr(C,g){return m1.apply(this,arguments)}function m1(){return(m1=(0,h.Z)(function*(C,g){return jn(C,"POST","/v1/accounts:signUp",jt(C,g))})).apply(this,arguments)}class di{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,E,T=!1){return(0,h.Z)(function*(){const k=yield Ct._fromIdTokenResponse(g,E,T),Q=Bc(E);return new di({user:k,providerId:Q,_tokenResponse:E,operationType:_})})()}static _forOperation(g,_,E){return(0,h.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const T=Bc(E);return new di({user:g,providerId:T,_tokenResponse:E,operationType:_})})()}}function Bc(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function X7(C){return Md.apply(this,arguments)}function Md(){return(Md=(0,h.Z)(function*(C){var g;const _=ot(C);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new di({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield qr(_,{returnSecureToken:!0}),T=yield di._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(T.user),T})).apply(this,arguments)}class Sn extends z.ZR{constructor(g,_,E,T){var k;super(_.code,_.message),this.operationType=E,this.user=T,Object.setPrototypeOf(this,Sn.prototype),this.customData={appName:g.name,tenantId:null!==(k=g.tenantId)&&void 0!==k?k:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,_,E,T){return new Sn(g,_,E,T)}}function k0(C,g,_,E){return("reauthenticate"===g?_._getReauthenticationResolver(C):_._getIdTokenResponse(C)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Sn._fromErrorAndOperation(C,k,g,E):k})}function Sd(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function g1(C,g){return Er.apply(this,arguments)}function Er(){return(Er=(0,h.Z)(function*(C,g){const _=(0,z.m9)(C);yield Ns(!0,_,g);const{providerUserInfo:E}=yield Ze(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),T=Sd(E||[]);return _.providerData=_.providerData.filter(k=>T.has(k.providerId)),T.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function R0(C,g){return ha.apply(this,arguments)}function ha(){return(ha=(0,h.Z)(function*(C,g,_=!1){const E=yield Ft(C,g._linkToIdToken(C.auth,yield C.getIdToken()),_);return di._forOperation(C,"link",E)})).apply(this,arguments)}function Ns(C,g,_){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,h.Z)(function*(C,g,_){yield wi(g);const T=!1===C?"provider-already-linked":"no-such-provider";ee(Sd(g.providerData).has(_)===C,g.auth,T)})).apply(this,arguments)}function Id(C,g){return ks.apply(this,arguments)}function ks(){return(ks=(0,h.Z)(function*(C,g,_=!1){var E;const{auth:T}=C,k="reauthenticate";try{const Q=yield Ft(C,k0(T,k,g,C),_);ee(Q.idToken,T,"internal-error");const he=ht(Q.idToken);ee(he,T,"internal-error");const{sub:We}=he;return ee(C.uid===We,T,"user-mismatch"),di._forOperation(C,k,Q)}catch(Q){throw"auth/user-not-found"===(null===(E=Q)||void 0===E?void 0:E.code)&&Xe(T,"user-mismatch"),Q}})).apply(this,arguments)}function Dd(C,g){return qi.apply(this,arguments)}function qi(){return(qi=(0,h.Z)(function*(C,g,_=!1){const E="signIn",T=yield k0(C,E,g),k=yield di._fromIdTokenResponse(C,E,T);return _||(yield C._updateCurrentUser(k.user)),k})).apply(this,arguments)}function v1(C,g){return _1.apply(this,arguments)}function _1(){return(_1=(0,h.Z)(function*(C,g){return Dd(ot(C),g)})).apply(this,arguments)}function Et(C,g){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,h.Z)(function*(C,g){const _=(0,z.m9)(C);return yield Ns(!1,_,g.providerId),R0(_,g)})).apply(this,arguments)}function J7(C,g){return jl.apply(this,arguments)}function jl(){return(jl=(0,h.Z)(function*(C,g){return Id((0,z.m9)(C),g)})).apply(this,arguments)}function Td(C,g){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,h.Z)(function*(C,g){return jn(C,"POST","/v1/accounts:signInWithCustomToken",jt(C,g))})).apply(this,arguments)}function y1(C,g){return $l.apply(this,arguments)}function $l(){return($l=(0,h.Z)(function*(C,g){const _=ot(C),E=yield Td(_,{token:g,returnSecureToken:!0}),T=yield di._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(T.user),T})).apply(this,arguments)}class Uc{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?ye._fromServerResponse(g,_):Xe(g,"internal-error")}}class ye extends Uc{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new ye(_)}}function Lt(C,g,_){var E;ee((null===(E=_.url)||void 0===E?void 0:E.length)>0,C,"invalid-continue-uri"),ee(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ee(_.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(ee(_.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function xd(C,g,_){return jc.apply(this,arguments)}function jc(){return(jc=(0,h.Z)(function*(C,g,_){const E=(0,z.m9)(C),T={requestType:"PASSWORD_RESET",email:g};_&&Lt(E,T,_),yield wd(E,T)})).apply(this,arguments)}function rr(C,g,_){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,h.Z)(function*(C,g,_){yield ui((0,z.m9)(C),{oobCode:g,newPassword:_})})).apply(this,arguments)}function $c(C,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,h.Z)(function*(C,g){yield bd((0,z.m9)(C),{oobCode:g})})).apply(this,arguments)}function Wl(C,g){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,h.Z)(function*(C,g){const _=(0,z.m9)(C),E=yield ui(_,{oobCode:g}),T=E.requestType;switch(ee(T,_,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(E.mfaInfo,_,"internal-error");default:ee(E.email,_,"internal-error")}let k=null;return E.mfaInfo&&(k=Uc._fromServerResponse(ot(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:k},operation:T}})).apply(this,arguments)}function Nd(C,g){return ql.apply(this,arguments)}function ql(){return(ql=(0,h.Z)(function*(C,g){const{data:_}=yield Wl((0,z.m9)(C),g);return _.email})).apply(this,arguments)}function em(C,g,_){return da.apply(this,arguments)}function da(){return(da=(0,h.Z)(function*(C,g,_){const E=ot(C),T=yield qr(E,{returnSecureToken:!0,email:g,password:_}),k=yield di._fromIdTokenResponse(E,"signIn",T);return yield E._updateCurrentUser(k.user),k})).apply(this,arguments)}function Wn(C,g,_){return v1((0,z.m9)(C),D0.credential(g,_))}function Ki(C,g,_){return C1.apply(this,arguments)}function C1(){return(C1=(0,h.Z)(function*(C,g,_){const E=(0,z.m9)(C),T={requestType:"EMAIL_SIGNIN",email:g};ee(_.handleCodeInApp,E,"argument-error"),_&&Lt(E,T,_),yield Wr(E,T)})).apply(this,arguments)}function A1(C,g){return"EMAIL_SIGNIN"===Hc.parseLink(g)?.operation}function Rs(C,g,_){return L0.apply(this,arguments)}function L0(){return(L0=(0,h.Z)(function*(C,g,_){const E=(0,z.m9)(C),T=D0.credentialWithLink(g,_||xe());return ee(T._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),v1(E,T)})).apply(this,arguments)}function kd(C,g){return P0.apply(this,arguments)}function P0(){return(P0=(0,h.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:createAuthUri",jt(C,g))})).apply(this,arguments)}function tm(C,g){return qc.apply(this,arguments)}function qc(){return(qc=(0,h.Z)(function*(C,g){const E={identifier:g,continueUri:Re()?xe():"http://localhost"},{signinMethods:T}=yield kd((0,z.m9)(C),E);return T||[]})).apply(this,arguments)}function Kl(C,g){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,h.Z)(function*(C,g){const _=(0,z.m9)(C),T={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&Lt(_.auth,T,g);const{email:k}=yield ho(_.auth,T);k!==C.email&&(yield C.reload())})).apply(this,arguments)}function Yl(C,g,_){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,h.Z)(function*(C,g,_){const E=(0,z.m9)(C),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};_&&Lt(E.auth,k,_);const{email:Q}=yield Fc(E.auth,k);Q!==C.email&&(yield C.reload())})).apply(this,arguments)}function Rd(C,g){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,h.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ld(C,g){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,h.Z)(function*(C,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const E=(0,z.m9)(C),k={idToken:yield E.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},Q=yield Ft(E,Rd(E.auth,k));E.displayName=Q.displayName||null,E.photoURL=Q.photoUrl||null;const he=E.providerData.find(({providerId:We})=>"password"===We);he&&(he.displayName=E.displayName,he.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Q)})).apply(this,arguments)}function Pd(C,g){return fa((0,z.m9)(C),g,null)}function O0(C,g){return fa((0,z.m9)(C),null,g)}function fa(C,g,_){return vo.apply(this,arguments)}function vo(){return(vo=(0,h.Z)(function*(C,g,_){const{auth:E}=C,k={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(k.email=g),_&&(k.password=_);const Q=yield Ft(C,Oc(E,k));yield C._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class En{constructor(g,_,E={}){this.isNewUser=g,this.providerId=_,this.profile=E}}class cs extends En{constructor(g,_,E,T){super(g,_,E),this.username=T}}class An extends En{constructor(g,_){super(g,"facebook.com",_)}}class z0 extends cs{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class zd extends En{constructor(g,_){super(g,"google.com",_)}}class F0 extends cs{constructor(g,_,E){super(g,"twitter.com",_,E)}}function Fd(C){const{user:g,_tokenResponse:_}=C;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Od(C){var g,_;if(!C)return null;const{providerId:E}=C,T=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},k=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!E&&C?.idToken){const Q=null===(_=null===(g=ht(C.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(Q)return new En(k,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!E)return null;switch(E){case"facebook.com":return new An(k,T);case"github.com":return new z0(k,T);case"google.com":return new zd(k,T);case"twitter.com":return new F0(k,T,C.screenName||null);case"custom":case"anonymous":return new En(k,null);default:return new En(k,E,T)}}(_)}class pi{constructor(g,_,E){this.type=g,this.credential=_,this.auth=E}static _fromIdtoken(g,_){return new pi("enroll",g,_)}static _fromMfaPendingCredential(g){return new pi("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,E;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return pi._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.idToken)return pi._fromIdtoken(g.multiFactorSession.idToken)}return null}}class nu{constructor(g,_,E){this.session=g,this.hints=_,this.signInResolver=E}static _fromError(g,_){const E=ot(g),T=_.customData._serverResponse,k=(T.mfaInfo||[]).map(he=>Uc._fromServerResponse(E,he));ee(T.mfaPendingCredential,E,"internal-error");const Q=pi._fromMfaPendingCredential(T.mfaPendingCredential);return new nu(Q,k,function(){var he=(0,h.Z)(function*(We){const st=yield We._process(E,Q);delete T.mfaInfo,delete T.mfaPendingCredential;const vt=Object.assign(Object.assign({},T),{idToken:st.idToken,refreshToken:st.refreshToken});switch(_.operationType){case"signIn":const mn=yield di._fromIdTokenResponse(E,_.operationType,vt);return yield E._updateCurrentUser(mn.user),mn;case"reauthenticate":return ee(_.user,E,"internal-error"),di._forOperation(_.user,_.operationType,vt);default:Xe(E,"internal-error")}});return function(We){return he.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,h.Z)(function*(){return _.signInResolver(g)})()}}function Vd(C,g){var _;const E=(0,z.m9)(C),T=g;return ee(g.customData.operationType,E,"argument-error"),ee(null===(_=T.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),nu._fromError(E,T)}function w1(C,g){return Dt(C,"POST","/v2/accounts/mfaEnrollment:start",jt(C,g))}class Xc{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>Uc._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new Xc(g)}getSession(){var g=this;return(0,h.Z)(function*(){return pi._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var E=this;return(0,h.Z)(function*(){const T=g,k=yield E.getSession(),Q=yield Ft(E.user,T._process(E.user.auth,k,_));return yield E.user._updateTokensIfNecessary(Q),E.user.reload()})()}unenroll(g){var _=this;return(0,h.Z)(function*(){var E;const T="string"==typeof g?g:g.uid,k=yield _.user.getIdToken(),Q=yield Ft(_.user,function Qc(C,g){return Dt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",jt(C,g))}(_.user.auth,{idToken:k,mfaEnrollmentId:T}));_.enrolledFactors=_.enrolledFactors.filter(({uid:he})=>he!==T),yield _.user._updateTokensIfNecessary(Q);try{yield _.user.reload()}catch(he){if("auth/user-token-expired"!==(null===(E=he)||void 0===E?void 0:E.code))throw he}})()}}const Hd=new WeakMap;function iu(C){const g=(0,z.m9)(C);return Hd.has(g)||Hd.set(g,Xc._fromUser(g)),Hd.get(g)}const ls="__sak";class su{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ls,"1"),this.storage.removeItem(ls),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const yo=(()=>{class C extends su{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ou(){const C=(0,z.z$)();return je(C)||He(C)}()&&function io(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Pn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const T=this.storage.getItem(E),k=this.localCache[E];T!==k&&_(E,k,T)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((he,We,st)=>{this.notifyListeners(he,st)});const T=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(T);if(_.newValue!==he)null!==_.newValue?this.storage.setItem(T,_.newValue):this.storage.removeItem(T);else if(this.localCache[T]===_.newValue&&!E)return}const k=()=>{const he=this.storage.getItem(T);!E&&this.localCache[T]===he||this.notifyListeners(T,he)},Q=this.storage.getItem(T);!function Ei(){return(0,z.w1)()&&10===document.documentMode}()||Q===_.newValue||_.newValue===_.oldValue?k():setTimeout(k,10)}notifyListeners(_,E){this.localCache[_]=E;const T=this.listeners[_];if(T)for(const k of Array.from(T))k(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var T=()=>super._set,k=this;return(0,h.Z)(function*(){yield T().call(k,_,E),k.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,T=this;return(0,h.Z)(function*(){const k=yield E().call(T,_);return T.localCache[_]=JSON.stringify(k),k})()}_remove(_){var E=()=>super._remove,T=this;return(0,h.Z)(function*(){yield E().call(T,_),delete T.localCache[_]})()}}return C.type="LOCAL",C})(),Ls=(()=>{class C extends su{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return C.type="SESSION",C})();let Jc=(()=>{class C{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(k=>k.isListeningto(_));if(E)return E;const T=new C(_);return this.receivers.push(T),T}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,h.Z)(function*(){const T=_,{eventId:k,eventType:Q,data:he}=T.data,We=E.handlersMap[Q];if(!We?.size)return;T.ports[0].postMessage({status:"ack",eventId:k,eventType:Q});const st=Array.from(We).map(function(){var mn=(0,h.Z)(function*(Di){return Di(T.origin,he)});return function(Di){return mn.apply(this,arguments)}}()),vt=yield function au(C){return Promise.all(C.map(function(){var g=(0,h.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return g.apply(this,arguments)}}()))}(st);T.ports[0].postMessage({status:"done",eventId:k,eventType:Q,response:vt})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function pa(C="",g=10){let _="";for(let E=0;E<g;E++)_+=Math.floor(10*Math.random());return C+_}class jd{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,E=50){var T=this;return(0,h.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let Q,he;return new Promise((We,st)=>{const vt=pa("",20);k.port1.start();const mn=setTimeout(()=>{st(new Error("unsupported_event"))},E);he={messageChannel:k,onMessage(Di){const ds=Di;if(ds.data.eventId===vt)switch(ds.data.status){case"ack":clearTimeout(mn),Q=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),We(ds.data.response);break;default:clearTimeout(mn),clearTimeout(Q),st(new Error("invalid_response"))}}},T.handlers.add(he),k.port1.addEventListener("message",he.onMessage),T.target.postMessage({eventType:g,eventId:vt,data:_},[k.port2])}).finally(()=>{he&&T.removeMessageHandler(he)})})()}}function qn(){return window}function Si(){return typeof qn().WorkerGlobalScope<"u"&&"function"==typeof qn().importScripts}function Co(){return(Co=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const M1="firebaseLocalStorageDb",I1="firebaseLocalStorage",t2="fbase_key";class Ao{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function n2(C,g){return C.transaction([I1],g?"readwrite":"readonly").objectStore(I1)}function j0(){const C=indexedDB.open(M1,1);return new Promise((g,_)=>{C.addEventListener("error",()=>{_(C.error)}),C.addEventListener("upgradeneeded",()=>{const E=C.result;try{E.createObjectStore(I1,{keyPath:t2})}catch(T){_(T)}}),C.addEventListener("success",(0,h.Z)(function*(){const E=C.result;E.objectStoreNames.contains(I1)?g(E):(E.close(),yield function U0(){const C=indexedDB.deleteDatabase(M1);return new Ao(C).toPromise()}(),g(yield j0()))}))})}function D1(C,g,_){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,h.Z)(function*(C,g,_){const E=n2(C,!0).put({[t2]:g,value:_});return new Ao(E).toPromise()})).apply(this,arguments)}function r2(){return(r2=(0,h.Z)(function*(C,g){const _=n2(C,!1).get(g),E=yield new Ao(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function G0(C,g){const _=n2(C,!0).delete(g);return new Ao(_).toPromise()}const s2=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,h.Z)(function*(){return _.db||(_.db=yield j0()),_.db})()}_withRetries(_){var E=this;return(0,h.Z)(function*(){let T=0;for(;;)try{const k=yield E._openDb();return yield _(k)}catch(k){if(T++>3)throw k;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,h.Z)(function*(){return Si()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,h.Z)(function*(){_.receiver=Jc._getInstance(function e2(){return Si()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,h.Z)(function*(T,k){return{keyProcessed:(yield _._poll()).includes(k.key)}});return function(T,k){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,h.Z)(function*(T,k){return["keyChanged"]});return function(T,k){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,h.Z)(function*(){var E,T;if(_.activeServiceWorker=yield function Gd(){return Co.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new jd(_.activeServiceWorker);const k=yield _.sender._send("ping",{},800);!k||(null===(E=k[0])||void 0===E?void 0:E.fulfilled)&&(null===(T=k[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,h.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function cu(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const _=yield j0();return yield D1(_,ls,"1"),yield G0(_,ls),!0}catch{}return!1})()}_withPendingWrite(_){var E=this;return(0,h.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var T=this;return(0,h.Z)(function*(){return T._withPendingWrite((0,h.Z)(function*(){return yield T._withRetries(k=>D1(k,_,E)),T.localCache[_]=E,T.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,h.Z)(function*(){const T=yield E._withRetries(k=>function $d(C,g){return r2.apply(this,arguments)}(k,_));return E.localCache[_]=T,T})()}_remove(_){var E=this;return(0,h.Z)(function*(){return E._withPendingWrite((0,h.Z)(function*(){return yield E._withRetries(T=>G0(T,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,h.Z)(function*(){const E=yield _._withRetries(Q=>{const he=n2(Q,!1).getAll();return new Ao(he).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const T=[],k=new Set;for(const{fbase_key:Q,value:he}of E)k.add(Q),JSON.stringify(_.localCache[Q])!==JSON.stringify(he)&&(_.notifyListeners(Q,he),T.push(Q));for(const Q of Object.keys(_.localCache))_.localCache[Q]&&!k.has(Q)&&(_.notifyListeners(Q,null),T.push(Q));return T})()}notifyListeners(_,E){this.localCache[_]=E;const T=this.listeners[_];if(T)for(const k of Array.from(T))k(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Wd(C,g){return Dt(C,"POST","/v2/accounts/mfaSignIn:start",jt(C,g))}function bo(){return(bo=(0,h.Z)(function*(C){return(yield Dt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ma(C){return new Promise((g,_)=>{const E=document.createElement("script");E.setAttribute("src",C),E.onload=g,E.onerror=T=>{const k=De("internal-error");k.customData=T,_(k)},E.type="text/javascript",E.charset="UTF-8",function x1(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(E)})}function lu(C){return`__${C}${Math.floor(1e6*Math.random())}`}const q0=1e12;class nm{constructor(g){this.auth=g,this.counter=q0,this._widgets=new Map}render(g,_){const E=this.counter;return this._widgets.set(E,new fn(g,this.auth.name,_||{})),this.counter++,E}reset(g){var _;const E=g||q0;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(g){var _;return(null===(_=this._widgets.get(g||q0))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,h.Z)(function*(){var E;return null===(E=_._widgets.get(g||q0))||void 0===E||E.execute(),""})()}}class fn{constructor(g,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof g?document.getElementById(g):g;ee(T,"argument-error",{appName:_}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function rm(C){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<C;E++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const qd=lu("rcb"),KC=new Ue(3e4,6e4);class YC{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=qn().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return ee(function QC(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(qn().grecaptcha):new Promise((E,T)=>{const k=qn().setTimeout(()=>{T(De(g,"network-request-failed"))},KC.get());qn()[qd]=()=>{qn().clearTimeout(k),delete qn()[qd];const he=qn().grecaptcha;if(!he)return void T(De(g,"internal-error"));const We=he.render;he.render=(st,vt)=>{const mn=We(st,vt);return this.counter++,mn},this.hostLanguage=_,E(he)},ma(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:qd,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(k),T(De(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=qn().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class XC{load(g){return(0,h.Z)(function*(){return new nm(g)})()}clearedOneInstance(){}}const k1="recaptcha",JC={theme:"light",type:"image"};class im{constructor(g,_=Object.assign({},JC),E){this.parameters=_,this.type=k1,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ot(E),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof g?document.getElementById(g):g;ee(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new XC:new YC,this.validateStartingState()}verify(){var g=this;return(0,h.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(_)||new Promise(k=>{const Q=he=>{!he||(g.tokenChangeListeners.delete(Q),k(he))};g.tokenChangeListeners.add(Q),g.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof g)g(_);else if("string"==typeof g){const E=qn()[g];"function"==typeof E&&E(_)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,h.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,h.Z)(function*(){ee(Re()&&!Si(),g.auth,"internal-error"),yield function ir(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function a2(C){return bo.apply(this,arguments)}(g.auth);ee(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Zi{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=ca._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function yn(C,g,_){return nt.apply(this,arguments)}function nt(){return(nt=(0,h.Z)(function*(C,g,_){const E=ot(C),T=yield bn(E,g,(0,z.m9)(_));return new Zi(T,k=>v1(E,k))})).apply(this,arguments)}function Mr(C,g,_){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,h.Z)(function*(C,g,_){const E=(0,z.m9)(C);yield Ns(!1,E,"phone");const T=yield bn(E.auth,g,(0,z.m9)(_));return new Zi(T,k=>Et(E,k))})).apply(this,arguments)}function Kn(C,g,_){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,h.Z)(function*(C,g,_){const E=(0,z.m9)(C),T=yield bn(E.auth,g,(0,z.m9)(_));return new Zi(T,k=>J7(E,k))})).apply(this,arguments)}function bn(C,g,_){return pn.apply(this,arguments)}function pn(){return(pn=(0,h.Z)(function*(C,g,_){var E;const T=yield _.verify();try{let k;if(ee("string"==typeof T,C,"argument-error"),ee(_.type===k1,C,"argument-error"),k="string"==typeof g?{phoneNumber:g}:g,"session"in k){const Q=k.session;if("phoneNumber"in k)return ee("enroll"===Q.type,C,"internal-error"),(yield w1(C,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{ee("signin"===Q.type,C,"internal-error");const he=(null===(E=k.multiFactorHint)||void 0===E?void 0:E.uid)||k.multiFactorUid;return ee(he,C,"missing-multi-factor-info"),(yield Wd(C,{mfaPendingCredential:Q.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield q7(C,{phoneNumber:k.phoneNumber,recaptchaToken:T});return Q}}finally{_._reset()}})).apply(this,arguments)}function Kr(C,g){return St.apply(this,arguments)}function St(){return(St=(0,h.Z)(function*(C,g){yield R0((0,z.m9)(C),g)})).apply(this,arguments)}let K0=(()=>{class C{constructor(_){this.providerId=C.PROVIDER_ID,this.auth=ot(_)}verifyPhoneNumber(_,E){return bn(this.auth,_,(0,z.m9)(E))}static credential(_,E){return ca._fromVerification(_,E)}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:T}=_;return E&&T?ca._fromTokenResponse(E,T):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function wo(C,g){return g?q(g):(ee(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Yi extends li{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return po(g,this._buildIdpRequest())}_linkToIdToken(g,_){return po(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return po(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Kd(C){return Dd(C.auth,new Yi(C),C.bypassAuthState)}function Zr(C){const{auth:g,user:_}=C;return ee(_,g,"internal-error"),Id(_,new Yi(C),C.bypassAuthState)}function uu(C){return zs.apply(this,arguments)}function zs(){return(zs=(0,h.Z)(function*(C){const{auth:g,user:_}=C;return ee(_,g,"internal-error"),R0(_,new Yi(C),C.bypassAuthState)})).apply(this,arguments)}class Zd{constructor(g,_,E,T,k=!1){this.auth=g,this.resolver=E,this.user=T,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,h.Z)(function*(E,T){g.pendingPromise={resolve:E,reject:T};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(k){g.reject(k)}});return function(E,T){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,h.Z)(function*(){const{urlResponse:E,sessionId:T,postBody:k,tenantId:Q,error:he,type:We}=g;if(he)return void _.reject(he);const st={auth:_.auth,requestUri:E,sessionId:T,tenantId:Q||void 0,postBody:k||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(We)(st))}catch(vt){_.reject(vt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Kd;case"linkViaPopup":case"linkViaRedirect":return uu;case"reauthViaPopup":case"reauthViaRedirect":return Zr;default:Xe(this.auth,"internal-error")}}resolve(g){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hu=new Ue(2e3,1e4);function c2(C,g,_){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,h.Z)(function*(C,g,_){const E=ot(C);me(C,g,mr);const T=wo(E,_);return new ga(E,"signInViaPopup",g,T).executeNotNull()})).apply(this,arguments)}function sm(C,g,_){return du.apply(this,arguments)}function du(){return(du=(0,h.Z)(function*(C,g,_){const E=(0,z.m9)(C);me(E.auth,g,mr);const T=wo(E.auth,_);return new ga(E.auth,"reauthViaPopup",g,T,E).executeNotNull()})).apply(this,arguments)}function Yd(C,g,_){return l2.apply(this,arguments)}function l2(){return(l2=(0,h.Z)(function*(C,g,_){const E=(0,z.m9)(C);me(E.auth,g,mr);const T=wo(E.auth,_);return new ga(E.auth,"linkViaPopup",g,T,E).executeNotNull()})).apply(this,arguments)}let ga=(()=>{class C extends Zd{constructor(_,E,T,k,Q){super(_,E,k,Q),this.provider=T,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var _=this;return(0,h.Z)(function*(){const E=yield _.execute();return ee(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,h.Z)(function*(){le(1===_.filter.length,"Popup operations only handle one event");const E=pa();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(T=>{_.reject(T)}),_.resolver._isIframeWebStorageSupported(_.auth,T=>{T||_.reject(De(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,T;this.pollId=null!==(T=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,hu.get())};_()}}return C.currentPopupAction=null,C})();const u2=new Map;class us extends Zd{constructor(g,_,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,h.Z)(function*(){let E=u2.get(_.auth._key());if(!E){try{const k=(yield function In(C,g){return Fs.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;E=()=>Promise.resolve(k)}catch(T){E=()=>Promise.reject(T)}u2.set(_.auth._key(),E)}return _.bypassAuthState||u2.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,E=this;return(0,h.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(E,g);if("unknown"!==g.type){if(g.eventId){const T=yield E.auth._redirectUserForId(g.eventId);if(T)return E.user=T,_().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Fs(){return(Fs=(0,h.Z)(function*(C,g){const _=Vs(g),E=_a(C);if(!(yield E._isAvailable()))return!1;const T="true"===(yield E._get(_));return yield E._remove(_),T})).apply(this,arguments)}function L1(C,g){return va.apply(this,arguments)}function va(){return(va=(0,h.Z)(function*(C,g){return _a(C)._set(Vs(g),"true")})).apply(this,arguments)}function Z0(){u2.clear()}function P1(C,g){u2.set(C._key(),g)}function _a(C){return q(C._redirectPersistence)}function Vs(C){return O("pendingRedirect",C.config.apiKey,C.name)}function Y0(C,g,_){return function On(C,g,_){return fu.apply(this,arguments)}(C,g,_)}function fu(){return(fu=(0,h.Z)(function*(C,g,_){const E=ot(C);me(C,g,mr);const T=wo(E,_);return yield L1(T,E),T._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function Qd(C,g,_){return function Q0(C,g,_){return ya.apply(this,arguments)}(C,g,_)}function ya(){return(ya=(0,h.Z)(function*(C,g,_){const E=(0,z.m9)(C);me(E.auth,g,mr);const T=wo(E.auth,_);yield L1(T,E.auth);const k=yield pu(E);return T._openRedirect(E.auth,g,"reauthViaRedirect",k)})).apply(this,arguments)}function om(C,g,_){return function am(C,g,_){return X0.apply(this,arguments)}(C,g,_)}function X0(){return(X0=(0,h.Z)(function*(C,g,_){const E=(0,z.m9)(C);me(E.auth,g,mr);const T=wo(E.auth,_);yield Ns(!1,E,g.providerId),yield L1(T,E.auth);const k=yield pu(E);return T._openRedirect(E.auth,g,"linkViaRedirect",k)})).apply(this,arguments)}function J0(C,g){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,h.Z)(function*(C,g){return yield ot(C)._initializationPromise,h2(C,g,!1)})).apply(this,arguments)}function h2(C,g){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,h.Z)(function*(C,g,_=!1){const E=ot(C),T=wo(E,g),Q=yield new us(E,T,_).execute();return Q&&!_&&(delete Q.user._redirectEventId,yield E._persistUserIfCurrent(Q.user),yield E._setRedirectUser(null,g)),Q})).apply(this,arguments)}function pu(C){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,h.Z)(function*(C){const g=pa(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class ba{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(_=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Xd(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d2(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var E;if(g.error&&!d2(g)){const T=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(De(this.auth,T))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const E=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mu(g))}saveEventToCache(g){this.cachedEventUids.add(mu(g)),this.lastProcessedEventTime=Date.now()}}function mu(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function d2({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===g?.code}function wa(C){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,h.Z)(function*(C,g={}){return Dt(C,"GET","/v1/projects",g)})).apply(this,arguments)}const Jd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cm=/^https?/;function e6(){return(e6=(0,h.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield wa(C);for(const _ of g)try{if(Cn(_))return}catch{}Xe(C,"unauthorized-domain")})).apply(this,arguments)}function Cn(C){const g=xe(),{protocol:_,hostname:E}=new URL(g);if(C.startsWith("chrome-extension://")){const Q=new URL(C);return""===Q.hostname&&""===E?"chrome-extension:"===_&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&Q.hostname===E}if(!cm.test(_))return!1;if(Jd.test(C))return E===C;const T=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(E)}const Rr=new Ue(3e4,6e4);function t6(){const C=qn().___jsl;if(C?.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let _=0;_<C.CP.length;_++)C.CP[_]=null}let So=null;function n6(C){return So=So||function f2(C){return new Promise((g,_)=>{var E,T,k;function Q(){t6(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{t6(),_(De(C,"network-request-failed"))},timeout:Rr.get()})}if(null!==(T=null===(E=qn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==T&&T.Iframe)g(gapi.iframes.getContext());else{if(null===(k=qn().gapi)||void 0===k||!k.load){const he=lu("iframefcb");return qn()[he]=()=>{gapi.load?Q():_(De(C,"network-request-failed"))},ma(`https://apis.google.com/js/api.js?onload=${he}`).catch(We=>_(We))}Q()}}).catch(g=>{throw So=null,g})}(C),So}const tf=new Ue(5e3,15e3),i6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rf(C){const g=C.config;ee(g.authDomain,C,"auth-domain-config-required");const _=g.emulator?hn(g,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:C.name,v:ie.SDK_VERSION},T=O1.get(C.config.apiHost);T&&(E.eid=T);const k=C._getFrameworks();return k.length&&(E.fw=k.join(",")),`${_}?${(0,z.xO)(E).slice(1)}`}function Io(){return Io=(0,h.Z)(function*(C){const g=yield n6(C),_=qn().gapi;return ee(_,C,"internal-error"),g.open({where:document.body,url:rf(C),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i6,dontclear:!0},E=>new Promise(function(){var T=(0,h.Z)(function*(k,Q){yield E.restyle({setHideOnLeave:!1});const he=De(C,"network-request-failed"),We=qn().setTimeout(()=>{Q(he)},tf.get());function st(){qn().clearTimeout(We),k(E)}E.ping(st).then(st,()=>{Q(he)})});return function(k,Q){return T.apply(this,arguments)}}()))}),Io.apply(this,arguments)}const af={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class F1{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V1(C,g,_,E,T,k){ee(C.config.authDomain,C,"auth-domain-config-required"),ee(C.config.apiKey,C,"invalid-api-key");const Q={apiKey:C.config.apiKey,appName:C.name,authType:_,redirectUrl:E,v:ie.SDK_VERSION,eventId:T};if(g instanceof mr){g.setDefaultLanguage(C.languageCode),Q.providerId=g.providerId||"",(0,z.xb)(g.getCustomParameters())||(Q.customParameters=JSON.stringify(g.getCustomParameters()));for(const[We,st]of Object.entries(k||{}))Q[We]=st}if(g instanceof la){const We=g.getScopes().filter(st=>""!==st);We.length>0&&(Q.scopes=We.join(","))}C.tenantId&&(Q.tid=C.tenantId);const he=Q;for(const We of Object.keys(he))void 0===he[We]&&delete he[We];return`${function Ma({config:C}){return C.emulator?hn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,z.xO)(he).slice(1)}`}const Xi="webStorageSupport",Yr=class To{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ls,this._completeRedirectFn=h2,this._overrideRedirectResult=P1}_openPopup(g,_,E,T){var k=this;return(0,h.Z)(function*(){var Q;le(null===(Q=k.eventManagers[g._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const he=V1(g,_,E,xe(),T);return function hm(C,g,_,E=500,T=600){const k=Math.max((window.screen.availHeight-T)/2,0).toString(),Q=Math.max((window.screen.availWidth-E)/2,0).toString();let he="";const We=Object.assign(Object.assign({},af),{width:E.toString(),height:T.toString(),top:k,left:Q}),st=(0,z.z$)().toLowerCase();_&&(he=ut(st)?"_blank":_),K(st)&&(g=g||"http://localhost",We.scrollbars="yes");const vt=Object.entries(We).reduce((Di,[ds,B1])=>`${Di}${ds}=${B1},`,"");if(function nr(C=(0,z.z$)()){var g;return He(C)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(st)&&"_self"!==he)return function gu(C,g){const _=document.createElement("a");_.href=C,_.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(g||"",he),new F1(null);const mn=window.open(g||"",he,vt);ee(mn,C,"popup-blocked");try{mn.focus()}catch{}return new F1(mn)}(g,he,pa())})()}_openRedirect(g,_,E,T){var k=this;return(0,h.Z)(function*(){return yield k._originValidation(g),function B0(C){qn().location.href=C}(V1(g,_,E,xe(),T)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:T,promise:k}=this.eventManagers[_];return T?Promise.resolve(T):(le(k,"If manager is not set, promise should be"),k)}const E=this.initAndGetManager(g);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(g){var _=this;return(0,h.Z)(function*(){const E=yield function sf(C){return Io.apply(this,arguments)}(g),T=new ba(g);return E.register("authEvent",k=>(ee(k?.authEvent,g,"invalid-auth-event"),{status:T.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:T},_.iframes[g._key()]=E,T})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Xi,{type:Xi},T=>{var k;const Q=null===(k=T?.[0])||void 0===k?void 0:k[Xi];void 0!==Q&&_(!!Q),Xe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function ef(C){return e6.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Pn()||je()||He()}};class zn extends class s6{constructor(g){this.factorId=g}_process(g,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,E);case"signin":return this._finalizeSignIn(g,_.credential);default:return ne("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new zn(g)}_finalizeEnroll(g,_,E){return function ru(C,g){return Dt(C,"POST","/v2/accounts/mfaEnrollment:finalize",jt(C,g))}(g,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function o2(C,g){return Dt(C,"POST","/v2/accounts/mfaSignIn:finalize",jt(C,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Hs=(()=>{class C{constructor(){}static assertion(_){return zn._fromCredential(_)}}return C.FACTOR_ID="phone",C})();var p2="@firebase/auth",xo="0.20.11";class o6{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,h.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(E=>{var T;g((null===(T=E)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Bs=(0,z.Pz)("authIdTokenMaxAge")||300;let a6=null;const gr=C=>function(){var g=(0,h.Z)(function*(_){const E=_&&(yield _.getIdTokenResult()),T=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(T&&T>Bs)return;const k=E?.token;a6!==k&&(a6=k,yield fetch(C,{method:k?"POST":"DELETE",headers:k?{Authorization:`Bearer ${k}`}:{}}))});return function(_){return g.apply(this,arguments)}}();function H1(C=(0,ie.getApp)()){const g=(0,ie._getProvider)(C,"auth");if(g.isInitialized())return g.getImmediate();const _=function se(C,g){const _=(0,ie._getProvider)(C,"auth");if(_.isInitialized()){const T=_.getImmediate(),k=_.getOptions();if((0,z.vZ)(k,g??{}))return T;Xe(T,"already-initialized")}return _.initialize({options:g})}(C,{popupRedirectResolver:Yr,persistence:[s2,yo,Ls]}),E=(0,z.Pz)("authTokenSyncURL");if(E){const k=gr(E);(function b1(C,g,_){(0,z.m9)(C).beforeAuthStateChanged(g,_)})(_,k,()=>k(_.currentUser)),function Zc(C,g,_,E){(0,z.m9)(C).onIdTokenChanged(g,_,E)}(_,Q=>k(Q))}const T=(0,z.q4)("auth");return T&&oo(_,`http://${T}`),_}!function hs(C){(0,ie._registerComponent)(new ve.wA("auth",(g,{options:_})=>{const E=g.getProvider("app").getImmediate(),T=g.getProvider("heartbeat"),{apiKey:k,authDomain:Q}=E.options;return((he,We)=>{ee(k&&!k.includes(":"),"invalid-api-key",{appName:he.name}),ee(!Q?.includes(":"),"argument-error",{appName:he.name});const st={apiKey:k,authDomain:Q,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_n(C)},vt=new h1(he,We,st);return function J(C,g){const _=g?.persistence||[],E=(Array.isArray(_)?_:[_]).map(q);g?.errorMap&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(E,g?.popupRedirectResolver)}(vt,_),vt})(E,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,E)=>{g.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new ve.wA("auth-internal",g=>{const _=ot(g.getProvider("auth").getImmediate());return new o6(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(p2,xo,function lf(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,ie.registerVersion)(p2,xo,"esm2017")}("Browser")},2090:(dt,Me,P)=>{P.d(Me,{$s:()=>qe,BH:()=>Pt,DV:()=>bi,GJ:()=>no,L:()=>Ee,LL:()=>dn,P0:()=>Re,Pz:()=>Kt,Sg:()=>Ue,UG:()=>be,UI:()=>oa,US:()=>ve,Wl:()=>oi,Yr:()=>Ae,ZB:()=>U,ZR:()=>er,aH:()=>ct,b$:()=>ce,cI:()=>Dt,dS:()=>tn,eu:()=>ee,g5:()=>ie,gK:()=>pr,gQ:()=>Ln,h$:()=>pe,hl:()=>Ve,hu:()=>z,jU:()=>Ke,m9:()=>$t,ne:()=>Gn,p$:()=>B,pd:()=>zl,q4:()=>xe,r3:()=>ji,ru:()=>re,tV:()=>ke,uI:()=>Pe,ug:()=>ro,vZ:()=>Ze,w1:()=>Xe,w9:()=>to,xO:()=>tr,xb:()=>sa,z$:()=>Fe,zI:()=>ne,zd:()=>Gi});const z=function(F,O){if(!F)throw ie(O)},ie=function(F){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+F)},de=function(F){const O=[];let G=0;for(let ge=0;ge<F.length;ge++){let K=F.charCodeAt(ge);K<128?O[G++]=K:K<2048?(O[G++]=K>>6|192,O[G++]=63&K|128):55296==(64512&K)&&ge+1<F.length&&56320==(64512&F.charCodeAt(ge+1))?(K=65536+((1023&K)<<10)+(1023&F.charCodeAt(++ge)),O[G++]=K>>18|240,O[G++]=K>>12&63|128,O[G++]=K>>6&63|128,O[G++]=63&K|128):(O[G++]=K>>12|224,O[G++]=K>>6&63|128,O[G++]=63&K|128)}return O},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,O){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let K=0;K<F.length;K+=3){const je=F[K],ut=K+1<F.length,Yt=ut?F[K+1]:0,ln=K+2<F.length,sn=ln?F[K+2]:0;let Bt=(15&Yt)<<2|sn>>6,nr=63&sn;ln||(nr=64,ut||(Bt=64)),ge.push(G[je>>2],G[(3&je)<<4|Yt>>4],G[Bt],G[nr])}return ge.join("")},encodeString(F,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(F):this.encodeByteArray(de(F),O)},decodeString(F,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(F):function(F){const O=[];let G=0,ge=0;for(;G<F.length;){const K=F[G++];if(K<128)O[ge++]=String.fromCharCode(K);else if(K>191&&K<224){const je=F[G++];O[ge++]=String.fromCharCode((31&K)<<6|63&je)}else if(K>239&&K<365){const ln=((7&K)<<18|(63&F[G++])<<12|(63&F[G++])<<6|63&F[G++])-65536;O[ge++]=String.fromCharCode(55296+(ln>>10)),O[ge++]=String.fromCharCode(56320+(1023&ln))}else{const je=F[G++],ut=F[G++];O[ge++]=String.fromCharCode((15&K)<<12|(63&je)<<6|63&ut)}}return O.join("")}(this.decodeStringToByteArray(F,O))},decodeStringToByteArray(F,O){this.init_();const G=O?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let K=0;K<F.length;){const je=G[F.charAt(K++)],Yt=K<F.length?G[F.charAt(K)]:0;++K;const sn=K<F.length?G[F.charAt(K)]:64;++K;const He=K<F.length?G[F.charAt(K)]:64;if(++K,null==je||null==Yt||null==sn||null==He)throw Error();ge.push(je<<2|Yt>>4),64!==sn&&(ge.push(Yt<<4&240|sn>>2),64!==He&&ge.push(sn<<6&192|He))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}},pe=function(F){const O=de(F);return ve.encodeByteArray(O,!0)},Ee=function(F){return pe(F).replace(/\./g,"")},ke=function(F){try{return ve.decodeString(F,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};function B(F){return U(void 0,F)}function U(F,O){if(!(O instanceof Object))return O;switch(O.constructor){case Date:return new Date(O.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return O}for(const G in O)!O.hasOwnProperty(G)||!Y(G)||(F[G]=U(F[G],O[G]));return F}function Y(F){return"__proto__"!==F}function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Pe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ke(){return"object"==typeof self&&self.self===self}function re(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function ce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){const F=Fe();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function Ae(){return!1}function Ve(){return"object"==typeof indexedDB}function ee(){return new Promise((F,O)=>{try{let G=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(ge);K.onsuccess=()=>{K.result.close(),G||self.indexedDB.deleteDatabase(ge),F(!0)},K.onupgradeneeded=()=>{G=!1},K.onerror=()=>{var je;O((null===(je=K.error)||void 0===je?void 0:je.message)||"")}}catch(G){O(G)}})}function ne(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const J=()=>{try{return function le(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const O=F&&ke(F[1]);return O&&JSON.parse(O)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},xe=F=>{var O,G;return null===(G=null===(O=J())||void 0===O?void 0:O.emulatorHosts)||void 0===G?void 0:G[F]},Re=F=>{const O=xe(F);if(!O)return;const G=O.lastIndexOf(":");if(G<=0||G+1===O.length)throw new Error(`Invalid host ${O} with no separate hostname and port!`);const ge=parseInt(O.substring(G+1),10);return"["===O[0]?[O.substring(1,G-1),ge]:[O.substring(0,G),ge]},ct=()=>{var F;return null===(F=J())||void 0===F?void 0:F.config},Kt=F=>{var O;return null===(O=J())||void 0===O?void 0:O[`_${F}`]};class Pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((O,G)=>{this.resolve=O,this.reject=G})}wrapCallback(O){return(G,ge)=>{G?this.reject(G):this.resolve(ge),"function"==typeof O&&(this.promise.catch(()=>{}),1===O.length?O(G):O(G,ge))}}}function Ue(F,O){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=O||"demo-project",K=F.iat||0,je=F.sub||F.user_id;if(!je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ut=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:K,exp:K+3600,auth_time:K,sub:je,user_id:je,firebase:{sign_in_provider:"custom",identities:{}}},F);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(ut)),""].join(".")}class er extends Error{constructor(O,G,ge){super(G),this.code=O,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dn.prototype.create)}}class dn{constructor(O,G,ge){this.service=O,this.serviceName=G,this.errors=ge}create(O,...G){const ge=G[0]||{},K=`${this.service}/${O}`,je=this.errors[O],ut=je?function Zt(F,O){return F.replace(jt,(G,ge)=>{const K=O[ge];return null!=K?String(K):`<${ge}?>`})}(je,ge):"Error";return new er(K,`${this.serviceName}: ${ut} (${K}).`,ge)}}const jt=/\{\$([^}]+)}/g;function Dt(F){return JSON.parse(F)}function oi(F){return JSON.stringify(F)}const xs=function(F){let O={},G={},ge={},K="";try{const je=F.split(".");O=Dt(ke(je[0])||""),G=Dt(ke(je[1])||""),K=je[2],ge=G.d||{},delete G.d}catch{}return{header:O,claims:G,data:ge,signature:K}},to=function(F){const G=xs(F).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},no=function(F){const O=xs(F).claims;return"object"==typeof O&&!0===O.admin};function ji(F,O){return Object.prototype.hasOwnProperty.call(F,O)}function bi(F,O){if(Object.prototype.hasOwnProperty.call(F,O))return F[O]}function sa(F){for(const O in F)if(Object.prototype.hasOwnProperty.call(F,O))return!1;return!0}function oa(F,O,G){const ge={};for(const K in F)Object.prototype.hasOwnProperty.call(F,K)&&(ge[K]=O.call(G,F[K],K,F));return ge}function Ze(F,O){if(F===O)return!0;const G=Object.keys(F),ge=Object.keys(O);for(const K of G){if(!ge.includes(K))return!1;const je=F[K],ut=O[K];if(wr(je)&&wr(ut)){if(!Ze(je,ut))return!1}else if(je!==ut)return!1}for(const K of ge)if(!G.includes(K))return!1;return!0}function wr(F){return null!==F&&"object"==typeof F}function tr(F){const O=[];for(const[G,ge]of Object.entries(F))Array.isArray(ge)?ge.forEach(K=>{O.push(encodeURIComponent(G)+"="+encodeURIComponent(K))}):O.push(encodeURIComponent(G)+"="+encodeURIComponent(ge));return O.length?"&"+O.join("&"):""}function Gi(F){const O={};return F.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[K,je]=ge.split("=");O[decodeURIComponent(K)]=decodeURIComponent(je)}}),O}function zl(F){const O=F.indexOf("?");if(!O)return"";const G=F.indexOf("#",O);return F.substring(O,G>0?G:void 0)}class Ln{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let O=1;O<this.blockSize;++O)this.pad_[O]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(O,G){G||(G=0);const ge=this.W_;if("string"==typeof O)for(let He=0;He<16;He++)ge[He]=O.charCodeAt(G)<<24|O.charCodeAt(G+1)<<16|O.charCodeAt(G+2)<<8|O.charCodeAt(G+3),G+=4;else for(let He=0;He<16;He++)ge[He]=O[G]<<24|O[G+1]<<16|O[G+2]<<8|O[G+3],G+=4;for(let He=16;He<80;He++){const Bt=ge[He-3]^ge[He-8]^ge[He-14]^ge[He-16];ge[He]=4294967295&(Bt<<1|Bt>>>31)}let sn,ze,K=this.chain_[0],je=this.chain_[1],ut=this.chain_[2],Yt=this.chain_[3],ln=this.chain_[4];for(let He=0;He<80;He++){He<40?He<20?(sn=Yt^je&(ut^Yt),ze=1518500249):(sn=je^ut^Yt,ze=1859775393):He<60?(sn=je&ut|Yt&(je|ut),ze=2400959708):(sn=je^ut^Yt,ze=3395469782);const Bt=(K<<5|K>>>27)+sn+ln+ze+ge[He]&4294967295;ln=Yt,Yt=ut,ut=4294967295&(je<<30|je>>>2),je=K,K=Bt}this.chain_[0]=this.chain_[0]+K&4294967295,this.chain_[1]=this.chain_[1]+je&4294967295,this.chain_[2]=this.chain_[2]+ut&4294967295,this.chain_[3]=this.chain_[3]+Yt&4294967295,this.chain_[4]=this.chain_[4]+ln&4294967295}update(O,G){if(null==O)return;void 0===G&&(G=O.length);const ge=G-this.blockSize;let K=0;const je=this.buf_;let ut=this.inbuf_;for(;K<G;){if(0===ut)for(;K<=ge;)this.compress_(O,K),K+=this.blockSize;if("string"==typeof O){for(;K<G;)if(je[ut]=O.charCodeAt(K),++ut,++K,ut===this.blockSize){this.compress_(je),ut=0;break}}else for(;K<G;)if(je[ut]=O[K],++ut,++K,ut===this.blockSize){this.compress_(je),ut=0;break}}this.inbuf_=ut,this.total_+=G}digest(){const O=[];let G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&G,G/=256;this.compress_(this.buf_);let ge=0;for(let K=0;K<5;K++)for(let je=24;je>=0;je-=8)O[ge]=this.chain_[K]>>je&255,++ge;return O}}function Gn(F,O){const G=new vn(F,O);return G.subscribe.bind(G)}class vn{constructor(O,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{O(this)}).catch(ge=>{this.error(ge)})}next(O){this.forEachObserver(G=>{G.next(O)})}error(O){this.forEachObserver(G=>{G.error(O)}),this.close(O)}complete(){this.forEachObserver(O=>{O.complete()}),this.close()}subscribe(O,G,ge){let K;if(void 0===O&&void 0===G&&void 0===ge)throw new Error("Missing Observer.");K=function lt(F,O){if("object"!=typeof F||null===F)return!1;for(const G of O)if(G in F&&"function"==typeof F[G])return!0;return!1}(O,["next","error","complete"])?O:{next:O,error:G,complete:ge},void 0===K.next&&(K.next=Ft),void 0===K.error&&(K.error=Ft),void 0===K.complete&&(K.complete=Ft);const je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),je}unsubscribeOne(O){void 0===this.observers||void 0===this.observers[O]||(delete this.observers[O],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(O){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,O)}sendOne(O,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[O])try{G(this.observers[O])}catch(ge){typeof console<"u"&&console.error&&console.error(ge)}})}close(O){this.finalized||(this.finalized=!0,void 0!==O&&(this.finalError=O),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ft(){}function pr(F,O){return`${F} failed: ${O} argument `}const tn=function(F){const O=[];let G=0;for(let ge=0;ge<F.length;ge++){let K=F.charCodeAt(ge);if(K>=55296&&K<=56319){const je=K-55296;ge++,z(ge<F.length,"Surrogate pair missing trail surrogate."),K=65536+(je<<10)+(F.charCodeAt(ge)-56320)}K<128?O[G++]=K:K<2048?(O[G++]=K>>6|192,O[G++]=63&K|128):K<65536?(O[G++]=K>>12|224,O[G++]=K>>6&63|128,O[G++]=63&K|128):(O[G++]=K>>18|240,O[G++]=K>>12&63|128,O[G++]=K>>6&63|128,O[G++]=63&K|128)}return O},ro=function(F){let O=0;for(let G=0;G<F.length;G++){const ge=F.charCodeAt(G);ge<128?O++:ge<2048?O+=2:ge>=55296&&ge<=56319?(O+=4,G++):O+=3}return O};function qe(F,O=1e3,G=2){const ge=O*Math.pow(G,F),K=Math.round(.5*ge*(Math.random()-.5)*2);return Math.min(144e5,ge+K)}function $t(F){return F&&F._delegate?F._delegate:F}},2143:(dt,Me,P)=>{var h=P(4650);let z=null;function ie(){return z}const pe=new h.OlP("DocumentToken");let Ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ke(){return(0,h.LFG)(U)}()},providedIn:"platform"}),n})();const B=new h.OlP("Location Initialized");let U=(()=>{class n extends Ee{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ie().getBaseHref(this._doc)}onPopState(t){const r=ie().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ie().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Y()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Y()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Fe(){return new U((0,h.LFG)(pe))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function Pe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ke(n){return n&&"?"!==n[0]?"?"+n:n}let re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(et)},providedIn:"root"}),n})();const ce=new h.OlP("appBaseHref");let et=(()=>{class n extends re{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Pe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ke(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const c=this.prepareExternalUrl(i+Ke(s));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){const c=this.prepareExternalUrl(i+Ke(s));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ee),h.LFG(ce,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xe=(()=>{class n extends re{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Pe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let c=this.prepareExternalUrl(i+Ke(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){let c=this.prepareExternalUrl(i+Ke(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ee),h.LFG(ce,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),De=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=be(Ve(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ke(r))}normalize(t){return n.stripTrailingSlash(function me(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ve(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ke(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ke(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ke,n.joinWithSlash=Pe,n.stripTrailingSlash=be,n.\u0275fac=function(t){return new(t||n)(h.LFG(re))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ae(){return new De((0,h.LFG)(re))}()},providedIn:"root"}),n})();function Ve(n){return n.replace(/\/index.html$/,"")}function Oc(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let nn=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,h.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class f1{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $r=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new f1(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===s?void 0:s);else if(null!==s){const u=r.get(s);r.move(u,c),uo(u,i)}});for(let i=0,s=r.length;i<s;i++){const u=r.get(i).context;u.index=i,u.count=s,u.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{uo(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function uo(n,e){n.context.$implicit=e.item}let un=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new wd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){lr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){lr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class wd{constructor(){this.$implicit=null,this.ngIf=null}}function lr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let N0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const go="browser";let k0=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Sd((0,h.LFG)(pe),window)}),n})();class Sd{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Er(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=g1(this.window.history)||g1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function g1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ha{}class fa extends class O0 extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Ce(n){z||(z=n)}(new fa)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Od(){return vo=vo||document.querySelector("base"),vo?vo.getAttribute("href"):null}();return null==t?null:function cs(n){En=En||document.createElement("a"),En.setAttribute("href",n);const e=En.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){vo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Oc(document.cookie,e)}}let En,vo=null;const An=new h.OlP("TRANSITION_ID"),zd=[{provide:h.ip1,useFactory:function z0(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=ie(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[An,pe,h.zs3],multi:!0}];let Fd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Jl=new h.OlP("EventManagerPlugins");let Zc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const c=i[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Jl),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class b1{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=ie().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Yc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),_o=(()=>{class n extends Yc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(eu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(eu))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function eu(n){ie().remove(n)}const tu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},V0=/%COMP%/g;function Qc(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Qc(n,i,t):(i=i.replace(V0,n),t.push(i))}return t}function Xc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let iu=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ls(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new H0(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case h.ifc.ShadowDom:return new Bd(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Qc(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Zc),h.LFG(_o),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class ls{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(tu[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(E1(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(E1(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=tu[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=tu[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Xc(r)):this.eventManager.addEventListener(e,t,Xc(r))}}function E1(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class H0 extends ls{constructor(e,t,r,i){super(e),this.component=r;const s=Qc(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function w1(n){return"_ngcontent-%COMP%".replace(V0,n)}(i+"-"+r.id),this.hostAttr=function ru(n){return"_nghost-%COMP%".replace(V0,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Bd extends ls{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Qc(i.id,i.styles,[]);for(let c=0;c<s.length;c++){const u=document.createElement("style");u.textContent=s[c],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let yo=(()=>{class n extends b1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ud=["alt","control","meta","shift"],Ls={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},au={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Jc=(()=>{class n extends b1{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ie().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let c="",u=r.indexOf("code");if(u>-1&&(r.splice(u,1),c="code."),Ud.forEach(v=>{const b=r.indexOf(v);b>-1&&(r.splice(b,1),c+=v+".")}),c+=s,0!=r.length||0===s.length)return null;const p={};return p.domEventName=i,p.fullKey=c,p}static matchEventFullKeyCode(t,r){let i=Ls[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ud.forEach(c=>{c!==i&&(0,au[c])(t)&&(s+=c+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const M1=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:go},{provide:h.g9A,useValue:function Gd(){fa.makeCurrent()},multi:!0},{provide:pe,useFactory:function cu(){return(0,h.RDi)(document),document},deps:[]}]),S1=new h.OlP(""),I1=[{provide:h.rWj,useClass:class F0{addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let s=i.length,c=!1;const u=function(p){c=c||p,s--,0==s&&r(c)};i.forEach(function(p){p.whenStable(u)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ie().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],t2=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Co(){return new h.qLn},deps:[]},{provide:Jl,useClass:yo,multi:!0,deps:[pe,h.R0b,h.Lbi]},{provide:Jl,useClass:Jc,multi:!0,deps:[pe]},{provide:iu,useClass:iu,deps:[Zc,_o,h.AFp]},{provide:h.FYo,useExisting:iu},{provide:Yc,useExisting:_o},{provide:_o,useClass:_o,deps:[pe]},{provide:Zc,useClass:Zc,deps:[Jl,h.R0b]},{provide:ha,useClass:Fd,deps:[]},[]];let Ao=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:An,useExisting:h.AFp},zd]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(S1,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...t2,...I1],imports:[N0,h.hGG]}),n})(),Ps=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function D1(){return new Ps((0,h.LFG)(pe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Zi=P(3269),yn=P(8996);function nt(...n){const e=(0,Zi.yG)(n);return(0,yn.D)(n,e)}var Mr=P(9751),Xt=P(5577),Kn=P(576);function Ii(n,e){return(0,Kn.m)(e)?(0,Xt.z)(n,e,1):(0,Xt.z)(n,1)}var bn=P(4482),pn=P(5403);function Kr(n,e){return(0,bn.e)((t,r)=>{let i=0;t.subscribe((0,pn.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}var St=P(4004);class K0{}class wo{}class Yi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Yi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Yi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Yi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(u=>-1===s.indexOf(u)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Zr{encodeKey(e){return hu(e)}encodeValue(e){return hu(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const zs=/%(\d[a-f0-9])/gi,Zd={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hu(n){return encodeURIComponent(n).replace(zs,(e,t)=>Zd[t]??e)}function c2(n){return`${n}`}class Qi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Zr,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function uu(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[c,u]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],p=t.get(c)||[];p.push(u),t.set(c,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(c2):[c2(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Qi({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(c2(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(c2(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class du{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function l2(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function ga(n){return typeof Blob<"u"&&n instanceof Blob}function R1(n){return typeof FormData<"u"&&n instanceof FormData}class us{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Yd(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Yi),this.context||(this.context=new du),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const u=t.indexOf("?");this.urlWithParams=t+(-1===u?"?":u<t.length-1?"&":"")+c}}else this.params=new Qi,this.urlWithParams=t}serializeBody(){return null===this.body?null:l2(this.body)||ga(this.body)||R1(this.body)||function u2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||R1(this.body)?null:ga(this.body)?this.body.type||null:l2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,v=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((M,D)=>M.set(D,e.setHeaders[D]),p)),e.setParams&&(v=Object.keys(e.setParams).reduce((M,D)=>M.set(D,e.setParams[D]),v)),new us(t,r,s,{params:v,headers:p,context:b,reportProgress:u,responseType:i,withCredentials:c})}}var In=(()=>((In=In||{})[In.Sent=0]="Sent",In[In.UploadProgress=1]="UploadProgress",In[In.ResponseHeader=2]="ResponseHeader",In[In.DownloadProgress=3]="DownloadProgress",In[In.Response=4]="Response",In[In.User=5]="User",In))();class Fs{constructor(e,t=200,r="OK"){this.headers=e.headers||new Yi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class L1 extends Fs{constructor(e={}){super(e),this.type=In.ResponseHeader}clone(e={}){return new L1({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class va extends Fs{constructor(e={}){super(e),this.type=In.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new va({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Z0 extends Fs{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function P1(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let _a=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof us)s=t;else{let p,v;p=i.headers instanceof Yi?i.headers:new Yi(i.headers),i.params&&(v=i.params instanceof Qi?i.params:new Qi({fromObject:i.params})),s=new us(t,r,void 0!==i.body?i.body:null,{headers:p,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=nt(s).pipe(Ii(p=>this.handler.handle(p)));if(t instanceof us||"events"===i.observe)return c;const u=c.pipe(Kr(p=>p instanceof va));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe((0,St.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return u.pipe((0,St.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return u.pipe((0,St.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return u.pipe((0,St.U)(p=>p.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Qi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,P1(i,r))}post(t,r,i={}){return this.request("POST",t,P1(i,r))}put(t,r,i={}){return this.request("PUT",t,P1(i,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(K0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Vs{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Y0=new h.OlP("HTTP_INTERCEPTORS");let On=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const h2=/^\)\]\}',?\n/;let pu=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Mr.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((N,R)=>i.setRequestHeader(N,R.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const N=t.detectContentTypeHeader();null!==N&&i.setRequestHeader("Content-Type",N)}if(t.responseType){const N=t.responseType.toLowerCase();i.responseType="json"!==N?N:"text"}const s=t.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const N=i.statusText||"OK",R=new Yi(i.getAllResponseHeaders()),V=function Eo(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new L1({headers:R,status:i.status,statusText:N,url:V}),c},p=()=>{let{headers:N,status:R,statusText:V,url:$}=u(),fe=null;204!==R&&(fe=typeof i.response>"u"?i.responseText:i.response),0===R&&(R=fe?200:0);let Te=R>=200&&R<300;if("json"===t.responseType&&"string"==typeof fe){const Oe=fe;fe=fe.replace(h2,"");try{fe=""!==fe?JSON.parse(fe):null}catch(Ie){fe=Oe,Te&&(Te=!1,fe={error:Ie,text:fe})}}Te?(r.next(new va({body:fe,headers:N,status:R,statusText:V,url:$||void 0})),r.complete()):r.error(new Z0({error:fe,headers:N,status:R,statusText:V,url:$||void 0}))},v=N=>{const{url:R}=u(),V=new Z0({error:N,status:i.status||0,statusText:i.statusText||"Unknown Error",url:R||void 0});r.error(V)};let b=!1;const M=N=>{b||(r.next(u()),b=!0);let R={type:In.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),"text"===t.responseType&&!!i.responseText&&(R.partialText=i.responseText),r.next(R)},D=N=>{let R={type:In.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),r.next(R)};return i.addEventListener("load",p),i.addEventListener("error",v),i.addEventListener("timeout",v),i.addEventListener("abort",v),t.reportProgress&&(i.addEventListener("progress",M),null!==s&&i.upload&&i.upload.addEventListener("progress",D)),i.send(s),r.next({type:In.Sent}),()=>{i.removeEventListener("error",v),i.removeEventListener("abort",v),i.removeEventListener("load",p),i.removeEventListener("timeout",v),t.reportProgress&&(i.removeEventListener("progress",M),null!==s&&i.upload&&i.upload.removeEventListener("progress",D)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ha))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Aa=new h.OlP("XSRF_COOKIE_NAME"),Mo=new h.OlP("XSRF_HEADER_NAME");class ba{}let mu=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Oc(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe),h.LFG(h.Lbi),h.LFG(Aa))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),d2=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ba),h.LFG(Mo))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Xd=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Y0,[]);this.chain=r.reduceRight((i,s)=>new Vs(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(wo),h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Jd=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:d2,useClass:On}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Aa,useValue:t.cookieName}:[],t.headerName?{provide:Mo,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[d2,{provide:Y0,useExisting:d2,multi:!0},{provide:ba,useClass:mu},{provide:Aa,useValue:"XSRF-TOKEN"},{provide:Mo,useValue:"X-XSRF-TOKEN"}]}),n})(),cm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[_a,{provide:K0,useClass:Xd},pu,{provide:wo,useExisting:pu}],imports:[Jd.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();var Cn=P(7579);class Rr extends Cn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const f2=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:So}=Array,{getPrototypeOf:n6,prototype:tf,keys:r6}=Object;function nf(n){if(1===n.length){const e=n[0];if(So(e))return{args:e,keys:null};if(function i6(n){return n&&"object"==typeof n&&n6(n)===tf}(e)){const t=r6(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var O1=P(4671);const{isArray:rf}=Array;function Io(n){return(0,St.U)(e=>function sf(n,e){return rf(e)?n(...e):n(e)}(n,e))}function af(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var lm=P(9672);function z1(...n){const e=(0,Zi.yG)(n),t=(0,Zi.jO)(n),{args:r,keys:i}=nf(n);if(0===r.length)return(0,yn.D)([],e);const s=new Mr.y(function um(n,e,t=O1.y){return r=>{cf(e,()=>{const{length:i}=n,s=new Array(i);let c=i,u=i;for(let p=0;p<i;p++)cf(e,()=>{const v=(0,yn.D)(n[p],e);let b=!1;v.subscribe((0,pn.x)(r,M=>{s[p]=M,b||(b=!0,u--),u||r.next(t(s.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>af(i,c):O1.y));return t?s.pipe(Io(t)):s}function cf(n,e,t){n?(0,lm.f)(t,n,e):e()}var F1=P(8189);function gu(...n){return function hm(){return(0,F1.J)(1)}()((0,yn.D)(n,(0,Zi.yG)(n)))}var Do=P(8421);function vu(n){return new Mr.y(e=>{(0,Do.Xf)(n()).subscribe(e)})}var V1=P(9635);function Ma(n,e){const t=(0,Kn.m)(n)?n:()=>n,r=i=>i.error(t());return new Mr.y(e?i=>e.schedule(r,0,i):r)}var Xi=P(515),To=P(727);function Yr(){return(0,bn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,pn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class s6 extends Mr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,bn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new To.w0;const t=this.getSubject();e.add(this.source.subscribe((0,pn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=To.w0.EMPTY)}return e}refCount(){return Yr()(this)}}function zn(n,e){return(0,bn.e)((t,r)=>{let i=null,s=0,c=!1;const u=()=>c&&!i&&r.complete();t.subscribe((0,pn.x)(r,p=>{i?.unsubscribe();let v=0;const b=s++;(0,Do.Xf)(n(p,b)).subscribe(i=(0,pn.x)(r,M=>r.next(e?e(p,M,b,v++):M),()=>{i=null,u()}))},()=>{c=!0,u()}))})}function Hs(n){return n<=0?()=>Xi.E:(0,bn.e)((e,t)=>{let r=0;e.subscribe((0,pn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function p2(...n){const e=(0,Zi.yG)(n);return(0,bn.e)((t,r)=>{(e?gu(n,t,e):gu(n,t)).subscribe(r)})}function xo(n){return(0,bn.e)((e,t)=>{let r=!1;e.subscribe((0,pn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function o6(n=lf){return(0,bn.e)((e,t)=>{let r=!1;e.subscribe((0,pn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function lf(){return new f2}function hs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Kr((i,s)=>n(i,s,r)):O1.y,Hs(1),t?xo(e):o6(()=>new f2))}function sr(n,e,t){const r=(0,Kn.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,bn.e)((i,s)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let u=!0;i.subscribe((0,pn.x)(s,p=>{var v;null===(v=r.next)||void 0===v||v.call(r,p),s.next(p)},()=>{var p;u=!1,null===(p=r.complete)||void 0===p||p.call(r),s.complete()},p=>{var v;u=!1,null===(v=r.error)||void 0===v||v.call(r,p),s.error(p)},()=>{var p,v;u&&(null===(p=r.unsubscribe)||void 0===p||p.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):O1.y}function Bs(n){return(0,bn.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,pn.x)(t,void 0,void 0,c=>{s=(0,Do.Xf)(n(c,Bs(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function a6(n,e,t,r,i){return(s,c)=>{let u=t,p=e,v=0;s.subscribe((0,pn.x)(c,b=>{const M=v++;p=u?n(p,b,M):(u=!0,b),r&&c.next(p)},i&&(()=>{u&&c.next(p),c.complete()})))}}function gr(n,e){return(0,bn.e)(a6(n,e,arguments.length>=2,!0))}function H1(n){return n<=0?()=>Xi.E:(0,bn.e)((e,t)=>{let r=[];e.subscribe((0,pn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function C(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Kr((i,s)=>n(i,s,r)):O1.y,H1(1),t?xo(e):o6(()=>new f2))}function E(n){return(0,bn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const T="primary",k=Symbol("RouteTitle");class Q{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function he(n){return new Q(n)}function We(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const c=r[s],u=n[s];if(c.startsWith(":"))i[c.substring(1)]=u;else if(c!==u.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function vt(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!mn(n[i],e[i]))return!1;return!0}function mn(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Di(n){return Array.prototype.concat.apply([],n)}function ds(n){return n.length>0?n[n.length-1]:null}function Fn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ji(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,yn.D)(Promise.resolve(n)):nt(n)}const No={exact:function G1(n,e,t){if(!W1(n.segments,e.segments)||!m2(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!G1(n.children[r],e.children[r],t))return!1;return!0},subset:Cu},_u={exact:function j1(n,e){return vt(n,e)},subset:function l6(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>mn(n[t],e[t]))},ignored:()=>!0};function yu(n,e,t){return No[t.paths](n.root,e.root,t.matrixParams)&&_u[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Cu(n,e,t){return ko(n,e,e.segments,t)}function ko(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!W1(i,t)||e.hasChildren()||!m2(i,t,r))}if(n.segments.length===t.length){if(!W1(n.segments,t)||!m2(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Cu(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(W1(n.segments,i)&&m2(n.segments,i,r)&&n.children[T])&&ko(n.children[T],e,s,r)}}function m2(n,e,t){return e.every((r,i)=>_u[t](n[i].parameters,r.parameters))}class Sa{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=he(this.queryParams)),this._queryParamMap}toString(){return nA.serialize(this)}}class Ot{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Fn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Au(this)}}class $1{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=he(this.parameters)),this._parameterMap}toString(){return Ia(this)}}function W1(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let dm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new uf},providedIn:"root"}),n})();class uf{parse(e){const t=new vm(e);return new Sa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${q1(e.root,!0)}`,r=function pm(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${g2(t)}=${g2(i)}`).join("&"):`${g2(t)}=${g2(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function rA(n){return encodeURI(n)}(e.fragment)}`:""}`}}const nA=new uf;function Au(n){return n.segments.map(e=>Ia(e)).join("/")}function q1(n,e){if(!n.hasChildren())return Au(n);if(e){const t=n.children[T]?q1(n.children[T],!1):"",r=[];return Fn(n.children,(i,s)=>{s!==T&&r.push(`${s}:${q1(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function tA(n,e){let t=[];return Fn(n.children,(r,i)=>{i===T&&(t=t.concat(e(r,i)))}),Fn(n.children,(r,i)=>{i!==T&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===T?[q1(n.children[T],!1)]:[`${i}:${q1(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[T]?`${Au(n)}/${t[0]}`:`${Au(n)}/(${t.join("//")})`}}function hf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function g2(n){return hf(n).replace(/%3B/gi,";")}function df(n){return hf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bu(n){return decodeURIComponent(n)}function ff(n){return bu(n.replace(/\+/g,"%20"))}function Ia(n){return`${df(n.path)}${function fm(n){return Object.keys(n).map(e=>`;${df(e)}=${df(n[e])}`).join("")}(n.parameters)}`}const iA=/^[^\/()?;=#]+/;function pf(n){const e=n.match(iA);return e?e[0]:""}const u6=/^[^=?&#]+/,mm=/^[^&#]+/;class vm{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[T]=new Ot(e,t)),r}parseSegment(){const e=pf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new $1(bu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=pf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=pf(this.remaining);i&&(r=i,this.capture(r))}e[bu(t)]=bu(r)}parseQueryParam(e){const t=function sA(n){const e=n.match(u6);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function gm(n){const e=n.match(mm);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=ff(t),s=ff(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=pf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new h.vHH(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=T);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[T]:new Ot([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function wu(n){return n.segments.length>0?new Ot([],{[T]:n}):n}function Eu(n){const e={};for(const r of Object.keys(n.children)){const s=Eu(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function h6(n){if(1===n.numberOfChildren&&n.children[T]){const e=n.children[T];return new Ot(n.segments.concat(e.segments),e.children)}return n}(new Ot(n.segments,e))}function Us(n){return n instanceof Sa}function Mu(n,e,t,r,i){if(0===t.length)return _2(e.root,e.root,e.root,r,i);const s=function f6(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new vf(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const u={};return Fn(s.outlets,(p,v)=>{u[v]="string"==typeof p?p.split("/"):p}),[...i,{outlets:u}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===c?(s.split("/").forEach((u,p)=>{0==p&&"."===u||(0==p&&""===u?t=!0:".."===u?e++:""!=u&&i.push(u))}),i):[...i,s]},[]);return new vf(t,e,r)}(t);return s.toRoot()?_2(e.root,e.root,new Ot([],{}),r,i):function c(p){const v=function K1(n,e,t,r){if(n.isAbsolute)return new Ro(e.root,!0,0);if(-1===r)return new Ro(t,t===e.root,0);return function Cm(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new h.vHH(4005,!1);i=r.segments.length}return new Ro(r,!1,i-s)}(t,r+(Su(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,p),b=v.processChildren?Iu(v.segmentGroup,v.index,s.commands):Am(v.segmentGroup,v.index,s.commands);return _2(e.root,v.segmentGroup,b,r,i)}(n.snapshot?._lastPathIndex)}function Su(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function v2(n){return"object"==typeof n&&null!=n&&n.outlets}function _2(n,e,t,r,i){let c,s={};r&&Fn(r,(p,v)=>{s[v]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),c=n===e?t:ym(n,e,t);const u=wu(Eu(c));return new Sa(u,s,i)}function ym(n,e,t){const r={};return Fn(n.children,(i,s)=>{r[s]=i===e?t:ym(i,e,t)}),new Ot(n.segments,r)}class vf{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Su(r[0]))throw new h.vHH(4003,!1);const i=r.find(v2);if(i&&i!==ds(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ro{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Am(n,e,t){if(n||(n=new Ot([],{})),0===n.segments.length&&n.hasChildren())return Iu(n,e,t);const r=function yf(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const c=n.segments[i],u=t[r];if(v2(u))break;const p=`${u}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===p)break;if(p&&v&&"object"==typeof v&&void 0===v.outlets){if(!p6(p,v,c))return s;r+=2}else{if(!p6(p,{},c))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Ot(n.segments.slice(0,r.pathIndex),{});return s.children[T]=new Ot(n.segments.slice(r.pathIndex),n.children),Iu(s,0,i)}return r.match&&0===i.length?new Ot(n.segments,{}):r.match&&!n.hasChildren()?Cf(n,e,t):r.match?Iu(n,0,i):Cf(n,e,t)}function Iu(n,e,t){if(0===t.length)return new Ot(n.segments,{});{const r=function oA(n){return v2(n[0])?n[0].outlets:{[T]:n}}(t),i={};return Fn(r,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[c]=Am(n.children[c],e,s))}),Fn(n.children,(s,c)=>{void 0===r[c]&&(i[c]=s)}),new Ot(n.segments,i)}}function Cf(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(v2(s)){const p=bm(s.outlets);return new Ot(r,p)}if(0===i&&Su(t[0])){r.push(new $1(n.segments[e].path,Du(t[0]))),i++;continue}const c=v2(s)?s.outlets[T]:`${s}`,u=i<t.length-1?t[i+1]:null;c&&u&&Su(u)?(r.push(new $1(c,Du(u))),i+=2):(r.push(new $1(c,{})),i++)}return new Ot(r,{})}function bm(n){const e={};return Fn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Cf(new Ot([],{}),0,t))}),e}function Du(n){const e={};return Fn(n,(t,r)=>e[r]=`${t}`),e}function p6(n,e,t){return n==t.path&&vt(e,t.parameters)}class js{constructor(e,t){this.id=e,this.url=t}}class m6 extends js{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Da extends js{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Tu extends js{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wm extends js{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class aA extends js{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cA extends js{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lA extends js{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uA extends js{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ta extends js{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xu{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hA{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class GT{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $T{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WT{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qT{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dA{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Mm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Af(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Af(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=bf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bf(e,this._root).map(t=>t.value)}}function Af(n,e){if(n===e.value)return e;for(const t of e.children){const r=Af(n,t);if(r)return r}return null}function bf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=bf(n,t);if(r.length)return r.unshift(e),r}return[]}class Lo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function xa(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Gs extends Mm{constructor(e,t){super(e),this.snapshot=t,Nu(this,e)}toString(){return this.snapshot.toString()}}function y2(n,e){const t=function Sm(n,e){const c=new Ef([],{},{},"",{},T,e,null,n.root,-1,{});return new fA("",new Lo(c,[]))}(n,e),r=new Rr([new $1("",{})]),i=new Rr({}),s=new Rr({}),c=new Rr({}),u=new Rr(""),p=new Ti(r,i,c,u,s,T,e,t.root);return p.snapshot=t.root,new Gs(new Lo(p,[]),t)}class Ti{constructor(e,t,r,i,s,c,u,p){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=u,this.title=this.data?.pipe((0,St.U)(v=>v[k]))??nt(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,St.U)(e=>he(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,St.U)(e=>he(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wf(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function KT(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ef{constructor(e,t,r,i,s,c,u,p,v,b,M,D){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=u,this.title=this.data?.[k],this.routeConfig=p,this._urlSegment=v,this._lastPathIndex=b,this._correctedLastPathIndex=D??b,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=he(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=he(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fA extends Mm{constructor(e,t){super(t),this.url=e,Nu(this,t)}toString(){return g6(this._root)}}function Nu(n,e){e.value._routerState=n,e.children.forEach(t=>Nu(n,t))}function g6(n){const e=n.children.length>0?` { ${n.children.map(g6).join(", ")} } `:"";return`${n.value}${e}`}function Im(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,vt(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),vt(e.params,t.params)||n.params.next(t.params),function st(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!vt(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),vt(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Dm(n,e){const t=vt(n.params,e.params)&&function eA(n,e){return W1(n,e)&&n.every((t,r)=>vt(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Dm(n.parent,e.parent))}function ku(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function pA(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ku(n,r,i);return ku(n,r)})}(n,e,t);return new Lo(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(u=>ku(n,u)),c}}const r=function mA(n){return new Ti(new Rr(n.url),new Rr(n.params),new Rr(n.queryParams),new Rr(n.fragment),new Rr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>ku(n,s));return new Lo(r,i)}}const Mf="ngNavigationCancelingError";function Sf(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Us(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ru(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Ru(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Mf]=!0,r.cancellationCode=e,t&&(r.url=t),r}function xm(n){return v6(n)&&Us(n.url)}function v6(n){return n&&n[Mf]}class gA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Dn,this.attachRef=null}}let Dn=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new gA,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _6=!1;let If=(()=>{class n{constructor(t,r,i,s,c){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=i||T,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,_6);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,_6);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,_6);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,_6);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,p=new Df(t,u,i.injector);if(r&&function Nm(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(c);this.activated=i.createComponent(v,i.length,p)}else this.activated=i.createComponent(c,{index:i.length,injector:p,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Dn),h.Y36(h.s_b),h.$8M("name"),h.Y36(h.sBO),h.Y36(h.lqb))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Df{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ti?this.route:e===Dn?this.childContexts:this.parent.get(e,t)}}let Tf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[If],encapsulation:2}),n})();function km(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function y6(n){const e=n.children&&n.children.map(y6),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==T&&(t.component=Tf),t}function xi(n){return n.outlet||T}function Pm(n,e){const t=n.filter(r=>xi(r)===e);return t.push(...n.filter(r=>xi(r)!==e)),t}function C2(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Nf{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Im(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=xa(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,i[c],r),delete i[c]}),Fn(i,(s,c)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=xa(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);if(r&&r.outlet){const c=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:u})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=xa(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=xa(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new qT(s.value.snapshot))}),e.children.length&&this.forwardEvent(new $T(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Im(i),i===s)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(u.contexts),c.attachRef=u.componentRef,c.route=u.route.value,c.outlet&&c.outlet.attach(u.componentRef,u.route.value),Im(u.route.value),this.activateChildRoutes(e,null,c.children)}else{const u=C2(i.snapshot),p=u?.get(h._Vd)??null;c.attachRef=null,c.route=i,c.resolver=p,c.injector=u,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class vA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class C6{constructor(e,t){this.component=e,this.route=t}}function kf(n,e,t){const r=n._root;return fs(r,e?e._root:null,t,[r.value])}function Z1(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function fs(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=xa(e);return n.children.forEach(c=>{(function _A(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,u=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function Rf(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!W1(n.url,e.url);case"pathParamsOrQueryParamsChange":return!W1(n.url,e.url)||!vt(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dm(n,e)||!vt(n.queryParams,e.queryParams);default:return!Dm(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new vA(r)):(s.data=c.data,s._resolvedData=c._resolvedData),fs(n,e,s.component?u?u.children:null:t,r,i),p&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new C6(u.outlet.component,c))}else c&&Na(e,u,i),i.canActivateChecks.push(new vA(r)),fs(n,null,s.component?u?u.children:null:t,r,i)})(c,s[c.value.outlet],t,r.concat([c.value]),i),delete s[c.value.outlet]}),Fn(s,(c,u)=>Na(c,t.getContext(u),i)),i}function Na(n,e,t){const r=xa(n),i=n.value;Fn(r,(s,c)=>{Na(s,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new C6(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Pu(n){return"function"==typeof n}function ka(n){return n instanceof f2||"EmptyError"===n?.name}const b6=Symbol("INITIAL_VALUE");function A2(){return zn(n=>z1(n.map(e=>e.pipe(Hs(1),p2(b6)))).pipe((0,St.U)(e=>{for(const t of e)if(!0!==t){if(t===b6)return b6;if(!1===t||t instanceof Sa)return t}return!0}),Kr(e=>e!==b6),Hs(1)))}function b2(n){return(0,V1.z)(sr(e=>{if(Us(e))throw Sf(0,e)}),(0,St.U)(e=>!0===e))}const Ra={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function w2(n,e,t,r,i){const s=zf(n,e,t);return s.matched?function MA(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?nt(i.map(c=>{const u=Z1(c,n);return Ji(function yA(n){return n&&Pu(n.canMatch)}(u)?u.canMatch(e,t):n.runInContext(()=>u(e,t)))})).pipe(A2(),b2()):nt(!0)}(r=km(e,r),e,t).pipe((0,St.U)(c=>!0===c?s:{...Ra})):nt(s)}function zf(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Ra}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||We)(t,n,e);if(!i)return{...Ra};const s={};Fn(i.posParams,(u,p)=>{s[p]=u.path});const c=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function Ff(n,e,t,r,i="corrected"){if(t.length>0&&function IA(n,e,t){return t.some(r=>Ou(n,e,r)&&xi(r)!==T)}(n,t,r)){const c=new Ot(e,function SA(n,e,t,r){const i={};i[T]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&xi(s)!==T){const c=new Ot([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[xi(s)]=c}return i}(n,e,r,new Ot(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function DA(n,e,t){return t.some(r=>Ou(n,e,r))}(n,t,r)){const c=new Ot(n.segments,function Um(n,e,t,r,i,s){const c={};for(const u of r)if(Ou(n,t,u)&&!i[xi(u)]){const p=new Ot([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:e.length,c[xi(u)]=p}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const s=new Ot(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Ou(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Vf(n,e,t,r){return!!(xi(n)===r||r!==T&&Ou(e,t,n))&&("**"===n.path||zf(e,n,t).matched)}function w6(n,e,t){return 0===e.length&&!n.children[t]}const E2=!1;class E6{constructor(e){this.segmentGroup=e||null}}class M6{constructor(e){this.urlTree=e}}function Po(n){return Ma(new E6(n))}function jm(n){return Ma(new M6(n))}class kA{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Ff(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ot(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,T).pipe((0,St.U)(s=>this.createUrlTree(Eu(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bs(s=>{if(s instanceof M6)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof E6?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,T).pipe((0,St.U)(i=>this.createUrlTree(Eu(i),e.queryParams,e.fragment))).pipe(Bs(i=>{throw i instanceof E6?this.noMatchError(i):i}))}noMatchError(e){return new h.vHH(4002,E2)}createUrlTree(e,t,r){const i=wu(e);return new Sa(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,St.U)(s=>new Ot([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,yn.D)(i).pipe(Ii(s=>{const c=r.children[s],u=Pm(t,s);return this.expandSegmentGroup(e,u,c,s).pipe((0,St.U)(p=>({segment:p,outlet:s})))}),gr((s,c)=>(s[c.outlet]=c.segment,s),{}),C())}expandSegment(e,t,r,i,s,c){return(0,yn.D)(r).pipe(Ii(u=>this.expandSegmentAgainstRoute(e,t,r,u,i,s,c).pipe(Bs(v=>{if(v instanceof E6)return nt(null);throw v}))),hs(u=>!!u),Bs((u,p)=>{if(ka(u))return w6(t,i,s)?nt(new Ot([],{})):Po(t);throw u}))}expandSegmentAgainstRoute(e,t,r,i,s,c,u){return Vf(i,t,s,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,c):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c):Po(t):Po(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?jm(s):this.lineralizeSegments(r,s).pipe((0,Xt.z)(c=>{const u=new Ot(c,{});return this.expandSegment(e,u,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c){const{matched:u,consumedSegments:p,remainingSegments:v,positionalParamSegments:b}=zf(t,i,s);if(!u)return Po(t);const M=this.applyRedirectCommands(p,i.redirectTo,b);return i.redirectTo.startsWith("/")?jm(M):this.lineralizeSegments(i,M).pipe((0,Xt.z)(D=>this.expandSegment(e,t,r,D.concat(v),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=km(r,e),r.loadChildren?(r._loadedRoutes?nt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,St.U)(u=>(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,new Ot(i,{})))):nt(new Ot(i,{}))):w2(t,r,i,e).pipe(zn(({matched:c,consumedSegments:u,remainingSegments:p})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Xt.z)(b=>{const M=b.injector??e,D=b.routes,{segmentGroup:N,slicedSegments:R}=Ff(t,u,p,D),V=new Ot(N.segments,N.children);if(0===R.length&&V.hasChildren())return this.expandChildren(M,D,V).pipe((0,St.U)(Oe=>new Ot(u,Oe)));if(0===D.length&&0===R.length)return nt(new Ot(u,{}));const $=xi(r)===s;return this.expandSegment(M,V,D,R,$?T:s,!0).pipe((0,St.U)(Te=>new Ot(u.concat(Te.segments),Te.children)))})):Po(t)))}getChildConfig(e,t,r){return t.children?nt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?nt({routes:t._loadedRoutes,injector:t._loadedInjector}):function EA(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?nt(!0):nt(i.map(c=>{const u=Z1(c,n);return Ji(function A6(n){return n&&Pu(n.canLoad)}(u)?u.canLoad(e,t):n.runInContext(()=>u(e,t)))})).pipe(A2(),b2())}(e,t,r).pipe((0,Xt.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(sr(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function xA(n){return Ma(Ru(E2,3))}())):nt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return nt(r);if(i.numberOfChildren>1||!i.children[T])return Ma(new h.vHH(4e3,E2));i=i.children[T]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Sa(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Fn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const u=i.substring(1);r[s]=t[u]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let c={};return Fn(t.children,(u,p)=>{c[p]=this.createSegmentGroup(e,u,r,i)}),new Ot(s,c)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new h.vHH(4001,E2);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class M2{}class PA{constructor(e,t,r,i,s,c,u,p){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=u,this.urlSerializer=p}recognize(){const e=Ff(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,T).pipe((0,St.U)(t=>{if(null===t)return null;const r=new Ef([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},T,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Lo(r,t),s=new fA(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=wf(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,yn.D)(Object.keys(r.children)).pipe(Ii(i=>{const s=r.children[i],c=Pm(t,i);return this.processSegmentGroup(e,c,s,i)}),gr((i,s)=>i&&s?(i.push(...s),i):null),function g(n,e=!1){return(0,bn.e)((t,r)=>{let i=0;t.subscribe((0,pn.x)(r,s=>{const c=n(s,i++);(c||e)&&r.next(s),!c&&r.complete()}))})}(i=>null!==i),xo(null),C(),(0,St.U)(i=>{if(null===i)return null;const s=OA(i);return function ex(n){n.sort((e,t)=>e.value.outlet===T?-1:t.value.outlet===T?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return(0,yn.D)(t).pipe(Ii(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,s)),hs(c=>!!c),Bs(c=>{if(ka(c))return w6(r,i,s)?nt([]):nt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!Vf(t,r,i,s))return nt(null);let c;if("**"===t.path){const u=i.length>0?ds(i).parameters:{},p=Hf(r)+i.length;c=nt({snapshot:new Ef(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bf(t),xi(t),t.component??t._loadedComponent??null,t,zA(r),p,qm(t),p),consumedSegments:[],remainingSegments:[]})}else c=w2(r,t,i,e).pipe((0,St.U)(({matched:u,consumedSegments:p,remainingSegments:v,parameters:b})=>{if(!u)return null;const M=Hf(r)+p.length;return{snapshot:new Ef(p,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bf(t),xi(t),t.component??t._loadedComponent??null,t,zA(r),M,qm(t),M),consumedSegments:p,remainingSegments:v}}));return c.pipe(zn(u=>{if(null===u)return nt(null);const{snapshot:p,consumedSegments:v,remainingSegments:b}=u;e=t._injector??e;const M=t._loadedInjector??e,D=function tx(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:N,slicedSegments:R}=Ff(r,v,b,D.filter($=>void 0===$.redirectTo),this.relativeLinkResolution);if(0===R.length&&N.hasChildren())return this.processChildren(M,D,N).pipe((0,St.U)($=>null===$?null:[new Lo(p,$)]));if(0===D.length&&0===R.length)return nt([new Lo(p,[])]);const V=xi(t)===s;return this.processSegment(M,D,N,R,V?T:s).pipe((0,St.U)($=>null===$?null:[new Lo(p,$)]))}))}}function Gm(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function OA(n){const e=[],t=new Set;for(const r of n){if(!Gm(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=OA(r.children);e.push(new Lo(r.value,i))}return e.filter(r=>!t.has(r))}function zA(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Hf(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Bf(n){return n.data||{}}function qm(n){return n.resolve||{}}function Zm(n){return"string"==typeof n.title||null===n.title}function Uf(n){return zn(e=>{const t=n(e);return t?(0,yn.D)(t).pipe((0,St.U)(()=>e)):nt(e)})}let jf=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===T);return r}getResolvedTitleForRoute(t){return t.data[k]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Ym)},providedIn:"root"}),n})(),Ym=(()=>{class n extends jf{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ps))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class UA{}class Qm extends class It{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const zu=new h.OlP("",{providedIn:"root",factory:()=>({})}),Gf=new h.OlP("ROUTES");let I6=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return nt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ji(t.loadComponent()).pipe(sr(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),E(()=>{this.componentLoaders.delete(t)})),i=new s6(r,()=>new Cn.x).pipe(Yr());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return nt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,St.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(r);let p,v,b=!1;Array.isArray(u)?v=u:(p=u.create(t).injector,v=Di(p.get(Gf,[],h.XFs.Self|h.XFs.Optional)));return{routes:v.map(y6),injector:p}}),E(()=>{this.childrenLoaders.delete(r)})),c=new s6(s,()=>new Cn.x).pipe(Yr());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Ji(t()).pipe((0,Xt.z)(r=>r instanceof h.YKP||Array.isArray(r)?nt(r):(0,yn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3),h.LFG(h.Sil))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jA{}class e9{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function GA(n){throw n}function rx(n,e,t){return e.parse("/")}const t9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},n9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function r9(){const n=(0,h.f3M)(dm),e=(0,h.f3M)(Dn),t=(0,h.f3M)(De),r=(0,h.f3M)(h.zs3),i=(0,h.f3M)(h.Sil),s=(0,h.f3M)(Gf,{optional:!0})??[],c=(0,h.f3M)(zu,{optional:!0})??{},u=(0,h.f3M)(Ym),p=(0,h.f3M)(jf,{optional:!0}),v=(0,h.f3M)(jA,{optional:!0}),b=(0,h.f3M)(UA,{optional:!0}),M=new on(null,n,e,t,r,i,Di(s));return v&&(M.urlHandlingStrategy=v),b&&(M.routeReuseStrategy=b),M.titleStrategy=p??u,function Q1(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,M),M}let on=(()=>{class n{constructor(t,r,i,s,c,u,p){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Cn.x,this.errorHandler=GA,this.malformedUriErrorHandler=rx,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>nt(void 0),this.urlHandlingStrategy=new e9,this.routeReuseStrategy=new Qm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(I6),this.configLoader.onLoadEndListener=D=>this.triggerEvent(new hA(D)),this.configLoader.onLoadStartListener=D=>this.triggerEvent(new xu(D)),this.ngModule=c.get(h.h0i),this.console=c.get(h.c2e);const M=c.get(h.R0b);this.isNgZoneEnabled=M instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function c6(){return new Sa(new Ot([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=y2(this.currentUrlTree,this.rootComponentType),this.transitions=new Rr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Kr(i=>0!==i.id),(0,St.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),zn(i=>{let s=!1,c=!1;return nt(i).pipe(sr(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),zn(u=>{const p=this.browserUrlTree.toString(),v=!this.navigated||u.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return i9(u.source)&&(this.browserUrlTree=u.extractedUrl),nt(u).pipe(zn(M=>{const D=this.transitions.getValue();return r.next(new m6(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),D!==this.transitions.getValue()?Xi.E:Promise.resolve(M)}),function RA(n,e,t,r){return zn(i=>function NA(n,e,t,r,i){return new kA(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,St.U)(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),sr(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},i.urlAfterRedirects=M.urlAfterRedirects}),function FA(n,e,t,r,i,s){return(0,Xt.z)(c=>function LA(n,e,t,r,i,s,c="emptyOnly",u="legacy"){return new PA(n,e,t,r,i,c,u,s).recognize().pipe(zn(p=>null===p?function Oo(n){return new Mr.y(e=>e.error(n))}(new M2):nt(p)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,s).pipe((0,St.U)(u=>({...c,targetSnapshot:u}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),sr(M=>{if(i.targetSnapshot=M.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const N=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(N,M)}this.browserUrlTree=M.urlAfterRedirects}const D=new aA(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(D)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:D,extractedUrl:N,source:R,restoredState:V,extras:$}=u,fe=new m6(D,this.serializeUrl(N),R,V);r.next(fe);const Te=y2(N,this.rootComponentType).snapshot;return nt(i={...u,targetSnapshot:Te,urlAfterRedirects:N,extras:{...$,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=u.rawUrl,u.resolve(null),Xi.E}),sr(u=>{const p=new cA(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(p)}),(0,St.U)(u=>i={...u,guards:kf(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function CA(n,e){return(0,Xt.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?nt({...t,guardsResult:!0}):function AA(n,e,t,r){return(0,yn.D)(n).pipe((0,Xt.z)(i=>function JT(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?nt(s.map(u=>{const p=C2(e)??i,v=Z1(u,p);return Ji(function Pf(n){return n&&Pu(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):p.runInContext(()=>v(n,e,t,r))).pipe(hs())})).pipe(A2()):nt(!0)}(i.component,i.route,t,e,r)),hs(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Xt.z)(u=>u&&function Lf(n){return"boolean"==typeof n}(u)?function Of(n,e,t,r){return(0,yn.D)(e).pipe(Ii(i=>gu(function Hm(n,e){return null!==n&&e&&e(new GT(n)),nt(!0)}(i.route.parent,r),function bA(n,e){return null!==n&&e&&e(new WT(n)),nt(!0)}(i.route,r),function Bm(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function zm(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>vu(()=>nt(c.guards.map(p=>{const v=C2(c.node)??t,b=Z1(p,v);return Ji(function Fm(n){return n&&Pu(n.canActivateChild)}(b)?b.canActivateChild(r,n):v.runInContext(()=>b(r,n))).pipe(hs())})).pipe(A2())));return nt(s).pipe(A2())}(n,i.path,t),function wA(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return nt(!0);const i=r.map(s=>vu(()=>{const c=C2(e)??t,u=Z1(s,c);return Ji(function Y1(n){return n&&Pu(n.canActivate)}(u)?u.canActivate(e,n):c.runInContext(()=>u(e,n))).pipe(hs())}));return nt(i).pipe(A2())}(n,i.route,t))),hs(i=>!0!==i,!0))}(r,s,n,e):nt(u)),(0,St.U)(u=>({...t,guardsResult:u})))})}(this.ngModule.injector,u=>this.triggerEvent(u)),sr(u=>{if(i.guardsResult=u.guardsResult,Us(u.guardsResult))throw Sf(0,u.guardsResult);const p=new lA(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.triggerEvent(p)}),Kr(u=>!!u.guardsResult||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),Uf(u=>{if(u.guards.canActivateChecks.length)return nt(u).pipe(sr(p=>{const v=new uA(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),zn(p=>{let v=!1;return nt(p).pipe(function ps(n,e){return(0,Xt.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return nt(t);let s=0;return(0,yn.D)(i).pipe(Ii(c=>function VA(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!Zm(i)&&(s[k]=i.title),function Km(n,e,t,r){const i=function HA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return nt({});const s={};return(0,yn.D)(i).pipe((0,Xt.z)(c=>function BA(n,e,t,r){const i=C2(e)??r,s=Z1(n,i);return Ji(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[c],e,t,r).pipe(hs(),sr(u=>{s[c]=u}))),H1(1),function _(n){return(0,St.U)(()=>n)}(s),Bs(c=>ka(c)?Xi.E:Ma(c)))}(s,n,e,r).pipe((0,St.U)(c=>(n._resolvedData=c,n.data=wf(n,t).resolve,i&&Zm(i)&&(n.data[k]=i.title),null)))}(c.route,r,n,e)),sr(()=>s++),H1(1),(0,Xt.z)(c=>s===i.length?nt(t):Xi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),sr({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),sr(p=>{const v=new Ta(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}))}),Uf(u=>{const p=v=>{const b=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(v.routeConfig).pipe(sr(M=>{v.component=M}),(0,St.U)(()=>{})));for(const M of v.children)b.push(...p(M));return b};return z1(p(u.targetSnapshot.root)).pipe(xo(),Hs(1))}),Uf(()=>this.afterPreactivation()),(0,St.U)(u=>{const p=function Tm(n,e,t){const r=ku(n,e._root,t?t._root:void 0);return new Gs(r,e)}(this.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:p}}),sr(u=>{this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,St.U)(r=>(new Nf(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,u=>this.triggerEvent(u)),sr({next(){s=!0},complete(){s=!0}}),E(()=>{s||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Bs(u=>{if(c=!0,v6(u)){xm(u)||(this.navigated=!0,this.restoreHistory(i,!0));const p=new Tu(i.id,this.serializeUrl(i.extractedUrl),u.message,u.cancellationCode);if(r.next(p),xm(u)){const v=this.urlHandlingStrategy.merge(u.url,this.rawUrlTree),b={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||i9(i.source)};this.scheduleNavigation(v,"imperative",null,b,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const p=new wm(i.id,this.serializeUrl(i.extractedUrl),u,i.targetSnapshot??void 0);r.next(p);try{i.resolve(this.errorHandler(u))}catch(v){i.reject(v)}}return Xi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const u={...s};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(y6),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:c,queryParamsHandling:u,preserveFragment:p}=r,v=i||this.routerState.root,b=p?this.currentUrlTree.fragment:c;let M=null;switch(u){case"merge":M={...this.currentUrlTree.queryParams,...s};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=s||null}return null!==M&&(M=this.removeEmptyProps(M)),Mu(v,this.currentUrlTree,t,M,b??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Us(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function $f(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new h.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...t9}:!1===r?{...n9}:r,Us(t))return yu(this.currentUrlTree,t,i);const s=this.parseUrl(t);return yu(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Da(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,c){if(this.disposed)return Promise.resolve(!1);let u,p,v;c?(u=c.resolve,p=c.reject,v=c.promise):v=new Promise((D,N)=>{u=D,p=N});const b=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),M=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:b,targetPageId:M,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:u,reject:p,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(D=>Promise.reject(D))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const s=new Tu(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:function(){return r9()},providedIn:"root"}),n})();function i9(n){return"imperative"!==n}let X1=(()=>{class n{constructor(t,r,i,s,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Cn.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,h.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,h.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,h.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(on),h.Y36(Ti),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),n})(),T6=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Cn.x,this.subscription=t.events.subscribe(s=>{s instanceof Da&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,h.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,h.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,h.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,c){return!!(0!==t||r||i||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(on),h.Y36(Ti),h.Y36(re))},n.\u0275dir=h.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&h.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&h.uIk("target",r.target)("href",r.href,h.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),n})(),$A=(()=>{class n{constructor(t,r,i,s,c,u){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=c,this.linkWithHref=u,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new h.vpe,this.routerEventsSubscription=t.events.subscribe(p=>{p instanceof Da&&this.update()})}ngAfterContentInit(){nt(this.links.changes,this.linksWithHrefs.changes,nt(null)).pipe((0,F1.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,yn.D)(t).pipe((0,F1.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function WA(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(on),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(X1,8),h.Y36(T6,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(h.Suo(i,X1,5),h.Suo(i,T6,5)),2&t){let s;h.iGM(s=h.CRH())&&(r.links=s),h.iGM(s=h.CRH())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[h.TTD]}),n})();class Wf{}let S2=(()=>{class n{constructor(t,r,i,s,c){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Kr(t=>t instanceof Da),Ii(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,h.MMx)(s.providers,t,`Route: ${s.path}`));const c=s._injector??t,u=s._loadedInjector??c;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(c,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(u,s.children??s._loadedRoutes))}return(0,yn.D)(i).pipe((0,F1.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):nt(null);const s=i.pipe((0,Xt.z)(c=>null===c?nt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,yn.D)([s,c]).pipe((0,F1.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(on),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(Wf),h.LFG(I6))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qf=new h.OlP("");let Kf=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof m6?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Da&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof dA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new dA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function I2(n,e){return{\u0275kind:n,\u0275providers:e}}function Yf(n){return[{provide:Gf,multi:!0,useValue:n}]}function s9(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(on),i=n.get(o9);1===n.get(x6)&&r.initialNavigation(),n.get(N6,null,h.XFs.Optional)?.setUpPreloading(),n.get(qf,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const o9=new h.OlP("",{factory:()=>new Cn.x}),x6=new h.OlP("",{providedIn:"root",factory:()=>1});const N6=new h.OlP("");function ax(n){return I2(0,[{provide:N6,useExisting:S2},{provide:Wf,useExisting:n}])}const ec=new h.OlP("ROUTER_FORROOT_GUARD"),u9=[De,{provide:dm,useClass:uf},{provide:on,useFactory:r9},Dn,{provide:Ti,useFactory:function Zf(n){return n.routerState.root},deps:[on]},I6];function h9(){return new h.PXZ("Router",on)}let Fu=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[u9,[],Yf(t),{provide:ec,useFactory:Qf,deps:[[on,new h.FiY,new h.tp0]]},{provide:zu,useValue:r||{}},r?.useHash?{provide:re,useClass:Xe}:{provide:re,useClass:et},{provide:qf,useFactory:()=>{const n=(0,h.f3M)(on),e=(0,h.f3M)(k0),t=(0,h.f3M)(zu);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Kf(n,e,t)}},r?.preloadingStrategy?ax(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:h9},r?.initialNavigation?zo(r):[],[{provide:R6,useFactory:s9},{provide:h.tb,multi:!0,useExisting:R6}]]}}static forChild(t){return{ngModule:n,providers:[Yf(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ec,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Tf]}),n})();function Qf(n){return"guarded"}function zo(n){return["disabled"===n.initialNavigation?I2(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(on);return()=>{e.setUpLocationChangeListener()}}},{provide:x6,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?I2(2,[{provide:x6,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(B,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(s=>{const c=e.get(on),u=e.get(o9);(function i(s){e.get(on).events.pipe(Kr(u=>u instanceof Da||u instanceof Tu||u instanceof wm),(0,St.U)(u=>u instanceof Da||u instanceof Tu&&(0===u.code||1===u.code)&&null),Kr(u=>null!==u),Hs(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),c.afterPreactivation=()=>(s(!0),r||u.closed?nt(void 0):u),c.initialNavigation()}))}}]).\u0275providers:[]]}const R6=new h.OlP("");var ae=P(5861);let ZA=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),$s=(()=>{class n extends ZA{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Ni=new h.OlP("NgValueAccessor"),Xf={provide:Ni,useExisting:(0,h.Gpc)(()=>Vu),multi:!0};let Vu=(()=>{class n extends $s{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[h._Bn([Xf]),h.qOj]}),n})();const Jf={provide:Ni,useExisting:(0,h.Gpc)(()=>La),multi:!0},YA=new h.OlP("CompositionEventMode");let La=(()=>{class n extends ZA{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cx(){const n=ie()?ie().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(YA,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[h._Bn([Jf]),h.qOj]}),n})();function Pa(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function e8(n){return null!=n&&"number"==typeof n.length}const Qr=new h.OlP("NgValidators"),Oa=new h.OlP("NgAsyncValidators"),lx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Sr{static min(e){return function t8(n){return e=>{if(Pa(e.value)||Pa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function g9(n){return e=>{if(Pa(e.value)||Pa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function L6(n){return Pa(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function XA(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function JA(n){return Pa(n.value)||lx.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function eb(n){return e=>Pa(e.value)||!e8(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function tb(n){return e=>e8(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function nb(n){if(!n)return n8;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Pa(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return v9(e)}static composeAsync(e){return z6(e)}}function n8(n){return null}function rb(n){return null!=n}function ib(n){return(0,h.QGY)(n)?(0,yn.D)(n):n}function sb(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function ob(n,e){return e.map(t=>t(n))}function P6(n){return n.map(e=>function za(n){return!n.validate}(e)?e:t=>e.validate(t))}function v9(n){if(!n)return null;const e=n.filter(rb);return 0==e.length?null:function(t){return sb(ob(t,e))}}function O6(n){return null!=n?v9(P6(n)):null}function z6(n){if(!n)return null;const e=n.filter(rb);return 0==e.length?null:function(t){return function m9(...n){const e=(0,Zi.jO)(n),{args:t,keys:r}=nf(n),i=new Mr.y(s=>{const{length:c}=t;if(!c)return void s.complete();const u=new Array(c);let p=c,v=c;for(let b=0;b<c;b++){let M=!1;(0,Do.Xf)(t[b]).subscribe((0,pn.x)(s,D=>{M||(M=!0,v--),u[b]=D},()=>p--,void 0,()=>{(!p||!M)&&(v||s.next(r?af(r,u):u),s.complete())}))}});return e?i.pipe(Io(e)):i}(ob(t,e).map(ib)).pipe((0,St.U)(sb))}}function F6(n){return null!=n?z6(P6(n)):null}function V6(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function _9(n){return n._rawValidators}function Fo(n){return n._rawAsyncValidators}function H6(n){return n?Array.isArray(n)?n:[n]:[]}function B6(n,e){return Array.isArray(n)?n.includes(e):n===e}function y9(n,e){const t=H6(e);return H6(n).forEach(i=>{B6(t,i)||t.push(i)}),t}function r8(n,e){return H6(e).filter(t=>!B6(n,t))}class C9{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=O6(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=F6(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Xr extends C9{get formDirective(){return null}get path(){return null}}class gs extends C9{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tc{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Fa=(()=>{class n extends tc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(gs,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),Vo=(()=>{class n extends tc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Xr,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();const ju="VALID",D2="INVALID",nc="PENDING",Gu="DISABLED";function s8(n){return($u(n)?n.validators:n)||null}function D9(n){return Array.isArray(n)?O6(n):n||null}function j6(n,e){return($u(e)?e.asyncValidators:n)||null}function T9(n){return Array.isArray(n)?F6(n):n||null}function $u(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function x9(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")}function N9(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new h.vHH(1002,"")})}class Wu{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=D9(this._rawValidators),this._composedAsyncValidatorFn=T9(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ju}get invalid(){return this.status===D2}get pending(){return this.status==nc}get disabled(){return this.status===Gu}get enabled(){return this.status!==Gu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=D9(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=T9(e)}addValidators(e){this.setValidators(y9(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(y9(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(r8(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(r8(e,this._rawAsyncValidators))}hasValidator(e){return B6(this._rawValidators,e)}hasAsyncValidator(e){return B6(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=nc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gu,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ju,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ju||this.status===nc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gu:ju}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=nc,this._hasOwnPendingAsyncValidator=!0;const t=ib(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Gu:this.errors?D2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nc)?nc:this._anyControlsHaveStatus(D2)?D2:ju}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$u(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class T2 extends Wu{constructor(e,t,r){super(s8(t),j6(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){N9(this,0,e),Object.keys(e).forEach(r=>{x9(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class G6 extends T2{}function W6(n,e){o8(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function hb(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ku(n,e)})}(n,e),function a8(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function db(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ku(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ub(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function qu(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),x2(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function q6(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function o8(n,e){const t=_9(n);null!==e.validator?n.setValidators(V6(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Fo(n);null!==e.asyncValidator?n.setAsyncValidators(V6(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();q6(e._rawValidators,i),q6(e._rawAsyncValidators,i)}function x2(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=_9(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=Fo(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return q6(e._rawValidators,r),q6(e._rawAsyncValidators,r),t}function Ku(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function u8(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function L9(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ju=class extends Wu{constructor(e=null,t,r){super(s8(t),j6(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$u(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=L9(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){u8(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){u8(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){L9(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let N2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const vb={provide:Ni,useExisting:(0,h.Gpc)(()=>f8),multi:!0};let f8=(()=>{class n extends $s{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[h._Bn([vb]),h.qOj]}),n})(),O9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const p8=new h.OlP("NgModelWithFormControlWarning"),Cb={provide:Xr,useExisting:(0,h.Gpc)(()=>Ir)};let Ir=(()=>{class n extends Xr{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(x2(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return W6(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){qu(t.control||null,t,!1),function Y6(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Z6(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(qu(r||null,t),(n=>n instanceof Ju)(i)&&(W6(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Zu(n,e){o8(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function mx(n,e){return x2(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){o8(this.form,this),this._oldForm&&x2(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Qr,10),h.Y36(Oa,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Cb]),h.qOj,h.TTD]}),n})();const m8={provide:gs,useExisting:(0,h.Gpc)(()=>es)};let es=(()=>{class n extends gs{constructor(t,r,i,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function vs(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===La?t=s:function R9(n){return Object.getPrototypeOf(n.constructor)===$s}(s)?r=s:i=s}),i||r||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function K6(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function $6(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(Xr,13),h.Y36(Qr,10),h.Y36(Oa,10),h.Y36(Ni,10),h.Y36(p8,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([m8]),h.qOj,h.TTD]}),n})();const L2={provide:Ni,useExisting:(0,h.Gpc)(()=>Bo),multi:!0};function ic(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Bo=(()=>{class n extends $s{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=ic(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function P2(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&h.NdJ("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([L2]),h.qOj]}),n})(),sc=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ic(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(Bo,9))},n.\u0275dir=h.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const O2={provide:Ni,useExisting:(0,h.Gpc)(()=>t3),multi:!0};function oc(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let t3=(()=>{class n extends $s{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,c)=>{s._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const c=s;for(let u=0;u<c.length;u++){const v=this._getOptionValue(c[u].value);i.push(v)}}else{const c=r.options;for(let u=0;u<c.length;u++){const p=c[u];if(p.selected){const v=this._getOptionValue(p.value);i.push(v)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function z2(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([O2]),h.qOj]}),n})(),g8=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(oc(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(oc(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(t3,9))},n.\u0275dir=h.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),o3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[O9]}),n})(),U9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[o3]}),n})(),w8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:p8,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[o3]}),n})();class a3 extends Wu{constructor(e,t,r){super(s8(t),j6(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){N9(this,0,e),e.forEach((r,i)=>{x9(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function E8(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let F2=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return E8(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new T2(i,s)}record(t,r=null){const i=this._reduceControls(t);return new G6(i,r)}control(t,r,i){let s={};return this.useNonNullable?(E8(r)?s=r:(s.validators=r,s.asyncValidators=i),new Ju(t,{...s,nonNullable:!0})):new Ju(t,r,i)}array(t,r,i){const s=t.map(c=>this._createControl(c));return new a3(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Ju||t instanceof Wu?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:w8}),n})();var c3=P(8247),j=P(2090),mt=P(9681),mi=P(1877),Li=P(4859);class G9{constructor(e,t){this.email=e,this.id=t}get nom(){return this.email.split("@")[0]}}(0,mt.registerVersion)("firebase","9.14.0","app");var ac=P(8766);const M8="@firebase/installations",l3="0.5.16",Tb=`w:${l3}`,q9="FIS_v2",Uo=new j.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Y9(n){return n instanceof j.ZR&&n.code.includes("request-failed")}function u3({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function Q9(n){return{token:n.token,requestStatus:2,expiresIn:kb(n.expiresIn),creationTime:Date.now()}}function h3(n,e){return d3.apply(this,arguments)}function d3(){return(d3=(0,ae.Z)(function*(n,e){const r=(yield e.json()).error;return Uo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function cc({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function X9(n,{refreshToken:e}){const t=cc(n);return t.append("Authorization",function J9(n){return`${q9} ${n}`}(e)),t}function I8(n){return f3.apply(this,arguments)}function f3(){return(f3=(0,ae.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function kb(n){return Number(n.replace("s","000"))}function Ex(n,e){return p3.apply(this,arguments)}function p3(){return(p3=(0,ae.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=u3(n),i=cc(n),s=e.getImmediate({optional:!0});if(s){const v=yield s.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const u={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:q9,appId:n.appId,sdkVersion:Tb})},p=yield I8(()=>fetch(r,u));if(p.ok){const v=yield p.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:Q9(v.authToken)}}throw yield h3("Create Installation",p)})).apply(this,arguments)}function m3(n){return new Promise(e=>{setTimeout(e,n)})}const Rb=/^[cdef][\w-]{21}$/;function Ws(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function ys(n){return function _s(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Rb.test(t)?t:""}catch{return""}}function Lr(n){return`${n.appName}!${n.appId}`}const lc=new Map;function T8(n,e){const t=Lr(n);eg(t,e),function Ob(n,e){const t=function V2(){return!jo&&"BroadcastChannel"in self&&(jo=new BroadcastChannel("[Firebase] FID Change"),jo.onmessage=n=>{eg(n.data.key,n.data.fid)}),jo}();t&&t.postMessage({key:n,fid:e}),function tg(){0===lc.size&&jo&&(jo.close(),jo=null)}()}(t,e)}function eg(n,e){const t=lc.get(n);if(t)for(const r of t)r(e)}let jo=null;const Ba="firebase-installations-store";let g3=null;function H2(){return g3||(g3=(0,ac.X3)("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ba)}})),g3}function v3(n,e){return _3.apply(this,arguments)}function _3(){return(_3=(0,ae.Z)(function*(n,e){const t=Lr(n),i=(yield H2()).transaction(Ba,"readwrite"),s=i.objectStore(Ba),c=yield s.get(t);return yield s.put(e,t),yield i.done,(!c||c.fid!==e.fid)&&T8(n,e.fid),e})).apply(this,arguments)}function y3(n){return r4.apply(this,arguments)}function r4(){return(r4=(0,ae.Z)(function*(n){const e=Lr(n),r=(yield H2()).transaction(Ba,"readwrite");yield r.objectStore(Ba).delete(e),yield r.done})).apply(this,arguments)}function Ua(n,e){return i4.apply(this,arguments)}function i4(){return(i4=(0,ae.Z)(function*(n,e){const t=Lr(n),i=(yield H2()).transaction(Ba,"readwrite"),s=i.objectStore(Ba),c=yield s.get(t),u=e(c);return void 0===u?yield s.delete(t):yield s.put(u,t),yield i.done,u&&(!c||c.fid!==u.fid)&&T8(n,u.fid),u})).apply(this,arguments)}function C3(n){return A3.apply(this,arguments)}function A3(){return(A3=(0,ae.Z)(function*(n){let e;const t=yield Ua(n.appConfig,r=>{const i=rg(r),s=ig(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function rg(n){return cg(n||{fid:Ws(),registrationStatus:0})}function ig(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Uo.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function sg(n,e){return b3.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:og(n)}:{installationEntry:e}}function b3(){return(b3=(0,ae.Z)(function*(n,e){try{const t=yield Ex(n,e);return v3(n.appConfig,t)}catch(t){throw Y9(t)&&409===t.customData.serverCode?yield y3(n.appConfig):yield v3(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function og(n){return x8.apply(this,arguments)}function x8(){return(x8=(0,ae.Z)(function*(n){let e=yield ag(n.appConfig);for(;1===e.registrationStatus;)yield m3(100),e=yield ag(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield C3(n);return r||t}return e})).apply(this,arguments)}function ag(n){return Ua(n,e=>{if(!e)throw Uo.create("installation-not-found");return cg(e)})}function cg(n){return function Fb(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Vb(n,e){return N8.apply(this,arguments)}function N8(){return(N8=(0,ae.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=Hb(n,t),i=X9(n,t),s=e.getImmediate({optional:!0});if(s){const v=yield s.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const u={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Tb,appId:n.appId}})},p=yield I8(()=>fetch(r,u));if(p.ok)return Q9(yield p.json());throw yield h3("Generate Auth Token",p)})).apply(this,arguments)}function Hb(n,{fid:e}){return`${u3(n)}/${e}/authTokens:generate`}function k8(n){return R8.apply(this,arguments)}function R8(){return(R8=(0,ae.Z)(function*(n,e=!1){let t;const r=yield Ua(n.appConfig,s=>{if(!ug(s))throw Uo.create("not-registered");const c=s.authToken;if(!e&&jb(c))return s;if(1===c.requestStatus)return t=Bb(n,e),s;{if(!navigator.onLine)throw Uo.create("app-offline");const u=$b(s);return t=Ub(n,u),u}});return t?yield t:r.authToken})).apply(this,arguments)}function Bb(n,e){return L8.apply(this,arguments)}function L8(){return(L8=(0,ae.Z)(function*(n,e){let t=yield lg(n.appConfig);for(;1===t.authToken.requestStatus;)yield m3(100),t=yield lg(n.appConfig);const r=t.authToken;return 0===r.requestStatus?k8(n,e):r})).apply(this,arguments)}function lg(n){return Ua(n,e=>{if(!ug(e))throw Uo.create("not-registered");return function hg(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Ub(n,e){return P8.apply(this,arguments)}function P8(){return(P8=(0,ae.Z)(function*(n,e){try{const t=yield Vb(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield v3(n.appConfig,r),t}catch(t){if(!Y9(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield v3(n.appConfig,r)}else yield y3(n.appConfig);throw t}})).apply(this,arguments)}function ug(n){return void 0!==n&&2===n.registrationStatus}function jb(n){return 2===n.requestStatus&&!function Gb(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function $b(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function w3(){return(w3=(0,ae.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield C3(e);return r?r.catch(console.error):k8(e).catch(console.error),t.fid})).apply(this,arguments)}function E3(){return(E3=(0,ae.Z)(function*(n,e=!1){const t=n;return yield pg(t),(yield k8(t,e)).token})).apply(this,arguments)}function pg(n){return M3.apply(this,arguments)}function M3(){return(M3=(0,ae.Z)(function*(n){const{registrationPromise:e}=yield C3(n);e&&(yield e)})).apply(this,arguments)}function _g(n){return Uo.create("missing-app-config-values",{valueName:n})}const I3="installations",yg=n=>{const e=n.getProvider("app").getImmediate(),t=function B2(n){if(!n||!n.options)throw _g("App Configuration");if(!n.name)throw _g("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw _g(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,mt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},Cg=n=>{const e=n.getProvider("app").getImmediate(),t=(0,mt._getProvider)(e,I3).getImmediate();return{getId:()=>function dg(n){return w3.apply(this,arguments)}(t),getToken:i=>function fg(n){return E3.apply(this,arguments)}(t,i)}};(function Dx(){(0,mt._registerComponent)(new Li.wA(I3,yg,"PUBLIC")),(0,mt._registerComponent)(new Li.wA("installations-internal",Cg,"PRIVATE"))})(),(0,mt.registerVersion)(M8,l3),(0,mt.registerVersion)(M8,l3,"esm2017");const ft="@firebase/remote-config",gi=new j.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ig{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,ae.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),c=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&c.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(c),s})()}}function Dg(n=navigator){return n.languages&&n.languages[0]||n.language}class Tg{constructor(e,t,r,i,s,c){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=c}fetch(e){var t=this;return(0,ae.Z)(function*(){var r,i,s;const[c,u]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),v=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,b={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},M={sdk_version:t.sdkVersion,app_instance_id:c,app_instance_id_token:u,app_id:t.appId,language_code:Dg()},D={method:"POST",headers:b,body:JSON.stringify(M)},N=fetch(v,D),R=new Promise((Ie,Je)=>{e.signal.addEventListener(()=>{const Qe=new Error("The operation was aborted.");Qe.name="AbortError",Je(Qe)})});let V;try{yield Promise.race([N,R]),V=yield N}catch(Ie){let Je="fetch-client-network";throw"AbortError"===(null===(r=Ie)||void 0===r?void 0:r.name)&&(Je="fetch-timeout"),gi.create(Je,{originalErrorMessage:null===(i=Ie)||void 0===i?void 0:i.message})}let $=V.status;const fe=V.headers.get("ETag")||void 0;let Te,Oe;if(200===V.status){let Ie;try{Ie=yield V.json()}catch(Je){throw gi.create("fetch-client-parse",{originalErrorMessage:null===(s=Je)||void 0===s?void 0:s.message})}Te=Ie.entries,Oe=Ie.state}if("INSTANCE_STATE_UNSPECIFIED"===Oe?$=500:"NO_CHANGE"===Oe?$=304:("NO_TEMPLATE"===Oe||"EMPTY_CONFIG"===Oe)&&(Te={}),304!==$&&200!==$)throw gi.create("fetch-status",{httpStatus:$});return{status:$,eTag:fe,config:Te}})()}}class o4{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,ae.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,ae.Z)(function*(){yield function Kb(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(gi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function s4(n){if(!(n instanceof j.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const c={throttleEndTimeMillis:Date.now()+(0,j.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(c),i.attemptFetch(e,c)}})()}}class Qb{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function a4(n,e){var t;const r=n.target.error||void 0;return gi.create(e,{originalErrorMessage:r&&(null===(t=r)||void 0===t?void 0:t.message)})}const ja="app_namespace_store";class Jb{constructor(e,t,r,i=function Ng(){return new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(a4(i,"storage-open"))},r.onsuccess=i=>{n(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ja,{keyPath:"compositeKey"})}}catch(r){e(gi.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var c;const p=r.transaction([ja],"readonly").objectStore(ja),v=t.createCompositeKey(e);try{const b=p.get(v);b.onerror=M=>{s(a4(M,"storage-get"))},b.onsuccess=M=>{const D=M.target.result;i(D?D.value:void 0)}}catch(b){s(gi.create("storage-get",{originalErrorMessage:null===(c=b)||void 0===c?void 0:c.message}))}})})()}set(e,t){var r=this;return(0,ae.Z)(function*(){const i=yield r.openDbPromise;return new Promise((s,c)=>{var u;const v=i.transaction([ja],"readwrite").objectStore(ja),b=r.createCompositeKey(e);try{const M=v.put({compositeKey:b,value:t});M.onerror=D=>{c(a4(D,"storage-set"))},M.onsuccess=()=>{s()}}catch(M){c(gi.create("storage-set",{originalErrorMessage:null===(u=M)||void 0===u?void 0:u.message}))}})})()}delete(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var c;const p=r.transaction([ja],"readwrite").objectStore(ja),v=t.createCompositeKey(e);try{const b=p.delete(v);b.onerror=M=>{s(a4(M,"storage-delete"))},b.onsuccess=()=>{i()}}catch(b){s(gi.create("storage-delete",{originalErrorMessage:null===(c=b)||void 0===c?void 0:c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class ew{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,ae.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const c=yield r;c&&(e.lastSuccessfulFetchTimestampMillis=c);const u=yield i;u&&(e.activeConfig=u)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Px(){return P3.apply(this,arguments)}function P3(){return(P3=(0,ae.Z)(function*(){if(!(0,j.hl)())return!1;try{return yield(0,j.eu)()}catch{return!1}})).apply(this,arguments)}!function Lx(){(0,mt._registerComponent)(new Li.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw gi.create("registration-window");if(!(0,j.hl)())throw gi.create("indexed-db-unavailable");const{projectId:s,apiKey:c,appId:u}=r.options;if(!s)throw gi.create("registration-project-id");if(!c)throw gi.create("registration-api-key");if(!u)throw gi.create("registration-app-id");const p=new Jb(u,r.name,t=t||"firebase"),v=new ew(p),b=new mi.Yd(ft);b.logLevel=mi.in.ERROR;const M=new Tg(i,mt.SDK_VERSION,t,s,c,u),D=new o4(M,p),N=new Ig(D,p,v,b),R=new Qb(r,N,v,p,b);return function Mg(n){const e=(0,j.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(R),R},"PUBLIC").setMultipleInstances(!0)),(0,mt.registerVersion)(ft,"0.3.15"),(0,mt.registerVersion)(ft,"0.3.15","esm2017")}();const O3="/firebase-messaging-sw.js",tw="/firebase-cloud-messaging-push-scope",Rg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",j2="google.c.a.c_id",nw="google.c.a.c_l",rw="google.c.a.ts",iw="google.c.a.e";var G2=(()=>{return(n=G2||(G2={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",G2;var n})();function qs(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sw(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const z8="fcm_token_details_db",Pg="fcm_token_object_Store";function Og(n){return F8.apply(this,arguments)}function F8(){return F8=(0,ae.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(z8))return null;let e=null;return(yield(0,ac.X3)(z8,5,{upgrade:(r=(0,ae.Z)(function*(i,s,c,u){var p;if(s<2||!i.objectStoreNames.contains(Pg))return;const v=u.objectStore(Pg),b=yield v.index("fcmSenderId").get(n);if(yield v.clear(),b)if(2===s){const M=b;if(!M.auth||!M.p256dh||!M.endpoint)return;e={token:M.fcmToken,createTime:null!==(p=M.createTime)&&void 0!==p?p:Date.now(),subscriptionOptions:{auth:M.auth,p256dh:M.p256dh,endpoint:M.endpoint,swScope:M.swScope,vapidKey:"string"==typeof M.vapidKey?M.vapidKey:qs(M.vapidKey)}}}else if(3===s){const M=b;e={token:M.fcmToken,createTime:M.createTime,subscriptionOptions:{auth:qs(M.auth),p256dh:qs(M.p256dh),endpoint:M.endpoint,swScope:M.swScope,vapidKey:qs(M.vapidKey)}}}else if(4===s){const M=b;e={token:M.fcmToken,createTime:M.createTime,subscriptionOptions:{auth:qs(M.auth),p256dh:qs(M.p256dh),endpoint:M.endpoint,swScope:M.swScope,vapidKey:qs(M.vapidKey)}}}}),function(s,c,u,p){return r.apply(this,arguments)})})).close(),yield(0,ac.Lj)(z8),yield(0,ac.Lj)("fcm_vapid_details_db"),yield(0,ac.Lj)("undefined"),zg(e)?e:null;var r}),F8.apply(this,arguments)}function zg(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const uc="firebase-messaging-store";let l4=null;function V8(){return l4||(l4=(0,ac.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(uc)}})),l4}function H8(n){return z3.apply(this,arguments)}function z3(){return(z3=(0,ae.Z)(function*(n){const e=j8(n),r=yield(yield V8()).transaction(uc).objectStore(uc).get(e);if(r)return r;{const i=yield Og(n.appConfig.senderId);if(i)return yield B8(n,i),i}})).apply(this,arguments)}function B8(n,e){return U8.apply(this,arguments)}function U8(){return(U8=(0,ae.Z)(function*(n,e){const t=j8(n),i=(yield V8()).transaction(uc,"readwrite");return yield i.objectStore(uc).put(e,t),yield i.done,e})).apply(this,arguments)}function aw(n){return u4.apply(this,arguments)}function u4(){return(u4=(0,ae.Z)(function*(n){const e=j8(n),r=(yield V8()).transaction(uc,"readwrite");yield r.objectStore(uc).delete(e),yield r.done})).apply(this,arguments)}function j8({appConfig:n}){return n.appId}const Dr=new j.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function cw(n,e){return G8.apply(this,arguments)}function G8(){return(G8=(0,ae.Z)(function*(n,e){var t;const r=yield F3(n),i=Bg(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let c;try{c=yield(yield fetch(q8(n.appConfig),s)).json()}catch(u){throw Dr.create("token-subscribe-failed",{errorInfo:null===(t=u)||void 0===t?void 0:t.toString()})}if(c.error)throw Dr.create("token-subscribe-failed",{errorInfo:c.error.message});if(!c.token)throw Dr.create("token-subscribe-no-token");return c.token})).apply(this,arguments)}function lw(n,e){return $8.apply(this,arguments)}function $8(){return($8=(0,ae.Z)(function*(n,e){var t;const r=yield F3(n),i=Bg(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let c;try{c=yield(yield fetch(`${q8(n.appConfig)}/${e.token}`,s)).json()}catch(u){throw Dr.create("token-update-failed",{errorInfo:null===(t=u)||void 0===t?void 0:t.toString()})}if(c.error)throw Dr.create("token-update-failed",{errorInfo:c.error.message});if(!c.token)throw Dr.create("token-update-no-token");return c.token})).apply(this,arguments)}function Hg(n,e){return W8.apply(this,arguments)}function W8(){return(W8=(0,ae.Z)(function*(n,e){var t;const i={method:"DELETE",headers:yield F3(n)};try{const c=yield(yield fetch(`${q8(n.appConfig)}/${e}`,i)).json();if(c.error)throw Dr.create("token-unsubscribe-failed",{errorInfo:c.error.message})}catch(s){throw Dr.create("token-unsubscribe-failed",{errorInfo:null===(t=s)||void 0===t?void 0:t.toString()})}})).apply(this,arguments)}function q8({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function F3(n){return V3.apply(this,arguments)}function V3(){return(V3=(0,ae.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function Bg({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Rg&&(i.web.applicationPubKey=r),i}const uw=6048e5;function Ug(n){return K8.apply(this,arguments)}function K8(){return(K8=(0,ae.Z)(function*(n){const e=yield hw(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:qs(e.getKey("auth")),p256dh:qs(e.getKey("p256dh"))},r=yield H8(n.firebaseDependencies);if(r){if(J8(r.subscriptionOptions,t))return Date.now()>=r.createTime+uw?Y8(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield Hg(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Q8(n.firebaseDependencies,t)}return Q8(n.firebaseDependencies,t)})).apply(this,arguments)}function jg(n){return Z8.apply(this,arguments)}function Z8(){return(Z8=(0,ae.Z)(function*(n){const e=yield H8(n.firebaseDependencies);e&&(yield Hg(n.firebaseDependencies,e.token),yield aw(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function Y8(n,e){return h4.apply(this,arguments)}function h4(){return(h4=(0,ae.Z)(function*(n,e){try{const t=yield lw(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield B8(n.firebaseDependencies,r),t}catch(t){throw yield jg(n),t}})).apply(this,arguments)}function Q8(n,e){return d4.apply(this,arguments)}function d4(){return(d4=(0,ae.Z)(function*(n,e){const r={token:yield cw(n,e),createTime:Date.now(),subscriptionOptions:e};return yield B8(n,r),r.token})).apply(this,arguments)}function hw(n,e){return X8.apply(this,arguments)}function X8(){return(X8=(0,ae.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sw(e)})})).apply(this,arguments)}function J8(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function Gg(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function $g(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function $2(n,e){!e.data||(n.data=e.data)}(e,n),function Wg(n,e){var t,r,i,s,c;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const u=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;u&&(n.fcmOptions.link=u);const p=null===(c=e.fcmOptions)||void 0===c?void 0:c.analytics_label;p&&(n.fcmOptions.analyticsLabel=p)}(e,n),e}function dw(n){return"object"==typeof n&&!!n&&j2 in n}function fw(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function f4(n){return Dr.create("missing-app-config-values",{valueName:n})}fw("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),fw("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pw{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function qg(n){if(!n||!n.options)throw f4("App Configuration Object");if(!n.name)throw f4("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw f4(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function H3(n){return e5.apply(this,arguments)}function e5(){return(e5=(0,ae.Z)(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(O3,{scope:tw}),n.swRegistration.update().catch(()=>{})}catch(t){throw Dr.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function Kg(n,e){return p4.apply(this,arguments)}function p4(){return(p4=(0,ae.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield H3(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Dr.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Zg(n,e){return B3.apply(this,arguments)}function B3(){return(B3=(0,ae.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Rg)})).apply(this,arguments)}function U3(){return(U3=(0,ae.Z)(function*(n,e){if(!navigator)throw Dr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Dr.create("permission-blocked");return yield Zg(n,e?.vapidKey),yield Kg(n,e?.serviceWorkerRegistration),Ug(n)})).apply(this,arguments)}function mw(n,e,t){return n5.apply(this,arguments)}function n5(){return(n5=(0,ae.Z)(function*(n,e,t){const r=gw(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[j2],message_name:t[nw],message_time:t[rw],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gw(n){switch(n){case G2.NOTIFICATION_CLICKED:return"notification_open";case G2.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function j3(){return(j3=(0,ae.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===G2.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(Gg(t)):n.onMessageHandler.next(Gg(t)));const r=t.data;dw(r)&&"1"===r[iw]&&(yield mw(n,t.messageType,r))})).apply(this,arguments)}const _w="@firebase/messaging",yw=n=>{const e=new pw(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function vw(n,e){return j3.apply(this,arguments)}(e,t)),e},Cw=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function t5(n,e){return U3.apply(this,arguments)}(e,r)}};function Aw(){return s5.apply(this,arguments)}function s5(){return(s5=(0,ae.Z)(function*(){try{yield(0,j.eu)()}catch{return!1}return typeof window<"u"&&(0,j.hl)()&&(0,j.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function zx(){(0,mt._registerComponent)(new Li.wA("messaging",yw,"PUBLIC")),(0,mt._registerComponent)(new Li.wA("messaging-internal",Cw,"PRIVATE")),(0,mt.registerVersion)(_w,"0.11.0"),(0,mt.registerVersion)(_w,"0.11.0","esm2017")}();const G3="analytics",ww="firebase_id",Qg="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",c5="https://www.googletagmanager.com/gtag/js",_r=new mi.Yd("@firebase/analytics");function l5(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Xg(n,e){const t=document.createElement("script");t.src=`${c5}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function Sw(n,e,t,r,i,s){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,ae.Z)(function*(n,e,t,r,i,s){const c=r[i];try{if(c)yield e[c];else{const p=(yield l5(t)).find(v=>v.measurementId===i);p&&(yield e[p.appId])}}catch(u){_r.error(u)}n("config",i,s)})).apply(this,arguments)}function Iw(n,e,t,r,i){return u5.apply(this,arguments)}function u5(){return(u5=(0,ae.Z)(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const u=yield l5(t);for(const p of c){const v=u.find(M=>M.measurementId===p),b=v&&e[v.appId];if(!b){s=[];break}s.push(b)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){_r.error(s)}})).apply(this,arguments)}function xw(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(c5)&&t.src.includes(n))return t;return null}const Pi=new j.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),$3=new class Nw{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function v4(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function kw(n){return d5.apply(this,arguments)}function d5(){return(d5=(0,ae.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:v4(r)},s=Qg.replace("{app-id}",t),c=yield fetch(s,i);if(200!==c.status&&304!==c.status){let u="";try{const p=yield c.json();null!==(e=p.error)&&void 0!==e&&e.message&&(u=p.error.message)}catch{}throw Pi.create("config-fetch-failed",{httpStatus:c.status,responseMessage:u})}return c.json()})).apply(this,arguments)}function Rw(n){return W2.apply(this,arguments)}function W2(){return(W2=(0,ae.Z)(function*(n,e=$3,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Pi.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Pi.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new tv;return setTimeout((0,ae.Z)(function*(){u.abort()}),void 0!==t?t:6e4),_4({appId:r,apiKey:i,measurementId:s},c,u,e)})).apply(this,arguments)}function _4(n,e,t){return f5.apply(this,arguments)}function f5(){return(f5=(0,ae.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=$3){var s,c;const{appId:u,measurementId:p}=n;try{yield Lw(r,e)}catch(v){if(p)return _r.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${null===(s=v)||void 0===s?void 0:s.message}]`),{appId:u,measurementId:p};throw v}try{const v=yield kw(n);return i.deleteThrottleMetadata(u),v}catch(v){const b=v;if(!ev(b)){if(i.deleteThrottleMetadata(u),p)return _r.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${b?.message}]`),{appId:u,measurementId:p};throw v}const M=503===Number(null===(c=b?.customData)||void 0===c?void 0:c.httpStatus)?(0,j.$s)(t,i.intervalMillis,30):(0,j.$s)(t,i.intervalMillis),D={throttleEndTimeMillis:Date.now()+M,backoffCount:t+1};return i.setThrottleMetadata(u,D),_r.debug(`Calling attemptFetch again in ${M} millis`),_4(n,D,r,i)}})).apply(this,arguments)}function Lw(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Pi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ev(n){if(!(n instanceof j.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class tv{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let y4,_5;function p5(){return(p5=(0,ae.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function sv(n){_5=n}function ov(n){y4=n}function av(){return b4.apply(this,arguments)}function b4(){return(b4=(0,ae.Z)(function*(){var n;if(!(0,j.hl)())return _r.warn(Pi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,j.eu)()}catch(e){return _r.warn(Pi.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function W3(){return(W3=(0,ae.Z)(function*(n,e,t,r,i,s,c){var u;const p=Rw(n);p.then(N=>{t[N.measurementId]=N.appId,n.options.measurementId&&N.measurementId!==n.options.measurementId&&_r.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>_r.error(N)),e.push(p);const v=av().then(N=>{if(N)return r.getId()}),[b,M]=yield Promise.all([p,v]);xw(s)||Xg(s,b.measurementId),_5&&(i("consent","default",_5),sv(void 0)),i("js",new Date);const D=null!==(u=c?.config)&&void 0!==u?u:{};return D.origin="firebase",D.update=!0,null!=M&&(D[ww]=M),i("config",b.measurementId,D),y4&&(i("set",y4),ov(void 0)),b.measurementId})).apply(this,arguments)}class lv{constructor(e){this.app=e}_delete(){return delete Zs[this.app.options.appId],Promise.resolve()}}let Zs={},uv=[];const y5={};let C5,$o,w4="dataLayer",Tr=!1;function zw(n,e,t){!function Ow(){const n=[];if((0,j.ru)()&&n.push("This is a browser extension environment."),(0,j.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Pi.create("invalid-analytics-context",{errorInfo:e});_r.warn(t.message)}}();const r=n.options.appId;if(!r)throw Pi.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Pi.create("no-api-key");_r.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Zs[r])throw Pi.create("already-exists",{id:r});if(!Tr){!function Mw(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(w4);const{wrappedGtag:s,gtagCore:c}=function Tw(n,e,t,r,i){let s=function(...c){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Dw(n,e,t,r){function s(){return(s=(0,ae.Z)(function*(c,u,p){try{"event"===c?yield Iw(n,e,t,u,p):"config"===c?yield Sw(n,e,t,r,u,p):"consent"===c?n("consent","update",p):n("set",u)}catch(v){_r.error(v)}})).apply(this,arguments)}return function i(c,u,p){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Zs,uv,y5,w4,"gtag");$o=s,C5=c,Tr=!0}return Zs[r]=function cv(n,e,t,r,i,s,c){return W3.apply(this,arguments)}(n,uv,y5,e,C5,w4,t),new lv(n)}function dv(){return q3.apply(this,arguments)}function q3(){return(q3=(0,ae.Z)(function*(){if((0,j.ru)()||!(0,j.zI)()||!(0,j.hl)())return!1;try{return yield(0,j.eu)()}catch{return!1}})).apply(this,arguments)}const pv="@firebase/analytics";!function mv(){(0,mt._registerComponent)(new Li.wA(G3,(e,{options:t})=>zw(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,mt._registerComponent)(new Li.wA("analytics-internal",function n(e){try{const t=e.getProvider(G3).getImmediate();return{logEvent:(r,i,s)=>function Vw(n,e,t,r){n=(0,j.m9)(n),function nv(n,e,t,r,i){return p5.apply(this,arguments)}($o,Zs[n.app.options.appId],e,t,r).catch(i=>_r.error(i))}(t,r,i,s)}}catch(t){throw Pi.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,mt.registerVersion)(pv,"0.8.4"),(0,mt.registerVersion)(pv,"0.8.4","esm2017")}();class gv extends To.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const hc={setInterval(n,e,...t){const{delegate:r}=hc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=hc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var A5=P(8737);class b5 extends gv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return hc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&hc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,A5.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const w5={now:()=>(w5.delegate||Date).now(),delegate:void 0};class q2{constructor(e,t=q2.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}q2.now=w5.now;class Wo extends q2{constructor(e,t=q2.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const _v=new class Hw extends Wo{}(class vv extends b5{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),E5=new Wo(b5),Bw=E5;var Y3=P(9468),K2=P(5363);const dc=new h.GfV("7.5.0"),M5="__angularfire_symbol__analyticsIsSupportedValue",Q3="__angularfire_symbol__analyticsIsSupported",X3="__angularfire_symbol__remoteConfigIsSupportedValue",S5="__angularfire_symbol__remoteConfigIsSupported",J3="__angularfire_symbol__messagingIsSupportedValue",eh="__angularfire_symbol__messagingIsSupported";function Z2(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(c=>c.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[Q3]||(globalThis[Q3]=dv().then(n=>globalThis[M5]=n).catch(()=>globalThis[M5]=!1)),globalThis[eh]||(globalThis[eh]=Aw().then(n=>globalThis[J3]=n).catch(()=>globalThis[J3]=!1)),globalThis[S5]||(globalThis[S5]=Px().then(n=>globalThis[X3]=n).catch(()=>globalThis[X3]=!1));const Y2=(n,e)=>{const t=e?[e]:(0,mt.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(c=>{r.includes(c)||r.push(c)})}),r};function fc(){}class D5{constructor(e,t=_v){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(c){i.runGuarded(()=>{e.apply(this,[c])})},t,r)}}class jw{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fc,{},fc,fc)),t.pipe(sr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Q2=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new D5(Zone.current)),this.insideAngular=t.run(()=>new D5(Zone.current,E5)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X2(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Cv(n){return X2().ngZone.runOutsideAngular(()=>n())}function J2(n){return X2().ngZone.run(()=>n())}function Gw(n){return X2(),function Kx(n){return function(t){return(t=t.lift(new jw(n.ngZone))).pipe((0,Y3.R)(n.outsideAngular),(0,K2.Q)(n.insideAngular))}}(X2())(n)}const Zx=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),J2(()=>n.apply(void 0,r))},Pr=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=J2(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fc,{},fc,fc)))),r[s]=Zx(r[s],t));const i=Cv(()=>n.apply(this,r));if(!e){if(i instanceof Mr.y){const s=X2();return i.pipe((0,Y3.R)(s.outsideAngular),(0,K2.Q)(s.insideAngular))}return J2(()=>i)}return i instanceof Mr.y?i.pipe(Gw):i instanceof Promise?J2(()=>new Promise((s,c)=>i.then(u=>J2(()=>s(u)),u=>J2(()=>c(u))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:J2(()=>i)};class pc{constructor(e){return e}}class Ga{constructor(){return(0,mt.getApps)()}}const el=new h.OlP("angularfire2._apps"),bv={provide:pc,useFactory:function Av(n){return n&&1===n.length?n[0]:new pc((0,mt.getApp)())},deps:[[new h.FiY,el]]},wv={provide:Ga,deps:[[new h.FiY,el]]};function Yx(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new pc(r)}}let T5=(()=>{class n{constructor(t){(0,mt.registerVersion)("angularfire",dc.full,"core"),(0,mt.registerVersion)("angularfire",dc.full,"app"),(0,mt.registerVersion)("angular",h.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[bv,wv]}),n})();function Ev(n,...e){return{ngModule:T5,providers:[{provide:el,useFactory:Yx(n),multi:!0,deps:[h.R0b,h.zs3,Q2,...e]}]}}const Ww=Pr(mt.initializeApp,!0),N5=new Map,qw={activated:!1,tokenObservers:[]},eN={initialized:!1,enabled:!1};function Or(n){return N5.get(n)||Object.assign({},qw)}function th(){return eN}class Cs{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ae.Z)(function*(){t.stop();try{t.pending=new j.BH,yield function Yw(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new j.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Jr=new j.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Sv(n){if(!Or(n).activated)throw Jr.create("use-before-activation",{appName:n.name})}function P5(n,e){return S4.apply(this,arguments)}function S4(){return(S4=(0,ae.Z)(function*({url:n,body:e},t){var r,i;const s={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const N=yield c.getHeartbeatsHeader();N&&(s["X-Firebase-Client"]=N)}const u={method:"POST",body:JSON.stringify(e),headers:s};let p,v;try{p=yield fetch(n,u)}catch(N){throw Jr.create("fetch-network-error",{originalErrorMessage:null===(r=N)||void 0===r?void 0:r.message})}if(200!==p.status)throw Jr.create("fetch-status-error",{httpStatus:p.status});try{v=yield p.json()}catch(N){throw Jr.create("fetch-parse-error",{originalErrorMessage:null===(i=N)||void 0===i?void 0:i.message})}const b=v.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Jr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const M=1e3*Number(b[1]),D=Date.now();return{token:v.token,expireTimeMillis:D+M,issuedAtTimeMillis:D}})).apply(this,arguments)}function Qw(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const I4="firebase-app-check-store";let rh=null;function ih(){return rh||(rh=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var s;e(Jr.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(I4,{keyPath:"compositeKey"})}}catch(r){e(Jr.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),rh)}function Rv(){return(Rv=(0,ae.Z)(function*(n,e){const r=(yield ih()).transaction(I4,"readwrite"),s=r.objectStore(I4).put({compositeKey:n,value:e});return new Promise((c,u)=>{s.onsuccess=p=>{c()},r.onerror=p=>{var v;u(Jr.create("storage-set",{originalErrorMessage:null===(v=p.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const D4=new mi.Yd("@firebase/app-check");function sh(n,e){return(0,j.hl)()?function Nv(n,e){return function kv(n,e){return Rv.apply(this,arguments)}(function Pv(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{D4.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Jw(){return th().enabled}function ah(){return ch.apply(this,arguments)}function ch(){return(ch=(0,ae.Z)(function*(){const n=th();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Vv={error:"UNKNOWN_ERROR"};function Hv(n){return j.US.encodeString(JSON.stringify(n),!1)}function T4(n){return tl.apply(this,arguments)}function tl(){return(tl=(0,ae.Z)(function*(n,e=!1){const t=n.app;Sv(t);const r=Or(t);let s,i=r.token;if(i&&!rl(i)&&(r.token=void 0,i=void 0),!i){const p=yield r.cachedTokenPromise;p&&(rl(p)?i=p:yield sh(t,void 0))}if(!e&&i&&rl(i))return{token:i.token};let u,c=!1;if(Jw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=P5(Qw(t,yield ah()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const p=yield r.exchangeTokenPromise;return yield sh(t,p),r.token=p,{token:p.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Or(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?D4.warn(p.message):D4.error(p),s=p}return i?s?u=rl(i)?{token:i.token,internalError:s}:jv(s):(u={token:i.token},r.token=i,yield sh(t,i)):u=jv(s),c&&V5(t,u),u})).apply(this,arguments)}function lh(n,e){const t=Or(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Bv(n){const{app:e}=n,t=Or(e);let r=t.tokenRefresher;r||(r=function Uv(n){const{app:e}=n;return new Cs((0,ae.Z)(function*(){let r;if(r=Or(e).token?yield T4(n,!0):yield T4(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Or(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function V5(n,e){const t=Or(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function rl(n){return n.expireTimeMillis-Date.now()>0}function jv(n){return{token:Hv(Vv),error:n}}class rN{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Or(this.app);for(const t of e)lh(this.app,t.next);return Promise.resolve()}}const G5="app-check-internal";!function oE(){(0,mt._registerComponent)(new Li.wA("app-check",n=>function iN(n,e){return new rN(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(G5).initialize()})),(0,mt._registerComponent)(new Li.wA(G5,n=>function Gv(n){return{getToken:e=>T4(n,e),addTokenListener:e=>function nl(n,e,t,r){const{app:i}=n,s=Or(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&rl(s.token)){const u=s.token;Promise.resolve().then(()=>{t({token:u.token}),Bv(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Bv(n))}(n,"INTERNAL",e),removeTokenListener:e=>lh(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,mt.registerVersion)("@firebase/app-check","0.5.17")}();class sl{constructor(){return Y2("app-check")}}typeof window<"u"&&window;class fh{constructor(e){return e}}class K5{constructor(){return Y2("auth")}}const Jv=new h.OlP("angularfire2.auth-instances");function pN(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new fh(r)}}const hE={provide:K5,deps:[[new h.FiY,Jv]]},mN={provide:fh,useFactory:function fN(n,e){const t=Z2("auth",n,e);return t&&new fh(t)},deps:[[new h.FiY,Jv],pc]};let gN=(()=>{class n{constructor(){(0,mt.registerVersion)("angularfire",dc.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[mN,hE]}),n})();function vN(n,...e){return{ngModule:gN,providers:[{provide:Jv,useFactory:pN(n),multi:!0,deps:[h.R0b,h.zs3,Q2,Ga,[new h.FiY,sl],...e]}]}}const I=Pr(c3.n,!0);let al=(()=>{class n{constructor(t){this.auth=t,this._$estConnecteSubject=new Rr(!1)}get utilisateur(){if(!this.utilisateurEstConnecte)throw"Utilisateur non connect\xe9";return this._utilisateur}get utilisateurEstConnecte(){return this._$estConnecteSubject.value}get utilisateurEstConnecteObservable(){return this._$estConnecteSubject.asObservable()}loginUser(t,r){const i=(0,c3.a6)(this.auth,t,r);return i.then(s=>{const c=s.user;this._utilisateur=new G9(c.email,c.uid),this._$estConnecteSubject.next(!0),localStorage.setItem("user",JSON.stringify(this._utilisateur)),localStorage.setItem("userEstConnecte",JSON.stringify(!0))}).catch(s=>{console.log("Error getting document:",s)}),i}sendResetPassword(t){return(0,c3.a0)(this.auth,t)}getInfosUser(){const t=localStorage.getItem("userEstConnecte"),r=localStorage.getItem("user");if(t&&r){let i=JSON.parse(r);return this._utilisateur=i,this._$estConnecteSubject.next(!0),!0}return this._$estConnecteSubject.next(!1),!1}signOut(){localStorage.removeItem("user"),localStorage.removeItem("userEstConnecte"),this._utilisateur=void 0,this._$estConnecteSubject.next(!1)}getEmail(){const t=localStorage.getItem("user");return t?JSON.parse(t).email:null}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(fh))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SB(n,e){1&n&&(h.TgZ(0,"p",9),h._uU(1,"Il faut un email valide"),h.qZA())}function IB(n,e){1&n&&(h.TgZ(0,"p",9),h._uU(1,"Email ou mot de passe invalide"),h.qZA())}let DB=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this._router=r,this.authentificationService=i,this.isSendForm=!1,this.isConnexionError=!1}ngOnInit(){this.authentificationService.utilisateurEstConnecte?this._router.navigate(["/home"]):this.initForm()}initForm(){this.form=this.formBuilder.group({email:["",[Sr.required,Sr.email]],password:["",Sr.required]})}login(){var t=this;return(0,ae.Z)(function*(){if(t.isSendForm=!0,t.form.valid)try{yield t.authentificationService.loginUser(t.form.value.email,t.form.value.password),t._router.navigate(["/home"])}catch{t.isConnexionError=!0}})()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(F2),h.Y36(on),h.Y36(al))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-login"]],decls:11,vars:3,consts:[[1,"header"],["src","assets/logo_blanc.png","alt","Logo",1,"header__img"],[1,"login",3,"formGroup","ngSubmit"],["src","assets/logo_noir.png","alt","Login",1,"login__img"],["type","email","formControlName","email","placeholder","Email",1,"login__item"],["class","login__error",4,"ngIf"],["type","password","formControlName","password","placeholder","Mot de passe",1,"login__item"],["routerLink","/forgot-password",1,"login__forgotten"],["type","submit","value","Se connecter",1,"login__submit"],[1,"login__error"]],template:function(t,r){if(1&t&&(h.TgZ(0,"header",0),h._UZ(1,"img",1),h.qZA(),h.TgZ(2,"form",2),h.NdJ("ngSubmit",function(){return r.login()}),h._UZ(3,"img",3)(4,"input",4),h.YNc(5,SB,2,0,"p",5),h._UZ(6,"input",6),h.TgZ(7,"a",7),h._uU(8,"Mot de passe oubli\xe9 ?"),h.qZA(),h._UZ(9,"input",8),h.YNc(10,IB,2,0,"p",5),h.qZA()),2&t){let i;h.xp6(2),h.Q6J("formGroup",r.form),h.xp6(3),h.Q6J("ngIf",(null==(i=r.form.get("email"))||null==i.errors?null:i.errors.email)&&r.isSendForm),h.xp6(5),h.Q6J("ngIf",r.isConnexionError)}},dependencies:[un,T6,N2,La,Fa,Vo,Ir,es],styles:[".header[_ngcontent-%COMP%]{width:100vw;height:10vh;background-color:#3c4452;position:fixed;top:0;left:0;text-align:left;display:flex;align-items:center;justify-content:start}.header__img[_ngcontent-%COMP%]{height:5vh;padding-left:20px}.login[_ngcontent-%COMP%]{width:90vw;height:90vh;display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:20px;padding:0 5vw}.login__submit[_ngcontent-%COMP%]{background-color:#1ba8a8;border:1px solid #1BA8A8;color:#fff;font-size:1.2rem;padding:0 1rem;height:8vh;width:100%;max-width:400px}.login__error[_ngcontent-%COMP%]{color:red;text-align:center}.login__item[_ngcontent-%COMP%]{padding:0 1rem;background-color:#fcfcfd;height:6vh;color:#1ba8a8;border:1px solid #1BA8A8;width:100%;max-width:400px}.login__img[_ngcontent-%COMP%]{width:80vw;max-width:400px}.login__forgotten[_ngcontent-%COMP%]{text-align:right;width:100%;max-width:400px;cursor:pointer}"]}),n})();function TB(n,e){1&n&&(h.TgZ(0,"p",7),h._uU(1,"Il faut un email valide"),h.qZA())}function xB(n,e){1&n&&(h.TgZ(0,"p",7),h._uU(1,"Email doit \xeatre renseign\xe9"),h.qZA())}let NB=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this._router=r,this.authentificationService=i,this.isSendForm=!1,this.isConnexionError=!1}ngOnInit(){this.authentificationService.utilisateurEstConnecte?this._router.navigate(["/home"]):this.initForm()}initForm(){this.form=this.formBuilder.group({email:["",[Sr.required,Sr.email]]})}send(){var t=this;return(0,ae.Z)(function*(){if(t.isSendForm=!0,t.form.valid)try{yield t.authentificationService.sendResetPassword(t.form.value.email),t._router.navigate(["/login"])}catch{t.isConnexionError=!0}})()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(F2),h.Y36(on),h.Y36(al))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-forgot-password"]],decls:8,vars:3,consts:[[1,"header"],["src","assets/logo_blanc.png","alt","Logo",1,"header__img"],[1,"forget-password",3,"formGroup","ngSubmit"],["src","assets/logo_noir.png","alt","logo",1,"forget-password__img"],["type","email","formControlName","email","placeholder","Email",1,"forget-password__item"],["class","forget-password__error",4,"ngIf"],["type","submit","value","Envoyer",1,"forget-password__submit"],[1,"forget-password__error"]],template:function(t,r){if(1&t&&(h.TgZ(0,"header",0),h._UZ(1,"img",1),h.qZA(),h.TgZ(2,"form",2),h.NdJ("ngSubmit",function(){return r.send()}),h._UZ(3,"img",3)(4,"input",4),h.YNc(5,TB,2,0,"p",5),h._UZ(6,"input",6),h.YNc(7,xB,2,0,"p",5),h.qZA()),2&t){let i;h.xp6(2),h.Q6J("formGroup",r.form),h.xp6(3),h.Q6J("ngIf",(null==(i=r.form.get("email"))||null==i.errors?null:i.errors.email)&&r.isSendForm),h.xp6(2),h.Q6J("ngIf",r.isConnexionError)}},dependencies:[un,N2,La,Fa,Vo,Ir,es],styles:[".header[_ngcontent-%COMP%]{width:100vw;height:10vh;background-color:#3c4452;position:fixed;top:0;left:0;text-align:left;display:flex;align-items:center;justify-content:start}.header__img[_ngcontent-%COMP%]{height:5vh;padding-left:20px}.forget-password[_ngcontent-%COMP%]{width:90vw;height:90vh;display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:20px;padding:0 5vw}.forget-password__submit[_ngcontent-%COMP%]{background-color:#1ba8a8;border:1px solid #1BA8A8;color:#fff;font-size:1.2rem;padding:0 1rem;height:8vh;width:100%;max-width:400px}.forget-password__error[_ngcontent-%COMP%]{color:red;text-align:center}.forget-password__item[_ngcontent-%COMP%]{padding:0 1rem;background-color:#fcfcfd;height:6vh;color:#1ba8a8;border:1px solid #1BA8A8;width:100%;max-width:400px}.forget-password__img[_ngcontent-%COMP%]{width:80vw;max-width:400px}"]}),n})(),kB=(()=>{class n{constructor(t,r){this._router=t,this.authentificationService=r}ngOnInit(){}signOut(){this.authentificationService.signOut(),this._router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(on),h.Y36(al))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-home"]],decls:14,vars:0,consts:[[1,"home"],["src","assets/logo_noir.png","alt","Logo",1,"home__logo"],[1,"home__titre"],[1,"home__list"],["routerLink","/admin",1,"item"],[1,"item__texte"],["width","30","height","30","viewBox","0 0 30 30","fill","none","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"item__svg"],["width","30","height","30","fill","url(#pattern0)"],["id","pattern0","patternContentUnits","objectBoundingBox","width","1","height","1"],[0,"xlink","href","#image0_5_119","transform","scale(0.00195312)"],["id","image0_5_119","width","512","height","512",0,"xlink","href","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAV6klEQVR4nO3W0W1kyQ5EwTVkDBlHZOWY9QzJ14sxYEWABRZVEcD9F4hS9vnnHwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4IdL8vvzfW34pm/1XZ+/9df0rQrfr+l7fdcFt/ru93v6VgD/6TNWf7LE9K2+K39/BLbYFFZb/Jm+FcB/igBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAC9plcNmDO9P8Cg6QEC5kzvDzBoeoCAOdP7AwyaHiBgzvT+AIOmBwiYM70/wKDpAQLmTO8PMGh6gIA50/sDDJoeIGDO9P4Ag6YHCJgzvT/AoOkBAuZM7w8waHqAgDnT+wMMmh4gYM70/gCDpgcImDO9P8Cg6QEC5kzvDzBoeoCAOdP7AwyaHiBgzvT+AIOmBwiYM70/wKDpAQLmTO8PMGh6gIA50/sDDJoeIGDO9P4Ag6YHCJgzvT/wLZ+3+vvz/fG1f8C7pvfnJ36/p38vf5zPUb8qrxoABnxN/17+OBEAANxPAHSLAADgfgKgWwQAAPcTAN0iAAC4nwDoFgEAwP0EQLcIAADuJwC6RQAAcD8B0C0CAID7CYBuEQAA3E8AdIsAAOB+AqBbBAAA9xMA3SIAALifAOgWAQDA/QRAtwgAAO4nALpFAABwPwHQLQIAgPsJgG4RAADcTwB0iwAA4H4CoFsEAAD3EwDdIgBe97/P98fnW/D9+1Z5lwDoFgHwuj/TbxC+I38jgHcJgG4RAK8TAKwQAfA6AdAtAuB1AoAVIgBeJwC6RQC8TgCwQgTA6wRAtwiA1wkAVogAeJ0A6BYB8DoBwAoRAK8TAN0iAF4nAFghAuB1AqBbBMDrBAArRAC8TgB0iwB4nQBghQiA1wmAbhEArxMArBAB8DoB0C0C4HUCgBUiAF4nALpFALxOALBCBMDrBEC3CIDXCQBWiAB4nQDoFgHwOgHAChEArxMA3SIAXicAWCEC4HUCoFsEwOsEACtEALxOAHSLAHidAGCFCIDXCYBuEQCvEwCsEAHwOgHQLQLgdQKAFSIAXicAukUAvE4AsEIEwOsEQLcIgNcJAFaIAHidAGCH6f+UAgHAClkUANO3AgZND1CBAGCFCABgg+kBKhAArBABAGwwPUAFAoAVIgCADaYHqEAAsEIEALDB9AAVCABWiAAANpgeoAIBwAoRAMAG0wNUIABYIQIA2GB6gAoEACtEAAAbTA9QgQBghQgAYIPpASoQAKwQAQBsMD1ABQKAFSIAgA2mB6hAALBCBACwwfQAFQgAVogAADaYHqACAcAKEQDABtMDVCAAWCECANhgeoAKBAArRAAAG0wPUIEAYIUIAGCD6QEqEACsEAEAbDA9QAUCgBUiAIANpgeoQACwQgQAsMH0ABUIAFaIAAA2mB6gAgHAChEAwAbTA1QgAFghAgDYYHqACgQAK0QAABtMD1CBAGCFCABgg+kBKhAArBABAGwwPUAFAoAVIgCADaYHqEAAsEIEALDB9AAVCABWiAAANpgeoAIBwAoRAMAG0wNUIABYIQIA2GB6gAoEACtEAAAbTA9QgQBghQgAYIPpASoQAKwQAQBsMD1ABQKAFSIAgA2mB6hAALBCBACwwfQAFQgAVogAADaYHqACAcAKEQDABtMDVCAAWCECANhgeoAKBAArRAAAG0wPUIEAYIUIAOj1eau/Pt+Xr/3b4ukAyK73/2v6XpOyKAAy/1Z+4vf0+z8iu36s6Pd6AGx6/1/T95qUXQFAv6ff/xHZNYD0EwB7PD2AEQCve/r9H5FdA0g/AbDH0wMYAfC6p9//Edk1gPQTAHs8PYARAK97+v0fkV0DSD8BsMfTAxgB8Lqn3/8R2TWA9BMAezw9gBEAr3v6/R+RXQNIPwGwx9MDGAHwuqff/xHZNYD0EwB7PD2AEQCve/r9H5FdA0g/AbDH0wMYAfC6p9//Edk1gPQTAHs8PYARAK97+v0fkV0DSD8BsMfTAxgB8Lqn3/8R2TWA9BMAezw9gBEAr3v6/R+RXQNIPwGwx9MDGAHwuqff/xHZNYD0EwB7PD2AEQCve/r9H5FdA0g/AbDH0wMYAfC6p9//Edk1gPQTAHs8PYARAK97+v0fkV0DSD8BsMfTAxgB8Lqn3/8R2TWA9BMAezw9gBEAr3v6/R+RXQNIPwGwx9MDGAHwuqff/xHZNYD0EwB7PD2AEQCve/r9H5FdA0g/AbDH0wMYAfC6p9//Edk1gPQTAHs8PYARAK97+v0fkV0DSD8BsMfTAxgB8Lqn3/8R2TWA9BMAezw9gBEAr3v6/R+RXQNIPwGwx9MDGAHwuqff/xHZNYD0EwB7PD2AEQCve/r9H5FdA0g/AbDH0wMYAfC6p9//Edk1gPQTAHs8PYARAK97+v0fkV0DSD8BsMfTAxgB8Lqn3/8R2TWA9BMAezw9gBEAr3v6/R+RXQNIPwGwx9MDGAHwuqff/xHZNYD0EwB7PD2AEQCve/r9H5FdA0g/AbDH0wMYAfC6p9//Edk1gPQTAHs8PYARAK97+v0fkV0DSD8BsMfTAxgB8Lqn3/8R2TWA9BMAezw9gBEAr3v6/R+RXQNIPwGwx9MDGAHwuqff/xHZNYD0EwB7PD2AEQCve/r9H5FdA0g/AbDH0wMYAfC6p9//Edk1gPQTAHs8PYARAK97+v0fkV0DSD8BsMfTAxgB8Lqn3/8R2TWA9BMAezw9gBEAr3v6/R/xOeqv/B1BX++3xesBsOn9/5q+16TsCoDpt/ITv6ffP4uUpmLW0wHAHlkUANO3AgZND1CBAGCFCABgg+kBKhAArBABAGwwPUAFAoAVIgCADaYHqEAAsEIEALDB9AAVCABWiAAANpgeoAIBwAoRAMAG0wNUIABYIQIA2GB6gAoEACtEAAAbTA9QgQBghQgAYIPpASoQAKwQAQBsMD1ABQKAFSIAgA2mB6hAALBCBACwwfQAFQgAVogAADaYHqACAcAKEQDABtMDVCAAWCECANhgeoAKBAArRAAAG0wPUIEAYIUIAGCD6QEqEACsEAEAbDA9QAUCgBUiAIANpgeoQACwQgQAsMH0ABUIAFaIAAA2mB6gAgHAChEAwAbTA1QgAFghAgDYYHqACgQAK0QAABtMD1CBAGCFCABgg+kBKhAArBABAGwwPUAFAoAVIgCADaYHqEAAsEIEALDB9AAVCABWiAAANpgeoAIBwAoRAMAG0wNUIABYIQIA2GB6gAoEACtEAAAbTA9QgQBghQgAYIPpASoQAKwQAQBsMD1ABQKAFSIAgA2mB6hAALBCBACwwfQAFQgAVogAADaYHqACAcAKEQDABtMDVCAAWCECANhgeoAKBAArRAAAG0wPUIEAYIUIAOj1eatf0/8sjBIArJBFAcARX9Nv8MeJAHidAGCFCIDXCYBuEQCvEwCsEAHwOgHQLQLgdQKAFSIAXicAukUAvE4AsEIEwOsEQLcIgNcJAFaIAHidAOgWAfA6AcAKEQCvEwDdIgBeJwBYIQLgdQKgWwTA6wQAK0QAvE4AdIsAeJ0AYIUIgNcJgG4RAK8TAKwQAfA6AdAtAuB1AoAVIgBeJwC6RQC8TgCwQgTA6wRAtwiA1wkAVogAeJ0A6BYB8DoBwAoRAK8TAN0iAF4nAFghAuB1AqBbBMDrBAArRAC8TgB0iwB4nQBghQiA1wmAbhEArxMArBAB8DoB0C0C4HUCgBUiAF4nALpFALxOALBCBMDrBEC3CIDX/S9/h9Xnu/37963yLgHQLQIAgPsJgG4RAADcTwB0iwAA4H4CoFsEAAD3EwDdIgAAuJ8A6BYBAMD9BEC3CAAA7icAukUAAHA/AdAtAgCA+wmAbhEAANxPAHSLAADgfgKgWwQAAPcTAN0iAAC4nwDoFgEAwP0EQLcIAADuJwC6RQAAcD8B0C0CAID7CYBuEQAA3E8AdIsAAOB+AqBbBAAA9xMA3T5H/f35/vjaP+Bd0/vzE7/f07+X8C2lqQB+lOn9AQZNDxAwZ3p/gEHTAwTMmd4fYND0AAFzpvcHGDQ9QMCc6f0BBk0PEDBnen+AQdMDBMyZ3h9g0PQAAXOm9wcYND1AwJzp/QEGTQ8QMGd6f4BB0wMEzJneH2DQ9AABc6b3Bxg0PUDAnOn9AQZNDxAwZ3p/gEHTAwTMmd4fYND0AAFzpvcHGDQ9QMCc6f0BBk0PEDBnen+AQdMDBMyZ3h9g0PQAAXOm9wcYND1AwJzp/QF+mM+u/Jketu+avtV3ff7Ur+lbFXxN3+u7pg9V8Gf6VgD/KQKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDc7zNWv/P3B+v6b/pW3/X5W39N36rw/Zq+13ddcKvvfr+nbwUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJz2f6NuVNq9eVRdAAAAAElFTkSuQmCC"]],template:function(t,r){1&t&&(h.TgZ(0,"section",0),h._UZ(1,"img",1),h.TgZ(2,"h1",2),h._uU(3,"Back Office"),h.qZA(),h.TgZ(4,"ul",3)(5,"li",4)(6,"p",5),h._uU(7,"Administrer"),h.qZA(),h.O4$(),h.TgZ(8,"svg",6),h._UZ(9,"rect",7),h.TgZ(10,"defs")(11,"pattern",8),h._UZ(12,"use",9),h.qZA(),h._UZ(13,"image",10),h.qZA()()()()())},dependencies:[X1],styles:[".home[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-around;height:90vh;width:100%}.home__logo[_ngcontent-%COMP%]{width:40%}.home__titre[_ngcontent-%COMP%]{text-transform:uppercase;font-size:38px;padding:3px;font-weight:900}.home__list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.item[_ngcontent-%COMP%]{background-color:#f6d258;color:#fcfcfd;width:200px;height:50px;display:flex;align-items:center;justify-content:space-between;padding:20px;border-radius:10px;cursor:pointer}.item__texte[_ngcontent-%COMP%]{font-size:18px;font-weight:900}.item__svg[_ngcontent-%COMP%]{width:20px}"]}),n})(),RB=(()=>{class n{constructor(t,r){this._router=t,this.authentificationService=r}ngOnInit(){this._router.navigate(this.authentificationService.utilisateurEstConnecte?["/home"]:["/login"])}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(on),h.Y36(al))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-loading"]],decls:2,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"p"),h._uU(1,"loading works!"),h.qZA())}}),n})();class x4{constructor(e,t,r,i="1",s=100,c=100,u=0,p=0,v="#1BA8A8"){this.width=100,this.height=100,this.left=0,this.top=0,this.id=e,this.name=t,this.description=r,this.idDepartmentType=i,this.width=s,this.height=c,this.left=u,this.top=p,this.color=v}static fromFirebase(e){let t=e.data();return new x4(e.id,t.name,t.description,t.idDepartmentType,t.width,t.height,t.left,t.top,t.color)}static transformToMap(e){return{description:e.description,idDepartmentType:e.idDepartmentType,height:e.height,left:e.left,name:e.name,top:e.top,width:e.width,color:e.color}}}var at,LB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mc={},dE=dE||{},Tt=LB||self;function l_(){}function u_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Z5(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var fE="closure_uid_"+(1e9*Math.random()>>>0),OB=0;function zB(n,e,t){return n.call.apply(n.bind,arguments)}function FB(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function vi(n,e,t){return(vi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zB:FB).apply(null,arguments)}function h_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ti(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var c=Array(arguments.length-2),u=2;u<arguments.length;u++)c[u-2]=arguments[u];return e.prototype[i].apply(r,c)}}function cl(){this.s=this.s,this.o=this.o}cl.prototype.s=!1,cl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function PB(n){Object.prototype.hasOwnProperty.call(n,fE)&&n[fE]||(n[fE]=++OB)}(this)},cl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _N=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function pE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function yN(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(u_(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let c=0;c<s;c++)n[i+c]=r[c]}else n.push(r)}}function _i(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}_i.prototype.h=function(){this.defaultPrevented=!0};var HB=function(){if(!Tt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Tt.addEventListener("test",l_,e),Tt.removeEventListener("test",l_,e)}catch{}return n}();function d_(n){return/^[\s\xa0]*$/.test(n)}var CN=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function mE(n,e){return n<e?-1:n>e?1:0}function f_(){var n=Tt.navigator;return n&&(n=n.userAgent)?n:""}function qa(n){return-1!=f_().indexOf(n)}function gE(n){return gE[" "](n),n}gE[" "]=l_;var p_,n,UB=qa("Opera"),ph=qa("Trident")||qa("MSIE"),AN=qa("Edge"),vE=AN||ph,bN=qa("Gecko")&&!(-1!=f_().toLowerCase().indexOf("webkit")&&!qa("Edge"))&&!(qa("Trident")||qa("MSIE"))&&!qa("Edge"),jB=-1!=f_().toLowerCase().indexOf("webkit")&&!qa("Edge");function wN(){var n=Tt.document;return n?n.documentMode:void 0}e:{var _E="",yE=(n=f_(),bN?/rv:([^\);]+)(\)|;)/.exec(n):AN?/Edge\/([\d\.]+)/.exec(n):ph?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):jB?/WebKit\/(\S+)/.exec(n):UB?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(yE&&(_E=yE?yE[1]:""),ph){var CE=wN();if(null!=CE&&CE>parseFloat(_E)){p_=String(CE);break e}}p_=_E}var GB={};var WB=Tt.document&&ph&&(wN()||parseInt(p_,10))||void 0;function Y5(n,e){if(_i.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(bN){e:{try{gE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:qB[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Y5.X.h.call(this)}}ti(Y5,_i);var qB={2:"touch",3:"pen",4:"mouse"};Y5.prototype.h=function(){Y5.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Q5="closure_listenable_"+(1e6*Math.random()|0),KB=0;function ZB(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++KB,this.ba=this.ea=!1}function m_(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function bE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function MN(n){const e={};for(const t in n)e[t]=n[t];return e}const SN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IN(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<SN.length;s++)t=SN[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function g_(n){this.src=n,this.g={},this.h=0}function wE(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=_N(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(m_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function EE(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}g_.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=EE(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new ZB(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var ME="closure_lm_"+(1e6*Math.random()|0),SE={};function DN(n,e,t,r,i){if(r&&r.once)return xN(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)DN(n,e[s],t,r,i);return null}return t=xE(t),n&&n[Q5]?n.N(e,t,Z5(r)?!!r.capture:!!r,i):TN(n,e,t,!1,r,i)}function TN(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var c=Z5(i)?!!i.capture:!!i,u=DE(n);if(u||(n[ME]=u=new g_(n)),(t=u.add(e,t,r,c,s)).proxy)return t;if(r=function YB(){const e=QB;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)HB||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(kN(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function xN(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)xN(n,e[s],t,r,i);return null}return t=xE(t),n&&n[Q5]?n.O(e,t,Z5(r)?!!r.capture:!!r,i):TN(n,e,t,!0,r,i)}function NN(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)NN(n,e[s],t,r,i);else r=Z5(r)?!!r.capture:!!r,t=xE(t),n&&n[Q5]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=EE(s=n.g[e],t,r,i))&&(m_(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=DE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=EE(e,t,r,i)),(t=-1<n?e[n]:null)&&IE(t))}function IE(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Q5])wE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(kN(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=DE(e))?(wE(t,n),0==t.h&&(t.src=null,e[ME]=null)):m_(n)}}}function kN(n){return n in SE?SE[n]:SE[n]="on"+n}function QB(n,e){if(n.ba)n=!0;else{e=new Y5(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&IE(n),n=t.call(r,e)}return n}function DE(n){return(n=n[ME])instanceof g_?n:null}var TE="__closure_events_fn_"+(1e9*Math.random()>>>0);function xE(n){return"function"==typeof n?n:(n[TE]||(n[TE]=function(e){return n.handleEvent(e)}),n[TE])}function zr(){cl.call(this),this.i=new g_(this),this.P=this,this.I=null}function ni(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new _i(e,n);else if(e instanceof _i)e.target=e.target||n;else{var i=e;IN(e=new _i(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];i=v_(c,r,!0,e)&&i}if(i=v_(c=e.g=n,r,!0,e)&&i,i=v_(c,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=v_(c=e.g=t[s],r,!1,e)&&i}function v_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.ba&&c.capture==t){var u=c.listener,p=c.ha||c.src;c.ea&&wE(n.i,c),i=!1!==u.call(p,r)&&i}}return i&&!r.defaultPrevented}ti(zr,cl),zr.prototype[Q5]=!0,zr.prototype.removeEventListener=function(n,e,t,r){NN(this,n,e,t,r)},zr.prototype.M=function(){if(zr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)m_(t[r]);delete n.g[e],n.h--}}this.I=null},zr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},zr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var NE=Tt.JSON.stringify;function XB(){var n=PN;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var kE,RN=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new eU,n=>n.reset());class eU{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function tU(n){Tt.setTimeout(()=>{throw n},0)}function LN(n,e){kE||function nU(){var n=Tt.Promise.resolve(void 0);kE=function(){n.then(rU)}}(),RE||(kE(),RE=!0),PN.add(n,e)}var RE=!1,PN=new class JB{constructor(){this.h=this.g=null}add(e,t){const r=RN.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function rU(){for(var n;n=XB();){try{n.h.call(n.g)}catch(t){tU(t)}var e=RN;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}RE=!1}function __(n,e){zr.call(this),this.h=n||1,this.g=e||Tt,this.j=vi(this.lb,this),this.l=Date.now()}function LE(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function PE(n,e,t){if("function"==typeof n)t&&(n=vi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=vi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Tt.setTimeout(n,e||0)}function ON(n){n.g=PE(()=>{n.g=null,n.i&&(n.i=!1,ON(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ti(__,zr),(at=__.prototype).ca=!1,at.R=null,at.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ni(this,"tick"),this.ca&&(LE(this),this.start()))}},at.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.M=function(){__.X.M.call(this),LE(this),delete this.g};class iU extends cl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ON(this)}M(){super.M(),this.g&&(Tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function X5(n){cl.call(this),this.h=n,this.g={}}ti(X5,cl);var zN=[];function FN(n,e,t,r){Array.isArray(t)||(t&&(zN[0]=t.toString()),t=zN);for(var i=0;i<t.length;i++){var s=DN(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function VN(n){bE(n.g,function(e,t){this.g.hasOwnProperty(t)&&IE(e)},n),n.g={}}function y_(){this.g=!0}function mh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function cU(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<i.length;c++)i[c]=""}}}return NE(t)}catch{return e}}(n,t)+(r?" "+r:"")})}X5.prototype.M=function(){X5.X.M.call(this),VN(this)},X5.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},y_.prototype.Aa=function(){this.g=!1},y_.prototype.info=function(){};var N4={},HN=null;function C_(){return HN=HN||new zr}function BN(n){_i.call(this,N4.Pa,n)}function J5(n){const e=C_();ni(e,new BN(e))}function UN(n,e){_i.call(this,N4.STAT_EVENT,n),this.stat=e}function Oi(n){const e=C_();ni(e,new UN(e,n))}function jN(n,e){_i.call(this,N4.Qa,n),this.size=e}function ep(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Tt.setTimeout(function(){n()},e)}N4.Pa="serverreachability",ti(BN,_i),N4.STAT_EVENT="statevent",ti(UN,_i),N4.Qa="timingevent",ti(jN,_i);var A_={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},GN={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function OE(){}function WN(){}OE.prototype.h=null;var VE,tp={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function zE(){_i.call(this,"d")}function FE(){_i.call(this,"c")}function b_(){}function np(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new X5(this),this.O=lU,this.T=new __(n=vE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new qN}function qN(){this.i=null,this.g="",this.h=!1}ti(zE,_i),ti(FE,_i),ti(b_,OE),b_.prototype.g=function(){return new XMLHttpRequest},b_.prototype.i=function(){return{}},VE=new b_;var lU=45e3,HE={},w_={};function BE(n,e,t){n.K=1,n.v=I_(gc(e)),n.s=t,n.P=!0,KN(n,null)}function KN(n,e){n.F=Date.now(),rp(n),n.A=gc(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),ik(t.i,"t",r),n.C=0,t=n.l.H,n.h=new qN,n.g=Dk(n.l,t?e:null,!n.s),0<n.N&&(n.L=new iU(vi(n.La,n,n.g),n.N)),FN(n.S,n.g,"readystatechange",n.ib),e=n.H?MN(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),J5(),function sU(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var c="",u=s.split("&"),p=0;p<u.length;p++){var v=u[p].split("=");if(1<v.length){var b=v[0];v=v[1];var M=b.split("_");c=2<=M.length&&"type"==M[1]?c+(b+"=")+v+"&":c+(b+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function ZN(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function YN(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=uU(n,t),i==w_){4==e&&(n.o=4,Oi(14),r=!1),mh(n.j,n.m,null,"[Incomplete Response]");break}if(i==HE){n.o=4,Oi(15),mh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}mh(n.j,n.m,i,null),UE(n,i)}ZN(n)&&i!=w_&&i!=HE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Oi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),YE(e),e.K=!0,Oi(11))):(mh(n.j,n.m,t,"[Invalid Chunked Response]"),k4(n),ip(n))}function uU(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?w_:(t=Number(e.substring(t,r)),isNaN(t)?HE:(r+=1)+t>e.length?w_:(e=e.substr(r,t),n.C=r+t,e))}function rp(n){n.V=Date.now()+n.O,QN(n,n.O)}function QN(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ep(vi(n.gb,n),e)}function E_(n){n.B&&(Tt.clearTimeout(n.B),n.B=null)}function ip(n){0==n.l.G||n.I||Ek(n.l,n)}function k4(n){E_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,LE(n.T),VN(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function UE(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||jE(t.h,n)))if(!n.J&&jE(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;R_(t),N_(t)}ZE(t),Oi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=ep(vi(t.cb,t),6e3));if(1>=ak(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else L4(t,11)}else if((n.J||t.g==n)&&R_(t),!d_(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const b=v[3];null!=b&&(t.ma=b,t.j.info("VER="+t.ma));const M=v[4];null!=M&&(t.Ca=M,t.j.info("SVER="+t.Ca));const D=v[5];null!=D&&"number"==typeof D&&0<D&&(t.J=r=1.5*D,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const N=n.g;if(N){const R=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var s=r.h;s.g||-1==R.indexOf("spdy")&&-1==R.indexOf("quic")&&-1==R.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(GE(s,s.h),s.h=null))}if(r.D){const V=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;V&&(r.za=V,Hn(r.F,r.D,V))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=Ik(r,r.H?r.ka:null,r.V),c.J){ck(r.h,c);var u=c,p=r.J;p&&u.setTimeout(p),u.B&&(E_(u),rp(u)),r.g=c}else bk(r);0<t.i.length&&k_(t)}else"stop"!=v[0]&&"close"!=v[0]||L4(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?L4(t,7):KE(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}J5()}catch{}}function XN(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(u_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function dU(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(u_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function hU(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(u_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(at=np.prototype).setTimeout=function(n){this.O=n},at.ib=function(n){n=n.target;const e=this.L;e&&3==vc(n)?e.l():this.La(n)},at.La=function(n){try{if(n==this.g)e:{const b=vc(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>b)&&(3!=b||vE||this.g&&(this.h.h||this.g.fa()||gk(this.g)))){this.I||4!=b||7==e||J5(),E_(this);var t=this.g.aa();this.Y=t;t:if(ZN(this)){var r=gk(this.g);n="";var i=r.length,s=4==vc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){k4(this),ip(this);var c="";break t}this.h.i=new Tt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function oU(n,e,t,r,i,s,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.U,b,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,p=this.g;if((u=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!d_(u)){var v=u;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Oi(12),k4(this),ip(this);break e}mh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,UE(this,t)}this.P?(YN(this,b,c),vE&&this.i&&3==b&&(FN(this.S,this.T,"tick",this.hb),this.T.start())):(mh(this.j,this.m,c,null),UE(this,c)),4==b&&k4(this),this.i&&!this.I&&(4==b?Ek(this.l,this):(this.i=!1,rp(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Oi(12)):(this.o=0,Oi(13)),k4(this),ip(this)}}}catch{}},at.hb=function(){if(this.g){var n=vc(this.g),e=this.g.fa();this.C<e.length&&(E_(this),YN(this,n,e),this.i&&4!=n&&rp(this))}},at.cancel=function(){this.I=!0,k4(this)},at.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function aU(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(J5(),Oi(17)),k4(this),this.o=2,ip(this)):QN(this,this.V-n)};var JN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function R4(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof R4){this.h=void 0!==e?e:n.h,M_(this,n.j),this.s=n.s,this.g=n.g,S_(this,n.m),this.l=n.l,e=n.i;var t=new ap;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ek(this,t),this.o=n.o}else n&&(t=String(n).match(JN))?(this.h=!!e,M_(this,t[1]||"",!0),this.s=sp(t[2]||""),this.g=sp(t[3]||"",!0),S_(this,t[4]),this.l=sp(t[5]||"",!0),ek(this,t[6]||"",!0),this.o=sp(t[7]||"")):(this.h=!!e,this.i=new ap(null,this.h))}function gc(n){return new R4(n)}function M_(n,e,t){n.j=t?sp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function S_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function ek(n,e,t){e instanceof ap?(n.i=e,function yU(n,e){e&&!n.j&&(ll(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(nk(this,r),ik(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=op(e,vU)),n.i=new ap(e,n.h))}function Hn(n,e,t){n.i.set(e,t)}function I_(n){return Hn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function sp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function op(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,pU),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function pU(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}R4.prototype.toString=function(){var n=[],e=this.j;e&&n.push(op(e,tk,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(op(e,tk,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(op(t,"/"==t.charAt(0)?gU:mU,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",op(t,_U)),n.join("")};var tk=/[#\/\?@]/g,mU=/[#\?:]/g,gU=/[#\?]/g,vU=/[#\?@]/g,_U=/#/g;function ap(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ll(n){n.g||(n.g=new Map,n.h=0,n.i&&function fU(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function nk(n,e){ll(n),e=gh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function rk(n,e){return ll(n),e=gh(n,e),n.g.has(e)}function ik(n,e,t){nk(n,e),0<t.length&&(n.i=null,n.g.set(gh(n,e),pE(t)),n.h+=t.length)}function gh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function sk(n){this.l=n||AU,n=Tt.PerformanceNavigationTiming?0<(n=Tt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Tt.g&&Tt.g.Ga&&Tt.g.Ga()&&Tt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=ap.prototype).add=function(n,e){ll(this),this.i=null,n=gh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},at.forEach=function(n,e){ll(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},at.oa=function(){ll(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},at.W=function(n){ll(this);let e=[];if("string"==typeof n)rk(this,n)&&(e=e.concat(this.g.get(gh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},at.set=function(n,e){return ll(this),this.i=null,rk(this,n=gh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},at.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=s;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var AU=10;function ok(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ak(n){return n.h?1:n.g?n.g.size:0}function jE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function GE(n,e){n.g?n.g.add(e):n.h=e}function ck(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function lk(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return pE(n.i)}function $E(){}function bU(){this.g=new $E}function wU(n,e,t){const r=t||"";try{XN(n,function(i,s){let c=i;Z5(i)&&(c=NE(i)),e.push(r+s+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function D_(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function cp(n){this.l=n.ac||null,this.j=n.jb||!1}function T_(n,e){zr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=WE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sk.prototype.cancel=function(){if(this.i=lk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},$E.prototype.stringify=function(n){return Tt.JSON.stringify(n,void 0)},$E.prototype.parse=function(n){return Tt.JSON.parse(n,void 0)},ti(cp,OE),cp.prototype.g=function(){return new T_(this.l,this.j)},cp.prototype.i=function(n){return function(){return n}}({}),ti(T_,zr);var WE=0;function uk(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function lp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,up(n)}function up(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(at=T_.prototype).open=function(n,e){if(this.readyState!=WE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,up(this)},at.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Tt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lp(this)),this.readyState=WE},at.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,up(this)),this.g&&(this.readyState=3,up(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Tt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uk(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},at.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?lp(this):up(this),3==this.readyState&&uk(this)}},at.Va=function(n){this.g&&(this.response=this.responseText=n,lp(this))},at.Ua=function(n){this.g&&(this.response=n,lp(this))},at.ga=function(){this.g&&lp(this)},at.setRequestHeader=function(n,e){this.v.append(n,e)},at.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(T_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var MU=Tt.JSON.parse;function or(n){zr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hk,this.K=this.L=!1}ti(or,zr);var hk="",SU=/^https?$/i,IU=["POST","PUT"];function dk(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,fk(n),x_(n)}function fk(n){n.D||(n.D=!0,ni(n,"complete"),ni(n,"error"))}function pk(n){if(n.h&&typeof dE<"u"&&(!n.C[1]||4!=vc(n)||2!=n.aa()))if(n.v&&4==vc(n))PE(n.Ha,0,n);else if(ni(n,"readystatechange"),4==vc(n)){n.h=!1;try{const u=n.aa();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===u){var i=String(n.H).match(JN)[1]||null;if(!i&&Tt.self&&Tt.self.location){var s=Tt.self.location.protocol;i=s.substr(0,s.length-1)}r=!SU.test(i?i.toLowerCase():"")}t=r}if(t)ni(n,"complete"),ni(n,"success");else{n.m=6;try{var c=2<vc(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",fk(n)}}finally{x_(n)}}}function x_(n,e){if(n.g){mk(n);const t=n.g,r=n.C[0]?l_:null;n.g=null,n.C=null,e||ni(n,"ready");try{t.onreadystatechange=r}catch{}}}function mk(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Tt.clearTimeout(n.A),n.A=null)}function vc(n){return n.g?n.g.readyState:0}function gk(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case hk:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function vk(n){let e="";return bE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function qE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=vk(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Hn(n,e,t))}function hp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function _k(n){this.Ca=0,this.i=[],this.j=new y_,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=hp("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=hp("baseRetryDelayMs",5e3,n),this.bb=hp("retryDelaySeedMs",1e4,n),this.$a=hp("forwardChannelMaxRetries",2,n),this.ta=hp("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new sk(n&&n.concurrentRequestLimit),this.Fa=new bU,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function KE(n){if(yk(n),3==n.G){var e=n.U++,t=gc(n.F);Hn(t,"SID",n.I),Hn(t,"RID",e),Hn(t,"TYPE","terminate"),dp(n,t),(e=new np(n,n.j,e,void 0)).K=2,e.v=I_(gc(t)),t=!1,Tt.navigator&&Tt.navigator.sendBeacon&&(t=Tt.navigator.sendBeacon(e.v.toString(),"")),!t&&Tt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Dk(e.l,null),e.g.da(e.v)),e.F=Date.now(),rp(e)}Sk(n)}function N_(n){n.g&&(YE(n),n.g.cancel(),n.g=null)}function yk(n){N_(n),n.u&&(Tt.clearTimeout(n.u),n.u=null),R_(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Tt.clearTimeout(n.m),n.m=null)}function k_(n){ok(n.h)||n.m||(n.m=!0,LN(n.Ja,n),n.C=0)}function Ck(n,e){var t;t=e?e.m:n.U++;const r=gc(n.F);Hn(r,"SID",n.I),Hn(r,"RID",t),Hn(r,"AID",n.T),dp(n,r),n.o&&n.s&&qE(r,n.o,n.s),t=new np(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Ak(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),GE(n.h,t),BE(t,r,e)}function dp(n,e){n.ia&&bE(n.ia,function(t,r){Hn(e,r,t)}),n.l&&XN({},function(t,r){Hn(e,r,t)})}function Ak(n,e,t){t=Math.min(n.i.length,t);var r=n.l?vi(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=i[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let u=!0;for(let p=0;p<t;p++){let v=i[p].h;const b=i[p].g;if(v-=s,0>v)s=Math.max(0,i[p].h-100),u=!1;else try{wU(b,c,"req"+v+"_")}catch{r&&r(b)}}if(u){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function bk(n){n.g||n.u||(n.Z=1,LN(n.Ia,n),n.A=0)}function ZE(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=ep(vi(n.Ia,n),Mk(n,n.A)),n.A++,0))}function YE(n){null!=n.B&&(Tt.clearTimeout(n.B),n.B=null)}function wk(n){n.g=new np(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=gc(n.sa);Hn(e,"RID","rpc"),Hn(e,"SID",n.I),Hn(e,"CI",n.L?"0":"1"),Hn(e,"AID",n.T),Hn(e,"TYPE","xmlhttp"),dp(n,e),n.o&&n.s&&qE(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=I_(gc(e)),t.s=null,t.P=!0,KN(t,n)}function R_(n){null!=n.v&&(Tt.clearTimeout(n.v),n.v=null)}function Ek(n,e){var t=null;if(n.g==e){R_(n),YE(n),n.g=null;var r=2}else{if(!jE(n.h,e))return;t=e.D,ck(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ni(r=C_(),new jN(r,t)),k_(n)}else bk(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function TU(n,e){return!(ak(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=ep(vi(n.Ja,n,e),Mk(n,n.C)),n.C++,0)))}(n,e)||2==r&&ZE(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:L4(n,5);break;case 4:L4(n,10);break;case 3:L4(n,6);break;default:L4(n,2)}}function Mk(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function L4(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=vi(n.kb,n);t||(t=new R4("//www.google.com/images/cleardot.gif"),Tt.location&&"http"==Tt.location.protocol||M_(t,"https"),I_(t)),function EU(n,e){const t=new y_;if(Tt.Image){const r=new Image;r.onload=h_(D_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=h_(D_,t,r,"TestLoadImage: error",!1,e),r.onabort=h_(D_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=h_(D_,t,r,"TestLoadImage: timeout",!1,e),Tt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Oi(2);n.G=0,n.l&&n.l.va(e),Sk(n),yk(n)}function Sk(n){if(n.G=0,n.la=[],n.l){const e=lk(n.h);(0!=e.length||0!=n.i.length)&&(yN(n.la,e),yN(n.la,n.i),n.h.i.length=0,pE(n.i),n.i.length=0),n.l.ua()}}function Ik(n,e,t){var r=t instanceof R4?gc(t):new R4(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),S_(r,r.m);else{var i=Tt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new R4(null,void 0);r&&M_(s,r),e&&(s.g=e),i&&S_(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&Hn(r,t,e),Hn(r,"VER",n.ma),dp(n,r),r}function Dk(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new or(t&&n.Da&&!n.ra?new cp({jb:!0}):n.ra)).Ka(n.H),e}function Tk(){}function L_(){if(ph&&!(10<=Number(WB)))throw Error("Environmental error: no available transport.")}function As(n,e){zr.call(this),this.g=new _k(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!d_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!d_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new vh(this)}function xk(n){zE.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Nk(){FE.call(this),this.status=1}function vh(n){this.g=n}(at=or.prototype).Ka=function(n){this.L=n},at.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():VE.g(),this.C=function $N(n){return n.h||(n.h=n.i())}(this.u?this.u:VE),this.g.onreadystatechange=vi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void dk(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Tt.FormData&&n instanceof Tt.FormData,!(0<=_N(IU,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of t)this.g.setRequestHeader(s,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mk(this),0<this.B&&((this.K=function DU(n){return ph&&function $B(){return function BB(n){var e=GB;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=CN(String(p_)).split("."),t=CN("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",s=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=mE(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||mE(0==i[2].length,0==s[2].length)||mE(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vi(this.qa,this)):this.A=PE(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){dk(this,s)}},at.qa=function(){typeof dE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ni(this,"timeout"),this.abort(8))},at.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ni(this,"complete"),ni(this,"abort"),x_(this))},at.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),x_(this,!0)),or.X.M.call(this)},at.Ha=function(){this.s||(this.F||this.v||this.l?pk(this):this.fb())},at.fb=function(){pk(this)},at.aa=function(){try{return 2<vc(this)?this.g.status:-1}catch{return-1}},at.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},at.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),MU(e)}},at.Ea=function(){return this.m},at.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=_k.prototype).ma=8,at.G=1,at.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new np(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=MN(s),IN(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ak(this,i,e),Hn(t=gc(this.F),"RID",n),Hn(t,"CVER",22),this.D&&Hn(t,"X-HTTP-Session-Id",this.D),dp(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(vk(s)))+"&"+e:this.o&&qE(t,this.o,s)),GE(this.h,i),this.Ya&&Hn(t,"TYPE","init"),this.O?(Hn(t,"$req",e),Hn(t,"SID","null"),i.Z=!0,BE(i,t,null)):BE(i,t,e),this.G=2}}else 3==this.G&&(n?Ck(this,n):0==this.i.length||ok(this.h)||Ck(this))},at.Ia=function(){if(this.u=null,wk(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=ep(vi(this.eb,this),n)}},at.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Oi(10),N_(this),wk(this))},at.cb=function(){null!=this.v&&(this.v=null,N_(this),ZE(this),Oi(19))},at.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Oi(2)):(this.j.info("Failed to ping google.com"),Oi(1))},(at=Tk.prototype).xa=function(){},at.wa=function(){},at.va=function(){},at.ua=function(){},at.Ra=function(){},L_.prototype.g=function(n,e){return new As(n,e)},ti(As,zr),As.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Oi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Ik(n,null,n.V),k_(n)},As.prototype.close=function(){KE(this.g)},As.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=NE(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&k_(e)},As.prototype.M=function(){this.g.l=null,delete this.j,KE(this.g),delete this.g,As.X.M.call(this)},ti(xk,zE),ti(Nk,FE),ti(vh,Tk),vh.prototype.xa=function(){ni(this.g,"a")},vh.prototype.wa=function(n){ni(this.g,new xk(n))},vh.prototype.va=function(n){ni(this.g,new Nk)},vh.prototype.ua=function(){ni(this.g,"b")},L_.prototype.createWebChannel=L_.prototype.g,As.prototype.send=As.prototype.u,As.prototype.open=As.prototype.m,As.prototype.close=As.prototype.close,A_.NO_ERROR=0,A_.TIMEOUT=8,A_.HTTP_ERROR=6,GN.COMPLETE="complete",WN.EventType=tp,tp.OPEN="a",tp.CLOSE="b",tp.ERROR="c",tp.MESSAGE="d",zr.prototype.listen=zr.prototype.N,or.prototype.listenOnce=or.prototype.O,or.prototype.getLastError=or.prototype.Oa,or.prototype.getLastErrorCode=or.prototype.Ea,or.prototype.getStatus=or.prototype.aa,or.prototype.getResponseJson=or.prototype.Sa,or.prototype.getResponseText=or.prototype.fa,or.prototype.send=or.prototype.da,or.prototype.setWithCredentials=or.prototype.Ka;var xU=mc.createWebChannelTransport=function(){return new L_},NU=mc.getStatEventTarget=function(){return C_()},QE=mc.ErrorCode=A_,kU=mc.EventType=GN,RU=mc.Event=N4,kk=mc.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},LU=mc.FetchXmlHttpFactory=cp,P_=mc.WebChannel=WN,PU=mc.XhrIo=or;const Rk="@firebase/firestore";class Fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");let _h="9.14.0";const ul=new mi.Yd("@firebase/firestore");function XE(){return ul.logLevel}function Ne(n,...e){if(ul.logLevel<=mi.in.DEBUG){const t=e.map(JE);ul.debug(`Firestore (${_h}): ${n}`,...t)}}function hr(n,...e){if(ul.logLevel<=mi.in.ERROR){const t=e.map(JE);ul.error(`Firestore (${_h}): ${n}`,...t)}}function yh(n,...e){if(ul.logLevel<=mi.in.WARN){const t=e.map(JE);ul.warn(`Firestore (${_h}): ${n}`,...t)}}function JE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${_h}) INTERNAL ASSERTION FAILED: `+n;throw hr(e),new Error(e)}function At(n,e){n||rt()}function $e(n,e){return n}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends j.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Lk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fr.UNAUTHENTICATED))}shutdown(){}}class zU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class FU{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let c=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xr,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const v=c;e.enqueueRetryable((0,ae.Z)(function*(){yield v.promise,yield s(r.currentUser)}))},p=v=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At("string"==typeof r.accessToken),new Lk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(null===e||"string"==typeof e),new Fr(e)}}class VU{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(At(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class HU{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new VU(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BU{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.A;return this.A=s.token,Ne("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At("string"==typeof t.token),this.A=t.token,new Pk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function UU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Ok{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=UU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function xt(n,e){return n<e?-1:n>e?1:0}function Ch(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Zn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zn.fromMillis(Date.now())}static fromDate(e){return Zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Zn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new Zn(0,0))}static max(){return new bt(new Zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fp{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===fp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),c=t.get(i);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jt extends fp{construct(e,t,r){return new Jt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Jt(t)}static emptyPath(){return new Jt([])}}const jU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends fp{construct(e,t,r){return new dr(e,t,r)}static isValidIdentifier(e){return jU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Se(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const u=e[i];if("\\"===u){if(i+1===e.length)throw new Se(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Se(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else"`"===u?(c=!c,i++):"."!==u||c?(r+=u,i++):(s(),i++)}if(s(),c)throw new Se(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(t)}static emptyPath(){return new dr([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Jt.fromString(e))}static fromName(e){return new Ge(Jt.fromString(e).popFirst(5))}static empty(){return new Ge(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Jt(e.slice()))}}function Vk(n){return new bs(n.readTime,n.key,-1)}class bs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new bs(bt.min(),Ge.empty(),-1)}static max(){return new bs(bt.max(),Ge.empty(),-1)}}function tM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:xt(n.largestBatchId,e.largestBatchId))}const Hk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function hl(n){return nM.apply(this,arguments)}function nM(){return nM=(0,ae.Z)(function*(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==Hk)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}),nM.apply(this,arguments)}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let i=0,s=0,c=!1;e.forEach(u=>{++i,u.next(()=>{++s,c&&s===i&&t()},p=>r(p))}),c=!0,s===i&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(i=>i?te.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new te((r,i)=>{const s=e.length,c=new Array(s);let u=0;for(let p=0;p<s;p++){const v=p;t(e[v]).next(b=>{c[v]=b,++u,u===s&&r(c)},b=>i(b))}})}static doWhile(e,t){return new te((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function dl(n){return"IndexedDbTransactionError"===n.name}class ts{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Uk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function z4(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function jk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}ts.at=-1;class ar{constructor(e,t){this.comparator=e,this.root=t||ri.EMPTY}insert(e,t){return new ar(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ri.BLACK,null,null))}remove(e){return new ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ri.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new V_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new V_(this.root,e,this.comparator,!1)}getReverseIterator(){return new V_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new V_(this.root,e,this.comparator,!0)}}class V_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ri{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ri.RED,this.left=i??ri.EMPTY,this.right=s??ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ri(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ri.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}ri.EMPTY=null,ri.RED=!0,ri.BLACK=!1,ri.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ri(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wn{constructor(e){this.comparator=e,this.data=new ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gk(this.data.getIterator())}getIteratorFrom(e){return new Gk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wn(this.comparator);return t.data=e,t}}class Gk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ws{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new ws([])}unionWith(e){let t=new wn(dr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ws(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ch(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Nr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const QU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fl(n){if(At(!!n),"string"==typeof n){let e=0;const t=QU.exec(n);if(At(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:cr(n.seconds),nanos:cr(n.nanos)}}function cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function F4(n){return"string"==typeof n?Nr.fromBase64String(n):Nr.fromUint8Array(n)}function iM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $k(n){const e=n.mapValue.fields.__previous_value__;return iM(e)?$k(e):e}function gp(n){const e=fl(n.mapValue.fields.__local_write_time__.timestampValue);return new Zn(e.seconds,e.nanos)}class XU{constructor(e,t,r,i,s,c,u,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.useFetchStreams=p}}class V4{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new V4("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof V4&&e.projectId===this.projectId&&e.database===this.database}}function vp(n){return null==n}function _p(n){return 0===n&&1/n==-1/0}const pl_mapValue={fields:{__type__:{stringValue:"__max__"}}};function H4(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?iM(n)?4:Yk(n)?9007199254740991:10:rt()}function Ka(n,e){if(n===e)return!0;const t=H4(n);if(t!==H4(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gp(n).isEqual(gp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=fl(r.timestampValue),c=fl(i.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,F4(n.bytesValue).isEqual(F4(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return cr(r.geoPointValue.latitude)===cr(i.geoPointValue.latitude)&&cr(r.geoPointValue.longitude)===cr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return cr(r.integerValue)===cr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=cr(r.doubleValue),c=cr(i.doubleValue);return s===c?_p(s)===_p(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Ch(n.arrayValue.values||[],e.arrayValue.values||[],Ka);case 10:return function(r,i){const s=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Uk(s)!==Uk(c))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===c[u]||!Ka(s[u],c[u])))return!1;return!0}(n,e);default:return rt()}var i}function yp(n,e){return void 0!==(n.values||[]).find(t=>Ka(t,e))}function ml(n,e){if(n===e)return 0;const t=H4(n),r=H4(e);if(t!==r)return xt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xt(n.booleanValue,e.booleanValue);case 2:return function(i,s){const c=cr(i.integerValue||i.doubleValue),u=cr(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return qk(n.timestampValue,e.timestampValue);case 4:return qk(gp(n),gp(e));case 5:return xt(n.stringValue,e.stringValue);case 6:return function(i,s){const c=F4(i),u=F4(s);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const c=i.split("/"),u=s.split("/");for(let p=0;p<c.length&&p<u.length;p++){const v=xt(c[p],u[p]);if(0!==v)return v}return xt(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const c=xt(cr(i.latitude),cr(s.latitude));return 0!==c?c:xt(cr(i.longitude),cr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const c=i.values||[],u=s.values||[];for(let p=0;p<c.length&&p<u.length;++p){const v=ml(c[p],u[p]);if(v)return v}return xt(c.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===pl_mapValue&&s===pl_mapValue)return 0;if(i===pl_mapValue)return 1;if(s===pl_mapValue)return-1;const c=i.fields||{},u=Object.keys(c),p=s.fields||{},v=Object.keys(p);u.sort(),v.sort();for(let b=0;b<u.length&&b<v.length;++b){const M=xt(u[b],v[b]);if(0!==M)return M;const D=ml(c[u[b]],p[v[b]]);if(0!==D)return D}return xt(u.length,v.length)}(n.mapValue,e.mapValue);default:throw rt()}}function qk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return xt(n,e);const t=fl(n),r=fl(e),i=xt(t.seconds,r.seconds);return 0!==i?i:xt(t.nanos,r.nanos)}function bh(n){return sM(n)}function sM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=fl(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?F4(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const c of r.values||[])s?s=!1:i+=",",i+=sM(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",c=!0;for(const u of i)c?c=!1:s+=",",s+=`${u}:${sM(r.fields[u])}`;return s+"}"}(n.mapValue):rt();var e}function B4(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function oM(n){return!!n&&"integerValue"in n}function Cp(n){return!!n&&"arrayValue"in n}function Kk(n){return!!n&&"nullValue"in n}function Zk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function B_(n){return!!n&&"mapValue"in n}function Ap(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return z4(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ap(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ap(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Yk(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class ii{constructor(e){this.value=e}static empty(){return new ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!B_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ap(t)}setAll(e){let t=dr.emptyPath(),r={},i=[];e.forEach((c,u)=>{if(!t.isImmediateParentOf(u)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=u.popLast()}c?r[u.lastSegment()]=Ap(c):i.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());B_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ka(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];B_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){z4(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ii(Ap(this.value))}}function Jk(n){const e=[];return z4(n.fields,(t,r)=>{const i=new dr([t]);if(B_(r)){const s=Jk(r.mapValue).fields;if(0===s.length)e.push(i);else for(const c of s)e.push(i.child(c))}else e.push(i)}),new ws(e)}class Tn{constructor(e,t,r,i,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=c}static newInvalidDocument(e){return new Tn(e,0,bt.min(),bt.min(),ii.empty(),0)}static newFoundDocument(e,t,r){return new Tn(e,1,t,bt.min(),r,0)}static newNoDocument(e,t){return new Tn(e,2,t,bt.min(),ii.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,bt.min(),ii.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tj{constructor(e,t=null,r=[],i=[],s=null,c=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=c,this.endAt=u,this.ht=null}}function eR(n,e=null,t=[],r=[],i=null,s=null,c=null){return new tj(n,e,t,r,i,s,c)}function U4(n){const e=$e(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+bh(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),vp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bh(r)).join(",")),e.ht=t}return e.ht}function bp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!uj(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Ka(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sR(n.startAt,e.startAt)&&sR(n.endAt,e.endAt)}function U_(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class si extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new rj(e,t,r):"array-contains"===t?new oj(e,r):"in"===t?new aj(e,r):"not-in"===t?new cj(e,r):"array-contains-any"===t?new lj(e,r):new si(e,t,r)}static lt(e,t,r){return"in"===t?new ij(e,r):new sj(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(ml(t,this.value)):null!==t&&H4(this.value)===H4(t)&&this.ft(ml(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class rj extends si{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.ft(t)}}class ij extends si{constructor(e,t){super(e,"in",t),this.keys=rR(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sj extends si{constructor(e,t){super(e,"not-in",t),this.keys=rR(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rR(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class oj extends si{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cp(t)&&yp(t.arrayValue,this.value)}}class aj extends si{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yp(this.value.arrayValue,t)}}class cj extends si{constructor(e,t){super(e,"not-in",t)}matches(e){if(yp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yp(this.value.arrayValue,t)}}class lj extends si{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yp(this.value.arrayValue,r))}}class gl{constructor(e,t){this.position=e,this.inclusive=t}}class wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function uj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function iR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],c=n.position[i];if(r=s.field.isKeyField()?Ge.comparator(Ge.fromName(c.referenceValue),t.key):ml(c,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function sR(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ka(n.position[t],e.position[t]))return!1;return!0}class _c{constructor(e,t=null,r=[],i=[],s=null,c="F",u=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=c,this.startAt=u,this.endAt=p,this._t=null,this.wt=null}}function Eh(n){return new _c(n)}function aR(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function aM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function cM(n){for(const e of n.filters)if(e.dt())return e.field;return null}function lM(n){return null!==n.collectionGroup}function Mh(n){const e=$e(n);if(null===e._t){e._t=[];const t=cM(e),r=aM(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new wh(t)),e._t.push(new wh(dr.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new wh(dr.keyField(),s))}}}return e._t}function zi(n){const e=$e(n);if(!e.wt)if("F"===e.limitType)e.wt=eR(e.path,e.collectionGroup,Mh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Mh(e))t.push(new wh(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new gl(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new gl(e.startAt.position,e.startAt.inclusive):null;e.wt=eR(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function G_(n,e,t){return new _c(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wp(n,e){return bp(zi(n),zi(e))&&n.limitType===e.limitType}function cR(n){return`${U4(zi(n))}|lt:${n.limitType}`}function uM(n){return`Query(target=${function nj(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${bh(r.value)}`;var r}).join(", ")}]`),vp(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>bh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>bh(t)).join(",")),`Target(${e})`}(zi(n))}; limitType=${n.limitType})`}function hM(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ge.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,c){const u=iR(i,s,c);return i.inclusive?u<=0:u<0}(t.startAt,Mh(t),r)||t.endAt&&!function(i,s,c){const u=iR(i,s,c);return i.inclusive?u>=0:u>0}(t.endAt,Mh(t),r)));var t,r}function uR(n){return(e,t)=>{let r=!1;for(const i of Mh(n)){const s=hj(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function hj(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(i,s,c){const u=s.data.field(i),p=c.data.field(i);return null!==u&&null!==p?ml(u,p):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function hR(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_p(e)?"-0":e}}function dR(n){return{integerValue:""+n}}function fR(n,e){return function Wk(n){return"number"==typeof n&&Number.isInteger(n)&&!_p(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?dR(e):hR(n,e)}class $_{constructor(){this._=void 0}}function dj(n,e,t){return n instanceof Sh?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof j4?mR(n,e):n instanceof G4?gR(n,e):function(r,i){const s=pR(r,i),c=vR(s)+vR(r.yt);return oM(s)&&oM(r.yt)?dR(c):hR(r.It,c)}(n,e)}function fj(n,e,t){return n instanceof j4?mR(n,e):n instanceof G4?gR(n,e):t}function pR(n,e){return n instanceof Ih?oM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Sh extends $_{}class j4 extends $_{constructor(e){super(),this.elements=e}}function mR(n,e){const t=_R(e);for(const r of n.elements)t.some(i=>Ka(i,r))||t.push(r);return{arrayValue:{values:t}}}class G4 extends $_{constructor(e){super(),this.elements=e}}function gR(n,e){let t=_R(e);for(const r of n.elements)t=t.filter(i=>!Ka(i,r));return{arrayValue:{values:t}}}class Ih extends $_{constructor(e,t){super(),this.It=e,this.yt=t}}function vR(n){return cr(n.integerValue||n.doubleValue)}function _R(n){return Cp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mj{constructor(e,t){this.version=e,this.transformResults=t}}class Bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function W_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class q_{}function yR(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Th(n.key,Bn.none()):new Dh(n.key,n.data,Bn.none());{const t=n.data,r=ii.empty();let i=new wn(dr.comparator);for(let s of e.fields)if(!i.has(s)){let c=t.field(s);null===c&&s.length>1&&(s=s.popLast(),c=t.field(s)),null===c?r.delete(s):r.set(s,c),i=i.add(s)}return new yc(n.key,r,new ws(i.toArray()),Bn.none())}}function gj(n,e,t){n instanceof Dh?function(r,i,s){const c=r.value.clone(),u=bR(r.fieldTransforms,i,s.transformResults);c.setAll(u),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof yc?function(r,i,s){if(!W_(r.precondition,i))return void i.convertToUnknownDocument(s.version);const c=bR(r.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(AR(r)),u.setAll(c),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Mp(n,e,t,r){return n instanceof Dh?function(i,s,c,u){if(!W_(i.precondition,s))return c;const p=i.value.clone(),v=wR(i.fieldTransforms,u,s);return p.setAll(v),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof yc?function(i,s,c,u){if(!W_(i.precondition,s))return c;const p=wR(i.fieldTransforms,u,s),v=s.data;return v.setAll(AR(i)),v.setAll(p),s.convertToFoundDocument(s.version,v).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(b=>b.field))}(n,e,t,r):(c=t,W_(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function vj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=pR(r.transform,i||null);null!=s&&(null===t&&(t=ii.empty()),t.set(r.field,s))}return t||null}function CR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ch(t,r,(i,s)=>function pj(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof j4&&r instanceof j4||t instanceof G4&&r instanceof G4?Ch(t.elements,r.elements,Ka):t instanceof Ih&&r instanceof Ih?Ka(t.yt,r.yt):t instanceof Sh&&r instanceof Sh);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Dh extends q_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yc extends q_{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function bR(n,e,t){const r=new Map;At(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],c=s.transform,u=e.data.field(s.field);r.set(s.field,fj(c,u,t[i]))}return r}function wR(n,e,t){const r=new Map;for(const i of n){const s=i.transform,c=t.data.field(i.field);r.set(i.field,dj(s,c,e))}return r}class Th extends q_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dM extends q_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _j{constructor(e){this.count=e}}var yr,en;function ER(n){switch(n){default:return rt();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function MR(n){if(void 0===n)return hr("GRPC error has no .code"),oe.UNKNOWN;switch(n){case yr.OK:return oe.OK;case yr.CANCELLED:return oe.CANCELLED;case yr.UNKNOWN:return oe.UNKNOWN;case yr.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case yr.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case yr.INTERNAL:return oe.INTERNAL;case yr.UNAVAILABLE:return oe.UNAVAILABLE;case yr.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case yr.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case yr.NOT_FOUND:return oe.NOT_FOUND;case yr.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case yr.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case yr.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case yr.ABORTED:return oe.ABORTED;case yr.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case yr.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case yr.DATA_LOSS:return oe.DATA_LOSS;default:return rt()}}(en=yr||(yr={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";class vl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){z4(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jk(this.inner)}size(){return this.innerSize}}const yj=new ar(Ge.comparator);function ns(){return yj}const SR=new ar(Ge.comparator);function Sp(...n){let e=SR;for(const t of n)e=e.insert(t.key,t);return e}function IR(n){let e=SR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Za(){return Ip()}function DR(){return Ip()}function Ip(){return new vl(n=>n.toString(),(n,e)=>n.isEqual(e))}const Cj=new ar(Ge.comparator),Aj=new wn(Ge.comparator);function Rt(...n){let e=Aj;for(const t of n)e=e.add(t);return e}const bj=new wn(xt);function K_(){return bj}class Dp{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Tp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Dp(bt.min(),i,K_(),ns(),Rt())}}class Tp{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Tp(r,t,Rt(),Rt(),Rt())}}class Z_{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class TR{constructor(e,t){this.targetId=e,this.At=t}}class xR{constructor(e,t,r=Nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class NR{constructor(){this.Rt=0,this.bt=RR(),this.Pt=Nr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Rt(),t=Rt(),r=Rt();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new Tp(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=RR()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class wj{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ns(),this.qt=kR(),this.Kt=new wn(xt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const s=i.target;if(U_(s))if(0===r){const c=new Ge(s.path);this.jt(t,c,Tn.newNoDocument(c,bt.min()))}else At(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,c)=>{const u=this.Xt(c);if(u){if(s.current&&U_(u.target)){const p=new Ge(u.target.path);null!==this.Ut.get(p)||this.ee(c,p)||this.jt(c,p,Tn.newNoDocument(p,e))}s.Dt&&(t.set(c,s.xt()),s.Nt())}});let r=Rt();this.qt.forEach((s,c)=>{let u=!0;c.forEachWhile(p=>{const v=this.Xt(p);return!v||2===v.purpose||(u=!1,!1)}),u&&(r=r.add(s))}),this.Ut.forEach((s,c)=>c.setReadTime(e));const i=new Dp(e,t,this.Kt,this.Ut,r);return this.Ut=ns(),this.qt=kR(),this.Kt=new wn(xt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new NR,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new wn(xt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new NR),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function kR(){return new ar(Ge.comparator)}function RR(){return new ar(Ge.comparator)}const Ej={asc:"ASCENDING",desc:"DESCENDING"},Mj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Sj{constructor(e,t){this.databaseId=e,this.gt=t}}function xp(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LR(n,e){return n.gt?e.toBase64():e.toUint8Array()}function Ij(n,e){return xp(n,e.toTimestamp())}function Vr(n){return At(!!n),bt.fromTimestamp(function(e){const t=fl(e);return new Zn(t.seconds,t.nanos)}(n))}function fM(n,e){return(t=n,new Jt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function PR(n){const e=Jt.fromString(n);return At(jR(e)),e}function Np(n,e){return fM(n.databaseId,e.path)}function Ya(n,e){const t=PR(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(zR(t))}function pM(n,e){return fM(n.databaseId,e)}function kp(n){return new Jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zR(n){return At(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function FR(n,e,t){return{name:Np(n,e),fields:t.value.mapValue.fields}}function HR(n,e){return{documents:[pM(n,e.path)]}}function gM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=pM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=pM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(p){if(0===p.length)return;const v=p.map(b=>function(M){if("=="===M.op){if(Zk(M.value))return{unaryFilter:{field:xh(M.field),op:"IS_NAN"}};if(Kk(M.value))return{unaryFilter:{field:xh(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(Zk(M.value))return{unaryFilter:{field:xh(M.field),op:"IS_NOT_NAN"}};if(Kk(M.value))return{unaryFilter:{field:xh(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xh(M.field),op:Rj(M.op),value:M.value}}}(b));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(p){if(0!==p.length)return p.map(v=>{return{field:xh((b=v).field),direction:kj(b.dir)};var b})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=(v=e.limit,n.gt||vp(v)?v:{value:v});var v,u,p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function BR(n){let e=function OR(n){const e=PR(n);return 4===e.length?Jt.emptyPath():zR(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){At(1===r);const b=t.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let s=[];t.where&&(s=UR(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(b=>{return new wh(Nh((M=b).field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let u=null;t.limit&&(u=function(b){let M;return M="object"==typeof b?b.value:b,vp(M)?null:M}(t.limit));let p=null;var b;t.startAt&&(p=new gl((b=t.startAt).values||[],!!b.before));let v=null;return t.endAt&&(v=function(b){return new gl(b.values||[],!b.before)}(t.endAt)),function oR(n,e,t,r,i,s,c,u){return new _c(n,e,t,r,i,s,c,u)}(e,i,c,s,u,"F",p,v)}function UR(n){return n?void 0!==n.unaryFilter?[Pj(n)]:void 0!==n.fieldFilter?[Lj(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>UR(e)).reduce((e,t)=>e.concat(t)):rt():[]}function kj(n){return Ej[n]}function Rj(n){return Mj[n]}function xh(n){return{fieldPath:n.canonicalString()}}function Nh(n){return dr.fromServerFormat(n.fieldPath)}function Lj(n){return si.create(Nh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Pj(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Nh(n.unaryFilter.field);return si.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Nh(n.unaryFilter.field);return si.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Nh(n.unaryFilter.field);return si.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Nh(n.unaryFilter.field);return si.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function Oj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jR(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class _M{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gj(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Mp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Mp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=DR();return this.mutations.forEach(i=>{const s=e.get(i.key),c=s.overlayedDocument;let u=this.applyToLocalView(c,s.mutatedFields);u=t.has(i.key)?null:u;const p=yR(c,u);null!==p&&r.set(i.key,p),c.isValidDocument()||c.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rt())}isEqual(e){return this.batchId===e.batchId&&Ch(this.mutations,e.mutations,(t,r)=>CR(t,r))&&Ch(this.baseMutations,e.baseMutations,(t,r)=>CR(t,r))}}class yM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){At(e.mutations.length===r.length);let i=Cj;const s=e.mutations;for(let c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new yM(e,t,r,i)}}class CM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _l{constructor(e,t,r,i,s=bt.min(),c=bt.min(),u=Nr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u}withSequenceNumber(e){return new _l(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class YR{constructor(e){this.re=e}}function AM(n){const e=BR({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?G_(e,e.limit,"L"):e}class K4{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(cr(e.integerValue));else if("doubleValue"in e){const r=cr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),_p(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(F4(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?Yk(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):rt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),Ge.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}K4.Te=new K4;class cG{constructor(){this.Ye=new wM}addToCollectionParentIndex(e,t){return this.Ye.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(bs.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class wM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new wn(Jt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wn(Jt.comparator)).toArray()}}new Uint8Array(0);class rs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new rs(e,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}rs.DEFAULT_COLLECTION_PERCENTILE=10,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rs.DEFAULT=new rs(41943040,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rs.DISABLED=new rs(-1,0,0);class Q4{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Q4(0)}static vn(){return new Q4(-1)}}class _G{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class vL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Mp(r.mutation,i,ws.empty(),Zn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Rt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Rt()){const i=Za();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let c=Sp();return s.forEach((u,p)=>{c=c.insert(u,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Za();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Rt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((c,u)=>{t.set(c,u)})})}computeViews(e,t,r,i){let s=ns();const c=Ip(),u=Ip();return t.forEach((p,v)=>{const b=r.get(v.key);i.has(v.key)&&(void 0===b||b.mutation instanceof yc)?s=s.insert(v.key,v):void 0!==b&&(c.set(v.key,b.mutation.getFieldMask()),Mp(b.mutation,v,b.mutation.getFieldMask(),Zn.now()))}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((v,b)=>c.set(v,b)),t.forEach((v,b)=>{var M;return u.set(v,new _G(b,null!==(M=c.get(v))&&void 0!==M?M:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Ip();let i=new ar((c,u)=>c-u),s=Rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const u of c)u.keys().forEach(p=>{const v=t.get(p);if(null===v)return;let b=r.get(p)||ws.empty();b=u.applyToLocalView(v,b),r.set(p,b);const M=(i.get(u.batchId)||Rt()).add(p);i=i.insert(u.batchId,M)})}).next(()=>{const c=[],u=i.getReverseIterator();for(;u.hasNext();){const p=u.getNext(),v=p.key,b=p.value,M=DR();b.forEach(D=>{if(!s.has(D)){const N=yR(t.get(D),r.get(D));null!==N&&M.set(D,N),s=s.add(D)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,M))}return te.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ge.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):lM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const c=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):te.resolve(Za());let u=-1,p=s;return c.next(v=>te.forEach(v,(b,M)=>(u<M.largestBatchId&&(u=M.largestBatchId),s.get(b)?te.resolve():this.getBaseDocument(e,b,M).next(D=>{p=p.insert(b,D)}))).next(()=>this.populateOverlays(e,v,s)).next(()=>this.computeViews(e,p,v,Rt())).next(b=>({batchId:u,changes:IR(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(r=>{let i=Sp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Sp();return this.indexManager.getCollectionParents(e,i).next(c=>te.forEach(c,u=>{const p=(v=t,b=u.child(i),new _c(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,b;return this.getDocumentsMatchingCollectionQuery(e,p,r).next(v=>{v.forEach((b,M)=>{s=s.insert(b,M)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((u,p)=>{const v=p.getKey();null===i.get(v)&&(i=i.insert(v,Tn.newInvalidDocument(v)))});let c=Sp();return i.forEach((u,p)=>{const v=s.get(u);void 0!==v&&Mp(v.mutation,p,ws.empty(),Zn.now()),hM(t,p)&&(c=c.insert(u,p))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):te.resolve(Tn.newInvalidDocument(t))}}class yG{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return te.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Vr(r.createTime)}),te.resolve()}getNamedQuery(e,t){return te.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:AM(r.bundledQuery),readTime:Vr(r.readTime)}),te.resolve();var r}}class CG{constructor(){this.overlays=new ar(Ge.comparator),this.es=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Za();return te.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ue(e,t,s)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const i=Za(),s=t.length+1,c=new Ge(t.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const p=u.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===s&&p.largestBatchId>r&&i.set(p.getKey(),p)}return te.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new ar((v,b)=>v-b);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let b=s.get(v.largestBatchId);null===b&&(b=Za(),s=s.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const u=Za(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,b)=>u.set(v,b)),!(u.size()>=i)););return te.resolve(u)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new CM(t,r));let s=this.es.get(t);void 0===s&&(s=Rt(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class EM{constructor(){this.ns=new wn(Br.ss),this.rs=new wn(Br.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Br(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Br(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Ge(new Jt([])),r=new Br(t,e),i=new Br(t,e+1),s=[];return this.rs.forEachInRange([r,i],c=>{this.cs(c),s.push(c.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ge(new Jt([])),r=new Br(t,e),i=new Br(t,e+1);let s=Rt();return this.rs.forEachInRange([r,i],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new Br(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Br{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ge.comparator(e.key,t.key)||xt(e._s,t._s)}static os(e,t){return xt(e._s,t._s)||Ge.comparator(e.key,t.key)}}class AG{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new wn(Br.ss)}checkEmpty(e){return te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const c=new _M(s,t,r,i);this.mutationQueue.push(c);for(const u of i)this.gs=this.gs.add(new Br(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return te.resolve(c)}lookupMutationBatch(e,t){return te.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Br(t,0),i=new Br(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],c=>{const u=this.ys(c._s);s.push(u)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(xt);return t.forEach(i=>{const s=new Br(i,0),c=new Br(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,c],u=>{r=r.add(u._s)})}),te.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Ge.isDocumentKey(s)||(s=s.child(""));const c=new Br(new Ge(s),0);let u=new wn(xt);return this.gs.forEachWhile(p=>{const v=p.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(u=u.add(p._s)),!0)},c),te.resolve(this.Is(u))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){At(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return te.forEach(t.mutations,i=>{const s=new Br(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Br(t,0),i=this.gs.firstAfterOrEqual(r);return te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return te.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class bG{constructor(e){this.Es=e,this.docs=new ar(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,c=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let r=ns();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tn.newInvalidDocument(i))}),te.resolve(r)}getAllFromCollection(e,t,r){let i=ns();const s=new Ge(t.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:u,value:{document:p}}=c.getNext();if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||tM(Vk(p),r)<=0||(i=i.insert(p.key,p.mutableCopy()))}return te.resolve(i)}getAllFromCollectionGroup(e,t,r,i){rt()}As(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new wG(this)}getSize(e){return te.resolve(this.size)}}class wG extends class mG{constructor(){this.changes=new vl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class EG{constructor(e){this.persistence=e,this.Rs=new vl(t=>U4(t),bp),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new EM,this.targetCount=0,this.vs=Q4.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),te.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Q4(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Dn(t),te.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((c,u)=>{u.sequenceNumber<=t&&null===r.get(u.targetId)&&(this.Rs.delete(c),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(c=>{s.push(i.markPotentiallyOrphaned(e,c))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.Ps.containsKey(t))}}class _L{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ts(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new EG(this),this.indexManager=new cG,this.remoteDocumentCache=new bG(r=>this.referenceDelegate.xs(r)),this.It=new YR(t),this.Ns=new yG(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new CG,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new AG(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new MG(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return te.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class MG extends class WU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class iy{constructor(e){this.persistence=e,this.Fs=new EM,this.$s=null}static Bs(e){return new iy(e)}get Ls(){if(this.$s)return this.$s;throw rt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),te.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Ls,r=>{const i=Ge.fromPath(r);return this.Us(e,i).next(s=>{s||t.removeEntry(i,bt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return te.or([()=>te.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class DM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Rt(),i=Rt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new DM(e,t.fromCache,r,i)}}class CL{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if(aR(t))return te.resolve(null);let r=zi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=G_(t,null,"F"),r=zi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const c=Rt(...s);return this.Ni.getDocuments(e,c).next(u=>this.indexManager.getMinOffset(e,r).next(p=>{const v=this.Fi(t,u);return this.$i(t,v,c,p.readTime)?this.ki(e,G_(t,null,"F")):this.Bi(e,v,t,p)}))})))}Oi(e,t,r,i){return aR(t)||i.isEqual(bt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const c=this.Fi(t,s);return this.$i(t,c,r,i)?this.Mi(e,t):(XE()<=mi.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uM(t)),this.Bi(e,c,t,function Fk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(1e9===r?new Zn(t+1,0):new Zn(t,r));return new bs(i,Ge.empty(),e)}(i,-1)))})}Fi(e,t){let r=new wn(uR(e));return t.forEach((i,s)=>{hM(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return XE()<=mi.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",uM(t)),this.Ni.getDocumentsMatchingQuery(e,t,bs.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class IG{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new ar(xt),this.qi=new vl(s=>U4(s),bp),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function bL(n,e){return TM.apply(this,arguments)}function TM(){return TM=(0,ae.Z)(function*(n,e){const t=$e(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const c=[],u=[];let p=Rt();for(const v of i){c.push(v.batchId);for(const b of v.mutations)p=p.add(b.key)}for(const v of s){u.push(v.batchId);for(const b of v.mutations)p=p.add(b.key)}return t.localDocuments.getDocuments(r,p).next(v=>({ji:v,removedBatchIds:c,addedBatchIds:u}))})})}),TM.apply(this,arguments)}function DG(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,u,p,v){const b=p.batch,M=b.keys();let D=te.resolve();return M.forEach(N=>{D=D.next(()=>v.getEntry(u,N)).next(R=>{const V=p.docVersions.get(N);At(null!==V),R.version.compareTo(V)<0&&(b.applyToRemoteDocument(R,p),R.isValidDocument()&&(R.setReadTime(p.commitVersion),v.addEntry(R)))})}),D.next(()=>c.mutationQueue.removeMutationBatch(u,b))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=Rt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(u=u.add(c.batch.mutations[p].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function wL(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function TG(n,e){const t=$e(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const u=[];e.targetChanges.forEach((b,M)=>{const D=i.get(M);if(!D)return;u.push(t.Cs.removeMatchingKeys(s,b.removedDocuments,M).next(()=>t.Cs.addMatchingKeys(s,b.addedDocuments,M)));let N=D.withSequenceNumber(s.currentSequenceNumber);var R,V,$;e.targetMismatches.has(M)?N=N.withResumeToken(Nr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):b.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(b.resumeToken,r)),i=i.insert(M,N),V=N,$=b,(0===(R=D).resumeToken.approximateByteSize()||V.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8||$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0)&&u.push(t.Cs.updateTargetData(s,N))});let p=ns(),v=Rt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,b))}),u.push(function EL(n,e,t){let r=Rt(),i=Rt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let c=ns();return t.forEach((u,p)=>{const v=s.get(u);p.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(u)),p.isNoDocument()&&p.version.isEqual(bt.min())?(e.removeEntry(u,p.readTime),c=c.insert(u,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||0===p.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(p),c=c.insert(u,p)):Ne("LocalStore","Ignoring outdated watch update for ",u,". Current version:",v.version," Watch version:",p.version)}),{Wi:c,zi:i}})}(s,c,e.documentUpdates).next(b=>{p=b.Wi,v=b.zi})),!r.isEqual(bt.min())){const b=t.Cs.getLastRemoteSnapshotVersion(s).next(M=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(b)}return te.waitFor(u).next(()=>c.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,v)).next(()=>p)}).then(s=>(t.Ui=i,s))}function xG(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Lh(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,te.resolve(i)):t.Cs.allocateTargetId(r).next(c=>(i=new _l(e,c,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Ph(n,e,t){return xM.apply(this,arguments)}function xM(){return xM=(0,ae.Z)(function*(n,e,t){const r=$e(n),i=r.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!dl(c))throw c;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),xM.apply(this,arguments)}function oy(n,e,t){const r=$e(n);let i=bt.min(),s=Rt();return r.persistence.runTransaction("Execute query","readonly",c=>function(u,p,v){const b=$e(u),M=b.qi.get(v);return void 0!==M?te.resolve(b.Ui.get(M)):b.Cs.getTargetData(p,v)}(r,c,zi(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(c,u.targetId).next(p=>{s=p})}).next(()=>r.Li.getDocumentsMatchingQuery(c,e,t?i:bt.min(),t?s:Rt())).next(u=>(function IL(n,e,t){let r=n.Ki.get(e)||bt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}(r,function lR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),u),{documents:u,Hi:s})))}class PM{constructor(){this.activeTargetIds=K_()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xL{constructor(){this.Lr=new PM,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new PM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class RG{qr(e){}shutdown(){}}class NL{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const LG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PG{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class OG extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const c=this.ho(e,t);Ne("RestConnection","Sending: ",c,r);const u={};return this.lo(u,i,s),this.fo(e,c,u,r).then(p=>(Ne("RestConnection","Received: ",p),p),p=>{throw yh("RestConnection",`${e} failed with error: `,p,"url: ",c,"request:",r),p})}_o(e,t,r,i,s,c){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+_h,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${LG[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,c)=>{const u=new PU;u.setWithCredentials(!0),u.listenOnce(kU.COMPLETE,()=>{var v;try{switch(u.getLastErrorCode()){case QE.NO_ERROR:const b=u.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(b)),s(b);break;case QE.TIMEOUT:Ne("Connection",'RPC "'+e+'" timed out'),c(new Se(oe.DEADLINE_EXCEEDED,"Request time out"));break;case QE.HTTP_ERROR:const M=u.getStatus();if(Ne("Connection",'RPC "'+e+'" failed with status:',M,"response text:",u.getResponseText()),M>0){let D=u.getResponseJson();Array.isArray(D)&&(D=D[0]);const N=null===(v=D)||void 0===v?void 0:v.error;if(N&&N.status&&N.message){const R=function(V){const $=V.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf($)>=0?$:oe.UNKNOWN}(N.status);c(new Se(R,N.message))}else c(new Se(oe.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Se(oe.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ne("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(i);u.send(t,"POST",p,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=xU(),c=NU(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new LU({})),this.lo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const p=i.join("");Ne("Connection","Creating WebChannel: "+p,u);const v=s.createWebChannel(p,u);let b=!1,M=!1;const D=new PG({Hr:R=>{M?Ne("Connection","Not sending because WebChannel is closed:",R):(b||(Ne("Connection","Opening WebChannel transport."),v.open(),b=!0),Ne("Connection","WebChannel sending:",R),v.send(R))},Jr:()=>v.close()}),N=(R,V,$)=>{R.listen(V,fe=>{try{$(fe)}catch(Te){setTimeout(()=>{throw Te},0)}})};return N(v,P_.EventType.OPEN,()=>{M||Ne("Connection","WebChannel transport opened.")}),N(v,P_.EventType.CLOSE,()=>{M||(M=!0,Ne("Connection","WebChannel transport closed"),D.io())}),N(v,P_.EventType.ERROR,R=>{M||(M=!0,yh("Connection","WebChannel transport errored:",R),D.io(new Se(oe.UNAVAILABLE,"The operation could not be completed")))}),N(v,P_.EventType.MESSAGE,R=>{var V;if(!M){const $=R.data[0];At(!!$);const fe=$,Te=fe.error||(null===(V=fe[0])||void 0===V?void 0:V.error);if(Te){Ne("Connection","WebChannel received error:",Te);const Oe=Te.status;let Ie=function(Qe){const zt=yr[Qe];if(void 0!==zt)return MR(zt)}(Oe),Je=Te.message;void 0===Ie&&(Ie=oe.INTERNAL,Je="Unknown error status: "+Oe+" with message "+Te.message),M=!0,D.io(new Se(Ie,Je)),v.close()}else Ne("Connection","WebChannel received:",$),D.ro($)}}),N(c,RU.STAT_EVENT,R=>{R.stat===kk.PROXY?Ne("Connection","Detected buffering proxy"):R.stat===kk.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{D.so()},0),D}}function ly(){return typeof document<"u"?document:null}function Up(n){return new Sj(n,!0)}class zM{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class RL{constructor(e,t,r,i,s,c,u,p){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new zM(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ae.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ae.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,ae.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(hr(t.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===oe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Se(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ae.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zG extends RL{constructor(e,t,r,i,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.It=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Tj(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:rt(),i=e.targetChange.targetIds||[],s=function(p,v){return p.gt?(At(void 0===v||"string"==typeof v),Nr.fromBase64String(v||"")):(At(void 0===v||v instanceof Uint8Array),Nr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&function(p){const v=void 0===p.code?oe.UNKNOWN:MR(p.code);return new Se(v,p.message||"")}(c);t=new xR(r,i,s,u||null)}else if("documentChange"in e){const r=e.documentChange,i=Ya(n,r.document.name),s=Vr(r.document.updateTime),c=new ii({mapValue:{fields:r.document.fields}}),u=Tn.newFoundDocument(i,s,c);t=new Z_(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Ya(n,r.document),s=r.readTime?Vr(r.readTime):bt.min(),c=Tn.newNoDocument(i,s);t=new Z_([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Ya(n,r.document);t=new Z_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return rt();{const r=e.filter,s=new _j(r.count||0);t=new TR(r.targetId,s)}}var p;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return bt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?bt.min():s.readTime?Vr(s.readTime):bt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=kp(this.It),t.addTarget=function(i,s){let c;const u=s.target;return c=U_(u)?{documents:HR(i,u)}:{query:gM(i,u)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=LR(i,s.resumeToken):s.snapshotVersion.compareTo(bt.min())>0&&(c.readTime=xp(i,s.snapshotVersion.toTimestamp())),c}(this.It,e);const r=function Nj(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=kp(this.It),t.removeTarget=e,this.Bo(t)}}class FG extends RL{constructor(e,t,r,i,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function xj(n,e){return n&&n.length>0?(At(void 0!==e),n.map(t=>function(r,i){let s=Vr(r.updateTime?r.updateTime:i);return s.isEqual(bt.min())&&(s=Vr(i)),new mj(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Vr(e.commitTime);return this.listener.Zo(r,t)}return At(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=kp(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Rp(n,e){let t;if(e instanceof Dh)t={update:FR(n,e.key,e.value)};else if(e instanceof Th)t={delete:Np(n,e.key)};else if(e instanceof yc)t={update:FR(n,e.key,e.data),updateMask:Oj(e.fieldMask)};else{if(!(e instanceof dM))return rt();t={verify:Np(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const c=s.transform;if(c instanceof Sh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof j4)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof G4)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ih)return{fieldPath:s.field.canonicalString(),increment:c.yt};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Ij(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:rt()),t;var i}(this.It,r))};this.Bo(t)}}class VG extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Se(oe.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection._o(e,t,r,s,c,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(oe.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class BG{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(hr(t),this.ou=!1):Ne("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class UG{constructor(e,t,r,i,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(u=>{r.enqueueAndForget((0,ae.Z)(function*(){var p;Cc(c)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,ae.Z)(function*(v){const b=$e(v);b._u.add(4),yield Oh(b),b.gu.set("Unknown"),b._u.delete(4),yield jp(b)}),function(v){return p.apply(this,arguments)})(c))}))}),this.gu=new BG(r,i)}}function jp(n){return VM.apply(this,arguments)}function VM(){return VM=(0,ae.Z)(function*(n){if(Cc(n))for(const e of n.wu)yield e(!0)}),VM.apply(this,arguments)}function Oh(n){return HM.apply(this,arguments)}function HM(){return HM=(0,ae.Z)(function*(n){for(const e of n.wu)yield e(!1)}),HM.apply(this,arguments)}function uy(n,e){const t=$e(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),jM(t)?UM(t):Fh(t).ko()&&BM(t,e))}function Gp(n,e){const t=$e(n),r=Fh(t);t.du.delete(e),r.ko()&&LL(t,e),0===t.du.size&&(r.ko()?r.Fo():Cc(t)&&t.gu.set("Unknown"))}function BM(n,e){n.yu.Mt(e.targetId),Fh(n).zo(e)}function LL(n,e){n.yu.Mt(e),Fh(n).Ho(e)}function UM(n){n.yu=new wj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Fh(n).start(),n.gu.uu()}function jM(n){return Cc(n)&&!Fh(n).No()&&n.du.size>0}function Cc(n){return 0===$e(n)._u.size}function PL(n){n.yu=void 0}function jG(n){return GM.apply(this,arguments)}function GM(){return GM=(0,ae.Z)(function*(n){n.du.forEach((e,t)=>{BM(n,e)})}),GM.apply(this,arguments)}function GG(n,e){return $M.apply(this,arguments)}function $M(){return $M=(0,ae.Z)(function*(n,e){PL(n),jM(n)?(n.gu.hu(e),UM(n)):n.gu.set("Unknown")}),$M.apply(this,arguments)}function $G(n,e,t){return WM.apply(this,arguments)}function WM(){return WM=(0,ae.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof xR&&2===e.state&&e.cause)try{yield(r=(0,ae.Z)(function*(i,s){const c=s.cause;for(const u of s.targetIds)i.du.has(u)&&(yield i.remoteSyncer.rejectListen(u,c),i.du.delete(u),i.yu.removeTarget(u))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hy(n,r)}else if(e instanceof Z_?n.yu.Gt(e):e instanceof TR?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(bt.min()))try{const r=yield wL(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const c=i.yu.te(s);return c.targetChanges.forEach((u,p)=>{if(u.resumeToken.approximateByteSize()>0){const v=i.du.get(p);v&&i.du.set(p,v.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach(u=>{const p=i.du.get(u);if(!p)return;i.du.set(u,p.withResumeToken(Nr.EMPTY_BYTE_STRING,p.snapshotVersion)),LL(i,u);const v=new _l(p.target,u,1,p.sequenceNumber);BM(i,v)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),yield hy(n,r)}var r}),WM.apply(this,arguments)}function hy(n,e,t){return qM.apply(this,arguments)}function qM(){return qM=(0,ae.Z)(function*(n,e,t){if(!dl(e))throw e;n._u.add(1),yield Oh(n),n.gu.set("Offline"),t||(t=()=>wL(n.localStore)),n.asyncQueue.enqueueRetryable((0,ae.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield jp(n)}))}),qM.apply(this,arguments)}function OL(n,e){return e().catch(t=>hy(n,t,e))}function zh(n){return KM.apply(this,arguments)}function KM(){return KM=(0,ae.Z)(function*(n){const e=$e(n),t=Al(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;WG(e);)try{const i=yield xG(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,qG(e,i)}catch(i){yield hy(e,i)}zL(e)&&FL(e)}),KM.apply(this,arguments)}function WG(n){return Cc(n)&&n.fu.length<10}function qG(n,e){n.fu.push(e);const t=Al(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function zL(n){return Cc(n)&&!Al(n).No()&&n.fu.length>0}function FL(n){Al(n).start()}function KG(n){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,ae.Z)(function*(n){Al(n).eu()}),ZM.apply(this,arguments)}function ZG(n){return YM.apply(this,arguments)}function YM(){return YM=(0,ae.Z)(function*(n){const e=Al(n);for(const t of n.fu)e.Xo(t.mutations)}),YM.apply(this,arguments)}function YG(n,e,t){return QM.apply(this,arguments)}function QM(){return QM=(0,ae.Z)(function*(n,e,t){const r=n.fu.shift(),i=yM.from(r,e,t);yield OL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield zh(n)}),QM.apply(this,arguments)}function QG(n,e){return XM.apply(this,arguments)}function XM(){return XM=(0,ae.Z)(function*(n,e){var t;e&&Al(n).Yo&&(yield(t=(0,ae.Z)(function*(r,i){if(ER(s=i.code)&&s!==oe.ABORTED){const c=r.fu.shift();Al(r).Mo(),yield OL(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield zh(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),zL(n)&&FL(n)}),XM.apply(this,arguments)}function VL(n,e){return JM.apply(this,arguments)}function JM(){return JM=(0,ae.Z)(function*(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=Cc(t);t._u.add(3),yield Oh(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield jp(t)}),JM.apply(this,arguments)}function tS(){return tS=(0,ae.Z)(function*(n,e){const t=$e(n);e?(t._u.delete(2),yield jp(t)):e||(t._u.add(2),yield Oh(t),t.gu.set("Unknown"))}),tS.apply(this,arguments)}function Fh(n){return n.pu||(n.pu=function(e,t,r){const i=$e(e);return i.su(),new zG(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:jG.bind(null,n),Zr:GG.bind(null,n),Wo:$G.bind(null,n)}),n.wu.push(function(){var e=(0,ae.Z)(function*(t){t?(n.pu.Mo(),jM(n)?UM(n):n.gu.set("Unknown")):(yield n.pu.stop(),PL(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Al(n){return n.Iu||(n.Iu=function(e,t,r){const i=$e(e);return i.su(),new FG(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:KG.bind(null,n),Zr:QG.bind(null,n),tu:ZG.bind(null,n),Zo:YG.bind(null,n)}),n.wu.push(function(){var e=(0,ae.Z)(function*(t){t?(n.Iu.Mo(),yield zh(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class nS{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,s){const c=Date.now()+r,u=new nS(e,t,c,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vh(n,e){if(hr("AsyncQueue",`${e}: ${n}`),dl(n))return new Se(oe.UNAVAILABLE,`${e}: ${n}`);throw n}class Hh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=Sp(),this.sortedSet=new ar(this.comparator)}static emptySet(e){return new Hh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Hh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class HL{constructor(){this.Tu=new ar(Ge.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):rt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Bh{constructor(e,t,r,i,s,c,u,p,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,s){const c=[];return t.forEach(u=>{c.push({type:0,doc:u})}),new Bh(e,t,Hh.emptySet(t),c,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class XG{constructor(){this.Au=void 0,this.listeners=[]}}class JG{constructor(){this.queries=new vl(e=>cR(e),wp),this.onlineState="Unknown",this.Ru=new Set}}function rS(n,e){return iS.apply(this,arguments)}function iS(){return iS=(0,ae.Z)(function*(n,e){const t=$e(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new XG),i)try{s.Au=yield t.onListen(r)}catch(c){const u=Vh(c,`Initialization of query '${uM(e.query)}' failed`);return void e.onError(u)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&aS(t)}),iS.apply(this,arguments)}function sS(n,e){return oS.apply(this,arguments)}function oS(){return oS=(0,ae.Z)(function*(n,e){const t=$e(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),oS.apply(this,arguments)}function e$(n,e){const t=$e(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const u of c.listeners)u.Pu(i)&&(r=!0);c.Au=i}}r&&aS(t)}function t$(n,e,t){const r=$e(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function aS(n){n.Ru.forEach(e=>{e.next()})}class cS{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Bh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Bh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class jL{constructor(e){this.key=e}}class GL{constructor(e){this.key=e}}class $L{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Rt(),this.mutatedKeys=Rt(),this.Gu=uR(e),this.Qu=new Hh(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new HL,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,c=i,u=!1;const p="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((b,M)=>{const D=i.get(b),N=hM(this.query,M)?M:null,R=!!D&&this.mutatedKeys.has(D.key),V=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let $=!1;D&&N?D.data.isEqual(N.data)?R!==V&&(r.track({type:3,doc:N}),$=!0):this.Hu(D,N)||(r.track({type:2,doc:N}),$=!0,(p&&this.Gu(N,p)>0||v&&this.Gu(N,v)<0)&&(u=!0)):!D&&N?(r.track({type:0,doc:N}),$=!0):D&&!N&&(r.track({type:1,doc:D}),$=!0,(p||v)&&(u=!0)),$&&(N?(c=c.add(N),s=V?s.add(b):s.delete(b)):(c=c.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),s=s.delete(b.key),r.track({type:1,doc:b})}return{Qu:c,zu:r,$i:u,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((v,b)=>function(M,D){const N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return N(M)-N(D)}(v.type,b.type)||this.Gu(v.doc,b.doc)),this.Ju(r);const c=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,p=u!==this.qu;return this.qu=u,0!==s.length||p?{snapshot:new Bh(this.query,e.Qu,i,s,e.mutatedKeys,0===u,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new HL,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Rt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new GL(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new jL(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Rt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Bh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class i${constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class s${constructor(e){this.key=e,this.nc=!1}}class o${constructor(e,t,r,i,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new vl(u=>cR(u),wp),this.rc=new Map,this.oc=new Set,this.uc=new ar(Ge.comparator),this.cc=new Map,this.ac=new EM,this.hc={},this.lc=new Map,this.fc=Q4.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function a$(n,e){return lS.apply(this,arguments)}function lS(){return lS=(0,ae.Z)(function*(n,e){const t=kS(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const c=yield Lh(t.localStore,zi(e));t.isPrimaryClient&&uy(t.remoteStore,c);const u=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield uS(t,e,r,"current"===u,c.resumeToken)}return i}),lS.apply(this,arguments)}function uS(n,e,t,r,i){return hS.apply(this,arguments)}function hS(){return hS=(0,ae.Z)(function*(n,e,t,r,i){n._c=(M,D,N)=>{return(R=(0,ae.Z)(function*(V,$,fe,Te){let Oe=$.view.Wu(fe);Oe.$i&&(Oe=yield oy(V.localStore,$.query,!1).then(({documents:Qe})=>$.view.Wu(Qe,Oe)));const Ie=Te&&Te.targetChanges.get($.targetId),Je=$.view.applyChanges(Oe,V.isPrimaryClient,Ie);return AS(V,$.targetId,Je.Xu),Je.snapshot}),function(V,$,fe,Te){return R.apply(this,arguments)})(n,M,D,N);var R};const s=yield oy(n.localStore,e,!0),c=new $L(e,s.Hi),u=c.Wu(s.documents),p=Tp.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=c.applyChanges(u,n.isPrimaryClient,p);AS(n,t,v.Xu);const b=new i$(e,t,c);return n.ic.set(e,b),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),v.snapshot}),hS.apply(this,arguments)}function c$(n,e){return dS.apply(this,arguments)}function dS(){return dS=(0,ae.Z)(function*(n,e){const t=$e(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!wp(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ph(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Gp(t.remoteStore,r.targetId),Uh(t,r.targetId)}).catch(hl))):(Uh(t,r.targetId),yield Ph(t.localStore,r.targetId,!0))}),dS.apply(this,arguments)}function fS(){return fS=(0,ae.Z)(function*(n,e,t){const r=RS(n);try{const i=yield function(s,c){const u=$e(s),p=Zn.now(),v=c.reduce((D,N)=>D.add(N.key),Rt());let b,M;return u.persistence.runTransaction("Locally write mutations","readwrite",D=>{let N=ns(),R=Rt();return u.Gi.getEntries(D,v).next(V=>{N=V,N.forEach(($,fe)=>{fe.isValidDocument()||(R=R.add($))})}).next(()=>u.localDocuments.getOverlayedDocuments(D,N)).next(V=>{b=V;const $=[];for(const fe of c){const Te=vj(fe,b.get(fe.key).overlayedDocument);null!=Te&&$.push(new yc(fe.key,Te,Jk(Te.value.mapValue),Bn.exists(!0)))}return u.mutationQueue.addMutationBatch(D,p,$,c)}).next(V=>{M=V;const $=V.applyToLocalDocumentSet(b,R);return u.documentOverlayCache.saveOverlays(D,V.batchId,$)})}).then(()=>({batchId:M.batchId,changes:IR(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let p=s.hc[s.currentUser.toKey()];p||(p=new ar(xt)),p=p.insert(c,u),s.hc[s.currentUser.toKey()]=p}(r,i.batchId,t),yield Ac(r,i.changes),yield zh(r.remoteStore)}catch(i){const s=Vh(i,"Failed to persist write");t.reject(s)}}),fS.apply(this,arguments)}function WL(n,e){return pS.apply(this,arguments)}function pS(){return pS=(0,ae.Z)(function*(n,e){const t=$e(n);try{const r=yield TG(t.localStore,e);e.targetChanges.forEach((i,s)=>{const c=t.cc.get(s);c&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.nc=!0:i.modifiedDocuments.size>0?At(c.nc):i.removedDocuments.size>0&&(At(c.nc),c.nc=!1))}),yield Ac(t,r,e)}catch(r){yield hl(r)}}),pS.apply(this,arguments)}function qL(n,e,t){const r=$e(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,c)=>{const u=c.view.bu(e);u.snapshot&&i.push(u.snapshot)}),function(s,c){const u=$e(s);u.onlineState=c;let p=!1;u.queries.forEach((v,b)=>{for(const M of b.listeners)M.bu(c)&&(p=!0)}),p&&aS(u)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function u$(n,e,t){return mS.apply(this,arguments)}function mS(){return mS=(0,ae.Z)(function*(n,e,t){const r=$e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let c=new ar(Ge.comparator);c=c.insert(s,Tn.newNoDocument(s,bt.min()));const u=Rt().add(s),p=new Dp(bt.min(),new Map,new wn(xt),c,u);yield WL(r,p),r.uc=r.uc.remove(s),r.cc.delete(e),bS(r)}else yield Ph(r.localStore,e,!1).then(()=>Uh(r,e,t)).catch(hl)}),mS.apply(this,arguments)}function h$(n,e){return gS.apply(this,arguments)}function gS(){return gS=(0,ae.Z)(function*(n,e){const t=$e(n),r=e.batch.batchId;try{const i=yield DG(t.localStore,e);CS(t,r,null),yS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ac(t,i)}catch(i){yield hl(i)}}),gS.apply(this,arguments)}function d$(n,e,t){return vS.apply(this,arguments)}function vS(){return vS=(0,ae.Z)(function*(n,e,t){const r=$e(n);try{const i=yield function(s,c){const u=$e(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return u.mutationQueue.lookupMutationBatch(p,c).next(b=>(At(null!==b),v=b.keys(),u.mutationQueue.removeMutationBatch(p,b))).next(()=>u.mutationQueue.performConsistencyCheck(p)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(p,v,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>u.localDocuments.getDocuments(p,v))})}(r.localStore,e);CS(r,e,t),yS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ac(r,i)}catch(i){yield hl(i)}}),vS.apply(this,arguments)}function yS(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function CS(n,e,t){const r=$e(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Uh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||KL(n,r)})}function KL(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Gp(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),bS(n))}function AS(n,e,t){for(const r of t)r instanceof jL?(n.ac.addReference(r.key,e),p$(n,r)):r instanceof GL?(Ne("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||KL(n,r.key)):rt()}function p$(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Ne("SyncEngine","New document in limbo: "+t),n.oc.add(r),bS(n))}function bS(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Ge(Jt.fromString(e)),r=n.fc.next();n.cc.set(r,new s$(t)),n.uc=n.uc.insert(t,r),uy(n.remoteStore,new _l(zi(Eh(t.path)),r,2,ts.at))}}function Ac(n,e,t){return wS.apply(this,arguments)}function wS(){return wS=(0,ae.Z)(function*(n,e,t){const r=$e(n),i=[],s=[],c=[];var u;r.ic.isEmpty()||(r.ic.forEach((u,p)=>{c.push(r._c(p,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const b=DM.Ci(p.targetId,v);s.push(b)}}))}),yield Promise.all(c),r.sc.Wo(i),yield(u=(0,ae.Z)(function*(p,v){const b=$e(p);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>te.forEach(v,D=>te.forEach(D.Si,N=>b.persistence.referenceDelegate.addReference(M,D.targetId,N)).next(()=>te.forEach(D.Di,N=>b.persistence.referenceDelegate.removeReference(M,D.targetId,N)))))}catch(M){if(!dl(M))throw M;Ne("LocalStore","Failed to update sequence numbers: "+M)}for(const M of v){const D=M.targetId;if(!M.fromCache){const N=b.Ui.get(D),V=N.withLastLimboFreeSnapshotVersion(N.snapshotVersion);b.Ui=b.Ui.insert(D,V)}}}),function(p,v){return u.apply(this,arguments)})(r.localStore,s))}),wS.apply(this,arguments)}function m$(n,e){return ES.apply(this,arguments)}function ES(){return ES=(0,ae.Z)(function*(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=yield bL(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(c=>{c.forEach(u=>{u.reject(new Se(oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ac(t,r.ji)}var i}),ES.apply(this,arguments)}function g$(n,e){const t=$e(n),r=t.cc.get(e);if(r&&r.nc)return Rt().add(r.key);{let i=Rt();const s=t.rc.get(e);if(!s)return i;for(const c of s){const u=t.ic.get(c);i=i.unionWith(u.view.ju)}return i}}function kS(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u$.bind(null,e),e.sc.Wo=e$.bind(null,e.eventManager),e.sc.wc=t$.bind(null,e.eventManager),e}function RS(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d$.bind(null,e),e}class M${constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ae.Z)(function*(){t.It=Up(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function AL(n,e,t,r){return new IG(n,e,t,r)}(this.persistence,new CL,e.initialUser,this.It)}yc(e){return new _L(iy.Bs,this.It)}gc(e){return new xL}terminate(){var e=this;return(0,ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class LS{initialize(e,t){var r=this;return(0,ae.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>qL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=m$.bind(null,r.syncEngine),yield function eS(n,e){return tS.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new JG}createDatastore(e){const t=Up(e.databaseInfo.databaseId),r=new OG(e.databaseInfo);return new VG(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=u=>qL(this.syncEngine,u,0),c=NL.C()?new NL:new RG,new UG(t,r,i,s,c);var t,r,i,s,c}createSyncEngine(e,t){return function(r,i,s,c,u,p,v){const b=new o$(r,i,s,c,u,p);return v&&(b.dc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ae.Z)(function*(t){const r=$e(t);Ne("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Oh(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function PS(n,e,t){if(!t)throw new Se(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function QL(n){if(!Ge.isDocumentKey(n))throw new Se(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function XL(n){if(Ge.isDocumentKey(n))throw new Se(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function qt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dy(n);throw new Se(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const eP=new Map;class tP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Se(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Se(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function D$(n,e,t,r){if(!0===e&&!0===r)throw new Se(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $p{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Se(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Se(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new OU;switch(t.type){case"gapi":return new HU(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Se(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=eP.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),eP.delete(e),t.terminate())}(this),Promise.resolve()}}class fr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}}class yi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yi(this.firestore,e,this._query)}}class Xa extends yi{constructor(e,t,r){super(e,t,Eh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new Ge(e))}withConverter(e){return new Xa(this.firestore,e,this._path)}}function x$(n,e,...t){if(n=(0,j.m9)(n),PS("collection","path",e),n instanceof $p){const r=Jt.fromString(e,...t);return XL(r),new Xa(n,null,r)}{if(!(n instanceof fr||n instanceof Xa))throw new Se(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return XL(r),new Xa(n.firestore,null,r)}}function nP(n,e,...t){if(n=(0,j.m9)(n),1===arguments.length&&(e=Ok.R()),PS("doc","path",e),n instanceof $p){const r=Jt.fromString(e,...t);return QL(r),new fr(n,null,new Ge(r))}{if(!(n instanceof fr||n instanceof Xa))throw new Se(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return QL(r),new fr(n.firestore,n instanceof Xa?n.converter:null,new Ge(r))}}class fy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class O${constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Fr.UNAUTHENTICATED,this.clientId=Ok.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,ae.Z)(function*(u){Ne("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ne("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ae.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Vh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function sP(n,e){return OS.apply(this,arguments)}function OS(){return OS=(0,ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ae.Z)(function*(s){r.isEqual(s)||(yield bL(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),OS.apply(this,arguments)}function oP(n,e){return zS.apply(this,arguments)}function zS(){return zS=(0,ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield FS(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>VL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>VL(e.remoteStore,s)),n.onlineComponents=e}),zS.apply(this,arguments)}function FS(n){return VS.apply(this,arguments)}function VS(){return VS=(0,ae.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield sP(n,new M$)),n.offlineComponents}),VS.apply(this,arguments)}function py(n){return HS.apply(this,arguments)}function HS(){return HS=(0,ae.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield oP(n,new LS)),n.onlineComponents}),HS.apply(this,arguments)}function jh(n){return jS.apply(this,arguments)}function jS(){return jS=(0,ae.Z)(function*(n){const e=yield py(n),t=e.eventManager;return t.onListen=a$.bind(null,e.syncEngine),t.onUnlisten=c$.bind(null,e.syncEngine),t}),jS.apply(this,arguments)}class G${constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new zM(this,"async_queue_retry"),this.Wc=()=>{const t=ly();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=ly();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=ly();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new xr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ae.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!dl(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,hr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=nS.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.qc.push(i),i}zc(){this.Kc&&rt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ae.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}class Rn extends $p{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new G$,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hP(this),this._firestoreClient.terminate()}}function W$(n,e){const t="object"==typeof n?n:(0,mt.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,mt._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,j.P0)("firestore");s&&function T$(n,e,t,r={}){var i;const s=(n=qt(n,$p))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&yh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,u;if("string"==typeof r.mockUserToken)c=r.mockUserToken,u=Fr.MOCK_USER;else{c=(0,j.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Se(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Fr(p)}n._authCredentials=new zU(new Lk(c,u))}}(i,...s)}return i}function Cr(n){return n._firestoreClient||hP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function hP(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new XU(n._databaseId,s,n._persistenceKey,(u=t).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams));var s,u;n._firestoreClient=new O$(n._authCredentials,n._appCheckCredentials,n._queue,r)}class J4{constructor(e){this._byteString=e}static fromBase64String(e){try{return new J4(Nr.fromBase64String(e))}catch(t){throw new Se(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new J4(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Se(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $S{constructor(e){this._methodName=e}}class WS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}const q$=/^__.*__$/;class K${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new yc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dh(e,this.data,t,this.fieldTransforms)}}class pP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new yc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class gy{constructor(e,t,r,i,s,c){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new gy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return _y(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(mP(this.sa)&&q$.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Z${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Up(e)}da(e,t,r,i=!1){return new gy({sa:e,methodName:t,fa:r,path:dr.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function $h(n){const e=n._freezeSettings(),t=Up(n._databaseId);return new Z$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qS(n,e,t,r,i,s={}){const c=n.da(s.merge||s.mergeFields?2:0,e,t,i);ZS("Data must be an object, but it was:",c,r);const u=CP(r,c);let p,v;if(s.merge)p=new ws(c.fieldMask),v=c.fieldTransforms;else if(s.mergeFields){const b=[];for(const M of s.mergeFields){const D=YS(e,M,t);if(!c.contains(D))throw new Se(oe.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);bP(b,D)||b.push(D)}p=new ws(b),v=c.fieldTransforms.filter(M=>p.covers(M.field))}else p=null,v=c.fieldTransforms;return new K$(new ii(u),p,v)}class Wp extends $S{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wp}}function e0(n,e){if(AP(n=(0,j.m9)(n)))return ZS("Unsupported field value:",e,n),CP(n,e);if(n instanceof $S)return function(t,r){if(!mP(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const c of t){let u=e0(c,r.aa(s));null==u&&(u={nullValue:"NULL_VALUE"}),i.push(u),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,j.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fR(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Zn.fromDate(t);return{timestampValue:xp(r.It,i)}}if(t instanceof Zn){const i=new Zn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:xp(r.It,i)}}if(t instanceof WS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof J4)return{bytesValue:LR(r.It,t._byteString)};if(t instanceof fr){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:fM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${dy(t)}`)}(n,e)}function CP(n,e){const t={};return jk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):z4(n,(r,i)=>{const s=e0(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function AP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Zn||n instanceof WS||n instanceof J4||n instanceof fr||n instanceof $S)}function ZS(n,e,t){if(!AP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=dy(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function YS(n,e,t){if((e=(0,j.m9)(e))instanceof Gh)return e._internalPath;if("string"==typeof e)return vy(n,e);throw _y("Field path arguments must be of type string or ",n,!1,void 0,t)}const J$=new RegExp("[~\\*/\\[\\]]");function vy(n,e,t){if(e.search(J$)>=0)throw _y(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gh(...e.split("."))._internalPath}catch{throw _y(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _y(n,e,t,r,i){const s=r&&!r.isEmpty(),c=void 0!==i;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${r}`),c&&(p+=` in document ${i}`),p+=")"),new Se(oe.INVALID_ARGUMENT,u+n+p)}function bP(n,e){return n.some(t=>t.isEqual(e))}class QS{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new eW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class eW extends QS{data(){return super.data()}}function yy(n,e){return"string"==typeof e?vy(n,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}function nW(n,...e){for(const t of e)n=t._apply(n);return n}class rW extends class tW{}{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=$h(e.firestore),r=function(i,s,c,u,p,v,b){let M;if(p.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Se(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){TP(b,v);const N=[];for(const R of b)N.push(DP(u,i,R));M={arrayValue:{values:N}}}else M=DP(u,i,b)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||TP(b,v),M=function yP(n,e,t,r=!1){return e0(t,n.da(r?4:3,e))}(c,"where",b,"in"===v||"not-in"===v);const D=si.create(p,v,M);return function(N,R){if(R.dt()){const $=cM(N);if(null!==$&&!$.isEqual(R.field))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${$.toString()}' and '${R.field.toString()}'`);const fe=aM(N);null!==fe&&function xP(n,e,t){if(!t.isEqual(e))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,R.field,fe)}const V=function($,fe){for(const Te of $.filters)if(fe.indexOf(Te.op)>=0)return Te.op;return null}(N,function($){switch($){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(R.op));if(null!==V)throw new Se(oe.INVALID_ARGUMENT,V===R.op?`Invalid query. You cannot use more than one '${R.op.toString()}' filter.`:`Invalid query. You cannot use '${R.op.toString()}' filters with '${V.toString()}' filters.`)}(i,D),D}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new yi(e.firestore,e.converter,function(i,s){const c=i.filters.concat([s]);return new _c(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function iW(n,e,t){const r=e,i=yy("where",n);return new rW(i,r,t)}function DP(n,e,t){if("string"==typeof(t=(0,j.m9)(t))){if(""===t)throw new Se(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lM(e)&&-1!==t.indexOf("/"))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Jt.fromString(t));if(!Ge.isDocumentKey(r))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return B4(n,new Ge(r))}if(t instanceof fr)return B4(n,t._key);throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dy(t)}.`)}function TP(n,e){if(!Array.isArray(n)||0===n.length)throw new Se(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Se(oe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}class t0{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wh extends QS{constructor(e,t,r,i,s,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(yy("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Cy extends Wh{data(e={}){return super.data(e)}}class qh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new t0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Cy(this._firestore,this._userDataWriter,r.key,r,new t0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Cy(r._firestore,r._userDataWriter,c.doc.key,c.doc,new t0(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const u=new Cy(r._firestore,r._userDataWriter,c.doc.key,c.doc,new t0(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,v=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),v=s.indexOf(c.doc.key)),{type:aW(c.type),doc:u,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function aW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function cW(n){n=qt(n,fr);const e=qt(n.firestore,Rn);return function lP(n,e,t={}){const r=new xr;return n.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function(i,s,c,u,p){const v=new fy({next:M=>{s.enqueueAndForget(()=>sS(i,b));const D=M.docs.has(c);!D&&M.fromCache?p.reject(new Se(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&M.fromCache&&u&&"server"===u.source?p.reject(new Se(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(M)},error:M=>p.reject(M)}),b=new cS(Eh(c.path),v,{includeMetadataChanges:!0,Nu:!0});return rS(i,b)}(yield jh(n),n.asyncQueue,e,t,r)})),r.promise}(Cr(e),n._key).then(t=>function JS(n,e,t){const r=t.docs.get(e._key),i=new bl(n);return new Wh(n,i,e._key,r,new t0(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class bl extends class oW{convertValue(e,t="none"){switch(H4(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(F4(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return z4(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new WS(cr(e.latitude),cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$k(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(gp(e));default:return null}}convertTimestamp(e){const t=fl(e);return new Zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Jt.fromString(e);At(jR(r));const i=new V4(r.get(1),r.get(3)),s=new Ge(r.popFirst(5));return i.isEqual(t)||hr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new J4(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,t)}}function lW(n){n=qt(n,yi);const e=qt(n.firestore,Rn),t=Cr(e),r=new bl(e);return function wP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Se(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function uP(n,e,t={}){const r=new xr;return n.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function(i,s,c,u,p){const v=new fy({next:M=>{s.enqueueAndForget(()=>sS(i,b)),M.fromCache&&"server"===u.source?p.reject(new Se(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(M)},error:M=>p.reject(M)}),b=new cS(c,v,{includeMetadataChanges:!0,Nu:!0});return rS(i,b)}(yield jh(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new qh(e,r,n,i))}function uW(n,e,t,...r){n=qt(n,fr);const i=qt(n.firestore,Rn),s=$h(i);let c;return c="string"==typeof(e=(0,j.m9)(e))||e instanceof Gh?function _P(n,e,t,r,i,s){const c=n.da(1,e,t),u=[YS(e,r,t)],p=[i];if(s.length%2!=0)throw new Se(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<s.length;D+=2)u.push(YS(e,s[D])),p.push(s[D+1]);const v=[],b=ii.empty();for(let D=u.length-1;D>=0;--D)if(!bP(v,u[D])){const N=u[D];let R=p[D];R=(0,j.m9)(R);const V=c.ca(N);if(R instanceof Wp)v.push(N);else{const $=e0(R,V);null!=$&&(v.push(N),b.set(N,$))}}const M=new ws(v);return new pP(b,M,c.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function vP(n,e,t,r){const i=n.da(1,e,t);ZS("Data must be an object, but it was:",i,r);const s=[],c=ii.empty();z4(r,(p,v)=>{const b=vy(e,p,t);v=(0,j.m9)(v);const M=i.ca(b);if(v instanceof Wp)s.push(b);else{const D=e0(v,M);null!=D&&(s.push(b),c.set(b,D))}});const u=new ws(s);return new pP(c,u,i.fieldTransforms)}(s,"updateDoc",n._key,e),qp(i,[c.toMutation(n._key,Bn.exists(!0))])}function hW(n){return qp(qt(n.firestore,Rn),[new Th(n._key,Bn.none())])}function dW(n,e){const t=qt(n.firestore,Rn),r=nP(n),i=function XS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return qp(t,[qS($h(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}function qp(n,e){return function(t,r){const i=new xr;return t.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function l$(n,e,t){return fS.apply(this,arguments)}(yield function US(n){return py(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Cr(n),e)}!function(n,e=!0){_h=mt.SDK_VERSION,(0,mt._registerComponent)(new Li.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),c=new Rn(new FU(t.getProvider("auth-internal")),new BU(t.getProvider("app-check-internal")),function(u,p){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Se(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new V4(u.options.projectId,p)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,mt.registerVersion)(Rk,"3.7.3",n),(0,mt.registerVersion)(Rk,"3.7.3","esm2017")}();class Kh{constructor(e){return e}}const kP="firestore",eI=new h.OlP("angularfire2.firestore-instances");function _W(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Kh(r)}}const yW={provide:class gW{constructor(){return Y2(kP)}},deps:[[new h.FiY,eI]]},CW={provide:Kh,useFactory:function vW(n,e){const t=Z2(kP,n,e);return t&&new Kh(t)},deps:[[new h.FiY,eI],pc]};let RP=(()=>{class n{constructor(){(0,mt.registerVersion)("angularfire",dc.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[CW,yW]}),n})();function AW(n,...e){return{ngModule:RP,providers:[{provide:eI,useFactory:_W(n),multi:!0,deps:[h.R0b,h.zs3,Q2,Ga,[new h.FiY,K5],[new h.FiY,sl],...e]}]}}const tI=Pr(dW,!0),nI=Pr(x$,!0),rI=Pr(hW,!0),Ja=Pr(nP,!0),iI=Pr(cW,!0),Kp=Pr(lW,!0),bW=Pr(W$,!0),Zp=Pr(nW,!0),by=Pr(uW,!0),sI=Pr(iW,!0);let LP=(()=>{class n{constructor(t){this.db=t,this.collecti=nI(this.db,"department"),this.queryDate=Zp(this.collecti)}get_all_department(){let t=[];return Kp(this.queryDate).then(r=>{r.docs.forEach(i=>{t.push(x4.fromFirebase(i))})}).catch(r=>{console.log("Error getting document:",r)}),t}create_department(t){tI(this.collecti,x4.transformToMap(t))}update_department(t){let r=Ja(this.db,"department",t.id);by(r,x4.transformToMap(t))}get_department_by_id(t){var r=this;return(0,ae.Z)(function*(){let i,s=Ja(r.db,"department",t);return yield iI(s).then(c=>(i=x4.fromFirebase(c),i)).catch(c=>{console.log("Error getting document:",c)}),i})()}delete_department(t){let r=Ja(this.db,"department",t.id);rI(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Kh))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wW(n,e){if(1&n){const t=h.EpF();h.ynx(0),h.TgZ(1,"div",4),h.NdJ("mousedown",function(i){h.CHM(t);const s=h.oxw();return h.KtG(s.movingFromElement(i))}),h.TgZ(2,"p",5),h._uU(3),h.qZA(),h.TgZ(4,"span",6),h.O4$(),h.TgZ(5,"svg",7),h._UZ(6,"path",8),h.qZA()(),h.kcU(),h.TgZ(7,"div",9),h.NdJ("mousedown",function(i){h.CHM(t);const s=h.oxw();return h.KtG(s.resizeFromElement(i))}),h.qZA()(),h.BQk()}if(2&n){const t=e.$implicit,r=h.oxw();h.xp6(1),h.Akn("width: "+t.width+"px; height: "+t.height+"px; left: "+t.left+"px; top: "+t.top+"px; background-color: "+t.color+";"),h.Q6J("id",t.id),h.xp6(1),h.Akn(t.idDepartmentType==r.departmentType&&""!==r.departmentType?"font-weight: bold ; min-width : "+t.height+"; ":"min-width : "+t.height+";"),h.Q6J("className",t.height>t.width?"department--rotate":""),h.xp6(1),h.Oqu(t.name),h.xp6(1),h.Q6J("routerLink","/department/"+t.id)}}let PP=(()=>{class n{constructor(t,r,i){this._activatedRouter=t,this._departmentService=r,this._router=i,this.departmentType=null,this.departments=[],this.movingElement=null,this.resizeElement=null,this.savePositionResizeX=null,this.savePositionResizeY=null}ngOnInit(){this._activatedRouter.params.subscribe(r=>{this.departmentType=r.departmentType});const t=this;document.addEventListener("mouseup",()=>{t.movingElement=null,t.resizeElement=null}),this.departments=this._departmentService.get_all_department(),document.addEventListener("mousemove",function(r){t.movingElement?t.move(r):t.resizeElement&&t.resize(r)})}movingFromElement(t){t.stopPropagation(),this.movingElement=t.target}resizeFromElement(t){t.stopPropagation(),this.savePositionResizeX=t.clientX,this.savePositionResizeY=t.clientY,this.resizeElement=t.target.parentElement}createNewDepartment(){let t=new x4("","","","1",100,100,400,200);this._departmentService.create_department(t),this.departments=this._departmentService.get_all_department()}resize(t){if(t.clientX-this.savePositionResizeX<-5||t.clientX-this.savePositionResizeX>5||t.clientY-this.savePositionResizeY<-5||t.clientY-this.savePositionResizeY>5){const r=this.resizeElement.offsetWidth+t.clientX-this.savePositionResizeX,i=this.resizeElement.offsetHeight+t.clientY-this.savePositionResizeY,s=this.departments.filter(c=>c.id===this.resizeElement.id)[0];i>50&&i<300&&(s.height=i),r>50&&r<300&&(s.width=r),this._departmentService.update_department(s),this.savePositionResizeX=t.clientX,this.savePositionResizeY=t.clientY}}move(t){const r=document.querySelector("#container").getBoundingClientRect(),i=t.clientX<r.right-this.movingElement.offsetWidth/2,s=t.clientX>r.x+this.movingElement.offsetWidth/2,c=t.clientY>r.y+this.movingElement.offsetHeight/2,u=t.clientY<r.bottom-this.movingElement.offsetHeight/2,p=this.departments.filter(v=>v.id===this.movingElement.id)[0];p.left=s&&i?t.clientX-this.movingElement.offsetWidth/2:i?r.x:r.right-this.movingElement.offsetWidth,p.top=c&&u?t.clientY-this.movingElement.offsetHeight/2:u?r.y:r.bottom-this.movingElement.offsetHeight,this._departmentService.update_department(p)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ti),h.Y36(LP),h.Y36(on))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-administration"]],decls:5,vars:1,consts:[[1,"admin"],["id","container"],[4,"ngFor","ngForOf"],[1,"admin__button",3,"click"],[1,"department",3,"id","mousedown"],[3,"className"],[1,"department__update",3,"routerLink"],["width","20","height","20","viewBox","0 0 24 24",2,"fill","white","margin","10px"],["d","M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z"],[1,"resize",3,"mousedown"]],template:function(t,r){1&t&&(h.TgZ(0,"main",0)(1,"section",1),h.YNc(2,wW,8,8,"ng-container",2),h.qZA(),h.TgZ(3,"button",3),h.NdJ("click",function(){return r.createNewDepartment()}),h._uU(4,"AJOUTER UN RAYON "),h.qZA()()),2&t&&(h.xp6(2),h.Q6J("ngForOf",r.departments))},dependencies:[$r,X1],styles:[".department[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;border-radius:5px}.department--rotate[_ngcontent-%COMP%]{transform:rotate(90deg)}.department__update[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:0;top:0}#container[_ngcontent-%COMP%]{margin:20px;width:1000px;height:480px;background-color:#fff;border-radius:10px;box-shadow:0 0 10px #00000080}.resize[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;background-color:#cdcdcd;right:0;bottom:0;border-radius:5px;cursor:e-resize}.admin[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start}.admin__button[_ngcontent-%COMP%]{align-self:flex-end;background-color:#2e343e;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.admin__button[_ngcontent-%COMP%]:hover{background-color:#181b21}"]}),n})(),Yp=(()=>{class n{constructor(t,r){this._router=t,this.authentificationService=r}canActivate(t,r){return!!this.authentificationService.utilisateurEstConnecte||(this._router.navigate(["/connexion"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(on),h.LFG(al))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class bc{constructor(e,t,r=!1){this.favorite=!1,this.id=e,this.name=t,this.favorite=r}static fromFirebase(e){let t=e.data();return new bc(e.id,t.Titre,t.favori)}static transformToMap(e){return{Titre:e.name,favori:e.favorite}}}let wy=(()=>{class n{constructor(t){this.db=t,this.collecti=nI(this.db,"TypeRayon"),this.queryALL=Zp(this.collecti),this.queryFavorite=Zp(this.collecti,sI("favori","==",!0))}get_all_department_type(){let t=[];return Kp(this.queryALL).then(r=>{r.docs.forEach(i=>{t.push(bc.fromFirebase(i))})}),t}get_favorite_department_type(){let t=[];return Kp(this.queryFavorite).then(r=>{r.docs.forEach(i=>{t.push(bc.fromFirebase(i))})}),t}deleteDepartementType(t){let r=Ja(this.db,"TypeRayon",t);rI(r)}get_department_type_by_id(t){var r=this;return(0,ae.Z)(function*(){let i,s=Ja(r.db,"TypeRayon",t);return yield iI(s).then(c=>(i=bc.fromFirebase(c),i)).catch(c=>{console.log("Error getting document:",c)}),i})()}update_department_type(t){let r=Ja(this.db,"TypeRayon",t.id);by(r,bc.transformToMap(t))}add_department_type(t){console.log(bc.transformToMap(t)),tI(this.collecti,bc.transformToMap(t))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Kh))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class wc{constructor(e,t,r,i,s,c,u=""){this.image="",this.id=e,this.name=t,this.description=r,this.price=i,this.barcode=s,this.idDepartment=c,this.image=u}static fromFirebase(e){let t=e.data();return new wc(e.id,t.name,t.description,t.price,t.barcode,t.idDepartment,t.image)}static transformToMap(e){return{name:e.name,description:e.description,price:e.price,barcode:e.barcode,idDepartment:e.idDepartment,image:e.image}}}let oI=(()=>{class n{constructor(t){this.db=t,this._product=new Rr([]),this.collecti=nI(this.db,"product")}get ProductFromDepartmentObservable(){return this._product.asObservable()}get_product_without_department(){let t=Zp(this.collecti,sI("idDepartment","==","")),r=[];return Kp(t).then(i=>{i.docs.forEach(s=>{r.push(wc.fromFirebase(s))})}).catch(i=>{console.log("Error getting document:",i)}),r}get_product_form_department(t){let r=Zp(this.collecti,sI("idDepartment","==",t)),i=[];return Kp(r).then(s=>{s.docs.forEach(c=>{i.push(wc.fromFirebase(c))})}).catch(s=>{console.log("Error getting document:",s)}),this._product.next(i),!0}delete_product(t){rI(Ja(this.db,"product",t))}create_product(t){tI(this.collecti,wc.transformToMap(t))}update_product(t,r="0"){by(Ja(this.db,"product",t.id),wc.transformToMap(t)),"0"!==r&&setTimeout(()=>{this.get_product_form_department(r)},1e3)}detached_product(t,r){this.get_product_by_id(t).then(i=>{void 0!==i&&(i.idDepartment="",by(Ja(this.db,"product",i.id),wc.transformToMap(i))),this.get_product_form_department(r)}).catch(i=>{console.log("Error getting document:",i)})}get_product_by_id(t){var r=this;return(0,ae.Z)(function*(){let i,s=Ja(r.db,"product",t);return yield iI(s).then(c=>{i=wc.fromFirebase(c)}).catch(c=>{console.log("Error getting document:",c)}),i})()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Kh))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OP(n){return null!=n&&"false"!=`${n}`}function Ey(n){return Array.isArray(n)?n:[n]}function Ar(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Zh(n){return n instanceof h.SBq?n.nativeElement:n}var MW=P(1144);const SW=["addListener","removeListener"],IW=["addEventListener","removeEventListener"],DW=["on","off"];function aI(n,e,t,r){if((0,Kn.m)(t)&&(r=t,t=void 0),r)return aI(n,e,t).pipe(Io(r));const[i,s]=function NW(n){return(0,Kn.m)(n.addEventListener)&&(0,Kn.m)(n.removeEventListener)}(n)?IW.map(c=>u=>n[c](e,u,t)):function TW(n){return(0,Kn.m)(n.addListener)&&(0,Kn.m)(n.removeListener)}(n)?SW.map(zP(n,e)):function xW(n){return(0,Kn.m)(n.on)&&(0,Kn.m)(n.off)}(n)?DW.map(zP(n,e)):[];if(!i&&(0,MW.z)(n))return(0,Xt.z)(c=>aI(c,e,t))((0,Do.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Mr.y(c=>{const u=(...p)=>c.next(1<p.length?p:p[0]);return i(u),()=>s(u)})}function zP(n,e){return t=>r=>n[t](e,r)}const Qp={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Qp;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new To.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Qp;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Qp;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class RW extends Wo{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class kW extends b5{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Qp.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Qp.cancelAnimationFrame(t),e._scheduled=void 0)}});let cI,PW=1;const My={};function FP(n){return n in My&&(delete My[n],!0)}const OW={setImmediate(n){const e=PW++;return My[e]=!0,cI||(cI=Promise.resolve()),cI.then(()=>FP(e)&&n()),e},clearImmediate(n){FP(n)}},{setImmediate:zW,clearImmediate:FW}=OW,Sy={setImmediate(...n){const{delegate:e}=Sy;return(e?.setImmediate||zW)(...n)},clearImmediate(n){const{delegate:e}=Sy;return(e?.clearImmediate||FW)(n)},delegate:void 0};new class HW extends Wo{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class VW extends b5{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Sy.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Sy.clearImmediate(t),e._scheduled=void 0)}});var jW=P(3532);function VP(n,e=E5){return function UW(n){return(0,bn.e)((e,t)=>{let r=!1,i=null,s=null,c=!1;const u=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const v=i;i=null,t.next(v)}c&&t.complete()},p=()=>{s=null,c&&t.complete()};e.subscribe((0,pn.x)(t,v=>{r=!0,i=v,s||(0,Do.Xf)(n(v)).subscribe(s=(0,pn.x)(t,u,p))},()=>{c=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function $W(n=0,e,t=Bw){let r=-1;return null!=e&&((0,jW.K)(e)?t=e:r=e),new Mr.y(i=>{let s=function GW(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}let lI;try{lI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{lI=!1}let Xp,n0,hI,Yo,Zo=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function di(n){return n===go}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!lI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function uI(n){return function WW(){if(null==Xp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Xp=!0}))}finally{Xp=Xp||!1}return Xp}()?n:!!n.capture}function qW(){if(null==n0){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return n0=!1,n0;if("scrollBehavior"in document.documentElement.style)n0=!0;else{const n=Element.prototype.scrollTo;n0=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return n0}function r0(n){return n.composedPath?n.composedPath()[0]:n.target}function dI(){return typeof Yo.__karma__<"u"&&!!Yo.__karma__||typeof Yo.jasmine<"u"&&!!Yo.jasmine||typeof Yo.jest<"u"&&!!Yo.jest||typeof Yo.Mocha<"u"&&!!Yo.Mocha}Yo=typeof global<"u"?global:typeof window<"u"?window:{};const YW=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function QW(){return(0,h.f3M)(pe)}});let XW=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new h.vpe,t){const i=t.documentElement?t.documentElement.dir:null,s=(t.body?t.body.dir:null)||i;this.value="ltr"===s||"rtl"===s?s:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(YW,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),eq=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Cn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Mr.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(VP(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):nt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Kr(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Zh(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>aI(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b),h.LFG(Zo),h.LFG(pe,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UP=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Cn.x,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(VP(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Zo),h.LFG(h.R0b),h.LFG(pe,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),GP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Jp,HP,jP],Jp,jP]}),n})();var fI=P(655);class pI{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class mI extends pI{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class $P extends pI{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class nq extends pI{constructor(e){super(),this.element=e instanceof h.SBq?e.nativeElement:e}}class gI{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof mI?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof $P?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof nq?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class rq extends gI{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=c=>{const u=c.element,p=this._document.createComment("dom-portal");u.parentNode.insertBefore(p,u),this.outletElement.appendChild(u),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(u,p)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let WP=(()=>{class n extends gI{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new h.vpe,this.attachDomPortal=s=>{const c=s.element,u=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(u,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(c,u)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=r.createComponent(s,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h._Vd),h.Y36(h.s_b),h.Y36(pe))},n.\u0275dir=h.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[h.qOj]}),n})(),qP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();var KP=P(6451),iq=P(5032);function Dy(n){return(0,bn.e)((e,t)=>{(0,Do.Xf)(n).subscribe((0,pn.x)(t,()=>t.complete(),iq.Z)),!t.closed&&e.subscribe(t)})}const ZP=qW();class sq{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ar(-this._previousScrollPosition.left),e.style.top=Ar(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",c=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),ZP&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ZP&&(r.scrollBehavior=s,i.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class oq{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class YP{enable(){}disable(){}attach(){}}function vI(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function QP(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class aq{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();vI(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let cq=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new YP,this.close=c=>new oq(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new sq(this._viewportRuler,this._document),this.reposition=c=>new aq(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(eq),h.LFG(UP),h.LFG(h.R0b),h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class XP{constructor(e){if(this.scrollStrategy=new YP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class lq{constructor(e,t,r,i,s){this.offsetX=r,this.offsetY=i,this.panelClass=s,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class uq{}let hq=(()=>{let n=class{constructor(t,r){this.connectionPair=t,this.scrollableViewProperties=r}};return n=(0,fI.gn)([(0,fI.fM)(1,(0,h.FiY)()),(0,fI.w6)("design:paramtypes",[lq,uq])],n),n})(),JP=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dq=(()=>{class n extends JP{constructor(t){super(t),this._keydownListener=r=>{const i=this._attachedOverlays;for(let s=i.length-1;s>-1;s--)if(i[s]._keydownEvents.observers.length>0){i[s]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fq=(()=>{class n extends JP{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=r0(i)},this._clickListener=i=>{const s=r0(i),c="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const u=this._attachedOverlays.slice();for(let p=u.length-1;p>-1;p--){const v=u[p];if(!(v._outsidePointerEvents.observers.length<1)&&v.hasAttached()){if(v.overlayElement.contains(s)||v.overlayElement.contains(c))break;v._outsidePointerEvents.next(i)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe),h.LFG(Zo))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eO=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||dI()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),dI()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe),h.LFG(Zo))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pq{constructor(e,t,r,i,s,c,u,p,v){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=c,this._document=u,this._location=p,this._outsideClickDispatcher=v,this._backdropElement=null,this._backdropClick=new Cn.x,this._attachments=new Cn.x,this._detachments=new Cn.x,this._locationChanges=To.w0.EMPTY,this._backdropClickHandler=b=>this._backdropClick.next(b),this._keydownEvents=new Cn.x,this._outsidePointerEvents=new Cn.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Hs(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ar(this._config.width),e.height=Ar(this._config.height),e.minWidth=Ar(this._config.minWidth),e.minHeight=Ar(this._config.minHeight),e.maxWidth=Ar(this._config.maxWidth),e.maxHeight=Ar(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=Ey(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Dy((0,KP.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}const tO="cdk-overlay-connected-position-bounding-box",mq=/([A-Za-z%]+)$/;class gq{constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Cn.x,this._resizeSubscription=To.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(tO),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=[];let s;for(let c of this._preferredPositions){let u=this._getOriginPoint(e,c),p=this._getOverlayPoint(u,t,c),v=this._getOverlayFit(p,t,r,c);if(v.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,u);this._canFitWithFlexibleDimensions(v,p,r)?i.push({position:c,origin:u,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(u,c)}):(!s||s.overlayFit.visibleArea<v.visibleArea)&&(s={overlayFit:v,overlayPoint:p,originPoint:u,position:c,overlayRect:t})}if(i.length){let c=null,u=-1;for(const p of i){const v=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);v>u&&(u=v,c=p)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&s0(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(tO),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,i;if("center"==t.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;r="start"==t.originX?s:c}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:i}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=rO(t);let{x:c,y:u}=e,p=this._getOffset(i,"x"),v=this._getOffset(i,"y");p&&(c+=p),v&&(u+=v);let D=0-u,N=u+s.height-r.height,R=this._subtractOverflows(s.width,0-c,c+s.width-r.width),V=this._subtractOverflows(s.height,D,N),$=R*V;return{visibleArea:$,isCompletelyWithinViewport:s.width*s.height===$,fitsInViewportVertically:V===s.height,fitsInViewportHorizontally:R==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,c=nO(this._overlayRef.getConfig().minHeight),u=nO(this._overlayRef.getConfig().minWidth),v=e.fitsInViewportHorizontally||null!=u&&u<=s;return(e.fitsInViewportVertically||null!=c&&c<=i)&&v}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=rO(t),s=this._viewportRect,c=Math.max(e.x+i.width-s.width,0),u=Math.max(e.y+i.height-s.height,0),p=Math.max(s.top-r.top-e.y,0),v=Math.max(s.left-r.left-e.x,0);let b=0,M=0;return b=i.width<=s.width?v||-c:e.x<this._viewportMargin?s.left-r.left-e.x:0,M=i.height<=s.height?p||-u:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:b,y:M},{x:e.x+b,y:e.y+M}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new hq(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,c,u,b,M,D;if("top"===t.overlayY)c=e.y,s=r.height-c+this._viewportMargin;else if("bottom"===t.overlayY)u=r.height-e.y+2*this._viewportMargin,s=r.height-u+this._viewportMargin;else{const N=Math.min(r.bottom-e.y+r.top,e.y),R=this._lastBoundingBoxSize.height;s=2*N,c=e.y-N,s>R&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-R/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)D=r.width-e.x+this._viewportMargin,b=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)M=e.x,b=r.right-e.x;else{const N=Math.min(r.right-e.x+r.left,e.x),R=this._lastBoundingBoxSize.width;b=2*N,M=e.x-N,b>R&&!this._isInitialRender&&!this._growAfterOpen&&(M=e.x-R/2)}return{top:c,left:M,bottom:u,right:D,width:b,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;i.height=Ar(r.height),i.top=Ar(r.top),i.bottom=Ar(r.bottom),i.width=Ar(r.width),i.left=Ar(r.left),i.right=Ar(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Ar(s)),c&&(i.maxWidth=Ar(c))}this._lastBoundingBoxSize=r,s0(this._boundingBox.style,i)}_resetBoundingBoxStyles(){s0(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){s0(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(i){const b=this._viewportRuler.getViewportScrollPosition();s0(r,this._getExactOverlayY(t,e,b)),s0(r,this._getExactOverlayX(t,e,b))}else r.position="static";let u="",p=this._getOffset(t,"x"),v=this._getOffset(t,"y");p&&(u+=`translateX(${p}px) `),v&&(u+=`translateY(${v}px)`),r.transform=u.trim(),c.maxHeight&&(i?r.maxHeight=Ar(c.maxHeight):s&&(r.maxHeight="")),c.maxWidth&&(i?r.maxWidth=Ar(c.maxWidth):s&&(r.maxWidth="")),s0(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r));let c=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=c,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Ar(s.y),i}_getExactOverlayX(e,t,r){let c,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Ar(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:QP(e,r),isOriginOutsideView:vI(e,r),isOverlayClipped:QP(t,r),isOverlayOutsideView:vI(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Ey(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof h.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function s0(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function nO(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(mq);return t&&"px"!==t?null:parseFloat(e)}return n||null}function rO(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const iO="cdk-global-overlay-wrapper";class vq{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(iO),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:c,maxHeight:u}=r,p=!("100%"!==i&&"100vw"!==i||c&&"100%"!==c&&"100vw"!==c),v=!("100%"!==s&&"100vh"!==s||u&&"100%"!==u&&"100vh"!==u);e.position=this._cssPosition,e.marginLeft=p?"0":this._leftOffset,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,p?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(iO),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let _q=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new vq}flexibleConnectedTo(t){return new gq(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(UP),h.LFG(pe),h.LFG(Zo),h.LFG(eO))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yq=0,_I=(()=>{class n{constructor(t,r,i,s,c,u,p,v,b,M,D){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=u,this._ngZone=p,this._document=v,this._directionality=b,this._location=M,this._outsideClickDispatcher=D}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),c=new XP(t);return c.direction=c.direction||this._directionality.value,new pq(s,r,i,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+yq++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(h.z2F)),new rq(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(cq),h.LFG(eO),h.LFG(h._Vd),h.LFG(_q),h.LFG(dq),h.LFG(h.zs3),h.LFG(h.R0b),h.LFG(pe),h.LFG(XW),h.LFG(De),h.LFG(fq))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const bq={provide:new h.OlP("cdk-connected-overlay-scroll-strategy"),deps:[_I],useFactory:function Aq(n){return()=>n.scrollStrategies.reposition()}};let wq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[_I,bq],imports:[[Jp,qP,GP],GP]}),n})();function sO(n){return Kr((e,t)=>n<=t)}function xq(n,e){return n===e}function lO(n){return 0===n.offsetX&&0===n.offsetY}function uO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Fq=new h.OlP("cdk-input-modality-detector-options"),Vq={ignoreKeys:[18,17,224,91,16]},Qh=uI({passive:!0,capture:!0});let Hq=(()=>{class n{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Rr(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(u=>u===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=r0(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(lO(c)?"keyboard":"mouse"),this._mostRecentTarget=r0(c))},this._onTouchstart=c=>{uO(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=r0(c))},this._options={...Vq,...s},this.modalityDetected=this._modality.pipe(sO(1)),this.modalityChanged=this.modalityDetected.pipe(function Tq(n,e=O1.y){return n=n??xq,(0,bn.e)((t,r)=>{let i,s=!0;t.subscribe((0,pn.x)(r,c=>{const u=e(c);(s||!n(i,u))&&(s=!1,i=u,r.next(c))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Qh),i.addEventListener("mousedown",this._onMousedown,Qh),i.addEventListener("touchstart",this._onTouchstart,Qh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Qh),document.removeEventListener("mousedown",this._onMousedown,Qh),document.removeEventListener("touchstart",this._onTouchstart,Qh))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Zo),h.LFG(h.R0b),h.LFG(pe),h.LFG(Fq,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bq=new h.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Uq(){return null}}),jq=new h.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Gq=(()=>{class n{constructor(t,r,i,s){this._ngZone=r,this._defaultOptions=s,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let s,c;return 1===r.length&&"number"==typeof r[0]?c=r[0]:[s,c]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=i&&i.politeness?i.politeness:"polite"),null==c&&i&&(c=i.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(u=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,u(),"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Bq,8),h.LFG(h.R0b),h.LFG(pe),h.LFG(jq,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $q=new h.OlP("cdk-focus-monitor-default-options"),Ty=uI({passive:!0,capture:!0});let Wq=(()=>{class n{constructor(t,r,i,s,c){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Cn.x,this._rootNodeFocusAndBlurListener=u=>{const p=r0(u),v="focus"===u.type?this._onFocus:this._onBlur;for(let b=p;b;b=b.parentElement)v.call(this,u,b)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(t,r=!1){const i=Zh(t);if(!this._platform.isBrowser||1!==i.nodeType)return nt(null);const s=function ZW(n){if(function KW(){if(null==hI){const n=typeof document<"u"?document.head:null;hI=!(!n||!n.createShadowRoot&&!n.attachShadow)}return hI}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const u={checkChildren:r,subject:new Cn.x,rootNode:s};return this._elementInfo.set(i,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(t){const r=Zh(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=Zh(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([u,p])=>this._originChanged(u,r,p)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=r0(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ty),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ty)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Dy(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ty),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ty),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b),h.LFG(Zo),h.LFG(Hq),h.LFG(pe,8),h.LFG($q,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dO="cdk-high-contrast-black-on-white",fO="cdk-high-contrast-white-on-black",yI="cdk-high-contrast-active";let qq=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(yI),t.remove(dO),t.remove(fO),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(yI),t.add(dO)):2===r&&(t.add(yI),t.add(fO))}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Zo),h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pO=new h.GfV("13.0.0"),mO=new h.GfV("13.0.0"),Zq=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function Kq(){return!0}});let Xh=(()=>{class n{constructor(t,r,i){this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!(0,h.X6Q)()||dI())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&mO.full!==pO.full&&console.warn("The Angular Material version ("+mO.full+") does not match the Angular CDK version ("+pO.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(qq),h.LFG(Zq,8),h.LFG(pe))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Jp],Jp]}),n})();function Yq(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=OP(e)}}}function Qq(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function Xq(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=OP(e)}}}class eK{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const gO={enterDuration:225,exitDuration:150},CI=uI({passive:!0}),vO=["mousedown","touchstart"],_O=["mouseup","mouseleave","touchend","touchcancel"];class nK{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Zh(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...gO,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const c=r.radius||function iK(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),u=e-i.left,p=t-i.top,v=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=u-c+"px",b.style.top=p-c+"px",b.style.height=2*c+"px",b.style.width=2*c+"px",null!=r.color&&(b.style.backgroundColor=r.color),b.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(b),function rK(n){window.getComputedStyle(n).getPropertyValue("opacity")}(b),b.style.transform="scale(1)";const M=new eK(this,b,r);return M.state=0,this._activeRipples.add(M),r.persistent||(this._mostRecentTransientRipple=M),this._runTimeoutOutsideZone(()=>{const D=M===this._mostRecentTransientRipple;M.state=1,!r.persistent&&(!D||!this._isPointerDown)&&M.fadeOut()},v),M}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i={...gO,...e.config.animation};r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Zh(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(vO))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(_O),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=lO(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!uO(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,CI)})})}_removeTriggerEvents(){this._triggerElement&&(vO.forEach(e=>{this._triggerElement.removeEventListener(e,this,CI)}),this._pointerUpEventsRegistered&&_O.forEach(e=>{this._triggerElement.removeEventListener(e,this,CI)}))}}const sK=new h.OlP("mat-ripple-global-options");let yO=(()=>{class n{constructor(t,r,i,s,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new nK(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(Zo),h.Y36(sK,8),h.Y36(h.QbO,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&h.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),oK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Xh,HP],Xh]}),n})();const aK=["mat-button",""],cK=["*"],uK=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],hK=Qq(Yq(Xq(class{constructor(n){this._elementRef=n}})));let dK=(()=>{class n extends hK{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of uK)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(Wq),h.Y36(h.QbO,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&h.Gf(yO,5),2&t){let i;h.iGM(i=h.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(h.uIk("disabled",r.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[h.qOj],attrs:aK,ngContentSelectors:cK,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(h.F$t(),h.TgZ(0,"span",0),h.Hsn(1),h.qZA(),h._UZ(2,"span",1)(3,"span",2)),2&t&&(h.xp6(2),h.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),h.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[yO],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),fK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[oK,Xh],Xh]}),n})();class CO{}const Ec="*";function mK(n,e){return{type:7,name:n,definitions:e,options:{}}}function AO(n,e=null){return{type:4,styles:e,timings:n}}function bO(n,e=null){return{type:2,steps:n,options:e}}function t7(n){return{type:6,styles:n,offset:null}}function wO(n,e,t){return{type:0,name:n,styles:e,options:t}}function EO(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function MO(n){Promise.resolve().then(n)}class n7{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){MO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class SO{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?MO(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++r==s&&this._onDestroy()}),c.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,u)=>Math.max(c,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const IO=new Set;let Jh,vK=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):yK}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function _K(n){if(!IO.has(n))try{Jh||(Jh=document.createElement("style"),Jh.setAttribute("type","text/css"),document.head.appendChild(Jh)),Jh.sheet&&(Jh.sheet.insertRule(`@media ${n} {body{ }}`,0),IO.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Zo))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yK(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let CK=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Cn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return DO(Ey(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=z1(DO(Ey(t)).map(c=>this._registerQuery(c).observable));return s=gu(s.pipe(Hs(1)),s.pipe(sO(1),function gK(n,e=E5){return(0,bn.e)((t,r)=>{let i=null,s=null,c=null;const u=()=>{if(i){i.unsubscribe(),i=null;const v=s;s=null,r.next(v)}};function p(){const v=c+n,b=e.now();if(b<v)return i=this.schedule(void 0,v-b),void r.add(i);u()}t.subscribe((0,pn.x)(r,v=>{s=v,c=e.now(),i||(i=e.schedule(p,n),r.add(i))},()=>{u(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe((0,St.U)(c=>{const u={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:v})=>{u.matches=u.matches||p,u.breakpoints[v]=p}),u}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new Mr.y(c=>{const u=p=>this._zone.run(()=>c.next(p));return r.addListener(u),()=>{r.removeListener(u)}}).pipe(p2(r),(0,St.U)(({matches:c})=>({query:t,matches:c})),Dy(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(vK),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DO(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function bK(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",1)(1,"button",2),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.action())}),h._uU(2),h.qZA()()}if(2&n){const t=h.oxw();h.xp6(2),h.Oqu(t.data.action)}}function wK(n,e){}const TO=new h.OlP("MatSnackBarData");class xy{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const EK=Math.pow(2,31)-1;class bI{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Cn.x,this._afterOpened=new Cn.x,this._onAction=new Cn.x,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe(()=>this.dismiss()),e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,EK))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let MK=(()=>{class n{constructor(t,r){this.snackBarRef=t,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(bI),h.Y36(TO))},n.\u0275cmp=h.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"span"),h._uU(1),h.qZA(),h.YNc(2,bK,3,1,"div",0)),2&t&&(h.xp6(1),h.Oqu(r.data.message),h.xp6(1),h.Q6J("ngIf",r.hasAction))},dependencies:[dK,un],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),n})();const SK={snackBarState:mK("state",[wO("void, hidden",t7({transform:"scale(0.8)",opacity:0})),wO("visible",t7({transform:"scale(1)",opacity:1})),EO("* => visible",AO("150ms cubic-bezier(0, 0, 0.2, 1)")),EO("* => void, * => hidden",AO("75ms cubic-bezier(0.4, 0.0, 1, 1)",t7({opacity:0})))])};let IK=(()=>{class n extends gI{constructor(t,r,i,s,c){super(),this._ngZone=t,this._elementRef=r,this._changeDetectorRef=i,this._platform=s,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Cn.x,this._onExit=new Cn.x,this._onEnter=new Cn.x,this._animationState="void",this.attachDomPortal=u=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(u)),this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:r,toState:i}=t;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Hs(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(i=>t.classList.add(i)):t.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(i=document.activeElement),t.removeAttribute("aria-hidden"),r.appendChild(t),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.R0b),h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(Zo),h.Y36(xy))},n.\u0275cmp=h.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(t,r){if(1&t&&h.Gf(WP,7),2&t){let i;h.iGM(i=h.CRH())&&(r._portalOutlet=i.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,r){1&t&&h.WFA("@state.done",function(s){return r.onAnimationEnd(s)}),2&t&&h.d8E("@state",r._animationState)},features:[h.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h.YNc(1,wK,0,0,"ng-template",1),h.qZA(),h._UZ(2,"div")),2&t&&(h.xp6(2),h.uIk("aria-live",r._live)("role",r._role))},dependencies:[WP],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[SK.snackBarState]}}),n})(),xO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[wq,qP,N0,fK,Xh],Xh]}),n})();const DK=new h.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function TK(){return new xy}});let NO=(()=>{class n{constructor(t,r,i,s,c,u){this._overlay=t,this._live=r,this._injector=i,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=u,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=MK,this.snackBarContainerComponent=IK,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){const s={...this._defaultConfig,...i};return s.data={message:t,action:r},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){const s=h.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:xy,useValue:r}]}),c=new mI(this.snackBarContainerComponent,r.viewContainerRef,s),u=t.attach(c);return u.instance.snackBarConfig=r,u.instance}_attach(t,r){const i={...new xy,...this._defaultConfig,...r},s=this._createOverlay(i),c=this._attachSnackBarContainer(s,i),u=new bI(c,s);if(t instanceof h.Rgc){const p=new $P(t,null,{$implicit:i.data,snackBarRef:u});u.instance=c.attachTemplatePortal(p)}else{const p=this._createInjector(i,u),v=new mI(t,void 0,p),b=c.attachComponentPortal(v);u.instance=b.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Dy(s.detachments())).subscribe(p=>{s.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),i.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(u,i),this._openedSnackBarRef=u,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration))}_createOverlay(t){const r=new XP;r.direction=t.direction;let i=this._overlay.position().global();const s="rtl"===t.direction,c="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,u=!c&&"center"!==t.horizontalPosition;return c?i.left("0"):u?i.right("0"):i.centerHorizontally(),"top"===t.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){return h.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:bI,useValue:r},{provide:TO,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(_I),h.LFG(Gq),h.LFG(h.zs3),h.LFG(CK),h.LFG(n,12),h.LFG(DK))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:xO}),n})();function xK(n,e){1&n&&(h.O4$(),h.kcU(),h.ynx(0),h._uU(1,"s"),h.BQk())}const kO=function(n){return{"item--cache-mobile":n}};function NK(n,e){if(1&n&&(h.TgZ(0,"th",13),h._uU(1),h.qZA()),2&n){const t=e.$implicit;h.Q6J("ngClass",h.VKq(2,kO,!1===t.visibleMobile)),h.xp6(1),h.Oqu(t.nom)}}function kK(n,e){if(1&n&&(h.TgZ(0,"p"),h._uU(1),h.qZA()),2&n){const t=h.oxw().$implicit,r=h.oxw().$implicit;h.xp6(1),h.Oqu(1==r[t.nameAttribut]?"Oui":"Non")}}function RK(n,e){if(1&n&&(h.TgZ(0,"p"),h._uU(1),h.qZA()),2&n){const t=h.oxw().$implicit,r=h.oxw().$implicit;h.xp6(1),h.Oqu(r[t.nameAttribut])}}function LK(n,e){if(1&n&&(h.TgZ(0,"td",17),h.YNc(1,kK,2,1,"p",4),h.YNc(2,RK,2,1,"p",4),h.qZA()),2&n){const t=e.$implicit;h.Q6J("ngClass",h.VKq(3,kO,!1===t.visibleMobile)),h.xp6(1),h.Q6J("ngIf","boolean"===t.type),h.xp6(1),h.Q6J("ngIf","boolean"!==t.type)}}function PK(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"tr",14)(1,"td",9)(2,"input",15),h.NdJ("click",function(i){const c=h.CHM(t).$implicit,u=h.oxw();return h.KtG(u.onChecked(i,c.id))}),h.qZA()(),h.YNc(3,LK,3,5,"td",16),h.qZA()}if(2&n){const t=e.$implicit,r=h.oxw();h.Q6J("routerLink",r.linkForForm+"/"+t.id),h.xp6(3),h.Q6J("ngForOf",r.columns)}}const OK=function(n){return{"ligne-action__supprimer--red":n}},zK=function(n){return{"ligne-action__poubelle--red":n}};let RO=(()=>{class n{constructor(){this.columns=[],this.data=[],this.linkForForm="",this.elementSupprimer=new h.vpe,this.tabSelected=new Set}ngOnInit(){}onChecked(t,r){t.stopPropagation(),this.tabSelected.has(r)?this.tabSelected.delete(r):this.tabSelected.add(r)}onDelete(){this.elementSupprimer.emit(this.tabSelected),this.tabSelected.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-datatable"]],inputs:{columns:"columns",data:"data",linkForForm:"linkForForm"},outputs:{elementSupprimer:"elementSupprimer"},decls:16,vars:11,consts:[[1,"ligne-action"],[1,"ligne-action__supprimer",3,"ngClass","click"],["width","24","height","24","xmlns","http://www.w3.org/2000/svg","fill-rule","evenodd","clip-rule","evenodd",1,"ligne-action__poubelle",3,"ngClass"],["d","M9 3h6v-1.75c0-.066-.026-.13-.073-.177-.047-.047-.111-.073-.177-.073h-5.5c-.066 0-.13.026-.177.073-.047.047-.073.111-.073.177v1.75zm11 1h-16v18c0 .552.448 1 1 1h14c.552 0 1-.448 1-1v-18zm-10 3.5c0-.276-.224-.5-.5-.5s-.5.224-.5.5v12c0 .276.224.5.5.5s.5-.224.5-.5v-12zm5 0c0-.276-.224-.5-.5-.5s-.5.224-.5.5v12c0 .276.224.5.5.5s.5-.224.5-.5v-12zm8-4.5v1h-2v18c0 1.105-.895 2-2 2h-14c-1.105 0-2-.895-2-2v-18h-2v-1h7v-2c0-.552.448-1 1-1h6c.552 0 1 .448 1 1v2h7z"],[4,"ngIf"],[1,"ligne-action__ajouter",3,"routerLink"],[1,"table"],[1,"table__head"],[1,"table__ligne","table__ligne--header"],[1,"item__checkbox"],["class","item--head",3,"ngClass",4,"ngFor","ngForOf"],[1,"table__body"],["class","table__ligne table__ligne--body",3,"routerLink",4,"ngFor","ngForOf"],[1,"item--head",3,"ngClass"],[1,"table__ligne","table__ligne--body",3,"routerLink"],["type","checkbox",1,"table__checkbox",3,"click"],["class","item--body",3,"ngClass",4,"ngFor","ngForOf"],[1,"item--body",3,"ngClass"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"p",1),h.NdJ("click",function(){return r.onDelete()}),h.O4$(),h.TgZ(2,"svg",2),h._UZ(3,"path",3),h.qZA(),h._uU(4),h.YNc(5,xK,2,0,"ng-container",4),h._uU(6," \xe0 supprimer"),h.qZA(),h.kcU(),h.TgZ(7,"a",5),h._uU(8,"+"),h.qZA()(),h.TgZ(9,"table",6)(10,"thead",7)(11,"tr",8),h._UZ(12,"th",9),h.YNc(13,NK,2,4,"th",10),h.qZA()(),h.TgZ(14,"tbody",11),h.YNc(15,PK,4,2,"tr",12),h.qZA()()),2&t&&(h.xp6(1),h.Q6J("ngClass",h.VKq(7,OK,r.tabSelected.size>0)),h.xp6(1),h.Q6J("ngClass",h.VKq(9,zK,r.tabSelected.size>0)),h.xp6(2),h.hij(" ",r.tabSelected.size," \xe9l\xe9ment"),h.xp6(1),h.Q6J("ngIf",r.tabSelected.size>1),h.xp6(2),h.Q6J("routerLink",r.linkForForm+"/nouveau"),h.xp6(6),h.Q6J("ngForOf",r.columns),h.xp6(2),h.Q6J("ngForOf",r.data))},dependencies:[nn,$r,un,X1,T6],styles:[".table[_ngcontent-%COMP%]{width:90%;margin-left:5%;display:flex;position:relative;padding:35px 0}.table__ligne[_ngcontent-%COMP%]{border-bottom:1px solid #989898}.table__ligne--header[_ngcontent-%COMP%]{position:absolute;top:-15px}.table__ligne--body[_ngcontent-%COMP%]:hover{background-color:#e7e7e7}.table__checkbox[_ngcontent-%COMP%]{display:none}.table__checkbox[_ngcontent-%COMP%]:checked{filter:hue-rotate(-71deg);display:block}.table__ligne--body[_ngcontent-%COMP%]:hover > .item__checkbox[_ngcontent-%COMP%] > .table__checkbox[_ngcontent-%COMP%]{display:block;line-height:20px}.table__body[_ngcontent-%COMP%]{display:block;overflow:scroll;height:50vh}.item[_ngcontent-%COMP%], .item--head[_ngcontent-%COMP%], .item--body[_ngcontent-%COMP%]{height:50px;min-width:120px;max-width:200px;line-height:22px;text-align:center;vertical-align:middle;color:#161616}.item__image[_ngcontent-%COMP%]{margin-top:10px;height:40px;object-fit:contain}.item--head[_ngcontent-%COMP%]{font-weight:700}.item__checkbox[_ngcontent-%COMP%]{width:21px;text-align:center;vertical-align:middle}.item--cache-mobile[_ngcontent-%COMP%]{display:none}@media (min-width: 740px){.item--cache-mobile[_ngcontent-%COMP%]{display:table-cell}}.ligne-action[_ngcontent-%COMP%]{display:none}@media (min-width: 740px){.ligne-action[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:90%;margin-left:5%;align-items:center}}.ligne-action__ajouter[_ngcontent-%COMP%]{background-color:#1ba8a8;color:#fcfcfd;font-size:25px;border-radius:5px;height:40px;padding-bottom:2px;width:40px;display:flex;justify-content:center;align-items:center}.ligne-action__poubelle[_ngcontent-%COMP%]{font-size:18px;margin-right:20px;fill:#cdcdcd}.ligne-action__poubelle--red[_ngcontent-%COMP%]{fill:#d90033}.ligne-action__supprimer[_ngcontent-%COMP%]{color:#cdcdcd;display:flex;align-items:center}.ligne-action__supprimer--red[_ngcontent-%COMP%]{color:#d90033;display:flex;align-items:center}"]}),n})(),Ny=(()=>{class n{constructor(t){this._location=t}ngOnInit(){}goBack(){this._location.back()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(De))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-go-back"]],decls:2,vars:0,consts:[[1,"go-back",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"p",0),h.NdJ("click",function(){return r.goBack()}),h._uU(1," < Retour"),h.qZA())},styles:[".go-back[_ngcontent-%COMP%]{align-self:flex-end;background-color:#dedede;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out;position:fixed;color:#262626}.go-back[_ngcontent-%COMP%]:hover{background-color:#c5c5c5}"]}),n})();function FK(n,e){if(1&n&&(h.TgZ(0,"h1",2),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.hij("Rayon : ",t.department.name," ")}}function VK(n,e){1&n&&(h.TgZ(0,"p",16),h._uU(1,"Vous devez rensigner le nom"),h.qZA())}function HK(n,e){1&n&&(h.TgZ(0,"p",16),h._uU(1,"Vous devez rensigner la description"),h.qZA())}function BK(n,e){if(1&n&&(h.TgZ(0,"option",19),h._uU(1),h.qZA()),2&n){const t=e.$implicit;h.Q6J("value",t.id),h.xp6(1),h.hij(" ",t.name," ")}}function UK(n,e){1&n&&(h.TgZ(0,"p",16),h._uU(1,"Vous devez rensigner le type de rayon"),h.qZA())}function jK(n,e){if(1&n&&(h.TgZ(0,"label",5)(1,"span",6),h._uU(2,"Type de Rayon*"),h.qZA(),h.TgZ(3,"select",17),h.YNc(4,BK,2,2,"option",18),h.YNc(5,UK,2,0,"p",8),h.qZA()()),2&n){const t=h.oxw(2);let r;h.xp6(4),h.Q6J("ngForOf",t.departmentTypes),h.xp6(1),h.Q6J("ngIf",(null==(r=t.form.get("idDepartmentType"))?null:r.hasError("required"))&&t.isSubmited)}}function GK(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"main",3)(1,"form",4),h.NdJ("ngSubmit",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.onSend())}),h.TgZ(2,"label",5)(3,"span",6),h._uU(4,"Nom*"),h.qZA(),h._UZ(5,"input",7),h.YNc(6,VK,2,0,"p",8),h.qZA(),h.TgZ(7,"label",5)(8,"span",6),h._uU(9,"Description*"),h.qZA(),h._UZ(10,"input",9),h.YNc(11,HK,2,0,"p",8),h.qZA(),h.YNc(12,jK,6,2,"label",10),h.TgZ(13,"label",5)(14,"span",6),h._uU(15,"Couleur*"),h.qZA(),h._UZ(16,"input",11),h.qZA(),h.TgZ(17,"div",12)(18,"button",13),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.deleteDepartment())}),h._uU(19,"Supprimer"),h.qZA(),h.TgZ(20,"button",14),h._uU(21,"Valider"),h.qZA()()(),h.TgZ(22,"app-datatable",15),h.NdJ("elementSupprimer",function(i){h.CHM(t);const s=h.oxw();return h.KtG(s.onDelete(i))}),h.qZA()()}if(2&n){const t=h.oxw();let r,i;h.xp6(1),h.Q6J("formGroup",t.form),h.xp6(5),h.Q6J("ngIf",(null==(r=t.form.get("name"))?null:r.hasError("required"))&&t.isSubmited),h.xp6(5),h.Q6J("ngIf",(null==(i=t.form.get("description"))?null:i.hasError("required"))&&t.isSubmited),h.xp6(1),h.Q6J("ngIf",t.departmentTypes),h.xp6(10),h.Q6J("columns",t.columns)("data",t.data)("linkForForm","/department/"+t.department.id+"/product")}}let $K=(()=>{class n{constructor(t,r,i,s,c,u,p){this._activatedRouter=t,this._departmentService=r,this._departmentTypeService=i,this._productService=s,this._snackBar=c,this._router=u,this.fb=p,this.idDepartment=null,this.departmentTypes=[],this.isSubmited=!1,this.data=[],this.columns=[{nom:"Nom",visibleMobile:!0,nameAttribut:"name",type:"texte"},{nom:"Prix",visibleMobile:!1,nameAttribut:"price",type:"texte"},{nom:"Code barre",visibleMobile:!1,nameAttribut:"barcode",type:"texte"}]}ngOnInit(){var t=this;return(0,ae.Z)(function*(){t._activatedRouter.params.subscribe(r=>{t.idDepartment=r.idDepartment}),t.initForm(),t.departmentTypes=t._departmentTypeService.get_all_department_type(),null!==t.idDepartment&&(t._productService.get_product_form_department(t.idDepartment)&&(t.subscription_data=t._productService.ProductFromDepartmentObservable.subscribe(r=>t.data=r)),t.department=yield t._departmentService.get_department_by_id(t.idDepartment),t.form&&t.department&&t.form.patchValue({id:t.department.id,name:t.department.name,description:t.department.description,idDepartmentType:t.department.idDepartmentType,color:t.department.color}))})()}initForm(){this.form=this.fb.group({id:[""],name:["",Sr.required],description:["",Sr.required],idDepartmentType:["",Sr.required],color:["",Sr.required]})}onSend(){if(this.isSubmited=!0,this.form?.valid){console.log(this.form?.value);let t=this.department;t?(t.color=this.form?.value.color,t.description=this.form?.value.description,t.idDepartmentType=this.form?.value.idDepartmentType,t.name=this.form?.value.name,this._departmentService.update_department(t)):this._snackBar.open("la modification du rayon \xe0 \xe9chou\xe9 veuillez r\xe9\xe9ssayer plus tard ! ","Ok "),this._router.navigate(["/admin"]),this.isSubmited=!1}}deleteDepartment(){this.department&&this._departmentService.delete_department(this.department),this._router.navigate(["/admin"])}onDelete(t){this.idDepartment&&t.forEach(r=>{this._productService.detached_product(r,this.idDepartment)})}ngOnDestroy(){this.subscription_data&&this.subscription_data.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ti),h.Y36(LP),h.Y36(wy),h.Y36(oI),h.Y36(NO),h.Y36(on),h.Y36(F2))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-department-form"]],decls:3,vars:2,consts:[["class","titre",4,"ngIf"],["class","main",4,"ngIf"],[1,"titre"],[1,"main"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-input"],[1,"form-input__label"],["value","","name","name","formControlName","name","id","name","type","text","placeholder","Nom*",1,"form-input__input"],["class","form-input__error",4,"ngIf"],["value","","name","description","formControlName","description","id","description","type","text","placeholder","Description*",1,"form-input__input"],["class","form-input",4,"ngIf"],["value","","name","color","formControlName","color","id","color","type","color","placeholder","color*",1,"form-input__color"],[1,"form__action"],[1,"form__supprimer",3,"click"],["type","submit",1,"form__valider"],[1,"main__tab",3,"columns","data","linkForForm","elementSupprimer"],[1,"form-input__error"],["formControlName","idDepartmentType",1,"form-input__input"],["size","5","class","form-input__option",3,"value",4,"ngFor","ngForOf"],["size","5",1,"form-input__option",3,"value"]],template:function(t,r){1&t&&(h._UZ(0,"app-go-back"),h.YNc(1,FK,2,1,"h1",0),h.YNc(2,GK,23,7,"main",1)),2&t&&(h.xp6(1),h.Q6J("ngIf",r.department),h.xp6(1),h.Q6J("ngIf",r.form&&r.department))},dependencies:[$r,un,N2,sc,g8,La,Bo,Fa,Vo,Ir,es,RO,Ny],styles:[".titre[_ngcontent-%COMP%]{font-size:35px;margin:40px 60px 25px 150px;font-weight:700}.form[_ngcontent-%COMP%]{width:40%;height:70vh;display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:20px;padding:0 5vw}.form__submit[_ngcontent-%COMP%]{background-color:#1ba8a8;border:1px solid #1BA8A8;color:#fff;font-size:1.2rem;padding:0 1rem;height:8vh;width:100%;max-width:400px}.form__error[_ngcontent-%COMP%]{color:red;text-align:center}.form__action[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0}.form__valider[_ngcontent-%COMP%]{align-self:flex-end;background-color:#0f550e;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.form__valider[_ngcontent-%COMP%]:hover{background-color:#072907}.form__supprimer[_ngcontent-%COMP%]{align-self:flex-end;background-color:#82291d;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.form__supprimer[_ngcontent-%COMP%]:hover{background-color:#581c14}.form-input[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-between;row-gap:5px;padding:10px 0}.form-input__label[_ngcontent-%COMP%]{font-weight:700;font-size:18px;margin-bottom:2px}.form-input__input[_ngcontent-%COMP%]{padding:0 1rem;background-color:#fcfcfd;height:6vh;color:#1ba8a8;border:1px solid #1BA8A8;width:70%;max-width:400px}.form-input__color[_ngcontent-%COMP%]{height:6vh;width:6vh;border:1px solid black;margin:0;padding:0}.form-input__error[_ngcontent-%COMP%]{color:red;text-align:center}.main[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.main__tab[_ngcontent-%COMP%]{width:50%;margin-right:20px}"]}),n})(),WK=(()=>{class n{constructor(t){this._departmentTypeService=t,this.columns=[{nom:"Nom",visibleMobile:!0,nameAttribut:"name",type:"texte"},{nom:"Favoris",visibleMobile:!1,nameAttribut:"favorite",type:"boolean"}],this.data=[]}ngOnInit(){this.data=this._departmentTypeService.get_all_department_type()}onDelete(t){t.forEach(r=>{this._departmentTypeService.deleteDepartementType(r)}),this.data=this._departmentTypeService.get_all_department_type()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(wy))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-departments-types"]],decls:3,vars:2,consts:[[1,"titre"],["linkForForm","/departmentsTypes",3,"columns","data","elementSupprimer"]],template:function(t,r){1&t&&(h.TgZ(0,"h1",0),h._uU(1,"Type de Rayons "),h.qZA(),h.TgZ(2,"app-datatable",1),h.NdJ("elementSupprimer",function(s){return r.onDelete(s)}),h.qZA()),2&t&&(h.xp6(2),h.Q6J("columns",r.columns)("data",r.data))},dependencies:[RO],styles:[".titre[_ngcontent-%COMP%]{font-size:35px;margin:40px 60px 25px 150px;font-weight:700}"]}),n})();function qK(n,e){if(1&n&&(h.TgZ(0,"h1",2),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.hij("Type de rayon : ",t.departmentType.name," ")}}function KK(n,e){1&n&&(h.TgZ(0,"p",12),h._uU(1,"Vous devez rensigner le nom"),h.qZA())}function ZK(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"main")(1,"form",3),h.NdJ("ngSubmit",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.onSend())}),h.TgZ(2,"label",4)(3,"span",5),h._uU(4,"Nom*"),h.qZA(),h._UZ(5,"input",6),h.YNc(6,KK,2,0,"p",7),h.qZA(),h.TgZ(7,"label",4)(8,"span",5),h._uU(9,"Favori*"),h.qZA(),h._UZ(10,"input",8),h.qZA(),h.TgZ(11,"div",9)(12,"button",10),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.deleteDepartment())}),h._uU(13,"Supprimer"),h.qZA(),h.TgZ(14,"button",11),h._uU(15,"Valider"),h.qZA()()()()}if(2&n){const t=h.oxw();let r;h.xp6(1),h.Q6J("formGroup",t.form),h.xp6(5),h.Q6J("ngIf",(null==(r=t.form.get("name"))?null:r.hasError("required"))&&t.isSubmited)}}let LO=(()=>{class n{constructor(t,r,i,s,c){this._activatedRouter=t,this._departmentTypeService=r,this._snackBar=i,this._router=s,this.fb=c,this.idDepartmentType=null,this.isSubmited=!1}ngOnInit(){var t=this;return(0,ae.Z)(function*(){t._activatedRouter.params.subscribe(r=>{void 0!==r.id&&(t.idDepartmentType=r.id)}),t.initForm(),null!==t.idDepartmentType&&(t.departmentType=yield t._departmentTypeService.get_department_type_by_id(t.idDepartmentType),t.form&&t.departmentType&&t.form.patchValue({id:t.departmentType.id,name:t.departmentType.name,favorite:t.departmentType.favorite}))})()}initForm(){this.form=this.fb.group({id:[""],name:["",Sr.required],favorite:[!1,Sr.required]})}onSend(){if(this.isSubmited=!0,this.form?.valid){if(console.log(this.form?.value),null===this.idDepartmentType){let t=new bc("",this.form?.value.name,this.form?.value.favorite);this._departmentTypeService.add_department_type(t),this._router.navigate(["/departmentsTypes"])}else{let t=this.departmentType;t?(t.name=this.form?.value.name,t.favorite=this.form?.value.favorite,this._departmentTypeService.update_department_type(t)):this._snackBar.open("la modification du rayon \xe0 \xe9chou\xe9 veuillez r\xe9\xe9ssayer plus tard ! ","Ok "),this._router.navigate(["/departmentsTypes"])}this.isSubmited=!1}}deleteDepartment(){this.departmentType&&this._departmentTypeService.deleteDepartementType(this.departmentType.id),this._router.navigate(["/departmentsTypes"])}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ti),h.Y36(wy),h.Y36(NO),h.Y36(on),h.Y36(F2))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-department-type-form"]],decls:3,vars:2,consts:[["class","titre",4,"ngIf"],[4,"ngIf"],[1,"titre"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-input"],[1,"form-input__label"],["value","","name","name","formControlName","name","id","name","type","text","placeholder","Nom*",1,"form-input__input"],["class","form-input__error",4,"ngIf"],["value","","name","favorite","formControlName","favorite","id","favorite","type","checkbox","placeholder","favorite*"],[1,"form__action"],[1,"form__supprimer",3,"click"],["type","submit",1,"form__valider"],[1,"form-input__error"]],template:function(t,r){1&t&&(h._UZ(0,"app-go-back"),h.YNc(1,qK,2,1,"h1",0),h.YNc(2,ZK,16,2,"main",1)),2&t&&(h.xp6(1),h.Q6J("ngIf",r.departmentType),h.xp6(1),h.Q6J("ngIf",r.form))},dependencies:[un,N2,La,Vu,Fa,Vo,Ir,es,Ny],styles:['.titre[_ngcontent-%COMP%]{font-size:35px;margin:40px 60px 25px 150px;font-weight:700}.form[_ngcontent-%COMP%]{width:40%;height:70vh;display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:20px;padding:0 5vw}.form__submit[_ngcontent-%COMP%]{background-color:#1ba8a8;border:1px solid #1BA8A8;color:#fff;font-size:1.2rem;padding:0 1rem;height:8vh;width:100%;max-width:400px}.form__error[_ngcontent-%COMP%]{color:red;text-align:center}.form__action[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0}.form__valider[_ngcontent-%COMP%]{align-self:flex-end;background-color:#0f550e;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.form__valider[_ngcontent-%COMP%]:hover{background-color:#072907}.form__supprimer[_ngcontent-%COMP%]{align-self:flex-end;background-color:#82291d;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.form__supprimer[_ngcontent-%COMP%]:hover{background-color:#581c14}.form-input[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-between;row-gap:5px;padding:10px 0}.form-input__label[_ngcontent-%COMP%]{font-weight:700;font-size:18px;margin-bottom:2px}.form-input__input[_ngcontent-%COMP%]{padding:0 1rem;background-color:#fcfcfd;height:6vh;color:#1ba8a8;border:1px solid #1BA8A8;width:70%;max-width:400px}.form-input__color[_ngcontent-%COMP%]{height:6vh;width:6vh;border:1px solid black;margin:0;padding:0}.form-input__error[_ngcontent-%COMP%]{color:red;text-align:center}input[type=checkbox][_ngcontent-%COMP%]{position:relative;width:40px;height:20px;-webkit-appearance:none;appearance:none;background:red;outline:none;border-radius:2rem;cursor:pointer;box-shadow:inset 0 0 5px #00000080}input[type=checkbox][_ngcontent-%COMP%]:before{content:"";width:20px;height:20px;border-radius:50%;background:#fff;position:absolute;top:0;left:0;transition:.5s}input[type=checkbox][_ngcontent-%COMP%]:checked:before{transform:translate(100%);background:#fff}input[type=checkbox][_ngcontent-%COMP%]:checked{background:#00ed64}']}),n})();function YK(n,e){1&n&&(h.TgZ(0,"p",3),h._uU(1," Il n'y a pas de produits \xe0 assigner \xe0 un rayon. "),h.qZA())}function QK(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"li",8)(1,"input",9),h.NdJ("click",function(i){const c=h.CHM(t).$implicit,u=h.oxw();return h.KtG(u.onChecked(i,c.id))}),h.qZA(),h._UZ(2,"img",10),h.TgZ(3,"p",11),h._uU(4),h.qZA()()}if(2&n){const t=e.$implicit,r=h.oxw();h.Q6J("routerLink","/department/"+r.id_department+"/product/"+t.id),h.xp6(2),h.s9C("alt",t.name),h.Q6J("src",t.image,h.LSH),h.xp6(2),h.AsE("",t.name," - ",t.price," \u20ac ")}}let XK=(()=>{class n{constructor(t,r,i,s){this._activatedRouter=t,this._productService=r,this._router=i,this._location=s,this.products=[],this.id_department=null,this.selectedId=new Set}ngOnInit(){this._activatedRouter.params.subscribe(t=>{this.id_department=t.idDepartment}),this.products=this._productService.get_product_without_department()}onChecked(t,r){t.stopPropagation(),this.selectedId.has(r)?this.selectedId.delete(r):this.selectedId.add(r)}goBack(){this._location.back()}confirm(){0!=this.selectedId.size?(this.selectedId.forEach(t=>{let r=this.products.find(i=>i.id==t);void 0!==r&&null!==this.id_department&&(r.idDepartment=this.id_department,this._productService.update_product(r,this.id_department))}),this._location.back()):alert("Vous devez s\xe9lectionner au moins un produit")}create(){this._router.navigate(["department/"+this.id_department+"/product/create"])}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ti),h.Y36(oI),h.Y36(on),h.Y36(De))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-products"]],decls:13,vars:2,consts:[[1,"titre"],[1,"btn__creer",3,"click"],["class","product",4,"ngIf"],[1,"product"],["class","product-item",3,"routerLink",4,"ngFor","ngForOf"],[1,"btn"],[1,"btn__annuler",3,"click"],[1,"btn__valider",3,"click"],[1,"product-item",3,"routerLink"],["type","checkbox","name","product","id","product",1,"product-item__checkbox",3,"click"],[1,"product-item__image",3,"src","alt"],[1,"product-item__name"]],template:function(t,r){1&t&&(h._UZ(0,"app-go-back"),h.TgZ(1,"h1",0),h._uU(2," Ajout de produit "),h.qZA(),h.TgZ(3,"button",1),h.NdJ("click",function(){return r.create()}),h._uU(4,"Cr\xe9er un nouveau porduit"),h.qZA(),h.YNc(5,YK,2,0,"p",2),h.TgZ(6,"ul",3),h.YNc(7,QK,5,5,"li",4),h.qZA(),h.TgZ(8,"div",5)(9,"button",6),h.NdJ("click",function(){return r.goBack()}),h._uU(10,"Annuler"),h.qZA(),h.TgZ(11,"button",7),h.NdJ("click",function(){return r.confirm()}),h._uU(12,"Valider"),h.qZA()()),2&t&&(h.xp6(5),h.Q6J("ngIf",0==r.products.length),h.xp6(2),h.Q6J("ngForOf",r.products))},dependencies:[$r,un,X1,Ny],styles:[".titre[_ngcontent-%COMP%]{font-size:35px;margin:40px 60px 25px 150px;font-weight:700}.product[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;align-items:center;padding:50px}.product-item[_ngcontent-%COMP%]{border:1px solid #1BA8A8;border-radius:20px;width:100px;height:150px;position:relative;display:flex;flex-direction:column;justify-content:space-between;align-items:center;padding:25px}.product-item__checkbox[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px}.product-item__image[_ngcontent-%COMP%]{margin-top:30px;width:100%;border-radius:20px}.product-item__name[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;font-weight:700;color:#1ba8a8}.btn[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;position:fixed;bottom:0;right:0}.btn__valider[_ngcontent-%COMP%]{align-self:flex-end;background-color:#0f550e;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.btn__valider[_ngcontent-%COMP%]:hover{background-color:#072907}.btn__annuler[_ngcontent-%COMP%]{align-self:flex-end;background-color:#cacaca;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.btn__annuler[_ngcontent-%COMP%]:hover{background-color:#b1b1b1}.btn__creer[_ngcontent-%COMP%]{align-self:flex-end;background-color:#2e343e;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out;position:fixed;right:40px;top:80px;font-size:15px}.btn__creer[_ngcontent-%COMP%]:hover{background-color:#181b21}"]}),n})();const PO="firebasestorage.googleapis.com",OO="storageBucket";class Yn extends j.ZR{constructor(e,t,r=0){super(wI(e),`Firebase Storage: ${t} (${wI(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function wI(n){return"storage/"+n}function EI(){return new Yn("unknown","An unknown error occurred, please check the error payload for server response.")}function zO(){return new Yn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function FO(){return new Yn("canceled","User canceled the upload/download.")}function VO(){return new Yn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function MI(n){return new Yn("invalid-argument",n)}function HO(){return new Yn("app-deleted","The Firebase app was deleted.")}function r7(n,e){return new Yn("invalid-format","String does not match format '"+n+"': "+e)}function i7(n){throw new Yn("internal-error","Internal error: "+n)}class Vi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Vi.makeFromUrl(e,t)}catch{return new Vi(e,"")}if(""===r.path)return r;throw function cZ(n){return new Yn("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",u=new RegExp("^gs://"+i+"(/(.*))?$","i");function v(Ie){Ie.path_=decodeURIComponent(Ie.path)}const M=t.replace(/[.]/g,"\\."),Oe=[{regex:u,indices:{bucket:1,path:3},postModify:function s(Ie){"/"===Ie.path.charAt(Ie.path.length-1)&&(Ie.path_=Ie.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===PO?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let Ie=0;Ie<Oe.length;Ie++){const Je=Oe[Ie],Qe=Je.regex.exec(e);if(Qe){let Xn=Qe[Je.indices.path];Xn||(Xn=""),r=new Vi(Qe[Je.indices.bucket],Xn),Je.postModify(r);break}}if(null==r)throw function aZ(n){return new Yn("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class pZ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ky(n){return"string"==typeof n||n instanceof String}function BO(n){return SI()&&n instanceof Blob}function SI(){return typeof Blob<"u"&&!(0,j.UG)()}function II(n,e,t,r){if(r<e)throw MI(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw MI(`Invalid value for '${n}'. Expected ${t} or less.`)}function Mc(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function UO(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var wl=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(wl||(wl={})),wl))();function jO(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}class CZ{constructor(e,t,r,i,s,c,u,p,v,b,M,D=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=u,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=b,this.connectionFactory_=M,this.retry=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,R)=>{this.resolve_=N,this.reject_=R,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,c=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(u,u.getResponse());!function vZ(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==u){const p=EI();p.serverResponse=u.getErrorText(),c(this.errorCallback_?this.errorCallback_(u,p):p)}else c(i.canceled?this.appDelete_?HO():FO():zO())};this.canceled_?t(0,new Ry(!1,null,!0)):this.backoffId_=function mZ(n,e,t){let r=1,i=null,s=null,c=!1,u=0;function p(){return 2===u}let v=!1;function b(...$){v||(v=!0,e.apply(null,$))}function M($){i=setTimeout(()=>{i=null,n(N,p())},$)}function D(){s&&clearTimeout(s)}function N($,...fe){if(v)return void D();if($)return D(),void b.call(null,$,...fe);if(p()||c)return D(),void b.call(null,$,...fe);let Oe;r<64&&(r*=2),1===u?(u=2,Oe=0):Oe=1e3*(r+Math.random()),M(Oe)}let R=!1;function V($){R||(R=!0,D(),!v&&(null!==i?($||(u=2),clearTimeout(i),M(0)):$||(u=1)))}return M(0),s=setTimeout(()=>{c=!0,V(!0)},t),V}((r,i)=>{if(i)return void r(!1,new Ry(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=u=>{null!==this.progressCallback_&&this.progressCallback_(u.loaded,u.lengthComputable?u.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const u=s.getErrorCode()===wl.NO_ERROR,p=s.getStatus();if((!u||jO(p,this.additionalRetryCodes_))&&this.retry){const b=s.getErrorCode()===wl.ABORT;return void r(!1,new Ry(!1,null,b))}const v=-1!==this.successCodes_.indexOf(p);r(!0,new Ry(v,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function gZ(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ry{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function IZ(...n){const e=function SZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(SI())return new Blob(n);throw new Yn("unsupported-environment","This browser doesn't seem to support creating Blobs")}class DI{constructor(e,t){this.data=e,this.contentType=t||null}}function $O(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function WO(n,e){switch(n){case"base64":{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw r7(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw r7(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function TZ(n){if(typeof atob>"u")throw function dZ(n){return new Yn("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:r7(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class qO{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw r7("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function RZ(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Sc{constructor(e,t){let r=0,i="";BO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(BO(this.data_)){const i=function DZ(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Sc(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Sc(r,!0)}}static getBlob(...e){if(SI()){const t=e.map(r=>r instanceof Sc?r.data_:r);return new Sc(IZ.apply(null,t))}{const t=e.map(c=>ky(c)?function GO(n,e){switch(n){case"raw":return new DI($O(e));case"base64":case"base64url":return new DI(WO(n,e));case"data_url":return new DI(function NZ(n){const e=new qO(n);return e.base64?WO("base64",e.rest):function xZ(n){let e;try{e=decodeURIComponent(n)}catch{throw r7("data_url","Malformed data URL.")}return $O(e)}(e.rest)}(e),function kZ(n){return new qO(n).contentType}(e))}throw EI()}("raw",c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(c=>{for(let u=0;u<c.length;u++)i[s++]=c[u]}),new Sc(i,!0)}}uploadData(){return this.data_}}function TI(n){let e;try{e=JSON.parse(n)}catch{return null}return function yZ(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function KO(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function OZ(n,e){return e}class Hi{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||OZ}}let Ly=null;function s7(){if(Ly)return Ly;const n=[];n.push(new Hi("bucket")),n.push(new Hi("generation")),n.push(new Hi("metageneration")),n.push(new Hi("name","fullPath",!0));const t=new Hi("name");t.xform=function e(s,c){return function zZ(n){return!ky(n)||n.length<2?n:KO(n)}(c)},n.push(t);const i=new Hi("size");return i.xform=function r(s,c){return void 0!==c?Number(c):c},n.push(i),n.push(new Hi("timeCreated")),n.push(new Hi("updated")),n.push(new Hi("md5Hash",null,!0)),n.push(new Hi("cacheControl",null,!0)),n.push(new Hi("contentDisposition",null,!0)),n.push(new Hi("contentEncoding",null,!0)),n.push(new Hi("contentLanguage",null,!0)),n.push(new Hi("contentType",null,!0)),n.push(new Hi("metadata","customMetadata",!0)),Ly=n,Ly}function ZO(n,e,t){const r=TI(e);return null===r?null:function VZ(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const c=t[s];r[c.local]=c.xform(r,e[c.server])}return function FZ(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Vi(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function xI(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}class e1{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function t1(n){if(!n)throw EI()}function Py(n,e){return function t(r,i){const s=ZO(n,i,e);return t1(null!==s),s}}function ed(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function sZ(){return new Yn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function iZ(){return new Yn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function rZ(n){return new Yn("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function oZ(n){return new Yn("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function o7(n){const e=ed(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function nZ(n){return new Yn("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function ez(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function ZZ(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class Oy{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function NI(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{t1(!1)}return t1(!!t&&-1!==(e||["active"]).indexOf(t)),t}function kI(n){switch(n){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";default:return"error"}}class JZ{constructor(e,t,r){if(function _Z(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function td(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class tY extends class eY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw i7("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw i7("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw i7("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw i7("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw i7("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Xo(){return new tY}class oY{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=s7(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(jO(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=zO()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function YZ(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),c=ez(e,r,i),u={name:c.fullPath},p=Mc(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},M=xI(c,t),R=new e1(p,"POST",function N(V){let $;NI(V);try{$=V.getResponseHeader("X-Goog-Upload-URL")}catch{t1(!1)}return t1(ky($)),$},n.maxUploadRetryTime);return R.urlParams=u,R.headers=b,R.body=M,R.errorHandler=ed(e),R}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Xo,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function QZ(n,e,t,r){const p=new e1(t,"POST",function s(v){const b=NI(v,["active","final"]);let M=null;try{M=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{t1(!1)}M||t1(!1);const D=Number(M);return t1(!isNaN(D)),new Oy(D,r.size(),"final"===b)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=ed(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Xo,t,r);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new Oy(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let c;try{c=function XZ(n,e,t,r,i,s,c,u){const p=new Oy(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=r.size()),r.size()!==p.total)throw function uZ(){return new Yn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const v=p.total-p.current;let b=v;i>0&&(b=Math.min(b,i));const M=p.current;let N="";N=0===b?"finalize":v===b?"upload, finalize":"upload";const R={"X-Goog-Upload-Command":N,"X-Goog-Upload-Offset":`${p.current}`},V=r.slice(M,M+b);if(null===V)throw VO();const Oe=new e1(t,"POST",function $(Ie,Je){const Qe=NI(Ie,["active","final"]),zt=p.current+b,Xn=r.size();let Ui;return Ui="final"===Qe?Py(e,s)(Ie,Je):null,new Oy(zt,Xn,"final"===Qe,Ui)},e.maxUploadRetryTime);return Oe.headers=R,Oe.body=V.uploadData(),Oe.progressCallback=u||null,Oe.errorHandler=ed(n),Oe}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const u=this._ref.storage._makeRequest(c,Xo,i,s,!1);this._request=u,u.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=function XO(n,e,t){const i=Mc(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,u=new e1(i,"GET",Py(n,t),c);return u.errorHandler=o7(e),u}(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Xo,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function tz(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function u(){let Oe="";for(let Ie=0;Ie<2;Ie++)Oe+=Math.random().toString().slice(2);return Oe}();c["Content-Type"]="multipart/related; boundary="+p;const v=ez(e,r,i),b=xI(v,t),N=Sc.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+p+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+p+"--");if(null===N)throw VO();const R={name:v.fullPath},V=Mc(s,n.host,n._protocol),fe=n.maxUploadRetryTime,Te=new e1(V,"POST",Py(n,t),fe);return Te.urlParams=R,Te.headers=c,Te.body=N.uploadData(),Te.errorHandler=ed(e),Te}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Xo,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=FO(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=kI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new JZ(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(kI(this._state)){case"success":td(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":td(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(kI(this._state)){case"running":case"paused":e.next&&td(e.next.bind(e,this.snapshot))();break;case"success":e.complete&&td(e.complete.bind(e))();break;default:e.error&&td(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class o0{constructor(e,t){this._service=e,this._location=t instanceof Vi?t:Vi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new o0(e,t)}get root(){const e=new Vi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KO(this._location.path)}get storage(){return this._service}get parent(){const e=function LZ(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Vi(this._location.bucket,e);return new o0(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function fZ(n){return new Yn("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function pY(n){n._throwIfRoot("getDownloadURL");const e=function WZ(n,e,t){const i=Mc(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,u=new e1(i,"GET",function GZ(n,e){return function t(r,i){const s=ZO(n,i,e);return t1(null!==s),function HZ(n,e,t,r){const i=TI(e);if(null===i||!ky(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(v=>{const M=n.fullPath;return Mc("/b/"+c(n.bucket)+"/o/"+c(M),t,r)+UO({alt:"media",token:v})})[0]}(s,i,n.host,n._protocol)}}(n,t),c);return u.errorHandler=o7(e),u}(n.storage,n._location,s7());return n.storage.makeRequestWithTokens(e,Xo).then(t=>{if(null===t)throw function hZ(){return new Yn("no-download-url","The given file does not have any download URLs.")}();return t})}function cz(n,e){if(n instanceof LI){const t=n;if(null==t._bucket)throw function lZ(){return new Yn("no-default-bucket","No default bucket found. Did you set the '"+OO+"' property when initializing the app?")}();const r=new o0(t,t._bucket);return null!=e?cz(r,e):r}return void 0!==e?function az(n,e){const t=function PZ(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Vi(n._location.bucket,t);return new o0(n.storage,r)}(n,e):n}function lz(n,e){const t=e?.[OO];return null==t?null:Vi.makeFromBucketSpec(t,n)}class LI{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=PO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Vi.makeFromBucketSpec(i,this._host):lz(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Vi.makeFromBucketSpec(this._url,e):lz(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){II("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){II("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ae.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ae.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new o0(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new pZ(HO());{const c=function MZ(n,e,t,r,i,s,c=!0){const u=UO(n.urlParams),p=n.url+u,v=Object.assign({},n.headers);return function wZ(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function AZ(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function bZ(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,s),function EZ(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new CZ(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,c)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var r=this;return(0,ae.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const uz="@firebase/storage",dz="storage";function CY(n,e,t){return function lY(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new oY(n,new Sc(e),t)}(n=(0,j.m9)(n),e,t)}function AY(n){return pY(n=(0,j.m9)(n))}function bY(n,e){return function _Y(n,e){if(e&&function gY(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof LI)return function vY(n,e){return new o0(n,e)}(n,e);throw MI("To use ref(service, url), the first argument must be a Storage instance.")}return cz(n,e)}(n=(0,j.m9)(n),e)}function wY(n=(0,mt.getApp)(),e){n=(0,j.m9)(n);const r=(0,mt._getProvider)(n,dz).getImmediate({identifier:e}),i=(0,j.P0)("storage");return i&&function EY(n,e,t,r={}){!function yY(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,j.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function MY(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new LI(t,r,i,e,mt.SDK_VERSION)}!function SY(){(0,mt._registerComponent)(new Li.wA(dz,MY,"PUBLIC").setMultipleInstances(!0)),(0,mt.registerVersion)(uz,"0.9.14",""),(0,mt.registerVersion)(uz,"0.9.14","esm2017")}();class zy{constructor(e){return e}}const fz="storage",PI=new h.OlP("angularfire2.storage-instances");function TY(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new zy(r)}}const xY={provide:class IY{constructor(){return Y2(fz)}},deps:[[new h.FiY,PI]]},NY={provide:zy,useFactory:function DY(n,e){const t=Z2(fz,n,e);return t&&new zy(t)},deps:[[new h.FiY,PI],pc]};let kY=(()=>{class n{constructor(){(0,mt.registerVersion)("angularfire",dc.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[NY,xY]}),n})();function RY(n,...e){return{ngModule:kY,providers:[{provide:PI,useFactory:TY(n),multi:!0,deps:[h.R0b,h.zs3,Q2,Ga,[new h.FiY,K5],[new h.FiY,sl],...e]}]}}const pz=Pr(AY,!0),LY=Pr(wY,!0),PY=Pr(bY,!0),OY=Pr(CY,!0);function zY(n,e){1&n&&(h.TgZ(0,"p",15),h._uU(1,"Vous devez rensigner le nom"),h.qZA())}function FY(n,e){1&n&&(h.TgZ(0,"p",15),h._uU(1,"Vous devez rensigner la description"),h.qZA())}function VY(n,e){1&n&&(h.TgZ(0,"p",15),h._uU(1,"Vous devez rensigner le prix"),h.qZA())}function HY(n,e){1&n&&(h.TgZ(0,"p",15),h._uU(1,"Vous devez rensigner le code barre"),h.qZA())}function BY(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"form",4),h.NdJ("ngSubmit",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.onSend())}),h.TgZ(1,"label",5)(2,"span",6),h._uU(3,"Nom*"),h.qZA(),h._UZ(4,"input",7),h.YNc(5,zY,2,0,"p",8),h.qZA(),h.TgZ(6,"label",5)(7,"span",6),h._uU(8,"Description*"),h.qZA(),h._UZ(9,"input",9),h.YNc(10,FY,2,0,"p",8),h.qZA(),h.TgZ(11,"label",5)(12,"span",6),h._uU(13,"Prix*"),h.qZA(),h._UZ(14,"input",10),h.YNc(15,VY,2,0,"p",8),h.qZA(),h.TgZ(16,"label",5)(17,"span",6),h._uU(18,"Code barre*"),h.qZA(),h._UZ(19,"input",11),h.YNc(20,HY,2,0,"p",8),h.qZA(),h.TgZ(21,"div",12)(22,"button",13),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.deleteProduct())}),h._uU(23,"Supprimer"),h.qZA(),h.TgZ(24,"button",14),h._uU(25,"Valider"),h.qZA()()()}if(2&n){const t=h.oxw();let r,i,s,c;h.Q6J("formGroup",t.form),h.xp6(5),h.Q6J("ngIf",(null==(r=t.form.get("name"))?null:r.hasError("required"))&&t.isSubmited),h.xp6(5),h.Q6J("ngIf",(null==(i=t.form.get("description"))?null:i.hasError("required"))&&t.isSubmited),h.xp6(5),h.Q6J("ngIf",(null==(s=t.form.get("price"))?null:s.hasError("required"))&&t.isSubmited),h.xp6(5),h.Q6J("ngIf",(null==(c=t.form.get("barcode"))?null:c.hasError("required"))&&t.isSubmited)}}function UY(n,e){if(1&n&&h._UZ(0,"img",19),2&n){const t=h.oxw(2);let r;h.Q6J("src",null==(r=t.form.get("image"))?null:r.value,h.LSH)}}function jY(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",20),h.NdJ("click",function(){h.CHM(t);const i=h.oxw(2);return h.KtG(i.deleteImg())}),h._uU(1," Supprimer l'image"),h.qZA()}}function GY(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"input",21),h.NdJ("change",function(i){h.CHM(t);const s=h.oxw(2);return h.KtG(s.onFileChange(i))}),h.qZA()}}function $Y(n,e){1&n&&(h.TgZ(0,"p",15),h._uU(1,"Vous devez rensigner l'image"),h.qZA())}function WY(n,e){if(1&n&&(h.TgZ(0,"section")(1,"label",5)(2,"span",6),h._uU(3,"Image*"),h.qZA(),h.YNc(4,UY,1,1,"img",16),h.YNc(5,jY,2,0,"button",17),h.YNc(6,GY,1,0,"input",18),h.YNc(7,$Y,2,0,"p",8),h.qZA()()),2&n){const t=h.oxw();let r,i,s,c;h.xp6(4),h.Q6J("ngIf",null==(r=t.form.get("image"))?null:r.value),h.xp6(1),h.Q6J("ngIf",null==(i=t.form.get("image"))?null:i.value),h.xp6(1),h.Q6J("ngIf",!(null!=(s=t.form.get("image"))&&s.value)),h.xp6(1),h.Q6J("ngIf",(null==(c=t.form.get("image"))?null:c.hasError("required"))&&t.isSubmited)}}let mz=(()=>{class n{constructor(t,r,i,s){this._activatedRouter=t,this._productService=r,this.fb=i,this._location=s,this.idProduct=null,this.isSubmited=!1,this.storage=(0,h.f3M)(zy)}ngOnInit(){var t=this;return(0,ae.Z)(function*(){t._activatedRouter.params.subscribe(r=>{t.idProduct=r.idProduct}),t.initForm(),null!=t.idProduct&&(t.product=yield t._productService.get_product_by_id(t.idProduct),t.form&&t.product&&t.form.patchValue({id:t.product.id,name:t.product.name,description:t.product.description,price:t.product.price,barcode:t.product.barcode,image:t.product.image}))})()}initForm(){this.form=this.fb.group({id:[""],name:["",Sr.required],description:["",Sr.required],price:["",Sr.required],barcode:["",Sr.required],image:["",Sr.required]})}onSend(){if(this.isSubmited=!0,this.form?.valid){console.log(this.form?.value);let t=this.product;if(t)t.barcode=this.form?.value.barcode,t.price=this.form?.value.price,t.image=this.form?.value.image,t.description=this.form?.value.description,t.name=this.form?.value.name,this._productService.update_product(t);else{let r=new wc("",this.form?.value.name,this.form?.value.description,this.form?.value.price,this.form?.value.barcode,"",this.form?.value.image);this._productService.create_product(r)}this._location.back(),this.isSubmited=!1}}deleteProduct(){this.idProduct&&this._productService.delete_product(this.idProduct),this._location.back()}onFileChange(t){var r=this;return(0,ae.Z)(function*(){if(t.target.files.length>0){let i=t.target.files;for(let s=0;s<i.length;s++){const c=i.item(s);if(c){const u=PY(r.storage,c.name);let p=OY(u,c);yield p,r.form?.get("image")?.setValue(yield pz(p.snapshot.ref)),r.form.value.image=yield pz(p.snapshot.ref)}}}})()}deleteImg(){this.form?.get("image")?.setValue("")}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ti),h.Y36(oI),h.Y36(F2),h.Y36(De))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-product-form"]],decls:6,vars:2,consts:[[1,"titre"],[1,"product"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-input"],[1,"form-input__label"],["value","","name","name","formControlName","name","id","name","type","text","placeholder","Nom*",1,"form-input__input"],["class","form-input__error",4,"ngIf"],["value","","name","description","formControlName","description","id","description","type","text","placeholder","Description*",1,"form-input__input"],["value","","name","price","formControlName","price","id","price","type","number","placeholder","Prix*",1,"form-input__input"],["value","","name","barcode","formControlName","barcode","id","barcode","type","text","placeholder","Code barre*",1,"form-input__input"],[1,"form__action"],[1,"form__supprimer",3,"click"],["type","submit",1,"form__valider"],[1,"form-input__error"],["alt","image","class","product-image",3,"src",4,"ngIf"],["class","product-image__delete",3,"click",4,"ngIf"],["type","file",3,"change",4,"ngIf"],["alt","image",1,"product-image",3,"src"],[1,"product-image__delete",3,"click"],["type","file",3,"change"]],template:function(t,r){1&t&&(h._UZ(0,"app-go-back"),h.TgZ(1,"h1",0),h._uU(2," Ajout de produit "),h.qZA(),h.TgZ(3,"main",1),h.YNc(4,BY,26,5,"form",2),h.YNc(5,WY,8,4,"section",3),h.qZA()),2&t&&(h.xp6(4),h.Q6J("ngIf",r.form),h.xp6(1),h.Q6J("ngIf",r.form))},dependencies:[un,N2,La,f8,Fa,Vo,Ir,es,Ny],styles:[".titre[_ngcontent-%COMP%]{font-size:35px;margin:40px 60px 25px 150px;font-weight:700}.form[_ngcontent-%COMP%]{width:40%;height:70vh;display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:20px;padding:0 5vw}.form__submit[_ngcontent-%COMP%]{background-color:#1ba8a8;border:1px solid #1BA8A8;color:#fff;font-size:1.2rem;padding:0 1rem;height:8vh;width:100%;max-width:400px}.form__error[_ngcontent-%COMP%]{color:red;text-align:center}.form__action[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0}.form__valider[_ngcontent-%COMP%]{align-self:flex-end;background-color:#0f550e;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.form__valider[_ngcontent-%COMP%]:hover{background-color:#072907}.form__supprimer[_ngcontent-%COMP%]{align-self:flex-end;background-color:#82291d;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.form__supprimer[_ngcontent-%COMP%]:hover{background-color:#581c14}.form-input[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-between;row-gap:5px;padding:10px 0}.form-input__label[_ngcontent-%COMP%]{font-weight:700;font-size:18px;margin-bottom:2px}.form-input__input[_ngcontent-%COMP%]{padding:0 1rem;background-color:#fcfcfd;height:6vh;color:#1ba8a8;border:1px solid #1BA8A8;width:70%;max-width:400px}.form-input__color[_ngcontent-%COMP%]{height:6vh;width:6vh;border:1px solid black;margin:0;padding:0}.form-input__error[_ngcontent-%COMP%]{color:red;text-align:center}.product[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;align-items:center}.product-image[_ngcontent-%COMP%]{max-width:400px;border-radius:20px}.product-image__delete[_ngcontent-%COMP%]{align-self:flex-end;background-color:#82291d;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out;align-self:center}.product-image__delete[_ngcontent-%COMP%]:hover{background-color:#581c14}"]}),n})();const qY=[{path:"",component:RB},{path:"login",component:DB},{path:"forgot-password",component:NB},{path:"home",component:kB,canActivate:[Yp]},{path:"admin/:departmentType",component:PP,canActivate:[Yp]},{path:"admin",component:PP,canActivate:[Yp]},{path:"department/:idDepartment",canActivate:[Yp],children:[{path:"",component:$K},{path:"product",children:[{path:"create",component:mz},{path:"nouveau",component:XK},{path:":idProduct",component:mz}]}]},{path:"departmentsTypes",canActivate:[Yp],children:[{path:"",component:WK},{path:"nouveau",component:LO},{path:":id",component:LO}]},{path:"**",redirectTo:"login"}];let KY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Fu.forRoot(qY,{scrollPositionRestoration:"enabled"}),Fu]}),n})();var gz={prefix:"fas",iconName:"bars",icon:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"]},vz={prefix:"fas",iconName:"x-ray",icon:[640,512,[],"f497","M240 384c-8.8 0-16 7.2-16 16s7.2 16 16 16 16-7.2 16-16-7.2-16-16-16zm160 32c8.8 0 16-7.2 16-16s-7.2-16-16-16-16 7.2-16 16 7.2 16 16 16zM624 0H16C7.2 0 0 7.2 0 16v32c0 8.8 7.2 16 16 16h608c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16zm0 448h-48V96H64v352H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h608c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM480 248c0 4.4-3.6 8-8 8H336v32h104c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H336v32h64c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48v-16h-64v16c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48h64v-32H200c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h104v-32H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h136v-32H200c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h104v-24c0-4.4 3.6-8 8-8h16c4.4 0 8 3.6 8 8v24h104c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H336v32h136c4.4 0 8 3.6 8 8v16z"]};function w6e(n,e){if(1&n&&(h.TgZ(0,"li",18)(1,"a",12),h._uU(2),h.qZA()()),2&n){const t=e.$implicit;h.Q6J("routerLink","/admin/"+t.id),h.xp6(2),h.Oqu(t.name)}}let E6e=(()=>{class n{constructor(t,r,i){this._router=t,this.authentificationService=r,this.departementTypeService=i,this.burger=gz,this.cross=vz,this.menuIsOpen=!1,this.email=null,this.departementsTypes=[]}ngOnInit(){this.menuIsOpen=window.innerWidth>740,this.email=this.authentificationService.getEmail(),this.departementsTypes=this.departementTypeService.get_favorite_department_type()}toogleMenu(t){t.stopPropagation(),this.menuIsOpen=!this.menuIsOpen}onCloseMenu(){window.innerWidth<=740&&(this.menuIsOpen=!1)}signOut(){this.authentificationService.signOut(),this._router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(on),h.Y36(al),h.Y36(wy))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-nav"]],decls:27,vars:2,consts:[[1,"header"],["src","assets/logo_blanc.png","alt","Logo",1,"header__logo"],[1,"header__info"],["src","assets/deconnexion.png","alt","Logo",1,"header__img",3,"click"],[1,"nav"],[1,"menu"],["routerLinkActive","nav__titre--active","routerLink","/home",1,"nav__titre"],["width","33","height","18","viewBox","0 0 33 18","fill","none","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"nav__svg"],["width","32.6038","height","18","fill","url(#pattern0)"],["id","pattern0","patternContentUnits","objectBoundingBox","width","1","height","1"],[0,"xlink","href","#image0_1_20","transform","matrix(0.00195312 0 0 0.00353774 0 -0.40566)"],["id","image0_1_20","width","512","height","512",0,"xlink","href","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAgAElEQVR4nO3de9yvU53/8dk223Y+JOdUzmciNQkVJploUhkqOZQwTSUZya+TFDoKRYnM0GnSFNVUJKTUEJGGhOgkOZbzIenze6/WfbNn24fvfd/fz/W+ruv7ej4en396aN/fz+f6rHV9D9da6+/+DgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQchGxmGIZxZMVq4/FhorNx2I7xfaKHRW7jsWOY//bdrP8dxvO8v9/8ti/uZg7PwAAek833GmKlRXPGrtJv0bxFsX7FCcqzlCcr7hScZPiwcj34NjfunLsb39p7LUcoThQscfYa33W2Guf5q4jAACtM/bJunziLp/ED1UcN3Zjv0xxXwM39GwPK25QnKs4SXG4Yr+o3ziUbxcWcF8DAABS6CY3XbFO1Jt8+fR+puJqxQOGG3LblBqUWpSalG8RXqFYWzHdfd0AABiYblxLK7aK+im3fJq/KPrxSb5p5ZuD8sbg9KjfjOysWNF9fQEAKDf7RRTbKA5TfENxs+tuOUJ+H7XWpeZbKxZx9wEAoOd0s1kh6ifRD0T9ZP+Q7TaIcY9EfV6ifNuyp2I1d58AADpON5O1FPsrTlP80nePwwRdr/gPxesVa7j7CADQclG/0i9Pp5dP+Fcbb2AYrrIKoaxAKA9hLuHuMwBAC0RdilYe2CtL7+413qTQjLKPQVmSWB4s3NzdfwCAhmjSn6nYKermNTcab0Roh/LtwAmKFysWdvcnAGCIoq7DL0vzytfAdxlvNmi30htl2WF50HOGu28BAJMQj9/0y9PhtxlvKuimP8XjbwYWcvczAGAeNFEvEI/f9G8x3jzQL3cGbwYAoH00KW+gOFZxq/MugZFQ3lgeo1jf3fcAMJKiPsxXlnWVJ7r/6rwjYGSVDYjKChKOSQaAbJps14+6Tv9O69QPPO7uqA+YbuYeHwDQK5pYl4j6Sesi6zQPzF/5VuBAxbLucQMAnRX1CN1PBafpoXvKplKfVKztHkcA0BlRn+QvO/P9xTqFA1P3aNTTC7d3jysAaKWoS/jKMqsfWadrIM9Pop5YuKB7vAGAnSbDxaP+vn+tdWoGmvOrqGcRLOUefwDQOE1+K0V9mv9Pzpm4g8pvy79WXKr4tuJzUTc+erfiXxW7RT3RsPyMsvlYrB310KOnK5YZi8VmuRaLzfK/P33sv117lv//1mP/5u5jf+PdY3/zc2Ov4dKx18RhShPzR8XRihWcYxEAGqHJ7smKjyjut0697XWz4oeKzyuOVOwb9ea7ZnTgsJryGsde6z8oXj+WQ8nlR2O54YnKWPiQYjn39QOAodPktmzUmwGfEiMeiLpc7FTFQYoXKdZVzHRfp2xRN3Badyzng8ZqUGrxoOVKtMs9ivcplnFfJwCYsqi/8ZffO0f1q/7yqbfsVli+Mi8PgJVti6e7r0vbRD28qfz0UB4EPTzqKpCroz5FP2rKG4Hy89jS7usCABMW9cZ/WIzWjn1lR7izo/5Gvp1iSfd16LpSw6g/gbxHcc5YjUfFHYq3B1sNA+iCqL8BvzVG4wjeX0V9EO4Nio2DT/bpon5TsEnUhxHLswW/dl38BpVDrsrPJa1/BgTAiNIE9TLFDd65MtXvFCcr/lmxsrveqHQtVom6+uEzit8b+yPb9YqXuusNAI/RpLRe1OVgfVN2IiwPqJXfpMtyuGnuWmP+oj5LUPbjL89ePOxrnzTnKzZ21xnACIv6ZH95uK1PW/b+QXF61KOG2ail46LucVCeISh92qefC8rDkaVPl3fXGMAI0aSzUNTf+fvyZP91UZdf8amq56I+P1CWo15v7bjhKZsJvUWxkLu2AHou6qepq7xz3lD8JuqnwrJjHl/tj6CoSzLLzzvXORtxSMpW2ru6awqghzS5rKr4unmSm6py0/+wYgt3PdEe6odpimcrPqr4rbNBh+AsxSrumgLogain9JVlbl1df112HixP7m8ZfNLHfER9M/DcqCsK7jP27VTcpTgg6HcAkxV1T/fzvXPZpJWn98spg0u464huKr0TdffGc62dPHkXKdZz1xFAh0R9yK9s3/uQd/6asPItxUmKZ7hriH5RT60fdXveO6wdPnF/jvq6Z7hrCKDlov4W+r/eOWvCyiedvRSLuuuHfis9ptg76omNXXKl4lnu+gFooah79x8b3VnT/0jUrWA3c9cOoynq5lBfHOvFLihj+5jgbAEA4zQhbBF1GVEXlJPSyvK9p7rrBhTqxZWiLifsyr4YNyq2dNcNgFHUJ/zLlqld2C617NBXJlnOSkcrRX1osIyn31hHymDKtxZlPHGAFTBqNPBXU1zonYMG8tOoT2Kz0xk6IepDtGUr6UusI2cwP1Ks7q4ZgIZEnZz+aJ545qc8iFheJ2uZ0VlRd868zDuU5qusntnDXSsAiTTIl4y6TK7Nrg5u/OiRqJsL7ay4wjqy5u8MxdLuegEYsqjL+35pnmDmpTyYVDbu4TdJ9FLUZ27Km9tfWEfavJUTE7d21wrAEET99HFYtHd53w1R1/Bz48dIUK8vqNgn6pveNioPCB4SfAsHdFfUr/zP9M4lc3VL1E/8PNyHkRT1YcF/UdxqHYlz9+VgK22gezRw14n6e3rblK1Jyzr+pdw1Atog6iZcZUleG7feLvuDbOCuEYABacD+U9QTwdqmHKrC4STAHEQ9fOsM8xidk3Ki5q7u+gCYBw3S6VEP/vird754gmsUO7rrA3SBxsq2ip+Zx+zsypxSvrnjJzugbTQwl4v2HVt6Z9Sd0RZ01wfokqgPCpZnZG6zjuAn+p5iBXd9AIzRgHyW4rfmiWFW5dPCicG2vcCUaAwtq/h0tOtbvbLV8TPdtQFGngbiLor7zRPCrK5XbOuuC9AnGlNbRf0prS0eVOzmrgswsqJ+vf6oeSIYV9YOl+cPZrrrAvRRGVtRVwu05fCu8q3E4e66ACMl6sN+nzAP/lldrtjMXRdgFGisbRTtOmio/ETBcz5ANg20xRTfMA/4ceWnh0ODXfyARkXdVrg8JHivdQZ43NmKJd11AXpLA2zlqJ+226CsOHiauybAKNMYfLriPPNcMK6ceriSuyZA72hgbRj16Vu3spNf+R1yAXdNADx23kd5HqgNOwnepNjUXROgNzSgXhj1zG63qxSbuOsB4Ik0Np+h+Ll5jijKLqTbu+sBdJ4G0kuiHe/sT1cs5q4HgLmLulKg7Njn3jegrFR4ubseQGdpAL0q6vI6p7IT2c7uWgAYnMbsDoqbzXNHOYJ8b3ctgM6J+oSve43/OcFDPUAnaewuH/4VQ+WbiDe5awF0hgbMweH9Cq986/AWxTR3LQBMXtQHBP8tvN8klrnsIHctgNaLuq7eqXzlz1a+QI9oTG+j+IN5bvmAuw5Aa2mAHGEeoJcqVnPXAcDwaWyvoviReY75oLsOQKtE/ZruWPPAPEkxw10LAHk0xheOukrA6ZPBPiLAYzf/k42D8QHFnu46AGiOxvw+UU/0cynnB/CMEUabBsGHjYPwt4ot3DUA0LyoGwfdaJx/jnfXALDRADjKOPguUCzrrgEAH80Byym+b5yH3u+uAdA4Nf47jIPuS4qZ7hoA8NNcMEPxWeN8dJi7BkBj1PBvMg628gAQv70BeEzUZ5EON85LB7trAKRTo+8dnk1+ykYg+7nzB9BeY/PTnw3z01+Zn9BravBXRN0fu2n3KF7kzh9A+2mu2C7qiX5NK1ufv9KdPzB0auyXhmc7znI+N0f4AhiY5owNFL82zFflA9Ir3PkDQxN1G07Hkb6XKVZ05w+gezR3rKy4wjBvlf0JnuvOH5gyNfIaUffXb9pFiqXc+QPoLs0hSyt+aJi/7lCs7c4fmLSoa2yvMwye7ymWcOcPoPs0lyymONcwj92gWN6dPzBhatxFwvPO+Zvlb7vzB9AfUc8QONMwn12iWNSdPzCwqGtqv2AYLGWDn4Xc+QPon6gbBn3ZMK+dERwehK4Iz/7+n1Ms6M4dQH9pjpmuONUwvx3lzh2YLzXq6w2Dg+M1ATQifMeXv8GdOzBXatB/jObX+n8s2NoXQIPC8yagzK07uHMHnkCNuX7UHfeadFJw8wdgEPVNwKcbnvPuVqzrzh14jBpyCcXPGx4I5fQuvvYHYFPmoKjPHzXpF4ol3bkD4++C/6vhAVCW4/DAHwC7qA8GntHwHHhW8O0n3NSE/6/hxv+OYmF33gAwLuoSwW82PBce4s4bIyzqqVlNnu5XtvddzJ03AMwu6uZnFzQ4H5a594XuvDGC1HirKW5vsNkvDrb3BdBimqOWjLp7X1PKmQFPc+eNEaKGmxn1pL2m/EyxtDtvAJgfzVXLKq5ucH4sbzj4WRTNULN9psHmvlmxmjtnABiU5qynKf7Q4Dx5kjtnjAA12n4NNvW9is3cOQPARGnu2kJxf4Pz5T7unNFjarD1Gmzo8oDLP7lzBoDJ0hz24mjuQen7FOu4c0YPRT0O84qGGrl4oztnAJgqzWX7Nzhv/kQxw50zekZN9ZEGm/gj7nwBYFg0px3X4PzJyYEYHjXU8xSPNtS831BMd+cMAMMSdcvgrzY0h5a5elt3zugBNdKTFDc11Lhlrf8i7pwBYNg0ty2quLShufS3imXcOaPj1ERfaqhhb1Gs4s4XALJojnuK4taG5tSvuPNFh6mB9m2oUcs5189z5wsA2TTXvWBszmvC3u580UFqnDUU9zTUpAe68wWApmjOO6ShubUsDVzbnS86JOrxlk3tZ/0Fd74A0KSox6h/uaE59kfBg9UYlJrl4IYas+zxz+l+AEaO5r7FFVc1NNfyLSvmT43y1Khb8GYrPy+s684XAFw0B66tuKuB+bbs4Lq6O1+0nJrknAaa8a+KXdy5AoCb5sKXjM2J2b7tzhUtpgbZq4EmLI505woAbaE58UMNzb2vdueKFlJjLKe4rYEGvEyxkDtfAGiLMidGMw9e36FY3p0vWkZN8Z8NNB9LUgBgDjQ3rhnNPH91ujtXtIga4h8baLrite5cAaCtNEce0NBcvIM7V7SAGmGJqPtGZ/uqO1cAaLtoZn+AXysWd+cKMzXB8Q00WzlMaFl3rgDQdlGfx7q5gXmZY9dHmRpg/cjfk7ocTbmdO1cA6ArNmf8Q+UsDy9y/gTtXmEQza/4/6M4TALpGc+fHGpifv+nOEwZRN5/IVrb6neHOFQC6RnPnwoqrG5ind3TnigaVm7Li2uSmKl/9P8edKwB0lebQZyv+kjxXXxPszTI6opmjKI9x5wkAXae59OMNzNccFjQKdKGXj/zDJ1hiAgBDoLl0McWNyXP2HxXLuXNFMl3kk5MbqWCTCQAYEs2pOzYwb5/gzhOJdIE3jfzfk05z5wkAfaO59YvJc3e5N2zszhNJdHG/l9xAtwZfIwHA0EX9+faO5Dn8u+48kSCa2e//Ve48MXe6PgsqdlGcEnWJZnkW5E9Rd2r8tuJtitXcrxPAnGl87tnAPP5Cd54YIl3QaVGP4c30LXeemLuoE8evB7iO5WvAf1esopjmft0A/i+Ny3PzpvG/udidI4ZIF/SlyQ3zsGIdd554Il2XRRVnTuKa3h71m4JV3TkAeFw0s4X7Tu48MQS6kAsorkxulo+688QTRd3w6cIpXtvyRuDF7lwAPC7yD3H7SfANYPfpIu6W3Ci3KZZ254kn0nU5YUjXuBxK8uFgtzCgFTQWl1XcOaTxPTcvc+eJKdAFnK74eXKT7OfOE0+k67JJ1O2Yh+lSxeru3AD8bYy/ccjje3ZXKRZw54lJ0sV7TXKDlJ8WprvzxBNF3prhsmPYLu78gFEXdVXPVUnjfNzu7jwxCWPNcX1yc7zAnSeeKOrWoQ8kXvfyk0D5DXJhd67AKNMYfGHiOC9+EXzI6x5dtH2TG+Mr7hwxZ7o2WyZf+3HlQaE13fkCo0xj8OvJ43xPd46YAF2whWKwNd+T9VDwW3Br6drskXjtZ3d38DUhYKPxt1bUpdhZfhl8C9AdulivTmyG4mPuHDF3uj6vS77+c3KSYhF37sAoivwjg//ZnSMGFPWr2Sz3KVZw54i50/XZNfH6z0vZXnhdd/7AqNG4Wylyn/u5xJ0jBqALtW1iExQfcOeIedM1OiK5B+bl3uA3Q6BxGncfTR7b27hzxHzoIn0rsQHK5P5kd46YN12jNyX2wKBOVyzurgUwKjTellPckzimv+bOEfMQdY/ovyY2wBHuHDF/kb80aFBlE6r13fUARoXG29GJ47lsLMaZL22li/OZxItfjo1dxp0j5k/X6emJfTBR5XfJ17prAowCjbWlo87VWT7lzhFzoAuzvOLBxAv/DneOGEzUA6Aye2EyyioBNg4CkmmcvTdxHJcl4Cu6c8RsdFHen3jR71As4c4Rg4v8LUIno6xOebq7NkCfaYwtFbkHBR3uzhGziHrm+x2JF/xt7hwxMbpmX0nsh6kofbqjuz5An2mMvSNxDJcTYNnzoy10MQ5IvNjl9yQ+/XdM5D4MNFXlYaKyVJHdxYAEUZ8FyFwRwCmwbaGLcXnihWbdfwfpur02sSeG5YLg90QghcbWMYlj9zJ3fvi7v13kZyZe5D8rnuLOEROn67ZVYl8M002KLd31AvpG42rVqHN4ls3cOY68qE9XZznNnR8mJ+qqkK54RHGoYpq7bkCfaEx9IXHcnuDOb6TpAiwe9TS2LJu6c8TkRe564AxnKZZ21w3oC42nzRPH612KRd05jiwVf9/Ei/sdd36YGl3DSxL7I8u1io3ctQP6QuPp/MTxupc7v5Gl4l+ceGFf5M4PU6Nr+NnE/shUTpzcw10/oA80ll6cOFYvcuc3klT4jRIv6v8Gv8d2nq7huxN7pAnl+ZYZ7joCXaYxNC1yNwbbwJ3jyFHRj0+8oPu488PU6TrultgjTblQsYK7lkCXaQy9LnGMHuPOb6So4Iso/ph0McuDYzzY0QO6jpsl9UjTylLBv3fXE+iqyL1nlN09OeejKSr2HkkXsjjenR+GI+oqkczjoZtUDiHZ111ToKs0fk5IHJ+7ufMbGSr2txIvJEv/ekTX8/eJveLAcwHAJGjcbJw4Ls9y5zcSVOhlFQ8nXcSL3flhuCJ3CZDLDxUru2sLdI3GzY+TxmT5hm4pd369F7lr/1/rzg/DFblf+zmVE8le4K4v0CUaM/sljsk93fn1nor8naSLd29w6l/v6Jr+a1K/tMHfthB21xjoiqjPBWWdEvjf7vx6TQVebmzSy3CSOz8Mn67r85P6pbg/8d+eiM8oZrprDXSBxsopSeOw/DS9jDu/3lJx90+6cMXm7vwwfJF7KNDeinMT//2JKEdiP81db6DtNE7+PnEc8jNyFhX3vKSLdrk7N+SJ+nt5hrcrFlR8KNqx3PBWxTbuegNtp3Hys6QxeLY7t15SYVdQ/CXpor3FnR/y6Pp+L6lvPjvL39g52nH6YPmJ7I3OegNtpzFySOL4W96dX+9E3sNc5ZPbau78kCfyVgJcMdvfWSvyPllMVNkvYCFXzYE209h4SuR9a7efO7/eiboneobvu3NDrsh781jW/i4429+aGfWhvDYoK2Z4KAmYA42N/0kad99159YrUZ/+z/r6/03u/JArclcCrDuXv1nedGRtWDUR18VcXiMwyjQuDkoac+VnAN54D4uK+aqkC/VosKNa70XuSoCXz+Pvbq74VeLfHlRZ97xzkzUH2k5jYtWo94AMu7rz6w0V87NJF+l8d25oRuStBHjPfP5u+fbqnKS/PRHlGzQ2DQJmoTHxg6Txdqo7t15QIReIurwpwwHu/NCMyFsJcMYAf3ua4tDI+7QxEZ9XLNJEzYG201h4U9I4+4Nimju/zlMRn5l0gconIpZrjIjIWwlwzQRew0sUdyW9jom4KOh9oIzJlSLvjTkny06ViviupIvzHXduaE7krQQoD/wsPIHXUZYKXpX0WibipmD3S6CMyQuSxtjb3bl1XtSjTzPw9f8IidyVAJtM8LUsqTgr8fUM6j7FLlk1B7pAY+CNSePrQndunaYCLhN5h/881Z0fmhO5KwFeNYnX05bnAspmKIcnlBzoBPX/05PGVrl3LeXOr7NUvN2SLszV7tzQPF3325P66cgpvKZ/jHZsIXxysHMgRlTU/TIyvMydW2epeP+edFE+4s4NzYu8lQBfn+LrWkdxTdJrm4izFUsOq95AV6jvj0saUye7c+ukqF+R3px0UbZ354fm6bofn9RPvxnCa2vLcwHlLAPOxsBIUc/vmDSefufOrZNUuLWTLkh58Gngp7bRH7rur0vqqWK5Iby+tjwXUNYwbzGMmgNdoH5fRHF/0nha3Z1f56ho+yRdjCl9XYvuirw9JYpth/g62/BcwIOK3YaVE9B26vdvJ42l17hz65yoDyVleIM7N3hEfZeftarkrUN+reW5gGuTXuugHh12XkBbqdcPTBpHn3Ln1jmR91AUX8eMMF3/q5P66vSE11qeC/hG0uudCFYIoPeivunO8L/u3DpFBXtS1PXJw/YLd27wiroXfoafJb3eBSPvCeWJKF+PLp6RI9AW6vEbEsZO+SZtaXdunaFi7ZxwEYoT3LnBSz3wtqTeKj8tzEx83fsqHk567YO6UrFKVo6AW+T99LyjO7fOULE+kHQRXu3ODV7qgR2SeqtI3Vtf//5zFbckvv5B3KhYJzNPwEW9vXfSuHm/O7fOiLwzmp/mzg1e6oEVk3qreF0Dr39VxU8ScxjEnYots3MFmhb1sK4MF7hz6wQVaobigYQL8Ht3bmiHyPsU/fGGXv/iiq8m5TCosp/GTk3kCzQp6j4Yw1buaTPcubWeivSchOIXZ7hzQzuoF85J6rEfNJhD2TTo8Mh5WHZQf1Hs31TOQBMi7831s9y5tZ6KdFBS8d/izg3toF74UFKP3aNYoOFcXhl10x6X8gbkXU3mDGRSPx+cNFYOdOfWeirSaUnFf6Y7N7SDeuHVST1WrGnI5+/D/3DgqYoFm84dGLax8ZQyRty5tZ6KdHlC4csez2xkgr9RL2yY0GPjdjXlVM40/3liXoMohxkt4sgfGJbIew7tMndurRZ105OHEgp/vjs3tMdYn2V9bf5BY15LKL6VlNegLlQs5aoBMAxjfTxsZc6Z7s6ttVSc9ROKXrAGE/9H5C2lO8+c10KRt5nJoC5TPNlZB2Aq1L9HJY2Ndd25tZaKs3tS0V/mzg3top44JanX7lJMa0F+ZcdD57HC5SyPp7jrAEyGenfXpHHxz+7cWivy3nU1/mAW2k09cUBSrxVru/Mr9Dp2ibwzzgfxm2DXQHRQ5B0M9D53bq2l4vx3QsHLhiWNLs1C+6knNk/otXGt2XJar2VTxe8Sc52fWxXPcNcBmAj17PTIefN8lju31or6iWHYLnbnhfaJ+qRvxgOnxcfc+c1Kr+epkXcM8iDKzyJbu+sATIR69tKEsXCjO69WUmGWjpxdzT7tzg3tpN74cUK/FY3tCDioqOPre0n5DqK82Xqpuw7AoNSvn0kYB+Uet6Q7t9ZRUbZOKHbxJnduaCf1xolJPVd+dmrdch+9poUVX0rKeRB/VrzcXQdgEOrVtySNAw7Smp2K8i9JxX6+Oze0k3pjn6SeKzZy5zcnel0LKD6amPf8PKJ4pbsOwPyoT7dNGgP7uXNrHRXlI0nFfpI7N7STemOjpJ4r9nHnNy96fW8O3zLBcojQ3u4aAPOiHl0uqf8/4M6tdVSU/0oo9G/deaG9oj7pe19C3xUnuPObn6jLBDO2PB1E+S30X901AOZFPXpzQu//pzuv1om6e9iwfcudF9pNPXJRQt8Vl7hzG4Re51aKO5NqMD/lTcAb3DUA5iZyjg7vxNzQKBXljoRCH+/OC+2mHjk2oe+KhxUz3fkNQq9zvchZgjuI8iaAo7rRSurNTyT0/G3uvFpFBVkyocjFQe7c0G7qkT2Seq/ozNO+eq2rhnevgLe5awDMTn35b0n9vrg7t9ZQMTZJKvIu7tzQbuqRdZN6rzjYnd9E6PUuo/hhYj3m5+3uGgCzUk++IqnXN3Dn1hoqxj8lFXlTd25oN/XINMWfkvrvv9z5TZRe82LhPVL4EHcNgHHqx2cm9flO7txaQ8U4MKnIS7tzQ/upT85P6r/fu3ObjKjbJH8hqSbzU54J+Bd3DYBCvfikpD5ng7pxKsbHEgp8lzsvdIN65eiE/hv3VHd+kxH1m5GsvTnmp7wJOMBdA6BQL96T0OMfcefVGirGWQkFvsKdF7pBvfKShP4bt7s7v6nQ639XYm3mpWxStLc7f0B9eGVCf3/FnVdrqBhXJBT4THde6Ab1ypMj5yCq4jh3flMVddfArPrMS9kxkG2DYaUe/FpCb//EnVdrqBi3JBT4o+680B3ql+sSerD4sTu3YYi6XPKRpBrNSzlA6MXu/DG61H/HJfR1J58PGrqovzU+nFDgN7tzQ3eoX05L6MGi9PYi7vyGQXnsHvWG3LSyXfHW7vwxmiLnVMCH3Hm1ggqxVEJxi1e4c0N3qF8OSOrDYit3fsOiXF6seDCxVnNzt2Jzd/4YPeq73ZJ6ms2AVITVk4r7fHdu6A71y8ZJfVgc6s5vmMrYipwno+fndiyJ6LsAAA82SURBVMV67vwxWtRz2yX1cydXCA2VirBFUnE3dueG7oh6MuDdSb34TXd+w6acnptYr3kpZxas4s4fo0P9tmlSL/ONloqwY1JxV3Lnhm5Rz3wnqRfvUkx35zdsymnz8JwkeFWwyRcaEvWcjAwvdOdmpyK8Jqm4C7tzQ7eoZ96b1IvFM9z5ZVBem4XnTcAFwRhHA9RniyT18KvcudlFzhOW97jzQveob16U0IvjDnTnl0W5PSNyjvOeny8qprnzR/+pz+5P6F+2A1YRjkgo7K/ceaF71DdLR92BLkOvd/4K3zcBR7pzR/9FffZk2A5352WnIpyYUNjL3Hmhm6L+vpzh1uj5p9Wo3wQ43gTs6c4d/aYeuzyhbz/hzstORfhSQmHPdueFblLvfCqhH8f1fglb1FU9Ta8OeEixpTt39FfkPCD8RXdedirCtxMK+3l3Xugm9c4rE/px3P7u/JqgPLeJnN9M56VsJ866aqSI+rzJsH3LnZdd5JzFfoI7L3STemeVhH4c9zl3fk1RrjtE/WTepPI17Ux37ugf9dUnE/r1u+687FSEixIKe4w7L3RX5B0MdJM7tyYp312i+QOETnLnjf5RXx2b0Ks/cOdlpyJcmlDYo915obvUP6ck9OS4ddz5NSnqKYJZKyvmZi933ugX9dSHEvr0EndedirCzxIK+153XuiuyNucqniDO7+mKed9FH9NrOns7lNs4M4b/aF+el9Cn/7UnZedivCLhMK+050Xukv985SEnhzX6/0A5kZ5vzWxpnPyc8Vi7rzRD+qld2X0qDsvOxXhVwmFPcSdF7pNPXRjQl8Wf4oengswCOX9nqSazg0PA2Mo1EuHJvTnDe687FSEmxIK29ttV9EM9dCpCX05bmRPAVPuxyfWdXblZ4dt3Dmj+yJny/qReih4jqKe8T1sB7jzQreph/ZK6MtxI/sNlXJfQPHVxNrO7sfR8x0YkU899IaE3rzNnZedinBPQmFf684L3aYeelpCX44b6Z0qo56u9j+J9Z3dru6c0W3qodcl9OXd7rzsImezkD3ceaH7Iuf5lKLskjfDnZ+T8l8h8p6zmN21ioXcOaO7oi5nHbYH3XnZRc4a4d3ceaH7Inc/gBe483NTDdZT/DGxxrPiZ0FMmvpnt4SefNSdl52K8HBCYV/jzgvdFzmDftwH3fm1gerwvGhmy+DysPGC7nzRTZGzN8jD7rzsVIR7Ewo7EoeuIJf6aLnI28XuSnd+bRF1o6AmvNydK7pJvbN/Qj/e487LLnLODz/InRf6Qb10WUJ/FmWJ2iru/NpCtTgxqc6z4vAVTIp65+CEfrzdnZedinBzQmHf4c4L/aBeOjqhP8exWmWMarGQ4vuJtS7Km66ROosBwxE5OwGyD0DkPAl8pDsv9IN6aduE/hx3hju/Nol6FPMtifUuOCkUE6a+OSqhF9kJUEW4JqGwH3fnhX5QLy0cddlehrItMA+mzUL12CFyDw66LUZ0K2ZMnnrmEwm9yFkAKsJPEwr7OXde6A/107cTenTcVu782kY1+Y/EehfPceeIblHPfD6hD69w52UXdavOYfumOy/0R+SeZHe0O7+2ifpTQNa3LsX73TmiW9QzZyf04f+487JTEX6QUNgfufNCf6ifNkzo0XFXu/NrI9Xlw4k1v9ydH7pFPXNxQh9e6M7LTkU4L6Gw17jzQr+op36d0Kfj1nLn1zaqyUqKPyfVuzxjsKo7R3SH+uX6hD48x52XnYrwtYTClq8PzyCGHuVBmHcoto4Re5BK+X5y0OabBPatmAPV5cuJNX+1O79hUS7TFdtEHZtljLrniT7GA4M21gSc6e4du8g9dx15blW8TbGIu4eaoDx3SqzlBe782kh12S6x5h925zdVUU9VPDTqygZ0zynuHrKL3N/6kO8GxUbuPsoWdbLN+BRQPKJY1p1j20T9ZHt7Us2/485vKvT6N4nmTlNEjg+5+8hORXi7+ypgysp5Dr0/3U45fiOxhhxhPQeqy2eT6n2rO7fJiro5VcYZKmjWoe5eslMRXu++ChiKcqbDmu5+yqT8Dkis31nu/NpIdXllYs1Xcuc3UXrNa0VzRygj177ufrJTEV7mvgoYmh+4+ymT8ntK5O1S96BiKXeObaOarJFU7+L57vwmSq/5osR6oFm7uPvJLup54OiPnd09lSlydq4ct6c7v7ZRTaYp7kqq967u/CZCr/clSXWAxzbunrKL3E1W0LyvuXsqk/J7f2Lt/tudXxtF3imBB7hzmwi93q8n1QEeG7h7yi7qhh/oj/KkfG+XBiq3ZybW7mHFMu4c20Y1+WJSvd/pzm1Qeq2LRt4qFHis6O4ru6jngGee/oXm9XpZYOQuv3qtO7+2UU2OT6r1se7cBhV12R/6ZYa7r1ohcg/+QPN2cPdUJuV3TGLt2B50NqrJu5Nqfao7t0Hptb4oqQbwuN/dU60R9Qlo9Eff3wBslVi7sinQcu4c20T1eGdSrU9y5zao4A1A3zzo7qnWiNyDVtC8Dd09lUn5LaC4ObF++7tzbBPV471Jdf64O7dB6bVunFQDeNzo7qnWUDEucF8NDE35Oae3DwGOU44nJtbwPHd+baJ6HJVU52PcuQ0qeAiwb85391RrRD1UBv0wEjvaKc/tE2v4l+AJ4ceoFqck1fkD7twmIlgG2CeHuPupNaLu9vUX9xXBUOzk7qcmKM8FI/cUtre5c2wL1eK7STV+lzu3idDr3TmpDmhWudet4e6nVlFBTnZfFUzZhe4+apLyPSGxltcpprlzbAPV4fqkGu/lzm2iIm9TJDTn0+4+ah0VZUXF791XBpN2R4zYu9rIXQ1QPM+do5tqsJTiUepb6TWvGfXgLXRTucfx896cqDDPCh506aJ7ooOT6VRF3ac+cwXLZ905uqkGOyTW96nu/CZDr/v5UcccuqXc257t7p9Wi/omIHOJFYarfD3b62V/86Lcj06sbZkwRnprYOV/RFJty34LC7rzmyy99o0Uv0yqDYav3NO4+Q8i6s8B5ZkAHgxsr1sUBytmuvvFKepEnOmN7hydlP/lSXW9zp3bVCmHmYpDoo5FtFO5h5V7GV/7T5SKtnrUJYLnR/2q9aEBCn634o9DivJ7zQ1DimsVlw0xzlOcO6T4muKMAeLjisMUz1Us4O6PtlAtfjZAX07WT935uSj3dRLrero7v2FRLtOjPo/y/6KO0UHGchnzw5o/yiqNYc5tZa4cxpxbVukM4z7wyMBdFfFnxe+i7m1zqGJNd38ASKRB/tYJTBCTsbU7Rwfl/Z7EmnbqKGAAQAvpZrJ81Hf+WUZic6VZRT0l9DeJNe31iZUAgIbohvLVxJtVOS57XXeOTVK+eybWs/xMON2dIwCgB3RD2SnxhlWc6M6xKVGXV16ZWMuvu3MEAPRE1K2BMzeyKksCV3Ln2QTluVdiHYs93TkCAHok8tasj/uUO8dsynFJxR8Sa1hWEi3lzhMA0CO6sawSE1syNFHlWYAd3HlmUn7HJtavGLkHKgEADdAN5svJN7BbFSu488ygvF4Yefv+j3ulO08AQA/pBvOC5BtYcaY7z2FTTitE/o525RCdxdy5AgB6KvK2r53VEe48h0W5LKK4qIGaHenOFQDQY7rR7NbAzaz4N3euUxV1G9uvNFCr8vDfSKyiAACYjN3UrmvgplYeCtzLne9kjdXp1AbqVJzqzhcAMAJ0w3l9Qze2ctrYm935TpRe88LRzCf/orxRGtkjqwEADRq7wWVuDDS7TytmuPMehF7nclFP+GzKae6cAQAjRDeeNzd4kysujJYvEYx6bO3vGqzJvYqV3XkDAEaIbjwzFNc3eLMrylK3fRTT3PnPSq9npuLwyN0oaU4Oc+cOABhBugFtF/U36KZ9X7GeO/9irAbXGGpwg2KmO38AwIjSTegEw82vKEvfyrMBa5ny3iGa/a1/VuVN146OvAEA+BvdiBZT/NJ0IyzK9rpnKLZoINeFFLsrrjDmWxyXnSsAAPOlG9KWUZfsuf1KcVzUh/GG8pxA1BUP24/9u7f6UnvMVYpFhpEbAABTppvSUe4742x+q/iS4u1Rv65ffoAcpinWULxCcaTim4p7XAnMwQOKDZq4ngAADEQ3pgUUXzffIOfn/qj7F5RP0WV//nMVFyt+EfWwnod8L20gr3dfZwAAnkA3qMUVP3XfJXvqKPf1BQBgrnSjWllxk/tu2TNfjJbtfQAAwBPoZvVsxX3mm2ZfnBcd2QYZAIDxbXHvNt88u+4SxVLuawkAwITo5rW54g7zTbSrvqdY0n0NAQCYFN3ENlXcbr6Zdk1ZTcFafwBAt+lmtqHiRvNNtStOUyzovmYAAAyFbmrLKs4x31zbrJwkWDYt4ml/AEC/RN1p79Co+/fjcWWL4e3d1wcAgFS62b1c8SfzTbctyjK/FdzXBACARuimt5Liq+abr1PZ1/8wxXT3tQAAoHG6Ae4co7dzYPnUv4679gAAWEV9QPCkqA/C9dnvFC931xsAgFbRzXEtxReifw8J3ql4t2IJd40BAGgt3SjXV5yh+Kv1tj11tykOD7bzBQBgcLpxrqc4Lrq3YuCXijcrFnXXEACAzio3UsU+UQ/Haau7FCcrtg428wEAYLh0c11DcZDi/PA/NFhOOzxL8apg734AAJoRdfXAqxWnKK6M/DcEDykuULxT8Zxgz34AAPyi/lSwpeLAsTcFZyuuVtw7wRt9+e+vVXxF8X7F7opNFAu7cwQAABOgm/fSUU8l3HwstlJsPxbPjfrA4YqKGe7XCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYm/8PlvydiM/bcq8AAAAASUVORK5CYII="],[1,"nav__link"],["routerLinkActive","nav__titre--active","routerLink","/admin",1,"nav__titre"],["width","18","height","2","viewBox","0 0 18 2","fill","none","xmlns","http://www.w3.org/2000/svg",1,"nav__svg"],["y1","1.24896","x2","18","y2","1.24896","stroke","white"],["class","nav__item",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","nav__titre--active","routerLink","/departmentsTypes",1,"nav__titre"],[1,"nav__item",3,"routerLink"]],template:function(t,r){1&t&&(h.TgZ(0,"header",0),h._UZ(1,"img",1),h.TgZ(2,"p",2),h._uU(3),h.qZA(),h.TgZ(4,"img",3),h.NdJ("click",function(){return r.signOut()}),h.qZA()(),h.TgZ(5,"nav",4)(6,"ul",5)(7,"li",6),h.O4$(),h.TgZ(8,"svg",7),h._UZ(9,"rect",8),h.TgZ(10,"defs")(11,"pattern",9),h._UZ(12,"use",10),h.qZA(),h._UZ(13,"image",11),h.qZA()(),h.kcU(),h.TgZ(14,"a",12),h._uU(15,"Tableau de bord"),h.qZA()(),h.TgZ(16,"li",13),h.O4$(),h.TgZ(17,"svg",14),h._UZ(18,"line",15),h.qZA(),h.kcU(),h.TgZ(19,"a",12),h._uU(20,"Administration des rayons"),h.qZA()(),h.YNc(21,w6e,3,2,"li",16),h.TgZ(22,"li",17),h.O4$(),h.TgZ(23,"svg",14),h._UZ(24,"line",15),h.qZA(),h.kcU(),h.TgZ(25,"a",12),h._uU(26,"Types de rayons"),h.qZA()()()()),2&t&&(h.xp6(3),h.hij("Bonjour, ",r.email," "),h.xp6(18),h.Q6J("ngForOf",r.departementsTypes))},dependencies:[$r,X1,$A],styles:[".header[_ngcontent-%COMP%]{z-index:2;width:96vw;height:10vh;background-color:#3c4452;position:fixed;top:0;left:0;text-align:left;display:flex;align-items:center;justify-content:space-between;padding:0px 2vw}.header__img[_ngcontent-%COMP%]{height:5vh}.header__info[_ngcontent-%COMP%]{color:#fcfcfd;text-transform:capitalize}.header__logo[_ngcontent-%COMP%]{height:5vh}.nav[_ngcontent-%COMP%]{height:100vh;background-color:#1f232b;width:276px;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:start;padding-top:15vh}.nav__link[_ngcontent-%COMP%]{margin-left:10px;color:#fcfcfd}.nav__svg[_ngcontent-%COMP%]{width:20px}.nav__titre[_ngcontent-%COMP%]{color:#fcfcfd;text-transform:uppercase;font-size:18px;padding:10px 0;cursor:pointer;display:flex;align-items:center}.nav__titre--active[_ngcontent-%COMP%], .nav__titre--active[_ngcontent-%COMP%]   .nav__link[_ngcontent-%COMP%]{color:#ffc225}.nav__titre--active[_ngcontent-%COMP%]   .nav__svg[_ngcontent-%COMP%]{fill:#ffc225}.nav__item[_ngcontent-%COMP%]{color:#fcfcfd;text-transform:capitalize;font-size:14px;padding:7px;cursor:pointer;letter-spacing:2px}"]}),n})();function M6e(n,e){1&n&&h._UZ(0,"app-nav")}let S6e=(()=>{class n{constructor(t,r){this._router=t,this.authentificationService=r}ngOnInit(){this._estConnecteSubscription=this.authentificationService.utilisateurEstConnecteObservable.subscribe(t=>{this.isConnecte=t,console.log(t)}),this.authentificationService.getInfosUser(),this._router.navigate([""])}ngOnDestroy(){this._estConnecteSubscription&&this._estConnecteSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(on),h.Y36(al))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf"],[3,"className"]],template:function(t,r){1&t&&(h.YNc(0,M6e,1,0,"app-nav",0),h.TgZ(1,"div",1),h._UZ(2,"router-outlet"),h.qZA()),2&t&&(h.Q6J("ngIf",r.isConnecte),h.xp6(1),h.Q6J("className",r.isConnecte?"margin-nav":"margin-connecte"))},dependencies:[un,If,E6e],styles:[".margin-nav[_ngcontent-%COMP%]{padding-top:10vh;padding-left:276px}@media (min-width: 900px){.margin-nav[_ngcontent-%COMP%]{padding:0;padding-top:10vh;padding-left:276px}}"]}),n})();function a7(n){return(a7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function _z(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function T6e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Wt(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){T6e(n,i,t[i])})}return n}function OI(n,e){return function N6e(n){if(Array.isArray(n))return n}(n)||function R6e(n,e){var t=[],r=!0,i=!1,s=void 0;try{for(var u,c=n[Symbol.iterator]();!(r=(u=c.next()).done)&&(t.push(u.value),!e||t.length!==e);r=!0);}catch(p){i=!0,s=p}finally{try{!r&&null!=c.return&&c.return()}finally{if(i)throw s}}return t}(n,e)||function P6e(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var FI={},Cz={};try{typeof window<"u"&&(FI=window),typeof document<"u"&&(Cz=document),typeof MutationObserver<"u"&&MutationObserver,typeof performance<"u"&&performance}catch{}var wz=(FI.navigator||{}).userAgent,Ez=void 0===wz?"":wz,nd=FI,br=Cz,Ic=!!br.documentElement&&!!br.head&&"function"==typeof br.addEventListener&&"function"==typeof br.createElement,Dc=(~Ez.indexOf("MSIE")||Ez.indexOf("Trident/"),"___FONT_AWESOME___"),Dz="svg-inline--fa",kz=[1,2,3,4,5,6,7,8,9,10],W6e=kz.concat([11,12,13,14,15,16,17,18,19,20]),a0={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Rz=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",a0.GROUP,a0.SWAP_OPACITY,a0.PRIMARY,a0.SECONDARY].concat(kz.map(function(n){return"".concat(n,"x")})).concat(W6e.map(function(n){return"w-".concat(n)})),nd.FontAwesomeConfig||{});br&&"function"==typeof br.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=OI(n,2),r=e[1],i=function Y6e(n){return""===n||"false"!==n&&("true"===n||n)}(function Z6e(n){var e=br.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(Rz[r]=i)});var BI=Wt({},{familyPrefix:"fa",replacementClass:Dz,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Rz);BI.autoReplaceSvg||(BI.observeMutations=!1);var Nt=Wt({},BI);nd.FontAwesomeConfig=Nt;var Tc=nd||{};Tc[Dc]||(Tc[Dc]={}),Tc[Dc].styles||(Tc[Dc].styles={}),Tc[Dc].hooks||(Tc[Dc].hooks={}),Tc[Dc].shims||(Tc[Dc].shims=[]);var Jo=Tc[Dc],Lz=[];Ic&&((br.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(br.readyState)||br.addEventListener("DOMContentLoaded",function n(){br.removeEventListener("DOMContentLoaded",n),Lz.map(function(e){return e()})}));var jI,UI="pending",Pz="settled",Hy="fulfilled",By="rejected",t3e=function(){},Oz=typeof global<"u"&&typeof global.process<"u"&&"function"==typeof global.process.emit,n3e=typeof setImmediate>"u"?setTimeout:setImmediate,c7=[];function r3e(){for(var n=0;n<c7.length;n++)c7[n][0](c7[n][1]);c7=[],jI=!1}function Uy(n,e){c7.push([n,e]),jI||(jI=!0,n3e(r3e,0))}function zz(n){var e=n.owner,t=e._state,r=e._data,i=n[t],s=n.then;if("function"==typeof i){t=Hy;try{r=i(r)}catch(c){l7(s,c)}}Fz(s,r)||(t===Hy&&GI(s,r),t===By&&l7(s,r))}function Fz(n,e){var t;try{if(n===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===a7(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(i){t||(t=!0,e===i?Vz(n,i):GI(n,i))},function(i){t||(t=!0,l7(n,i))}),!0}}catch(i){return t||l7(n,i),!0}return!1}function GI(n,e){(n===e||!Fz(n,e))&&Vz(n,e)}function Vz(n,e){n._state===UI&&(n._state=Pz,n._data=e,Uy(s3e,n))}function l7(n,e){n._state===UI&&(n._state=Pz,n._data=e,Uy(o3e,n))}function Hz(n){n._then=n._then.forEach(zz)}function s3e(n){n._state=Hy,Hz(n)}function o3e(n){n._state=By,Hz(n),!n._handled&&Oz&&global.process.emit("unhandledRejection",n._data,n)}function a3e(n){global.process.emit("rejectionHandled",n)}function Es(n){if("function"!=typeof n)throw new TypeError("Promise resolver "+n+" is not a function");if(!(this instanceof Es))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function i3e(n,e){function r(i){l7(e,i)}try{n(function t(i){GI(e,i)},r)}catch(i){r(i)}}(n,this)}Es.prototype={constructor:Es,_state:UI,_then:null,_data:void 0,_handled:!1,then:function(e,t){var r={owner:this,then:new this.constructor(t3e),fulfilled:e,rejected:t};return(t||e)&&!this._handled&&(this._handled=!0,this._state===By&&Oz&&Uy(a3e,this)),this._state===Hy||this._state===By?Uy(zz,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}},Es.all=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.all().");return new Es(function(e,t){var r=[],i=0;function s(p){return i++,function(v){r[p]=v,--i||e(r)}}for(var u,c=0;c<n.length;c++)(u=n[c])&&"function"==typeof u.then?u.then(s(c),t):r[c]=u;i||e(r)})},Es.race=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.race().");return new Es(function(e,t){for(var i,r=0;r<n.length;r++)(i=n[r])&&"function"==typeof i.then?i.then(e,t):e(i)})},Es.resolve=function(n){return n&&"object"===a7(n)&&n.constructor===Es?n:new Es(function(e){e(n)})},Es.reject=function(n){return new Es(function(e,t){t(n)})};var QI=function(e,t,r,i){var p,v,b,s=Object.keys(e),c=s.length,u=void 0!==i?function(e,t){return function(r,i,s,c){return e.call(t,r,i,s,c)}}(t,i):t;for(void 0===r?(p=1,b=e[s[0]]):(p=0,b=r);p<c;p++)b=u(b,e[v=s[p]],v,e);return b};function Zz(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,i=void 0!==r&&r,s=Object.keys(e).reduce(function(c,u){var p=e[u];return p.icon?c[p.iconName]=p.icon:c[u]=p,c},{});"function"!=typeof Jo.hooks.addPack||i?Jo.styles[n]=Wt({},Jo.styles[n]||{},s):Jo.hooks.addPack(n,s),"fas"===n&&Zz("fa",e)}var Yz=Jo.styles,A3e=Jo.shims,eF=function(){var e=function(i){return QI(Yz,function(s,c,u){return s[u]=QI(c,i,{}),s},{})};e(function(r,i,s){return i[3]&&(r[i[3]]=s),r}),e(function(r,i,s){var c=i[2];return r[s]=s,c.forEach(function(u){r[u]=s}),r});var t="far"in Yz;QI(A3e,function(r,i){var c=i[1];return"far"===c&&!t&&(c="fas"),r[i[0]]={prefix:c,iconName:i[2]},r},{})};function d7(n){this.name="MissingIcon",this.message=n||"Icon unavailable",this.stack=(new Error).stack}eF(),(d7.prototype=Object.create(Error.prototype)).constructor=d7;var Wy={fill:"currentColor"},cF={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},tD=(Wt({},Wy,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),Wt({},cF,{attributeName:"opacity"}));Wt({},Wy,{cx:"256",cy:"364",r:"28"}),Wt({},cF,{attributeName:"r",values:"28;14;28;28;14;28;"}),Wt({},tD,{values:"1;0;1;1;0;1;"}),Wt({},Wy,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Wt({},tD,{values:"1;0;0;0;0;1;"}),Wt({},Wy,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Wt({},tD,{values:"0;0;1;1;0;0;"});var Y3e=function(){function n(){(function I6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function D6e(n,e,t){e&&_z(n.prototype,e),t&&_z(n,t)}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var c=i.reduce(this._pullDefinitions,{});Object.keys(c).forEach(function(u){t.definitions[u]=Wt({},t.definitions[u]||{},c[u]),Zz(u,c[u]),eF()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var c=i[s],u=c.prefix,p=c.iconName,v=c.icon;t[u]||(t[u]={}),t[u][p]=v}),t}}]),n}();new Y3e;let che=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function pF(n){return new h.vHH(3e3,!1)}function jhe(){return typeof window<"u"&&typeof window.document<"u"}function aD(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ml(n){switch(n.length){case 0:return new n7;case 1:return n[0];default:return new SO(n)}}function mF(n,e,t,r,i=new Map,s=new Map){const c=[],u=[];let p=-1,v=null;if(r.forEach(b=>{const M=b.get("offset"),D=M==p,N=D&&v||new Map;b.forEach((R,V)=>{let $=V,fe=R;if("offset"!==V)switch($=e.normalizePropertyName($,c),fe){case"!":fe=i.get(V);break;case Ec:fe=s.get(V);break;default:fe=e.normalizeStyleValue(V,$,fe,c)}N.set($,fe)}),D||u.push(N),v=N,p=M}),c.length)throw function Nhe(n){return new h.vHH(3502,!1)}();return u}function cD(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&lD(t,"start",n)));break;case"done":n.onDone(()=>r(t&&lD(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&lD(t,"destroy",n)))}}function lD(n,e,t){const s=uD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function uD(n,e,t,r,i="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!c}}function Ms(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function gF(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let hD=(n,e)=>!1,vF=(n,e,t)=>[],_F=null;function dD(n){const e=n.parentNode||n.host;return e===_F?null:e}(aD()||typeof Element<"u")&&(jhe()?(_F=(()=>document.documentElement)(),hD=(n,e)=>{for(;e;){if(e===n)return!0;e=dD(e)}return!1}):hD=(n,e)=>n.contains(e),vF=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let c0=null,yF=!1;const CF=hD,AF=vF;let bF=(()=>{class n{validateStyleProperty(t){return function $he(n){c0||(c0=function Whe(){return typeof document<"u"?document.body:null}()||{},yF=!!c0.style&&"WebkitAppearance"in c0.style);let e=!0;return c0.style&&!function Ghe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in c0.style,!e&&yF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in c0.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return CF(t,r)}getParentElement(t){return dD(t)}query(t,r,i){return AF(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,c,u=[],p){return new n7(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),fD=(()=>{class n{}return n.NOOP=new bF,n})();const pD="ng-enter",Zy="ng-leave",Yy="ng-trigger",Qy=".ng-trigger",EF="ng-animating",mD=".ng-animating";function Nc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:gD(parseFloat(e[1]),e[2])}function gD(n,e){return"s"===e?1e3*n:n}function Xy(n,e,t){return n.hasOwnProperty("duration")?n:function Zhe(n,e,t){let i,s=0,c="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return e.push(pF()),{duration:0,delay:0,easing:""};i=gD(parseFloat(u[1]),u[2]);const p=u[3];null!=p&&(s=gD(parseFloat(p),u[4]));const v=u[5];v&&(c=v)}else i=n;if(!t){let u=!1,p=e.length;i<0&&(e.push(function lhe(){return new h.vHH(3100,!1)}()),u=!0),s<0&&(e.push(function uhe(){return new h.vHH(3101,!1)}()),u=!0),u&&e.splice(p,0,pF())}return{duration:i,delay:s,easing:c}}(n,e,t)}function p7(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function MF(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Sl(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function IF(n,e,t){return t?e+":"+t+";":""}function DF(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=IF(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=IF(0,Jhe(t),n.style[t]));n.setAttribute("style",e)}function n1(n,e,t){n.style&&(e.forEach((r,i)=>{const s=_D(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),aD()&&DF(n))}function l0(n,e){n.style&&(e.forEach((t,r)=>{const i=_D(r);n.style[i]=""}),aD()&&DF(n))}function m7(n){return Array.isArray(n)?1==n.length?n[0]:bO(n):n}const vD=new RegExp("{{\\s*(.+?)\\s*}}","g");function TF(n){let e=[];if("string"==typeof n){let t;for(;t=vD.exec(n);)e.push(t[1]);vD.lastIndex=0}return e}function g7(n,e,t){const r=n.toString(),i=r.replace(vD,(s,c)=>{let u=e[c];return null==u&&(t.push(function dhe(n){return new h.vHH(3003,!1)}()),u=""),u.toString()});return i==r?n:i}function Jy(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Xhe=/-+([a-z0-9])/g;function _D(n){return n.replace(Xhe,(...e)=>e[1].toUpperCase())}function Jhe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ss(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function fhe(n){return new h.vHH(3004,!1)}()}}function sde(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function ode(n,e,t){if(":"==n[0]){const p=function ade(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Ihe(n){return new h.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function She(n){return new h.vHH(3015,!1)}()),e;const i=r[1],s=r[2],c=r[3];e.push(NF(i,c));"<"==s[0]&&!("*"==i&&"*"==c)&&e.push(NF(c,i))}(r,t,e)):t.push(n),t}const rC=new Set(["true","1"]),iC=new Set(["false","0"]);function NF(n,e){const t=rC.has(n)||iC.has(n),r=rC.has(e)||iC.has(e);return(i,s)=>{let c="*"==n||n==i,u="*"==e||e==s;return!c&&t&&"boolean"==typeof i&&(c=i?rC.has(n):iC.has(n)),!u&&r&&"boolean"==typeof s&&(u=s?rC.has(e):iC.has(e)),c&&u}}const cde=new RegExp("s*:selfs*,?","g");function yD(n,e,t,r){return new lde(n).build(e,t,r)}class lde{constructor(e){this._driver=e}build(e,t,r){const i=new dde(t);return this._resetContextStyleTimingState(i),Ss(this,m7(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function mhe(){return new h.vHH(3006,!1)}()),e.definitions.forEach(u=>{if(this._resetContextStyleTimingState(t),0==u.type){const p=u,v=p.name;v.toString().split(/\s*,\s*/).forEach(b=>{p.name=b,s.push(this.visitState(p,t))}),p.name=v}else if(1==u.type){const p=this.visitTransition(u,t);r+=p.queryCount,i+=p.depCount,c.push(p)}else t.errors.push(function ghe(){return new h.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,c=i||{};r.styles.forEach(u=>{u instanceof Map&&u.forEach(p=>{TF(p).forEach(v=>{c.hasOwnProperty(v)||s.add(v)})})}),s.size&&(Jy(s.values()),t.errors.push(function vhe(n,e){return new h.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ss(this,m7(e.animation),t);return{type:1,matchers:sde(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:u0(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ss(this,r,t)),options:u0(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(c=>{t.currentTime=r;const u=Ss(this,c,t);return i=Math.max(i,t.currentTime),u});return t.currentTime=i,{type:3,steps:s,options:u0(e.options)}}visitAnimate(e,t){const r=function pde(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return CD(Xy(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=CD(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Xy(t,e);return CD(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:t7({});if(5==s.type)i=this.visitKeyframes(s,t);else{let c=e.styles,u=!1;if(!c){u=!0;const v={};r.easing&&(v.easing=r.easing),c=t7(v)}t.currentTime+=r.duration+r.delay;const p=this.visitStyle(c,t);p.isEmptyStep=u,i=p}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let u of i)"string"==typeof u?u===Ec?r.push(u):t.errors.push(new h.vHH(3002,!1)):r.push(MF(u));let s=!1,c=null;return r.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(c=u.get("easing"),u.delete("easing")),!s))for(let p of u.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((u,p)=>{const v=t.collectedStyles.get(t.currentQuerySelector),b=v.get(p);let M=!0;b&&(s!=i&&s>=b.startTime&&i<=b.endTime&&(t.errors.push(function yhe(n,e,t,r,i){return new h.vHH(3010,!1)}()),M=!1),s=b.startTime),M&&v.set(p,{startTime:s,endTime:i}),t.options&&function Qhe(n,e,t){const r=e.params||{},i=TF(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function hhe(n){return new h.vHH(3001,!1)}())})}(u,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Che(){return new h.vHH(3011,!1)}()),r;let s=0;const c=[];let u=!1,p=!1,v=0;const b=e.steps.map(fe=>{const Te=this._makeStyleAst(fe,t);let Oe=null!=Te.offset?Te.offset:function fde(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Te.styles),Ie=0;return null!=Oe&&(s++,Ie=Te.offset=Oe),p=p||Ie<0||Ie>1,u=u||Ie<v,v=Ie,c.push(Ie),Te});p&&t.errors.push(function Ahe(){return new h.vHH(3012,!1)}()),u&&t.errors.push(function bhe(){return new h.vHH(3200,!1)}());const M=e.steps.length;let D=0;s>0&&s<M?t.errors.push(function whe(){return new h.vHH(3202,!1)}()):0==s&&(D=1/(M-1));const N=M-1,R=t.currentTime,V=t.currentAnimateTimings,$=V.duration;return b.forEach((fe,Te)=>{const Oe=D>0?Te==N?1:D*Te:c[Te],Ie=Oe*$;t.currentTime=R+V.delay+Ie,V.duration=Ie,this._validateStyleAst(fe,t),fe.offset=Oe,r.styles.push(fe)}),r}visitReference(e,t){return{type:8,animation:Ss(this,m7(e.animation),t),options:u0(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:u0(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:u0(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function ude(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(cde,"")),n=n.replace(/@\*/g,Qy).replace(/@\w+/g,t=>Qy+"-"+t.slice(1)).replace(/:animating/g,mD),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Ms(t.collectedStyles,t.currentQuerySelector,new Map);const u=Ss(this,m7(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:u,originalSelector:e.selector,options:u0(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Ehe(){return new h.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Xy(e.timings,t.errors,!0);return{type:12,animation:Ss(this,m7(e.animation),t),timings:r,options:null}}}class dde{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function u0(n){return n?(n=p7(n)).params&&(n.params=function hde(n){return n?p7(n):null}(n.params)):n={},n}function CD(n,e,t){return{duration:n,delay:e,easing:t}}function AD(n,e,t,r,i,s,c=null,u=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:c,subTimeline:u}}class sC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const vde=new RegExp(":enter","g"),yde=new RegExp(":leave","g");function bD(n,e,t,r,i,s=new Map,c=new Map,u,p,v=[]){return(new Cde).buildKeyframes(n,e,t,r,i,s,c,u,p,v)}class Cde{buildKeyframes(e,t,r,i,s,c,u,p,v,b=[]){v=v||new sC;const M=new wD(e,t,v,i,s,b,[]);M.options=p;const D=p.delay?Nc(p.delay):0;M.currentTimeline.delayNextStep(D),M.currentTimeline.setStyles([c],null,M.errors,p),Ss(this,r,M);const N=M.timelines.filter(R=>R.containsAnimation());if(N.length&&u.size){let R;for(let V=N.length-1;V>=0;V--){const $=N[V];if($.element===t){R=$;break}}R&&!R.allowOnlyTimelineStyles()&&R.setStyles([u],null,M.errors,p)}return N.length?N.map(R=>R.buildKeyframes()):[AD(t,[],[],[],0,D,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const c="number"==typeof s?s:Nc(g7(s,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const c=null!=r.duration?Nc(r.duration):null,u=null!=r.delay?Nc(r.delay):null;return 0!==c&&e.forEach(p=>{const v=t.appendInstructionToTimeline(p,c,u);s=Math.max(s,v.duration+v.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ss(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=oC);const c=Nc(s.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Ss(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Nc(e.options.delay):0;e.steps.forEach(c=>{const u=t.createSubContext(e.options);s&&u.delayNextStep(s),Ss(this,c,u),i=Math.max(i,u.currentTimeline.currentTime),r.push(u.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Xy(t.params?g7(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,u=t.createSubContext().currentTimeline;u.easing=r.easing,e.styles.forEach(p=>{u.forwardTime((p.offset||0)*s),u.setStyles(p.styles,p.easing,t.errors,t.options),u.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(u),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Nc(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=oC);let c=r;const u=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=u.length;let p=null;u.forEach((v,b)=>{t.currentQueryIndex=b;const M=t.createSubContext(e.options,v);s&&M.delayNextStep(s),v===t.element&&(p=M.currentTimeline),Ss(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),u=c*(t.currentQueryTotal-1);let p=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=u-p;break;case"full":p=r.currentStaggerTime}const b=t.currentTimeline;p&&b.delayNextStep(p);const M=b.currentTime;Ss(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const oC={};class wD{constructor(e,t,r,i,s,c,u,p){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=c,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=oC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new aC(this._driver,t,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Nc(r.duration)),null!=r.delay&&(i.delay=Nc(r.delay));const s=r.params;if(s){let c=i.params;c||(c=this.options.params={}),Object.keys(s).forEach(u=>{(!t||!c.hasOwnProperty(u))&&(c[u]=g7(s[u],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new wD(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=oC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Ade(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,c){let u=[];if(i&&u.push(this.element),e.length>0){e=(e=e.replace(vde,"."+this._enterClassName)).replace(yde,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),u.push(...v)}return!s&&0==u.length&&c.push(function Mhe(n){return new h.vHH(3014,!1)}()),u}}class aC{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new aC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ec),this._currentKeyframe.set(t,Ec);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},c=function bde(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Ec)}else Sl(i,t)}),t}(e,this._globalTimelineStyles);for(let[u,p]of c){const v=g7(p,s,r);this._pendingStyles.set(u,v),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??Ec),this._updateStyle(u,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((u,p)=>{const v=Sl(u,new Map,this._backFill);v.forEach((b,M)=>{"!"===b?e.add(M):b===Ec&&t.add(M)}),r||v.set("offset",p/this.duration),i.push(v)});const s=e.size?Jy(e.values()):[],c=t.size?Jy(t.values()):[];if(r){const u=i[0],p=new Map(u);u.set("offset",0),p.set("offset",1),i=[u,p]}return AD(this.element,i,s,c,this.duration,this.startTime,this.easing,!1)}}class Ade extends aC{constructor(e,t,r,i,s,c,u=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=u,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=r+t,u=t/c,p=Sl(e[0]);p.set("offset",0),s.push(p);const v=Sl(e[0]);v.set("offset",LF(u)),s.push(v);const b=e.length-1;for(let M=1;M<=b;M++){let D=Sl(e[M]);const N=D.get("offset");D.set("offset",LF((t+N*r)/c)),s.push(D)}r=c,t=0,i="",e=s}return AD(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function LF(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class ED{}const wde=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ede extends ED{normalizePropertyName(e,t){return _D(e)}normalizeStyleValue(e,t,r,i){let s="";const c=r.toString().trim();if(wde.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const u=r.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&i.push(function phe(n,e){return new h.vHH(3005,!1)}())}return c+s}}function PF(n,e,t,r,i,s,c,u,p,v,b,M,D){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:c,timelines:u,queriedElements:p,preStyleProps:v,postStyleProps:b,totalTime:M,errors:D}}const MD={};class OF{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Mde(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,c,u,p,v,b){const M=[],D=this.ast.options&&this.ast.options.params||MD,R=this.buildStyles(r,u&&u.params||MD,M),V=p&&p.params||MD,$=this.buildStyles(i,V,M),fe=new Set,Te=new Map,Oe=new Map,Ie="void"===i,Je={params:Sde(V,D),delay:this.ast.options?.delay},Qe=b?[]:bD(e,t,this.ast.animation,s,c,R,$,Je,v,M);let zt=0;if(Qe.forEach(Ui=>{zt=Math.max(Ui.duration+Ui.delay,zt)}),M.length)return PF(t,this._triggerName,r,i,Ie,R,$,[],[],Te,Oe,zt,M);Qe.forEach(Ui=>{const os=Ui.element,nB=Ms(Te,os,new Set);Ui.preStyleProps.forEach(A0=>nB.add(A0));const G7=Ms(Oe,os,new Set);Ui.postStyleProps.forEach(A0=>G7.add(A0)),os!==t&&fe.add(os)});const Xn=Jy(fe.values());return PF(t,this._triggerName,r,i,Ie,R,$,Qe,Xn,Te,Oe,zt)}}function Sde(n,e){const t=p7(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Ide{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=p7(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!==c&&(i[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,u)=>{c&&(c=g7(c,i,t));const p=this.normalizer.normalizePropertyName(u,t);c=this.normalizer.normalizeStyleValue(u,p,c,t),r.set(p,c)})}),r}}class Tde{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Ide(i.style,i.options&&i.options.params||{},r))}),zF(this.states,"true","1"),zF(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new OF(e,i,this.states))}),this.fallbackTransition=function xde(n,e,t){return new OF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,u)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function zF(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Nde=new sC;class kde{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=yD(this._driver,t,r,[]);if(r.length)throw function khe(n){return new h.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=mF(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let c;const u=new Map;if(s?(c=bD(this._driver,t,s,pD,Zy,new Map,new Map,r,Nde,i),c.forEach(b=>{const M=Ms(u,b.element,new Map);b.postStyleProps.forEach(D=>M.set(D,null))})):(i.push(function Rhe(){return new h.vHH(3300,!1)}()),c=[]),i.length)throw function Lhe(n){return new h.vHH(3504,!1)}();u.forEach((b,M)=>{b.forEach((D,N)=>{b.set(N,this._driver.computeStyle(M,N,Ec))})});const v=Ml(c.map(b=>{const M=u.get(b.element);return this._buildPlayer(b,new Map,M)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Phe(n){return new h.vHH(3301,!1)}();return t}listen(e,t,r,i){const s=uD(t,"","","");return cD(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const FF="ng-animate-queued",SD="ng-animate-disabled",zde=[],VF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fde={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ys="__ng_removed";class ID{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Ude(n){return n??null}(r?e.value:e),r){const s=p7(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const v7="void",DD=new ID(v7);class Vde{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Qs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Ohe(n,e){return new h.vHH(3302,!1)}();if(null==r||0==r.length)throw function zhe(n){return new h.vHH(3303,!1)}();if(!function jde(n){return"start"==n||"done"==n}(r))throw function Fhe(n,e){return new h.vHH(3400,!1)}();const s=Ms(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};s.push(c);const u=Ms(this._engine.statesByElement,e,new Map);return u.has(t)||(Qs(e,Yy),Qs(e,Yy+"-"+t),u.set(t,DD)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers.has(t)||u.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Vhe(n){return new h.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),c=new TD(this.id,t,e);let u=this._engine.statesByElement.get(e);u||(Qs(e,Yy),Qs(e,Yy+"-"+t),this._engine.statesByElement.set(e,u=new Map));let p=u.get(t);const v=new ID(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&p&&v.absorbOptions(p.options),u.set(t,v),p||(p=DD),v.value!==v7&&p.value===v.value){if(!function Wde(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,v.params)){const V=[],$=s.matchStyles(p.value,p.params,V),fe=s.matchStyles(v.value,v.params,V);V.length?this._engine.reportError(V):this._engine.afterFlush(()=>{l0(e,$),n1(e,fe)})}return}const D=Ms(this._engine.playersByElement,e,[]);D.forEach(V=>{V.namespaceId==this.id&&V.triggerName==t&&V.queued&&V.destroy()});let N=s.matchTransition(p.value,v.value,e,v.params),R=!1;if(!N){if(!i)return;N=s.fallbackTransition,R=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:N,fromState:p,toState:v,player:c,isFallbackTransition:R}),R||(Qs(e,FF),c.onStart(()=>{od(e,FF)})),c.onDone(()=>{let V=this.players.indexOf(c);V>=0&&this.players.splice(V,1);const $=this._engine.playersByElement.get(e);if($){let fe=$.indexOf(c);fe>=0&&$.splice(fe,1)}}),this.players.push(c),D.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Qy,!0);r.forEach(i=>{if(i[Ys])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const u=[];if(s.forEach((p,v)=>{if(c.set(v,p.value),this._triggers.has(v)){const b=this.trigger(e,v,v7,i);b&&u.push(b)}}),u.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Ml(u).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const c=s.name;if(i.has(c))return;i.add(c);const p=this._triggers.get(c).fallbackTransition,v=r.get(c)||DD,b=new ID(v7),M=new TD(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:v,toState:b,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Ys];(!s||s===VF)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Qs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,c=this._elementListeners.get(s);c&&c.forEach(u=>{if(u.name==r.triggerName){const p=uD(s,r.triggerName,r.fromState.value,r.toState.value);p._data=e,cD(r.player,u.phase,p,u.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Hde{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Vde(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,u=this.driver.getParentElement(t);for(;u;){const p=i.get(u);if(p){const v=r.indexOf(p);r.splice(v+1,0,e),c=!0;break}u=this.driver.getParentElement(u)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(cC(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!cC(t))return;const s=t[Ys];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Qs(e,SD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),od(e,SD))}removeNode(e,t,r,i){if(cC(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Ys]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return cC(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Qy,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,mD,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ml(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ys];if(t&&t.setForRemoval){if(e[Ys]=VF,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(SD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Qs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ml(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Hhe(n){return new h.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new sC,i=[],s=new Map,c=[],u=new Map,p=new Map,v=new Map,b=new Set;this.disabledNodes.forEach(it=>{b.add(it);const _t=this.driver.query(it,".ng-animate-queued",!0);for(let Mt=0;Mt<_t.length;Mt++)b.add(_t[Mt])});const M=this.bodyNode,D=Array.from(this.statesByElement.keys()),N=UF(D,this.collectedEnterElements),R=new Map;let V=0;N.forEach((it,_t)=>{const Mt=pD+V++;R.set(_t,Mt),it.forEach(rn=>Qs(rn,Mt))});const $=[],fe=new Set,Te=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const _t=this.collectedLeaveElements[it],Mt=_t[Ys];Mt&&Mt.setForRemoval&&($.push(_t),fe.add(_t),Mt.hasAnimation?this.driver.query(_t,".ng-star-inserted",!0).forEach(rn=>fe.add(rn)):Te.add(_t))}const Oe=new Map,Ie=UF(D,Array.from(fe));Ie.forEach((it,_t)=>{const Mt=Zy+V++;Oe.set(_t,Mt),it.forEach(rn=>Qs(rn,Mt))}),e.push(()=>{N.forEach((it,_t)=>{const Mt=R.get(_t);it.forEach(rn=>od(rn,Mt))}),Ie.forEach((it,_t)=>{const Mt=Oe.get(_t);it.forEach(rn=>od(rn,Mt))}),$.forEach(it=>{this.processLeaveNode(it)})});const Je=[],Qe=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(t).forEach(Mt=>{const rn=Mt.player,Gr=Mt.element;if(Je.push(rn),this.collectedEnterElements.length){const Ai=Gr[Ys];if(Ai&&Ai.setForMove){if(Ai.previousTriggersValues&&Ai.previousTriggersValues.has(Mt.triggerName)){const b0=Ai.previousTriggersValues.get(Mt.triggerName),eo=this.statesByElement.get(Mt.element);if(eo&&eo.has(Mt.triggerName)){const WC=eo.get(Mt.triggerName);WC.value=b0,eo.set(Mt.triggerName,WC)}}return void rn.destroy()}}const l1=!M||!this.driver.containsElement(M,Gr),Ts=Oe.get(Gr),Ol=R.get(Gr),Jn=this._buildInstruction(Mt,r,Ol,Ts,l1);if(Jn.errors&&Jn.errors.length)return void Qe.push(Jn);if(l1)return rn.onStart(()=>l0(Gr,Jn.fromStyles)),rn.onDestroy(()=>n1(Gr,Jn.toStyles)),void i.push(rn);if(Mt.isFallbackTransition)return rn.onStart(()=>l0(Gr,Jn.fromStyles)),rn.onDestroy(()=>n1(Gr,Jn.toStyles)),void i.push(rn);const sB=[];Jn.timelines.forEach(Ai=>{Ai.stretchStartingKeyframe=!0,this.disabledNodes.has(Ai.element)||sB.push(Ai)}),Jn.timelines=sB,r.append(Gr,Jn.timelines),c.push({instruction:Jn,player:rn,element:Gr}),Jn.queriedElements.forEach(Ai=>Ms(u,Ai,[]).push(rn)),Jn.preStyleProps.forEach((Ai,b0)=>{if(Ai.size){let eo=p.get(b0);eo||p.set(b0,eo=new Set),Ai.forEach((WC,jT)=>eo.add(jT))}}),Jn.postStyleProps.forEach((Ai,b0)=>{let eo=v.get(b0);eo||v.set(b0,eo=new Set),Ai.forEach((WC,jT)=>eo.add(jT))})});if(Qe.length){const it=[];Qe.forEach(_t=>{it.push(function Bhe(n,e){return new h.vHH(3505,!1)}())}),Je.forEach(_t=>_t.destroy()),this.reportError(it)}const zt=new Map,Xn=new Map;c.forEach(it=>{const _t=it.element;r.has(_t)&&(Xn.set(_t,_t),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,zt))}),i.forEach(it=>{const _t=it.element;this._getPreviousPlayers(_t,!1,it.namespaceId,it.triggerName,null).forEach(rn=>{Ms(zt,_t,[]).push(rn),rn.destroy()})});const Ui=$.filter(it=>GF(it,p,v)),os=new Map;BF(os,this.driver,Te,v,Ec).forEach(it=>{GF(it,p,v)&&Ui.push(it)});const G7=new Map;N.forEach((it,_t)=>{BF(G7,this.driver,new Set(it),p,"!")}),Ui.forEach(it=>{const _t=os.get(it),Mt=G7.get(it);os.set(it,new Map([...Array.from(_t?.entries()??[]),...Array.from(Mt?.entries()??[])]))});const A0=[],rB=[],iB={};c.forEach(it=>{const{element:_t,player:Mt,instruction:rn}=it;if(r.has(_t)){if(b.has(_t))return Mt.onDestroy(()=>n1(_t,rn.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(rn.totalTime),void i.push(Mt);let Gr=iB;if(Xn.size>1){let Ts=_t;const Ol=[];for(;Ts=Ts.parentNode;){const Jn=Xn.get(Ts);if(Jn){Gr=Jn;break}Ol.push(Ts)}Ol.forEach(Jn=>Xn.set(Jn,Gr))}const l1=this._buildAnimation(Mt.namespaceId,rn,zt,s,G7,os);if(Mt.setRealPlayer(l1),Gr===iB)A0.push(Mt);else{const Ts=this.playersByElement.get(Gr);Ts&&Ts.length&&(Mt.parentPlayer=Ml(Ts)),i.push(Mt)}}else l0(_t,rn.fromStyles),Mt.onDestroy(()=>n1(_t,rn.toStyles)),rB.push(Mt),b.has(_t)&&i.push(Mt)}),rB.forEach(it=>{const _t=s.get(it.element);if(_t&&_t.length){const Mt=Ml(_t);it.setRealPlayer(Mt)}}),i.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<$.length;it++){const _t=$[it],Mt=_t[Ys];if(od(_t,Zy),Mt&&Mt.hasAnimation)continue;let rn=[];if(u.size){let l1=u.get(_t);l1&&l1.length&&rn.push(...l1);let Ts=this.driver.query(_t,mD,!0);for(let Ol=0;Ol<Ts.length;Ol++){let Jn=u.get(Ts[Ol]);Jn&&Jn.length&&rn.push(...Jn)}}const Gr=rn.filter(l1=>!l1.destroyed);Gr.length?Gde(this,_t,Gr):this.processLeaveNode(_t)}return $.length=0,A0.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const _t=this.players.indexOf(it);this.players.splice(_t,1)}),it.play()}),A0}elementContainsData(e,t){let r=!1;const i=t[Ys];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let c=[];if(t){const u=this.playersByQueriedElement.get(e);u&&(c=u)}else{const u=this.playersByElement.get(e);if(u){const p=!s||s==v7;u.forEach(v=>{v.queued||!p&&v.triggerName!=i||c.push(v)})}}return(r||i)&&(c=c.filter(u=>!(r&&r!=u.namespaceId||i&&i!=u.triggerName))),c}_beforeAnimationBuild(e,t,r){const s=t.element,c=t.isRemovalTransition?void 0:e,u=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const v=p.element,b=v!==s,M=Ms(r,v,[]);this._getPreviousPlayers(v,b,c,u,t.toState).forEach(N=>{const R=N.getRealPlayer();R.beforeDestroy&&R.beforeDestroy(),N.destroy(),M.push(N)})}l0(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,c){const u=t.triggerName,p=t.element,v=[],b=new Set,M=new Set,D=t.timelines.map(R=>{const V=R.element;b.add(V);const $=V[Ys];if($&&$.removedBeforeQueried)return new n7(R.duration,R.delay);const fe=V!==p,Te=function $de(n){const e=[];return jF(n,e),e}((r.get(V)||zde).map(zt=>zt.getRealPlayer())).filter(zt=>!!zt.element&&zt.element===V),Oe=s.get(V),Ie=c.get(V),Je=mF(0,this._normalizer,0,R.keyframes,Oe,Ie),Qe=this._buildPlayer(R,Je,Te);if(R.subTimeline&&i&&M.add(V),fe){const zt=new TD(e,u,V);zt.setRealPlayer(Qe),v.push(zt)}return Qe});v.forEach(R=>{Ms(this.playersByQueriedElement,R.element,[]).push(R),R.onDone(()=>function Bde(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,R.element,R))}),b.forEach(R=>Qs(R,EF));const N=Ml(D);return N.onDestroy(()=>{b.forEach(R=>od(R,EF)),n1(p,t.toStyles)}),M.forEach(R=>{Ms(i,R,[]).push(N)}),N}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new n7(e.duration,e.delay)}}class TD{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new n7,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>cD(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ms(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function cC(n){return n&&1===n.nodeType}function HF(n,e){const t=n.style.display;return n.style.display=e??"none",t}function BF(n,e,t,r,i){const s=[];t.forEach(p=>s.push(HF(p)));const c=[];r.forEach((p,v)=>{const b=new Map;p.forEach(M=>{const D=e.computeStyle(v,M,i);b.set(M,D),(!D||0==D.length)&&(v[Ys]=Fde,c.push(v))}),n.set(v,b)});let u=0;return t.forEach(p=>HF(p,s[u++])),c}function UF(n,e){const t=new Map;if(n.forEach(u=>t.set(u,[])),0==e.length)return t;const i=new Set(e),s=new Map;function c(u){if(!u)return 1;let p=s.get(u);if(p)return p;const v=u.parentNode;return p=t.has(v)?v:i.has(v)?1:c(v),s.set(u,p),p}return e.forEach(u=>{const p=c(u);1!==p&&t.get(p).push(u)}),t}function Qs(n,e){n.classList?.add(e)}function od(n,e){n.classList?.remove(e)}function Gde(n,e,t){Ml(t).onDone(()=>n.processLeaveNode(e))}function jF(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof SO?jF(r.players,e):e.push(r)}}function GF(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class lC{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Hde(e,t,r),this._timelineEngine=new kde(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const c=e+"-"+i;let u=this._triggerCache[c];if(!u){const p=[],b=yD(this._driver,s,p,[]);if(p.length)throw function xhe(n,e){return new h.vHH(3404,!1)}();u=function Dde(n,e,t){return new Tde(n,e,t)}(i,b,this._normalizer),this._triggerCache[c]=u}this._transitionEngine.registerTrigger(t,i,u)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,c]=gF(r);this._timelineEngine.command(s,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[c,u]=gF(r);return this._timelineEngine.listen(c,t,u,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Qde=(()=>{class n extends CO{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?bO(t):t;return WF(this._renderer,null,r,"register",[i]),new Xde(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Xde extends class pK{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Jde(this._id,e,t||{},this._renderer)}}class Jde{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return WF(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function WF(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const qF="@.disabled";let efe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,c)=>{const u=c?.parentNode(s);u&&c.removeChild(u,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let b=this._rendererCache.get(s);return b||(b=new KF("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,b)),b}const c=r.id,u=r.id+"-"+this._currentId;this._currentId++,this.engine.register(u,t);const p=b=>{Array.isArray(b)?b.forEach(p):this.engine.registerTrigger(c,u,t,b.name,b)};return r.data.animation.forEach(p),new tfe(this,u,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,u]=s;c(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(lC),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class KF{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==qF?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class tfe extends KF{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==qF?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function nfe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function rfe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,c,u=>{this.factory.scheduleListenerCallback(u._data||-1,r,u)})}return this.delegate.listen(e,t,r)}}let ife=(()=>{class n extends lC{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe),h.LFG(fD),h.LFG(ED),h.LFG(h.z2F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ZF=[{provide:CO,useClass:Qde},{provide:ED,useFactory:function sfe(){return new Ede}},{provide:lC,useClass:ife},{provide:h.FYo,useFactory:function ofe(n,e,t){return new efe(n,e,t)},deps:[iu,lC,h.R0b]}],YF=[{provide:fD,useClass:bF},{provide:h.QbO,useValue:"NoopAnimations"},...ZF];let cfe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:YF,imports:[Ao]}),n})();const QF_firebase={apiKey:"AIzaSyD3q3vNi04qsFEXmdrpKkAYipKWtOOK1XM",authDomain:"caddieup-magasin.firebaseapp.com",projectId:"caddieup-magasin",storageBucket:"caddieup-magasin.appspot.com",messagingSenderId:"1008186563024",appId:"1:1008186563024:web:253eabd1b2291f56fac1d5"},XF="@firebase/database",JF="0.13.10";let ND="";class ufe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,j.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,j.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class hfe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,j.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const eV=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ufe(e)}}catch{}return new hfe},h0=eV("localStorage"),kD=eV("sessionStorage"),ad=new mi.Yd("@firebase/database"),tV=function(){let n=1;return function(){return n++}}(),nV=function(n){const e=(0,j.dS)(n),t=new j.gQ;t.update(e);const r=t.digest();return j.US.encodeByteArray(r)},_7=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=_7.apply(null,r):e+="object"==typeof r?(0,j.Wl)(r):r,e+=" "}return e};let d0=null,rV=!0;const Ur=function(...n){if(!0===rV&&(rV=!1,null===d0&&!0===kD.get("logging_enabled")&&function(n,e){(0,j.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(ad.logLevel=mi.in.VERBOSE,d0=ad.log.bind(ad),e&&kD.set("logging_enabled",!0)):"function"==typeof n?d0=n:(d0=null,kD.remove("logging_enabled"))}(!0)),d0){const e=_7.apply(null,n);d0(e)}},y7=function(n){return function(...e){Ur(n,...e)}},RD=function(...n){const e="FIREBASE INTERNAL ERROR: "+_7(...n);ad.error(e)},r1=function(...n){const e=`FIREBASE FATAL ERROR: ${_7(...n)}`;throw ad.error(e),new Error(e)},Ci=function(...n){const e="FIREBASE WARNING: "+_7(...n);ad.warn(e)},hC=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},kc="[MIN_NAME]",s1="[MAX_NAME]",f0=function(n,e){if(n===e)return 0;if(n===kc||e===s1)return-1;if(e===kc||n===s1)return 1;{const t=dC(n),r=dC(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},pfe=function(n,e){return n===e?0:n<e?-1:1},C7=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,j.Wl)(e))},LD=function(n){if("object"!=typeof n||null===n)return(0,j.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,j.Wl)(e[r]),t+=":",t+=LD(n[e[r]]);return t+="}",t},sV=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function jr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const oV=function(n){(0,j.hu)(!hC(n),"Invalid JSON number");const r=1023;let i,s,c,u,p;0===n?(s=0,c=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=u+r,c=Math.round(n*Math.pow(2,52-u)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const v=[];for(p=52;p;p-=1)v.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)v.push(s%2?1:0),s=Math.floor(s/2);v.push(i?1:0),v.reverse();const b=v.join("");let M="";for(p=0;p<64;p+=8){let D=parseInt(b.substr(p,8),2).toString(16);1===D.length&&(D="0"+D),M+=D}return M.toLowerCase()},_fe=new RegExp("^-?(0*)\\d{1,10}$"),dC=function(n){if(_fe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},cd=function(n){try{n()}catch(e){setTimeout(()=>{throw Ci("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},A7=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Cfe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ci(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Afe{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Ur("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ci(e)}}let b7=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const dV=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mV="websocket",gV="long_polling";class zD{constructor(e,t,r,i,s=!1,c="",u=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=h0.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&h0.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function vV(n,e,t){let r;if((0,j.hu)("string"==typeof e,"typeof type must == string"),(0,j.hu)("object"==typeof t,"typeof params must == object"),e===mV)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==gV)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function bfe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return jr(t,(s,c)=>{i.push(s+"="+c)}),r+i.join("&")}class wfe{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,j.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,j.p$)(this.counters_)}}const FD={},VD={};function HD(n){const e=n.toString();return FD[e]||(FD[e]=new wfe),FD[e]}class Mfe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&cd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Il{constructor(e,t,r,i,s,c,u){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=c,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=y7(e),this.stats_=HD(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),vV(t,gV,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Mfe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,j.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new BD((...s)=>{const[c,u,p,v,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=u,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,u)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&dV.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Il.forceAllow_=!0}static forceDisallow(){Il.forceDisallow_=!0}static isAvailable(){return!((0,j.Yr)()||!Il.forceAllow_&&(Il.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,j.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,j.h$)(t),i=sV(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,j.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,j.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class BD{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,j.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=tV(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=BD.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(u){Ur("frame writing exception"),u.stack&&Ur(u.stack),Ur(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ur("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const c=this.pendingSegs.shift();r=r+"&seg"+i+"="+c.seg+"&ts"+i+"="+c.ts+"&d"+i+"="+c.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,j.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Ur("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let pC=null;typeof MozWebSocket<"u"?pC=MozWebSocket:typeof WebSocket<"u"&&(pC=WebSocket);let ld=(()=>{class n{constructor(t,r,i,s,c,u,p){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=y7(this.connId),this.stats_=HD(r),this.connURL=n.connectionURL_(r,u,p,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,c){const u={v:"5"};return!(0,j.Yr)()&&typeof location<"u"&&location.hostname&&dV.test(location.hostname)&&(u.r="f"),r&&(u.s=r),i&&(u.ls=i),s&&(u.ac=s),c&&(u.p=c),vV(t,mV,u)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h0.set("previous_websocket_failure",!0);try{let i;if((0,j.Yr)()){i={headers:{"User-Agent":`Firebase/5/${ND}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,u=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;u&&(i.proxy={origin:u})}this.mySock=new pC(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==pC&&!n.forceDisallow_}static previouslyFailed(){return h0.isInMemoryStorage||!0===h0.get("previous_websocket_failure")}markConnectionHealthy(){h0.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,j.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,j.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,j.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=sV(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),EV=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Il,ld]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=ld&&ld.isAvailable();let i=r&&!ld.previouslyFailed();if(t.webSocketOnly&&(r||Ci("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ld];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class NV{constructor(e,t,r,i,s,c,u,p,v,b){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=c,this.onReady_=u,this.onDisconnect_=p,this.onKill_=v,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=y7("c:"+this.id+":"),this.transportManager_=new EV(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=A7(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=C7("t",e),r=C7("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=C7("t",e),r=C7("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=C7("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?RD("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):RD("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Ci("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),A7(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):A7(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h0.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class kV{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class RV{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,j.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,j.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class mC extends RV{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,j.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new mC}getInitialEvent(e){return(0,j.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class gn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function cn(){return new gn("")}function Vt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Dl(n){return n.pieces_.length-n.pieceNum_}function Mn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new gn(n.pieces_,e)}function jD(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function w7(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function OV(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new gn(e,0)}function Un(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof gn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new gn(t,0)}function Ht(n){return n.pieceNum_>=n.pieces_.length}function Bi(n,e){const t=Vt(n),r=Vt(e);if(null===t)return e;if(t===r)return Bi(Mn(n),Mn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function GD(n,e){if(Dl(n)!==Dl(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Xs(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Dl(n)>Dl(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class Kfe{constructor(e,t){this.errorPrefix_=t,this.parts_=w7(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,j.ug)(this.parts_[r]);zV(this)}}function zV(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+p0(n))}function p0(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class $D extends RV{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new $D}getInitialEvent(e){return(0,j.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const E7=1e3;let vC,m0=(()=>{class n extends kV{constructor(t,r,i,s,c,u,p,v){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=u,this.appCheckTokenProvider_=p,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=y7("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=E7,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,j.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$D.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&mC.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,c={r:s,a:t,b:r};this.log_((0,j.Wl)(c)),(0,j.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new j.BH,i={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:u=>{const p=u.d;"ok"===u.s?r.resolve(p):r.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const c=t._queryIdentifier,u=t._path.toString();this.log_("Listen called for "+u+" "+c),this.listens.has(u)||this.listens.set(u,new Map),(0,j.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,j.hu)(!this.listens.get(u).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(u).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const c={p:i};t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,p=>{const v=p.d,b=p.s;n.warnOnListenWarnings_(v,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(i,s),t.onComplete&&t.onComplete(b,v))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,j.r3)(t,"w")){const i=(0,j.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();Ci(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,j.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,j.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const c=s.s,u=s.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,j.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const c={p:t};s&&(c.q=i,c.t=s),this.sendRequest("n",c)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const c={p:r,d:i};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,u=>{s&&setTimeout(()=>{s(u.s,u.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,c){this.initConnection_();const u={p:r,d:i};void 0!==c&&(u.h=c),this.outstandingPuts_.push({action:t,request:u,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,j.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):RD("Unrecognized action received from server: "+(0,j.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,j.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=E7,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=E7,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=E7),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,ae.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,u=t.lastSessionId;let p=!1,v=null;const b=function(){v?v.close():(p=!0,s())};t.realtime_={close:b,sendRequest:function(N){(0,j.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(N)}};const D=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[N,R]=yield Promise.all([t.authTokenProvider_.getToken(D),t.appCheckTokenProvider_.getToken(D)]);p?Ur("getToken() completed but was canceled"):(Ur("getToken() completed. Creating connection."),t.authToken_=N&&N.accessToken,t.appCheckToken_=R&&R.token,v=new NV(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,V=>{Ci(V+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},u))}catch(N){t.log_("Failed to get token: "+N),p||(t.repoInfo_.nodeAdmin&&Ci(N),b())}}})()}interrupt(t){Ur("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ur("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,j.xb)(this.interruptReasons_)&&(this.reconnectDelay_=E7,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(c=>LD(c)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new gn(t).toString();let s;if(this.listens.has(i)){const c=this.listens.get(i);s=c.get(r),c.delete(r),0===c.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){Ur("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Ur("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,j.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+ND.replace(/\./g,"-")]=1,(0,j.uI)()?t["framework.cordova"]=1:(0,j.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=mC.getInstance().currentlyOnline();return(0,j.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ut{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ut(e,t)}}class gC{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Ut(kc,e),i=new Ut(kc,t);return 0!==this.compare(r,i)}minPost(){return Ut.MIN}}class HV extends gC{static get __EMPTY_NODE(){return vC}static set __EMPTY_NODE(e){vC=e}compare(e,t){return f0(e.name,t.name)}isDefinedOn(e){throw(0,j.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ut.MIN}maxPost(){return new Ut(s1,vC)}makePost(e,t){return(0,j.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ut(e,vC)}toString(){return".key"}}const o1=new HV;class _C{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,i&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let qD,ta=(()=>{class n{constructor(t,r,i,s,c){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??ss.EMPTY_NODE,this.right=c??ss.EMPTY_NODE}copy(t,r,i,s,c){return new n(t??this.key,r??this.value,i??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const c=i(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===c?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ss.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return ss.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ss{constructor(e,t=ss.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ss(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ta.BLACK,null,null))}remove(e){return new ss(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ta.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new _C(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new _C(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new _C(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new _C(this.root_,null,this.comparator_,!0,e)}}function n8e(n,e){return f0(n.name,e.name)}function WD(n,e){return f0(n,e)}ss.EMPTY_NODE=new class t8e{copy(e,t,r,i,s){return this}insert(e,t,r){return new ta(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const BV=function(n){return"number"==typeof n?"number:"+oV(n):"string:"+n},UV=function(n){if(n.isLeafNode()){const e=n.val();(0,j.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,j.r3)(e,".sv"),"Priority must be a string or number.")}else(0,j.hu)(n===qD||n.isEmpty(),"priority of unexpected type.");(0,j.hu)(n===qD||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let jV,GV,$V,ud=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,j.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),UV(this.priorityNode_)}static set __childrenNodeConstructor(t){jV=t}static get __childrenNodeConstructor(){return jV}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Ht(t)?this:".priority"===Vt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=Vt(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,j.hu)(".priority"!==i||1===Dl(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Mn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+BV(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?oV(this.value_):this.value_,this.lazyHash_=nV(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,j.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),c=n.VALUE_TYPE_ORDER.indexOf(i);return(0,j.hu)(s>=0,"Unknown leaf type: "+r),(0,j.hu)(c>=0,"Unknown leaf type: "+i),s===c?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const xn=new class o8e extends gC{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?f0(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ut.MIN}maxPost(){return new Ut(s1,new ud("[PRIORITY-POST]",$V))}makePost(e,t){const r=GV(e);return new Ut(t,new ud("[PRIORITY-POST]",r))}toString(){return".priority"}},a8e=Math.log(2);class c8e{constructor(e){this.count=parseInt(Math.log(e+1)/a8e,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yC=function(n,e,t,r){n.sort(e);const i=function(p,v){const b=v-p;let M,D;if(0===b)return null;if(1===b)return M=n[p],D=t?t(M):M,new ta(D,M.node,ta.BLACK,null,null);{const N=parseInt(b/2,10)+p,R=i(p,N),V=i(N+1,v);return M=n[N],D=t?t(M):M,new ta(D,M.node,ta.BLACK,R,V)}},u=function(p){let v=null,b=null,M=n.length;const D=function(R,V){const $=M-R,fe=M;M-=R;const Te=i($+1,fe),Oe=n[$],Ie=t?t(Oe):Oe;N(new ta(Ie,Oe.node,V,null,Te))},N=function(R){v?(v.left=R,v=R):(b=R,v=R)};for(let R=0;R<p.count;++R){const V=p.nextBitIsOne(),$=Math.pow(2,p.count-(R+1));V?D($,ta.BLACK):(D($,ta.BLACK),D($,ta.RED))}return b}(new c8e(n.length));return new ss(r||e,u)};let KD;const hd={};class Rc{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,j.hu)(hd&&xn,"ChildrenNode.ts has not been loaded"),KD=KD||new Rc({".priority":hd},{".priority":xn}),KD}get(e){const t=(0,j.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ss?t:null}hasIndex(e){return(0,j.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,j.hu)(e!==o1,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(Ut.Wrap);let u,c=s.getNext();for(;c;)i=i||e.isDefinedOn(c.node),r.push(c),c=s.getNext();u=i?yC(r,e.getCompare()):hd;const p=e.toString(),v=Object.assign({},this.indexSet_);v[p]=e;const b=Object.assign({},this.indexes_);return b[p]=u,new Rc(b,v)}addToIndexes(e,t){const r=(0,j.UI)(this.indexes_,(i,s)=>{const c=(0,j.DV)(this.indexSet_,s);if((0,j.hu)(c,"Missing index implementation for "+s),i===hd){if(c.isDefinedOn(e.node)){const u=[],p=t.getIterator(Ut.Wrap);let v=p.getNext();for(;v;)v.name!==e.name&&u.push(v),v=p.getNext();return u.push(e),yC(u,c.getCompare())}return hd}{const u=t.get(e.name);let p=i;return u&&(p=p.remove(new Ut(e.name,u))),p.insert(e,e.node)}});return new Rc(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,j.UI)(this.indexes_,i=>{if(i===hd)return i;{const s=t.get(e.name);return s?i.remove(new Ut(e.name,s)):i}});return new Rc(r,this.indexSet_)}}let M7,kt=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&UV(this.priorityNode_),this.children_.isEmpty()&&(0,j.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return M7||(M7=new n(new ss(WD),null,Rc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||M7}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?M7:r}}getChild(t){const r=Vt(t);return null===r?this:this.getImmediateChild(r).getChild(Mn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,j.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Ut(t,r);let s,c;r.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(i,this.children_));const u=s.isEmpty()?M7:this.priorityNode_;return new n(s,u,c)}}updateChild(t,r){const i=Vt(t);if(null===i)return r;{(0,j.hu)(".priority"!==Vt(t)||1===Dl(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Mn(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,c=!0;if(this.forEachChild(xn,(u,p)=>{r[u]=p.val(t),i++,c&&n.INTEGER_REGEXP_.test(u)?s=Math.max(s,Number(u)):c=!1}),!t&&c&&s<2*i){const u=[];for(const p in r)u[p]=r[p];return u}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+BV(this.getPriority().val())+":"),this.forEachChild(xn,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":nV(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const c=s.getPredecessorKey(new Ut(t,r));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Ut(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Ut(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Ut.Wrap);let c=s.peek();for(;null!=c&&r.compare(c,t)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Ut.Wrap);let c=s.peek();for(;null!=c&&r.compare(c,t)>0;)s.getNext(),c=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===S7?-1:0}withIndex(t){if(t===o1||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===o1||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(xn),s=r.getIterator(xn);let c=i.getNext(),u=s.getNext();for(;c&&u;){if(c.name!==u.name||!c.node.equals(u.node))return!1;c=i.getNext(),u=s.getNext()}return null===c&&null===u}return!1}return!1}}resolveIndex_(t){return t===o1?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const S7=new class l8e extends kt{constructor(){super(new ss(WD),kt.EMPTY_NODE,Rc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return kt.EMPTY_NODE}isEmpty(){return!1}};function Qn(n,e=null){if(null===n)return kt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,j.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ud(n,Qn(e));if(n instanceof Array){let t=kt.EMPTY_NODE;return jr(n,(r,i)=>{if((0,j.r3)(n,r)&&"."!==r.substring(0,1)){const s=Qn(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Qn(e))}{const t=[];let r=!1;if(jr(n,(c,u)=>{if("."!==c.substring(0,1)){const p=Qn(u);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),t.push(new Ut(c,p)))}}),0===t.length)return kt.EMPTY_NODE;const s=yC(t,n8e,c=>c.name,WD);if(r){const c=yC(t,xn.getCompare());return new kt(s,Qn(e),new Rc({".priority":c},{".priority":xn}))}return new kt(s,Qn(e),Rc.Default)}}Object.defineProperties(Ut,{MIN:{value:new Ut(kc,kt.EMPTY_NODE)},MAX:{value:new Ut(s1,S7)}}),HV.__EMPTY_NODE=kt.EMPTY_NODE,ud.__childrenNodeConstructor=kt,function r8e(n){qD=n}(S7),function s8e(n){$V=n}(S7),function i8e(n){GV=n}(Qn);class ZD extends gC{constructor(e){super(),this.indexPath_=e,(0,j.hu)(!Ht(e)&&".priority"!==Vt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?f0(e.name,t.name):s}makePost(e,t){const r=Qn(e),i=kt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ut(t,i)}maxPost(){const e=kt.EMPTY_NODE.updateChild(this.indexPath_,S7);return new Ut(s1,e)}toString(){return w7(this.indexPath_,0).join("/")}}const YD=new class h8e extends gC{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?f0(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ut.MIN}maxPost(){return Ut.MAX}makePost(e,t){const r=Qn(e);return new Ut(t,r)}toString(){return".value"}};function D7(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class JD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,j.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,j.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:kc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,j.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,j.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:s1}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,j.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===xn}copy(){const e=new JD;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function QV(n){const e={};if(n.isDefault())return e;let t;return n.index_===xn?t="$priority":n.index_===YD?t="$value":n.index_===o1?t="$key":((0,j.hu)(n.index_ instanceof ZD,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,j.Wl)(t),n.startSet_&&(e.startAt=(0,j.Wl)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,j.Wl)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,j.Wl)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,j.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function XV(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==xn&&(e.i=n.index_.toString()),e}class AC extends kV{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=y7("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,j.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const c=AC.getListenId_(e,r),u={};this.listens_[c]=u;const p=QV(e._queryParams);this.restRequest_(s+".json",p,(v,b)=>{let M=b;if(404===v&&(M=null,v=null),null===v&&this.onDataUpdate_(s,M,!1,r),(0,j.DV)(this.listens_,c)===u){let D;D=v?401===v?"permission_denied":"rest_error:"+v:"ok",i(D,null)}})}unlisten(e,t){const r=AC.getListenId_(e,t);delete this.listens_[r]}get(e){const t=QV(e._queryParams),r=e._path.toString(),i=new j.BH;return this.restRequest_(r+".json",t,(s,c)=>{let u=c;404===s&&(u=null,s=null),null===s?(this.onDataUpdate_(r,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,j.xO)(t);this.log_("Sending REST request for "+c);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(r&&4===u.readyState){this.log_("REST Response for "+c+" received. status:",u.status,"response:",u.responseText);let p=null;if(u.status>=200&&u.status<300){try{p=(0,j.cI)(u.responseText)}catch{Ci("Failed to parse JSON response for "+c+": "+u.responseText)}r(null,p)}else 401!==u.status&&404!==u.status&&Ci("Got unsuccessful REST response for "+c+" Status: "+u.status),r(u.status);r=null}},u.open("GET",c,!0),u.send()})}}class C8e{constructor(){this.rootNode_=kt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function bC(){return{value:null,children:new Map}}function pd(n,e,t){if(Ht(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Vt(e);n.children.has(r)||n.children.set(r,bC()),pd(n.children.get(r),e=Mn(e),t)}}function rT(n,e,t){null!==n.value?t(e,n.value):function A8e(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{rT(i,new gn(e.toString()+"/"+r),t)})}class b8e{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&jr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class M8e{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new b8e(e);const r=1e4+2e4*Math.random();A7(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;jr(e,(i,s)=>{s>0&&(0,j.r3)(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),A7(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Js=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Js||(Js={})),Js))();function oT(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class wC{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Js.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Ht(this.path)){if(null!=this.affectedTree.value)return(0,j.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new gn(e));return new wC(cn(),t,this.revert)}}return(0,j.hu)(Vt(this.path)===e,"operationForChild called for unrelated child."),new wC(Mn(this.path),this.affectedTree,this.revert)}}class g0{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Js.OVERWRITE}operationForChild(e){return Ht(this.path)?new g0(this.source,cn(),this.snap.getImmediateChild(e)):new g0(this.source,Mn(this.path),this.snap)}}class md{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Js.MERGE}operationForChild(e){if(Ht(this.path)){const t=this.children.subtree(new gn(e));return t.isEmpty()?null:t.value?new g0(this.source,cn(),t.value):new md(this.source,cn(),t)}return(0,j.hu)(Vt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new md(this.source,Mn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Tl{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ht(e))return this.isFullyInitialized()&&!this.filtered_;const t=Vt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function N7(n,e,t,r,i,s){const c=r.filter(u=>u.type===t);c.sort((u,p)=>function T8e(n,e,t){if(null==e.childName||null==t.childName)throw(0,j.g5)("Should only compare child_ events.");const r=new Ut(e.childName,e.snapshotNode),i=new Ut(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,u,p)),c.forEach(u=>{const p=function D8e(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,u,s);i.forEach(v=>{v.respondsTo(u.type)&&e.push(v.createEvent(p,n.query_))})})}function EC(n,e){return{eventCache:n,serverCache:e}}function k7(n,e,t,r){return EC(new Tl(e,t,r),n.serverCache)}function eH(n,e,t,r){return EC(n.eventCache,new Tl(e,t,r))}function MC(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function v0(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let aT;class Nn{constructor(e,t=(()=>(aT||(aT=new ss(pfe)),aT))()){this.value=e,this.children=t}static fromObject(e){let t=new Nn(null);return jr(e,(r,i)=>{t=t.set(new gn(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:cn(),value:this.value};if(Ht(e))return null;{const r=Vt(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Mn(e),t);return null!=s?{path:Un(new gn(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ht(e))return this;{const t=Vt(e),r=this.children.get(t);return null!==r?r.subtree(Mn(e)):new Nn(null)}}set(e,t){if(Ht(e))return new Nn(t,this.children);{const r=Vt(e),s=(this.children.get(r)||new Nn(null)).set(Mn(e),t),c=this.children.insert(r,s);return new Nn(this.value,c)}}remove(e){if(Ht(e))return this.children.isEmpty()?new Nn(null):new Nn(null,this.children);{const t=Vt(e),r=this.children.get(t);if(r){const i=r.remove(Mn(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new Nn(null):new Nn(this.value,s)}return this}}get(e){if(Ht(e))return this.value;{const t=Vt(e),r=this.children.get(t);return r?r.get(Mn(e)):null}}setTree(e,t){if(Ht(e))return t;{const r=Vt(e),s=(this.children.get(r)||new Nn(null)).setTree(Mn(e),t);let c;return c=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Nn(this.value,c)}}fold(e){return this.fold_(cn(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Un(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,cn(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(Ht(e))return null;{const s=Vt(e),c=this.children.get(s);return c?c.findOnPath_(Mn(e),Un(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,cn(),t)}foreachOnPath_(e,t,r){if(Ht(e))return this;{this.value&&r(t,this.value);const i=Vt(e),s=this.children.get(i);return s?s.foreachOnPath_(Mn(e),Un(t,i),r):new Nn(null)}}foreach(e){this.foreach_(cn(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Un(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class na{constructor(e){this.writeTree_=e}static empty(){return new na(new Nn(null))}}function R7(n,e,t){if(Ht(e))return new na(new Nn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const c=Bi(i,e);return s=s.updateChild(c,t),new na(n.writeTree_.set(i,s))}{const i=new Nn(t),s=n.writeTree_.setTree(e,i);return new na(s)}}}function cT(n,e,t){let r=n;return jr(t,(i,s)=>{r=R7(r,Un(e,i),s)}),r}function tH(n,e){if(Ht(e))return na.empty();{const t=n.writeTree_.setTree(e,new Nn(null));return new na(t)}}function lT(n,e){return null!=_0(n,e)}function _0(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Bi(t.path,e)):null}function nH(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(xn,(r,i)=>{e.push(new Ut(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Ut(r,i.value))}),e}function xl(n,e){if(Ht(e))return n;{const t=_0(n,e);return new na(null!=t?new Nn(t):n.writeTree_.subtree(e))}}function uT(n){return n.writeTree_.isEmpty()}function gd(n,e){return rH(cn(),n.writeTree_,e)}function rH(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,j.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=rH(Un(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Un(n,".priority"),r)),t}}function SC(n,e){return cH(e,n)}function P8e(n,e){if(n.snap)return Xs(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Xs(Un(n.path,t),e))return!0;return!1}function z8e(n){return n.visible}function iH(n,e,t){let r=na.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const c=s.path;let u;if(s.snap)Xs(t,c)?(u=Bi(t,c),r=R7(r,u,s.snap)):Xs(c,t)&&(u=Bi(c,t),r=R7(r,cn(),s.snap.getChild(u)));else{if(!s.children)throw(0,j.g5)("WriteRecord should have .snap or .children");if(Xs(t,c))u=Bi(t,c),r=cT(r,u,s.children);else if(Xs(c,t))if(u=Bi(c,t),Ht(u))r=cT(r,cn(),s.children);else{const p=(0,j.DV)(s.children,Vt(u));if(p){const v=p.getChild(Mn(u));r=R7(r,cn(),v)}}}}}return r}function sH(n,e,t,r,i){if(r||i){const s=xl(n.visibleWrites,e);return!i&&uT(s)?t:i||null!=t||lT(s,cn())?gd(iH(n.allWrites,function(v){return(v.visible||i)&&(!r||!~r.indexOf(v.writeId))&&(Xs(v.path,e)||Xs(e,v.path))},e),t||kt.EMPTY_NODE):null}{const s=_0(n.visibleWrites,e);if(null!=s)return s;{const c=xl(n.visibleWrites,e);return uT(c)?t:null!=t||lT(c,cn())?gd(c,t||kt.EMPTY_NODE):null}}}function IC(n,e,t,r){return sH(n.writeTree,n.treePath,e,t,r)}function hT(n,e){return function F8e(n,e,t){let r=kt.EMPTY_NODE;const i=_0(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(xn,(s,c)=>{r=r.updateImmediateChild(s,c)}),r;if(t){const s=xl(n.visibleWrites,e);return t.forEachChild(xn,(c,u)=>{const p=gd(xl(s,new gn(c)),u);r=r.updateImmediateChild(c,p)}),nH(s).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}return nH(xl(n.visibleWrites,e)).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}(n.writeTree,n.treePath,e)}function oH(n,e,t,r){return function V8e(n,e,t,r,i){(0,j.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Un(e,t);if(lT(n.visibleWrites,s))return null;{const c=xl(n.visibleWrites,s);return uT(c)?i.getChild(t):gd(c,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function DC(n,e){return function B8e(n,e){return _0(n.visibleWrites,e)}(n.writeTree,Un(n.treePath,e))}function dT(n,e,t){return function H8e(n,e,t,r){const i=Un(e,t),s=_0(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?gd(xl(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function aH(n,e){return cH(Un(n.treePath,e),n.writeTree)}function cH(n,e){return{treePath:n,writeTree:e}}class $8e{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,j.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,j.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,D7(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,function I7(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,function fd(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,j.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,D7(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const lH=new class W8e{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class fT{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Tl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dT(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:v0(this.viewCache_),s=function G8e(n,e,t,r,i,s){return function U8e(n,e,t,r,i,s,c){let u;const p=xl(n.visibleWrites,e),v=_0(p,cn());if(null!=v)u=v;else{if(null==t)return[];u=gd(p,t)}if(u=u.withIndex(c),u.isEmpty()||u.isLeafNode())return[];{const b=[],M=c.getCompare(),D=s?u.getReverseIteratorFrom(r,c):u.getIteratorFrom(r,c);let N=D.getNext();for(;N&&b.length<i;)0!==M(N,r)&&b.push(N),N=D.getNext();return b}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function uH(n,e,t,r,i,s){const c=e.eventCache;if(null!=DC(r,t))return e;{let u,p;if(Ht(t))if((0,j.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=v0(e),M=hT(r,v instanceof kt?v:kt.EMPTY_NODE);u=n.filter.updateFullNode(e.eventCache.getNode(),M,s)}else{const v=IC(r,v0(e));u=n.filter.updateFullNode(e.eventCache.getNode(),v,s)}else{const v=Vt(t);if(".priority"===v){(0,j.hu)(1===Dl(t),"Can't have a priority with additional path components");const b=c.getNode();p=e.serverCache.getNode();const M=oH(r,t,b,p);u=null!=M?n.filter.updatePriority(b,M):c.getNode()}else{const b=Mn(t);let M;if(c.isCompleteForChild(v)){p=e.serverCache.getNode();const D=oH(r,t,c.getNode(),p);M=null!=D?c.getNode().getImmediateChild(v).updateChild(b,D):c.getNode().getImmediateChild(v)}else M=dT(r,v,e.serverCache);u=null!=M?n.filter.updateChild(c.getNode(),v,M,b,i,s):c.getNode()}}return k7(e,u,c.isFullyInitialized()||Ht(t),n.filter.filtersNodes())}}function TC(n,e,t,r,i,s,c,u){const p=e.serverCache;let v;const b=c?n.filter:n.filter.getIndexedFilter();if(Ht(t))v=b.updateFullNode(p.getNode(),r,null);else if(b.filtersNodes()&&!p.isFiltered()){const N=p.getNode().updateChild(t,r);v=b.updateFullNode(p.getNode(),N,null)}else{const N=Vt(t);if(!p.isCompleteForPath(t)&&Dl(t)>1)return e;const R=Mn(t),$=p.getNode().getImmediateChild(N).updateChild(R,r);v=".priority"===N?b.updatePriority(p.getNode(),$):b.updateChild(p.getNode(),N,$,R,lH,null)}const M=eH(e,v,p.isFullyInitialized()||Ht(t),b.filtersNodes());return uH(n,M,t,i,new fT(i,M,s),u)}function pT(n,e,t,r,i,s,c){const u=e.eventCache;let p,v;const b=new fT(i,e,s);if(Ht(t))v=n.filter.updateFullNode(e.eventCache.getNode(),r,c),p=k7(e,v,!0,n.filter.filtersNodes());else{const M=Vt(t);if(".priority"===M)v=n.filter.updatePriority(e.eventCache.getNode(),r),p=k7(e,v,u.isFullyInitialized(),u.isFiltered());else{const D=Mn(t),N=u.getNode().getImmediateChild(M);let R;if(Ht(D))R=r;else{const V=b.getCompleteChild(M);R=null!=V?".priority"===jD(D)&&V.getChild(OV(D)).isEmpty()?V:V.updateChild(D,r):kt.EMPTY_NODE}p=N.equals(R)?e:k7(e,n.filter.updateChild(u.getNode(),M,R,D,b,c),u.isFullyInitialized(),n.filter.filtersNodes())}}return p}function hH(n,e){return n.eventCache.isCompleteForChild(e)}function dH(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function mT(n,e,t,r,i,s,c,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,p=e;v=Ht(t)?r:new Nn(null).setTree(t,r);const b=e.serverCache.getNode();return v.children.inorderTraversal((M,D)=>{if(b.hasChild(M)){const R=dH(0,e.serverCache.getNode().getImmediateChild(M),D);p=TC(n,p,new gn(M),R,i,s,c,u)}}),v.children.inorderTraversal((M,D)=>{const N=!e.serverCache.isCompleteForChild(M)&&null===D.value;if(!b.hasChild(M)&&!N){const V=dH(0,e.serverCache.getNode().getImmediateChild(M),D);p=TC(n,p,new gn(M),V,i,s,c,u)}}),p}function i5e(n,e){const t=v0(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Ht(e)&&!t.getImmediateChild(Vt(e)).isEmpty())?t.getChild(e):null}function mH(n,e,t,r){e.type===Js.MERGE&&null!==e.source.queryId&&((0,j.hu)(v0(n.viewCache_),"We should always have a full cache before handling merges"),(0,j.hu)(MC(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function Z8e(n,e,t,r,i){const s=new $8e;let c,u;if(t.type===Js.OVERWRITE){const v=t;v.source.fromUser?c=pT(n,e,v.path,v.snap,r,i,s):((0,j.hu)(v.source.fromServer,"Unknown source."),u=v.source.tagged||e.serverCache.isFiltered()&&!Ht(v.path),c=TC(n,e,v.path,v.snap,r,i,u,s))}else if(t.type===Js.MERGE){const v=t;v.source.fromUser?c=function Q8e(n,e,t,r,i,s,c){let u=e;return r.foreach((p,v)=>{const b=Un(t,p);hH(e,Vt(b))&&(u=pT(n,u,b,v,i,s,c))}),r.foreach((p,v)=>{const b=Un(t,p);hH(e,Vt(b))||(u=pT(n,u,b,v,i,s,c))}),u}(n,e,v.path,v.children,r,i,s):((0,j.hu)(v.source.fromServer,"Unknown source."),u=v.source.tagged||e.serverCache.isFiltered(),c=mT(n,e,v.path,v.children,r,i,u,s))}else if(t.type===Js.ACK_USER_WRITE){const v=t;c=v.revert?function e5e(n,e,t,r,i,s){let c;if(null!=DC(r,t))return e;{const u=new fT(r,e,i),p=e.eventCache.getNode();let v;if(Ht(t)||".priority"===Vt(t)){let b;if(e.serverCache.isFullyInitialized())b=IC(r,v0(e));else{const M=e.serverCache.getNode();(0,j.hu)(M instanceof kt,"serverChildren would be complete if leaf node"),b=hT(r,M)}v=n.filter.updateFullNode(p,b,s)}else{const b=Vt(t);let M=dT(r,b,e.serverCache);null==M&&e.serverCache.isCompleteForChild(b)&&(M=p.getImmediateChild(b)),v=null!=M?n.filter.updateChild(p,b,M,Mn(t),u,s):e.eventCache.getNode().hasChild(b)?n.filter.updateChild(p,b,kt.EMPTY_NODE,Mn(t),u,s):p,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=IC(r,v0(e)),c.isLeafNode()&&(v=n.filter.updateFullNode(v,c,s)))}return c=e.serverCache.isFullyInitialized()||null!=DC(r,cn()),k7(e,v,c,n.filter.filtersNodes())}}(n,e,v.path,r,i,s):function X8e(n,e,t,r,i,s,c){if(null!=DC(i,t))return e;const u=e.serverCache.isFiltered(),p=e.serverCache;if(null!=r.value){if(Ht(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return TC(n,e,t,p.getNode().getChild(t),i,s,u,c);if(Ht(t)){let v=new Nn(null);return p.getNode().forEachChild(o1,(b,M)=>{v=v.set(new gn(b),M)}),mT(n,e,t,v,i,s,u,c)}return e}{let v=new Nn(null);return r.foreach((b,M)=>{const D=Un(t,b);p.isCompleteForPath(D)&&(v=v.set(b,p.getNode().getChild(D)))}),mT(n,e,t,v,i,s,u,c)}}(n,e,v.path,v.affectedTree,r,i,s)}else{if(t.type!==Js.LISTEN_COMPLETE)throw(0,j.g5)("Unknown operation type: "+t.type);c=function J8e(n,e,t,r,i){const s=e.serverCache;return uH(n,eH(e,s.getNode(),s.isFullyInitialized()||Ht(t),s.isFiltered()),t,r,lH,i)}(n,e,t.path,r,s)}const p=s.getChanges();return function Y8e(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=MC(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(function YV(n){return{type:"value",snapshotNode:n}}(MC(e)))}}(e,c,p),{viewCache:c,changes:p}}(n.processor_,i,e,t,r);return function K8e(n,e){(0,j.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,j.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,j.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function gH(n,e,t,r){return function I8e(n,e,t,r){const i=[],s=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function f8e(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),N7(n,i,"child_removed",e,r,t),N7(n,i,"child_added",e,r,t),N7(n,i,"child_moved",s,r,t),N7(n,i,"child_changed",e,r,t),N7(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let xC,kC;function gT(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return(0,j.hu)(null!=s,"SyncTree gave us an op for an invalid query."),mH(s,e,t,r)}{let s=[];for(const c of n.views.values())s=s.concat(mH(c,e,t,r));return s}}function Nl(n,e){let t=null;for(const r of n.views.values())t=t||i5e(r,e);return t}class bH{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Nn(null),this.pendingWriteTree_=function j8e(){return{visibleWrites:na.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vT(n,e,t,r,i){return function N8e(n,e,t,r,i){(0,j.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=R7(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?vd(n,new g0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Rl(n,e,t=!1){const r=function R8e(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function L8e(n,e){const t=n.allWrites.findIndex(u=>u.writeId===e);(0,j.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,c=n.allWrites.length-1;for(;i&&c>=0;){const u=n.allWrites[c];u.visible&&(c>=t&&P8e(u,r.path)?i=!1:Xs(r.path,u.path)&&(s=!0)),c--}return!!i&&(s?(function O8e(n){n.visibleWrites=iH(n.allWrites,z8e,cn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=tH(n.visibleWrites,r.path):jr(r.children,p=>{n.visibleWrites=tH(n.visibleWrites,Un(r.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new Nn(null);return null!=r.snap?s=s.set(cn(),!0):jr(r.children,c=>{s=s.set(new gn(c),!0)}),vd(n,new wC(r.path,s,t))}return[]}function L7(n,e,t){return vd(n,new g0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function LC(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(c,u)=>{const v=Nl(u,Bi(c,e));if(v)return v});return sH(i,e,s,t,!0)}function vd(n,e){return EH(e,n.syncPointTree_,null,SC(n.pendingWriteTree_,cn()))}function EH(n,e,t,r){if(Ht(n.path))return MH(n,e,t,r);{const i=e.get(cn());null==t&&null!=i&&(t=Nl(i,cn()));let s=[];const c=Vt(n.path),u=n.operationForChild(c),p=e.children.get(c);if(p&&u){const v=t?t.getImmediateChild(c):null,b=aH(r,c);s=s.concat(EH(u,p,v,b))}return i&&(s=s.concat(gT(i,n,r,t))),s}}function MH(n,e,t,r){const i=e.get(cn());null==t&&null!=i&&(t=Nl(i,cn()));let s=[];return e.children.inorderTraversal((c,u)=>{const p=t?t.getImmediateChild(c):null,v=aH(r,c),b=n.operationForChild(c);b&&(s=s.concat(MH(b,u,p,v)))}),i&&(s=s.concat(gT(i,n,r,t))),s}function yT(n,e){return n.tagToQueryMap.get(e)}function CT(n){const e=n.indexOf("$");return(0,j.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new gn(n.substr(0,e))}}function AT(n,e,t){const r=n.syncPointTree_.get(e);return(0,j.hu)(r,"Missing sync point for query tag that we're tracking"),gT(r,t,SC(n.pendingWriteTree_,e),null)}class bT{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new bT(t)}node(){return this.node_}}class wT{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Un(this.path_,e);return new wT(this.syncTree_,t)}node(){return LC(this.syncTree_,this.path_)}}const IH=function(n,e,t){return n&&"object"==typeof n?((0,j.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?S5e(n[".sv"],e,t):"object"==typeof n[".sv"]?I5e(n[".sv"],e):void(0,j.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},S5e=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,j.hu)(!1,"Unexpected server value: "+n)},I5e=function(n,e,t){n.hasOwnProperty("increment")||(0,j.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,j.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,j.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const c=i.getValue();return"number"!=typeof c?r:c+r},ET=function(n,e,t){return MT(n,new bT(e),t)};function MT(n,e,t){const r=n.getPriority().val(),i=IH(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const c=n,u=IH(c.getValue(),e,t);return u!==c.getValue()||i!==c.getPriority().val()?new ud(u,Qn(i)):n}{const c=n;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new ud(i))),c.forEachChild(xn,(u,p)=>{const v=MT(p,e.getImmediateChild(u),t);v!==p&&(s=s.updateImmediateChild(u,v))}),s}}class ST{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function OC(n,e){let t=e instanceof gn?e:new gn(e),r=n,i=Vt(t);for(;null!==i;){const s=(0,j.DV)(r.node.children,i)||{children:{},childCount:0};r=new ST(i,r,s),t=Mn(t),i=Vt(t)}return r}function y0(n){return n.node.value}function IT(n,e){n.node.value=e,DT(n)}function TH(n){return n.node.childCount>0}function zC(n,e){jr(n.node.children,(t,r)=>{e(new ST(t,n,r))})}function xH(n,e,t,r){t&&!r&&e(n),zC(n,i=>{xH(i,e,!0,r)}),t&&r&&e(n)}function z7(n){return new gn(null===n.parent?n.name:z7(n.parent)+"/"+n.name)}function DT(n){null!==n.parent&&function x5e(n,e,t){const r=function D5e(n){return void 0===y0(n)&&!TH(n)}(t),i=(0,j.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,DT(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,DT(n))}(n.parent,n.name,n)}const N5e=/[\[\].#$\/\u0000-\u001F\u007F]/,k5e=/[\[\].#$\u0000-\u001F\u007F]/,TT=10485760,FC=function(n){return"string"==typeof n&&0!==n.length&&!N5e.test(n)},V7=function(n,e,t){const r=t instanceof gn?new Kfe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+p0(r));if("function"==typeof e)throw new Error(n+"contains a function "+p0(r)+" with contents = "+e.toString());if(hC(e))throw new Error(n+"contains "+e.toString()+" "+p0(r));if("string"==typeof e&&e.length>TT/3&&(0,j.ug)(e)>TT)throw new Error(n+"contains a string greater than "+TT+" utf8 bytes "+p0(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(jr(e,(c,u)=>{if(".value"===c)i=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!FC(c)))throw new Error(n+" contains an invalid key ("+c+") "+p0(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Zfe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,j.ug)(e),zV(n)})(r,c),V7(n,u,r),function Yfe(n){const e=n.parts_.pop();n.byteLength_-=(0,j.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+p0(r)+" in addition to actual children.")}},RH=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!FC(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!k5e.test(n)}(n)}(t))throw new Error((0,j.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class O5e{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Is(n,e,t){(function VC(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!GD(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function PH(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(z5e(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>Xs(r,e)||Xs(e,r))}function z5e(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();d0&&Ur("event: "+t.toString()),cd(r)}}}class V5e{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new O5e,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bC(),this.transactionQueueTree_=new ST,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zH(n){const t=n.infoData_.getNode(new gn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function B7(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:zH(n)})}function FH(n,e,t,r,i){n.dataUpdateCount++;const s=new gn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(i)if(r){const p=(0,j.UI)(t,v=>Qn(v));c=function y5e(n,e,t,r){const i=yT(n,r);if(i){const s=CT(i),c=s.path,u=s.queryId,p=Bi(c,e),v=Nn.fromObject(t);return AT(n,c,new md(oT(u),p,v))}return[]}(n.serverSyncTree_,s,p,i)}else{const p=Qn(t);c=function wH(n,e,t,r){const i=yT(n,r);if(null!=i){const s=CT(i),c=s.path,u=s.queryId,p=Bi(c,e);return AT(n,c,new g0(oT(u),p,t))}return[]}(n.serverSyncTree_,s,p,i)}else if(r){const p=(0,j.UI)(t,v=>Qn(v));c=function g5e(n,e,t){const r=Nn.fromObject(t);return vd(n,new md({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,p)}else{const p=Qn(t);c=L7(n.serverSyncTree_,s,p)}let u=s;c.length>0&&(u=yd(n,s)),Is(n.eventQueue_,u,c)}function VH(n,e){kT(n,"connected",e),!1===e&&function G5e(n){_d(n,"onDisconnectEvents");const e=B7(n),t=bC();rT(n.onDisconnect_,cn(),(i,s)=>{const c=function(n,e,t,r){return MT(e,new wT(t,n),r)}(i,s,n.serverSyncTree_,e);pd(t,i,c)});let r=[];rT(t,cn(),(i,s)=>{r=r.concat(L7(n.serverSyncTree_,i,s));const c=function OT(n,e){const t=z7(UH(n,e)),r=OC(n.transactionQueueTree_,e);return function T5e(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{zT(n,i)}),zT(n,r),xH(r,i=>{zT(n,i)}),t}(n,i);yd(n,c)}),n.onDisconnect_=bC(),Is(n.eventQueue_,cn(),r)}(n)}function kT(n,e,t){const r=new gn("/.info/"+e),i=Qn(t);n.infoData_.updateSnapshot(r,i);const s=L7(n.infoSyncTree_,r,i);Is(n.eventQueue_,r,s)}function HC(n){return n.nextWriteId_++}function _d(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ur(t,...e)}function PT(n,e,t){return LC(n.serverSyncTree_,e,t)||kt.EMPTY_NODE}function BC(n,e=n.transactionQueueTree_){if(e||UC(n,e),y0(e)){const t=jH(n,e);(0,j.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function Q5e(n,e,t){const r=t.map(v=>v.currentWriteId),i=PT(n,e,r);let s=i;const c=i.hash();for(let v=0;v<t.length;v++){const b=t[v];(0,j.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const M=Bi(e,b.path);s=s.updateChild(M,b.currentOutputSnapshotRaw)}const u=s.val(!0),p=e;n.server_.put(p.toString(),u,v=>{_d(n,"transaction put response",{path:p.toString(),status:v});let b=[];if("ok"===v){const M=[];for(let D=0;D<t.length;D++)t[D].status=2,b=b.concat(Rl(n.serverSyncTree_,t[D].currentWriteId)),t[D].onComplete&&M.push(()=>t[D].onComplete(null,!0,t[D].currentOutputSnapshotResolved)),t[D].unwatcher();UC(n,OC(n.transactionQueueTree_,e)),BC(n,n.transactionQueueTree_),Is(n.eventQueue_,e,b);for(let D=0;D<M.length;D++)cd(M[D])}else{if("datastale"===v)for(let M=0;M<t.length;M++)t[M].status=3===t[M].status?4:0;else{Ci("transaction at "+p.toString()+" failed: "+v);for(let M=0;M<t.length;M++)t[M].status=4,t[M].abortReason=v}yd(n,e)}},c)}(n,z7(e),t)}else TH(e)&&zC(e,t=>{BC(n,t)})}function yd(n,e){const t=UH(n,e),r=z7(t);return function X5e(n,e,t){if(0===e.length)return;const r=[];let i=[];const c=e.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const p=e[u],v=Bi(t,p.path);let M,b=!1;if((0,j.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,M=p.abortReason,i=i.concat(Rl(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)b=!0,M="maxretry",i=i.concat(Rl(n.serverSyncTree_,p.currentWriteId,!0));else{const D=PT(n,p.path,c);p.currentInputSnapshot=D;const N=e[u].update(D.val());if(void 0!==N){V7("transaction failed: Data returned ",N,p.path);let R=Qn(N);"object"==typeof N&&null!=N&&(0,j.r3)(N,".priority")||(R=R.updatePriority(D.getPriority()));const $=p.currentWriteId,fe=B7(n),Te=ET(R,D,fe);p.currentOutputSnapshotRaw=R,p.currentOutputSnapshotResolved=Te,p.currentWriteId=HC(n),c.splice(c.indexOf($),1),i=i.concat(vT(n.serverSyncTree_,p.path,Te,p.currentWriteId,p.applyLocally)),i=i.concat(Rl(n.serverSyncTree_,$,!0))}else b=!0,M="nodata",i=i.concat(Rl(n.serverSyncTree_,p.currentWriteId,!0))}Is(n.eventQueue_,t,i),i=[],b&&(e[u].status=2,setTimeout(e[u].unwatcher,Math.floor(0)),e[u].onComplete&&r.push("nodata"===M?()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot):()=>e[u].onComplete(new Error(M),!1,null)))}UC(n,n.transactionQueueTree_);for(let u=0;u<r.length;u++)cd(r[u]);BC(n,n.transactionQueueTree_)}(n,jH(n,t),r),r}function UH(n,e){let t,r=n.transactionQueueTree_;for(t=Vt(e);null!==t&&void 0===y0(r);)r=OC(r,t),t=Vt(e=Mn(e));return r}function jH(n,e){const t=[];return GH(n,e,t),t.sort((r,i)=>r.order-i.order),t}function GH(n,e,t){const r=y0(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);zC(e,i=>{GH(n,i,t)})}function UC(n,e){const t=y0(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,IT(e,t.length>0?t:void 0)}zC(e,r=>{UC(n,r)})}function zT(n,e){const t=y0(e);if(t){const r=[];let i=[],s=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,j.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,t[c].status=3,t[c].abortReason="set"):((0,j.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),i=i.concat(Rl(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&r.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?IT(e,void 0):t.length=s+1,Is(n.eventQueue_,z7(e),i);for(let c=0;c<r.length;c++)cd(r[c])}}const FT=function(n,e){const t=tpe(n),r=t.namespace;return"firebase.com"===t.domain&&r1(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&r1("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ci("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new zD(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new gn(t.pathString)}},tpe=function(n){let e="",t="",r="",i="",s="",c=!0,u="https",p=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(u=n.substring(0,v-1),n=n.substring(v+2));let b=n.indexOf("/");-1===b&&(b=n.length);let M=n.indexOf("?");-1===M&&(M=n.length),e=n.substring(0,Math.min(b,M)),b<M&&(i=function J5e(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(b,M)));const D=function epe(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ci(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,M)));v=e.indexOf(":"),v>=0?(c="https"===u||"wss"===u,p=parseInt(e.substring(v+1),10)):v=e.length;const N=e.slice(0,v);if("localhost"===N.toLowerCase())t="localhost";else if(N.split(".").length<=2)t=N;else{const R=e.indexOf(".");r=e.substring(0,R).toLowerCase(),t=e.substring(R+1),s=r}"ns"in D&&(s=D.ns)}return{host:e,port:p,domain:t,subdomain:r,secure:c,scheme:u,pathString:i,namespace:s}};class Ds{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Ht(this._path)?null:jD(this._path)}get ref(){return new ra(this._repo,this._path)}get _queryIdentifier(){const e=XV(this._queryParams),t=LD(e);return"{}"===t?"default":t}get _queryObject(){return XV(this._queryParams)}isEqual(e){if(!((e=(0,j.m9)(e))instanceof Ds))return!1;const t=this._repo===e._repo,r=GD(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Wfe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class ra extends Ds{constructor(e,t){super(e,t,new JD,!1)}get parent(){const e=OV(this._path);return null===e?null:new ra(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function a5e(n){(0,j.hu)(!xC,"__referenceConstructor has already been defined"),xC=n})(ra),function d5e(n){(0,j.hu)(!kC,"__referenceConstructor has already been defined"),kC=n}(ra);const HT={};class Cpe{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function H5e(n,e,t){if(n.stats_=HD(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new AC(n.repoInfo_,(r,i,s,c)=>{FH(n,r,i,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>VH(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,j.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new m0(n.repoInfo_,e,(r,i,s,c)=>{FH(n,r,i,s,c)},r=>{VH(n,r)},r=>{!function B5e(n,e){jr(e,(t,r)=>{kT(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Efe(n,e){const t=n.toString();return VD[t]||(VD[t]=e()),VD[t]}(n.repoInfo_,()=>new M8e(n.stats_,n.server_)),n.infoData_=new C8e,n.infoSyncTree_=new bH({startListening:(r,i,s,c)=>{let u=[];const p=n.infoData_.getNode(r._path);return p.isEmpty()||(u=L7(n.infoSyncTree_,r._path,p),setTimeout(()=>{c("ok")},0)),u},stopListening:()=>{}}),kT(n,"connected",!1),n.serverSyncTree_=new bH({startListening:(r,i,s,c)=>(n.server_.listen(r,s,i,(u,p)=>{const v=c(u,p);Is(n.eventQueue_,r._path,v)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ra(this._repo,cn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function vpe(n,e){const t=HT[e];(!t||t[n.key]!==n)&&r1(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function BH(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&r1("Cannot call "+e+" on a deleted database.")}}function Ape(n=(0,mt.getApp)(),e){const t=(0,mt._getProvider)(n,"database").getImmediate({identifier:e}),r=(0,j.P0)("database");return r&&function bpe(n,e,t,r={}){(n=(0,j.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&r1("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&r1('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new b7(b7.OWNER);else if(r.mockUserToken){const c="string"==typeof r.mockUserToken?r.mockUserToken:(0,j.Sg)(r.mockUserToken,n.app.options.projectId);s=new b7(c)}!function mpe(n,e,t,r){n.repoInfo_=new zD(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(t,...r),t}m0.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},m0.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function wpe(n){(function lfe(n){ND=n})(mt.SDK_VERSION),(0,mt._registerComponent)(new Li.wA("database",(e,{instanceIdentifier:t})=>function gpe(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||r1("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ur("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,v,c=FT(s,i),u=c.repoInfo;typeof process<"u"&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(p=!0,s=`http://${v}?ns=${u.namespace}`,c=FT(s,i),u=c.repoInfo):p=!c.repoInfo.secure;const b=i&&p?new b7(b7.OWNER):new Afe(n.name,n.options,e);RH("Invalid Firebase Database URL",c),Ht(c.path)||r1("Database URL must point to the root of a Firebase Database (not including a child path).");const M=function _pe(n,e,t,r){let i=HT[e.name];i||(i={},HT[e.name]=i);let s=i[n.toURLString()];return s&&r1("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new V5e(n,!1,t,r),i[n.toURLString()]=s,s}(u,n,b,new Cfe(n.name,t));return new Cpe(M,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,mt.registerVersion)(XF,JF,n),(0,mt.registerVersion)(XF,JF,"esm2017")}();class BT{constructor(e){return e}}const XH="database",UT=new h.OlP("angularfire2.database-instances");function Dpe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new BT(r)}}const Tpe={provide:class Spe{constructor(){return Y2(XH)}},deps:[[new h.FiY,UT]]},xpe={provide:BT,useFactory:function Ipe(n,e){const t=Z2(XH,n,e);return t&&new BT(t)},deps:[[new h.FiY,UT],pc]};let Npe=(()=>{class n{constructor(){(0,mt.registerVersion)("angularfire",dc.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[xpe,Tpe]}),n})();function kpe(n,...e){return{ngModule:Npe,providers:[{provide:UT,useFactory:Dpe(n),multi:!0,deps:[h.R0b,h.zs3,Q2,Ga,[new h.FiY,K5],[new h.FiY,sl],...e]}]}}const Rpe=Pr(Ape,!0);class Lpe extends Cn.x{constructor(e=1/0,t=1/0,r=w5){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:c}=this;t||(r.push(e),!i&&r.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let c=0;c<s.length&&!e.closed;c+=r?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const c=t.now();let u=0;for(let p=1;p<r.length&&r[p]<=c;p+=2)u=p;u&&r.splice(0,u+1)}}}var Ppe=P(3099);function JH(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Ppe.B)({connector:()=>new Lpe(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function eB(n,e){return(0,Kn.m)(e)?zn(()=>n,e):zn(()=>n)}var Ad=P(2011),Ope=P(127);const Fpe=new h.OlP("angularfire2.auth.use-emulator"),Vpe=new h.OlP("angularfire2.auth.settings"),Hpe=new h.OlP("angularfire2.auth.tenant-id"),Bpe=new h.OlP("angularfire2.auth.langugage-code"),Upe=new h.OlP("angularfire2.auth.use-device-language"),jpe=new h.OlP("angularfire.auth.persistence");let tB=(()=>{class n{constructor(t,r,i,s,c,u,p,v,b,M,D,N){const R=new Cn.x,V=nt(void 0).pipe((0,K2.Q)(c.outsideAngular),zn(()=>s.runOutsideAngular(()=>P.e(881).then(P.bind(P,5881)))),(0,St.U)(()=>(0,Ad.on)(t,s,r)),(0,St.U)($=>((n,e,t,r,i,s,c,u)=>(0,Ad.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),r&&(p.tenantId=r),p.languageCode=i,s&&p.useDeviceLanguage(),c)for(const[v,b]of Object.entries(c))p.settings[v]=b;return u&&p.setPersistence(u),p},[t,r,i,s,c,u]))($,s,u,v,b,M,p,D)),JH({bufferSize:1,refCount:!1}));if(function Bc(n){return"server"===n}(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=nt(null);else{V.pipe(hs()).subscribe();const fe=V.pipe(zn(Ie=>Ie.getRedirectResult().then(Je=>Je,()=>null)),Gw,JH({bufferSize:1,refCount:!1})),Te=V.pipe(zn(Ie=>new Mr.y(Je=>({unsubscribe:s.runOutsideAngular(()=>Ie.onAuthStateChanged(Qe=>Je.next(Qe),Qe=>Je.error(Qe),()=>Je.complete()))})))),Oe=V.pipe(zn(Ie=>new Mr.y(Je=>({unsubscribe:s.runOutsideAngular(()=>Ie.onIdTokenChanged(Qe=>Je.next(Qe),Qe=>Je.error(Qe),()=>Je.complete()))}))));this.authState=fe.pipe(eB(Te),(0,Y3.R)(c.outsideAngular),(0,K2.Q)(c.insideAngular)),this.user=fe.pipe(eB(Oe),(0,Y3.R)(c.outsideAngular),(0,K2.Q)(c.insideAngular)),this.idToken=this.user.pipe(zn(Ie=>Ie?(0,yn.D)(Ie.getIdToken()):nt(null))),this.idTokenResult=this.user.pipe(zn(Ie=>Ie?(0,yn.D)(Ie.getIdTokenResult()):nt(null))),this.credential=(0,KP.T)(fe,R,this.authState.pipe(Kr(Ie=>!Ie))).pipe((0,St.U)(Ie=>Ie?.user?Ie:null),(0,Y3.R)(c.outsideAngular),(0,K2.Q)(c.insideAngular))}return(0,Ad.pX)(this,V,s,{spy:{apply:($,fe,Te)=>{($.startsWith("signIn")||$.startsWith("createUser"))&&Te.then(Oe=>R.next(Oe))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ad.Dh),h.LFG(Ad.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Q2),h.LFG(Fpe,8),h.LFG(Vpe,8),h.LFG(Hpe,8),h.LFG(Bpe,8),h.LFG(Upe,8),h.LFG(jpe,8),h.LFG(sl,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$pe=(()=>{class n{constructor(){Ope.Z.registerVersion("angularfire",dc.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[tB]}),n})(),Wpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[S6e]}),n.\u0275inj=h.cJS({providers:[al],imports:[Ao,cm,KY,che,cfe,xO,U9,w8,Ev(()=>Ww(QF_firebase)),kpe(()=>Rpe()),AW(()=>bW()),RY(()=>LY()),vN(()=>I()),RP,$pe]}),n})();(0,h.G48)(),M1().bootstrapModule(Wpe).catch(n=>console.error(n))},127:(dt,Me,P)=>{P.d(Me,{Z:()=>h.Z});var h=P(3942);h.Z.registerVersion("firebase","9.14.0","app-compat")},9751:(dt,Me,P)=>{P.d(Me,{y:()=>Ee});var h=P(930),z=P(727),ie=P(8822),de=P(9635),Ce=P(2416),ve=P(576),pe=P(2806);let Ee=(()=>{class Y{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const be=new Y;return be.source=this,be.operator=Pe,be}subscribe(Pe,be,Ke){const re=function U(Y){return Y&&Y instanceof h.Lv||function B(Y){return Y&&(0,ve.m)(Y.next)&&(0,ve.m)(Y.error)&&(0,ve.m)(Y.complete)}(Y)&&(0,z.Nn)(Y)}(Pe)?Pe:new h.Hp(Pe,be,Ke);return(0,pe.x)(()=>{const{operator:ce,source:et}=this;re.add(ce?ce.call(re,et):et?this._subscribe(re):this._trySubscribe(re))}),re}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(be){Pe.error(be)}}forEach(Pe,be){return new(be=ke(be))((Ke,re)=>{const ce=new h.Hp({next:et=>{try{Pe(et)}catch(Xe){re(Xe),ce.unsubscribe()}},error:re,complete:Ke});this.subscribe(ce)})}_subscribe(Pe){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(Pe)}[ie.L](){return this}pipe(...Pe){return(0,de.U)(Pe)(this)}toPromise(Pe){return new(Pe=ke(Pe))((be,Ke)=>{let re;this.subscribe(ce=>re=ce,ce=>Ke(ce),()=>be(re))})}}return Y.create=Fe=>new Y(Fe),Y})();function ke(Y){var Fe;return null!==(Fe=Y??Ce.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(dt,Me,P)=>{P.d(Me,{x:()=>pe});var h=P(9751),z=P(727);const de=(0,P(3888).d)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=P(8737),ve=P(2806);let pe=(()=>{class ke extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const Y=new Ee(this,this);return Y.operator=U,Y}_throwIfClosed(){if(this.closed)throw new de}next(U){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(U)}})}error(U){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:Y}=this;for(;Y.length;)Y.shift().error(U)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:Y,isStopped:Fe,observers:Pe}=this;return Y||Fe?z.Lc:(this.currentObservers=null,Pe.push(U),new z.w0(()=>{this.currentObservers=null,(0,Ce.P)(Pe,U)}))}_checkFinalizedStatuses(U){const{hasError:Y,thrownError:Fe,isStopped:Pe}=this;Y?U.error(Fe):Pe&&U.complete()}asObservable(){const U=new h.y;return U.source=this,U}}return ke.create=(B,U)=>new Ee(B,U),ke})();class Ee extends pe{constructor(B,U){super(),this.destination=B,this.source=U}next(B){var U,Y;null===(Y=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===Y||Y.call(U,B)}error(B){var U,Y;null===(Y=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===Y||Y.call(U,B)}complete(){var B,U;null===(U=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===U||U.call(B)}_subscribe(B){var U,Y;return null!==(Y=null===(U=this.source)||void 0===U?void 0:U.subscribe(B))&&void 0!==Y?Y:z.Lc}}},930:(dt,Me,P)=>{P.d(Me,{Hp:()=>Ke,Lv:()=>Y});var h=P(576),z=P(727),ie=P(2416),de=P(7849),Ce=P(5032);const ve=ke("C",void 0,void 0);function ke(De,Ae,me){return{kind:De,value:Ae,error:me}}var B=P(3410),U=P(2806);class Y extends z.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,z.Nn)(Ae)&&Ae.add(this)):this.destination=Xe}static create(Ae,me,Ve){return new Ke(Ae,me,Ve)}next(Ae){this.isStopped?et(function Ee(De){return ke("N",De,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?et(function pe(De){return ke("E",void 0,De)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?et(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function Pe(De,Ae){return Fe.call(De,Ae)}class be{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:me}=this;if(me.next)try{me.next(Ae)}catch(Ve){re(Ve)}}error(Ae){const{partialObserver:me}=this;if(me.error)try{me.error(Ae)}catch(Ve){re(Ve)}else re(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(me){re(me)}}}class Ke extends Y{constructor(Ae,me,Ve){let ee;if(super(),(0,h.m)(Ae)||!Ae)ee={next:Ae??void 0,error:me??void 0,complete:Ve??void 0};else{let ne;this&&ie.v.useDeprecatedNextContext?(ne=Object.create(Ae),ne.unsubscribe=()=>this.unsubscribe(),ee={next:Ae.next&&Pe(Ae.next,ne),error:Ae.error&&Pe(Ae.error,ne),complete:Ae.complete&&Pe(Ae.complete,ne)}):ee=Ae}this.destination=new be(ee)}}function re(De){ie.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(De):(0,de.h)(De)}function et(De,Ae){const{onStoppedNotification:me}=ie.v;me&&B.z.setTimeout(()=>me(De,Ae))}const Xe={closed:!0,next:Ce.Z,error:function ce(De){throw De},complete:Ce.Z}},727:(dt,Me,P)=>{P.d(Me,{Lc:()=>ve,w0:()=>Ce,Nn:()=>pe});var h=P(576);const ie=(0,P(3888).d)(ke=>function(U){ke(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((Y,Fe)=>`${Fe+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var de=P(8737);class Ce{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const Pe of U)Pe.remove(this);else U.remove(this);const{initialTeardown:Y}=this;if((0,h.m)(Y))try{Y()}catch(Pe){B=Pe instanceof ie?Pe.errors:[Pe]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const Pe of Fe)try{Ee(Pe)}catch(be){B=B??[],be instanceof ie?B=[...B,...be.errors]:B.push(be)}}if(B)throw new ie(B)}}add(B){var U;if(B&&B!==this)if(this.closed)Ee(B);else{if(B instanceof Ce){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push(B)}}_hasParent(B){const{_parentage:U}=this;return U===B||Array.isArray(U)&&U.includes(B)}_addParent(B){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(B),U):U?[U,B]:B}_removeParent(B){const{_parentage:U}=this;U===B?this._parentage=null:Array.isArray(U)&&(0,de.P)(U,B)}remove(B){const{_finalizers:U}=this;U&&(0,de.P)(U,B),B instanceof Ce&&B._removeParent(this)}}Ce.EMPTY=(()=>{const ke=new Ce;return ke.closed=!0,ke})();const ve=Ce.EMPTY;function pe(ke){return ke instanceof Ce||ke&&"closed"in ke&&(0,h.m)(ke.remove)&&(0,h.m)(ke.add)&&(0,h.m)(ke.unsubscribe)}function Ee(ke){(0,h.m)(ke)?ke():ke.unsubscribe()}},2416:(dt,Me,P)=>{P.d(Me,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(dt,Me,P)=>{P.d(Me,{E:()=>z});const z=new(P(9751).y)(Ce=>Ce.complete())},8996:(dt,Me,P)=>{P.d(Me,{D:()=>Ae});var h=P(8421),z=P(5363),ie=P(9468),ve=P(9751),Ee=P(2202),ke=P(576),B=P(9672);function Y(me,Ve){if(!me)throw new Error("Iterable cannot be null");return new ve.y(ee=>{(0,B.f)(ee,Ve,()=>{const ne=me[Symbol.asyncIterator]();(0,B.f)(ee,Ve,()=>{ne.next().then(le=>{le.done?ee.complete():ee.next(le.value)})},0,!0)})})}var Fe=P(3670),Pe=P(8239),be=P(1144),Ke=P(6495),re=P(2206),ce=P(4532),et=P(3260);function Ae(me,Ve){return Ve?function De(me,Ve){if(null!=me){if((0,Fe.c)(me))return function de(me,Ve){return(0,h.Xf)(me).pipe((0,ie.R)(Ve),(0,z.Q)(Ve))}(me,Ve);if((0,be.z)(me))return function pe(me,Ve){return new ve.y(ee=>{let ne=0;return Ve.schedule(function(){ne===me.length?ee.complete():(ee.next(me[ne++]),ee.closed||this.schedule())})})}(me,Ve);if((0,Pe.t)(me))return function Ce(me,Ve){return(0,h.Xf)(me).pipe((0,ie.R)(Ve),(0,z.Q)(Ve))}(me,Ve);if((0,re.D)(me))return Y(me,Ve);if((0,Ke.T)(me))return function U(me,Ve){return new ve.y(ee=>{let ne;return(0,B.f)(ee,Ve,()=>{ne=me[Ee.h](),(0,B.f)(ee,Ve,()=>{let le,W;try{({value:le,done:W}=ne.next())}catch(q){return void ee.error(q)}W?ee.complete():ee.next(le)},0,!0)}),()=>(0,ke.m)(ne?.return)&&ne.return()})}(me,Ve);if((0,et.L)(me))return function Xe(me,Ve){return Y((0,et.Q)(me),Ve)}(me,Ve)}throw(0,ce.z)(me)}(me,Ve):(0,h.Xf)(me)}},8421:(dt,Me,P)=>{P.d(Me,{Xf:()=>Fe});var h=P(655),z=P(1144),ie=P(8239),de=P(9751),Ce=P(3670),ve=P(2206),pe=P(4532),Ee=P(6495),ke=P(3260),B=P(576),U=P(7849),Y=P(8822);function Fe(De){if(De instanceof de.y)return De;if(null!=De){if((0,Ce.c)(De))return function Pe(De){return new de.y(Ae=>{const me=De[Y.L]();if((0,B.m)(me.subscribe))return me.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,z.z)(De))return function be(De){return new de.y(Ae=>{for(let me=0;me<De.length&&!Ae.closed;me++)Ae.next(De[me]);Ae.complete()})}(De);if((0,ie.t)(De))return function Ke(De){return new de.y(Ae=>{De.then(me=>{Ae.closed||(Ae.next(me),Ae.complete())},me=>Ae.error(me)).then(null,U.h)})}(De);if((0,ve.D)(De))return ce(De);if((0,Ee.T)(De))return function re(De){return new de.y(Ae=>{for(const me of De)if(Ae.next(me),Ae.closed)return;Ae.complete()})}(De);if((0,ke.L)(De))return function et(De){return ce((0,ke.Q)(De))}(De)}throw(0,pe.z)(De)}function ce(De){return new de.y(Ae=>{(function Xe(De,Ae){var me,Ve,ee,ne;return(0,h.mG)(this,void 0,void 0,function*(){try{for(me=(0,h.KL)(De);!(Ve=yield me.next()).done;)if(Ae.next(Ve.value),Ae.closed)return}catch(le){ee={error:le}}finally{try{Ve&&!Ve.done&&(ne=me.return)&&(yield ne.call(me))}finally{if(ee)throw ee.error}}Ae.complete()})})(De,Ae).catch(me=>Ae.error(me))})}},6451:(dt,Me,P)=>{P.d(Me,{T:()=>ve});var h=P(8189),z=P(8421),ie=P(515),de=P(3269),Ce=P(8996);function ve(...pe){const Ee=(0,de.yG)(pe),ke=(0,de._6)(pe,1/0),B=pe;return B.length?1===B.length?(0,z.Xf)(B[0]):(0,h.J)(ke)((0,Ce.D)(B,Ee)):ie.E}},5403:(dt,Me,P)=>{P.d(Me,{x:()=>z});var h=P(930);function z(de,Ce,ve,pe,Ee){return new ie(de,Ce,ve,pe,Ee)}class ie extends h.Lv{constructor(Ce,ve,pe,Ee,ke,B){super(Ce),this.onFinalize=ke,this.shouldUnsubscribe=B,this._next=ve?function(U){try{ve(U)}catch(Y){Ce.error(Y)}}:super._next,this._error=Ee?function(U){try{Ee(U)}catch(Y){Ce.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(U){Ce.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(Ce=this.onFinalize)||void 0===Ce||Ce.call(this))}}}},4004:(dt,Me,P)=>{P.d(Me,{U:()=>ie});var h=P(4482),z=P(5403);function ie(de,Ce){return(0,h.e)((ve,pe)=>{let Ee=0;ve.subscribe((0,z.x)(pe,ke=>{pe.next(de.call(Ce,ke,Ee++))}))})}},8189:(dt,Me,P)=>{P.d(Me,{J:()=>ie});var h=P(5577),z=P(4671);function ie(de=1/0){return(0,h.z)(z.y,de)}},5577:(dt,Me,P)=>{P.d(Me,{z:()=>Ee});var h=P(4004),z=P(8421),ie=P(4482),de=P(9672),Ce=P(5403),pe=P(576);function Ee(ke,B,U=1/0){return(0,pe.m)(B)?Ee((Y,Fe)=>(0,h.U)((Pe,be)=>B(Y,Pe,Fe,be))((0,z.Xf)(ke(Y,Fe))),U):("number"==typeof B&&(U=B),(0,ie.e)((Y,Fe)=>function ve(ke,B,U,Y,Fe,Pe,be,Ke){const re=[];let ce=0,et=0,Xe=!1;const De=()=>{Xe&&!re.length&&!ce&&B.complete()},Ae=Ve=>ce<Y?me(Ve):re.push(Ve),me=Ve=>{Pe&&B.next(Ve),ce++;let ee=!1;(0,z.Xf)(U(Ve,et++)).subscribe((0,Ce.x)(B,ne=>{Fe?.(ne),Pe?Ae(ne):B.next(ne)},()=>{ee=!0},void 0,()=>{if(ee)try{for(ce--;re.length&&ce<Y;){const ne=re.shift();be?(0,de.f)(B,be,()=>me(ne)):me(ne)}De()}catch(ne){B.error(ne)}}))};return ke.subscribe((0,Ce.x)(B,Ae,()=>{Xe=!0,De()})),()=>{Ke?.()}}(Y,Fe,ke,U)))}},5363:(dt,Me,P)=>{P.d(Me,{Q:()=>de});var h=P(9672),z=P(4482),ie=P(5403);function de(Ce,ve=0){return(0,z.e)((pe,Ee)=>{pe.subscribe((0,ie.x)(Ee,ke=>(0,h.f)(Ee,Ce,()=>Ee.next(ke),ve),()=>(0,h.f)(Ee,Ce,()=>Ee.complete(),ve),ke=>(0,h.f)(Ee,Ce,()=>Ee.error(ke),ve)))})}},3099:(dt,Me,P)=>{P.d(Me,{B:()=>Ce});var h=P(8421),z=P(7579),ie=P(930),de=P(4482);function Ce(pe={}){const{connector:Ee=(()=>new z.x),resetOnError:ke=!0,resetOnComplete:B=!0,resetOnRefCountZero:U=!0}=pe;return Y=>{let Fe,Pe,be,Ke=0,re=!1,ce=!1;const et=()=>{Pe?.unsubscribe(),Pe=void 0},Xe=()=>{et(),Fe=be=void 0,re=ce=!1},De=()=>{const Ae=Fe;Xe(),Ae?.unsubscribe()};return(0,de.e)((Ae,me)=>{Ke++,!ce&&!re&&et();const Ve=be=be??Ee();me.add(()=>{Ke--,0===Ke&&!ce&&!re&&(Pe=ve(De,U))}),Ve.subscribe(me),!Fe&&Ke>0&&(Fe=new ie.Hp({next:ee=>Ve.next(ee),error:ee=>{ce=!0,et(),Pe=ve(Xe,ke,ee),Ve.error(ee)},complete:()=>{re=!0,et(),Pe=ve(Xe,B),Ve.complete()}}),(0,h.Xf)(Ae).subscribe(Fe))})(Y)}}function ve(pe,Ee,...ke){if(!0===Ee)return void pe();if(!1===Ee)return;const B=new ie.Hp({next:()=>{B.unsubscribe(),pe()}});return Ee(...ke).subscribe(B)}},9468:(dt,Me,P)=>{P.d(Me,{R:()=>z});var h=P(4482);function z(ie,de=0){return(0,h.e)((Ce,ve)=>{ve.add(ie.schedule(()=>Ce.subscribe(ve),de))})}},3410:(dt,Me,P)=>{P.d(Me,{z:()=>h});const h={setTimeout(z,ie,...de){const{delegate:Ce}=h;return Ce?.setTimeout?Ce.setTimeout(z,ie,...de):setTimeout(z,ie,...de)},clearTimeout(z){const{delegate:ie}=h;return(ie?.clearTimeout||clearTimeout)(z)},delegate:void 0}},2202:(dt,Me,P)=>{P.d(Me,{h:()=>z});const z=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dt,Me,P)=>{P.d(Me,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(dt,Me,P)=>{P.d(Me,{_6:()=>ve,jO:()=>de,yG:()=>Ce});var h=P(576),z=P(3532);function ie(pe){return pe[pe.length-1]}function de(pe){return(0,h.m)(ie(pe))?pe.pop():void 0}function Ce(pe){return(0,z.K)(ie(pe))?pe.pop():void 0}function ve(pe,Ee){return"number"==typeof ie(pe)?pe.pop():Ee}},8737:(dt,Me,P)=>{function h(z,ie){if(z){const de=z.indexOf(ie);0<=de&&z.splice(de,1)}}P.d(Me,{P:()=>h})},3888:(dt,Me,P)=>{function h(z){const de=z(Ce=>{Error.call(Ce),Ce.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}P.d(Me,{d:()=>h})},2806:(dt,Me,P)=>{P.d(Me,{O:()=>de,x:()=>ie});var h=P(2416);let z=null;function ie(Ce){if(h.v.useDeprecatedSynchronousErrorHandling){const ve=!z;if(ve&&(z={errorThrown:!1,error:null}),Ce(),ve){const{errorThrown:pe,error:Ee}=z;if(z=null,pe)throw Ee}}else Ce()}function de(Ce){h.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=Ce)}},9672:(dt,Me,P)=>{function h(z,ie,de,Ce=0,ve=!1){const pe=ie.schedule(function(){de(),ve?z.add(this.schedule(null,Ce)):this.unsubscribe()},Ce);if(z.add(pe),!ve)return pe}P.d(Me,{f:()=>h})},4671:(dt,Me,P)=>{function h(z){return z}P.d(Me,{y:()=>h})},1144:(dt,Me,P)=>{P.d(Me,{z:()=>h});const h=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(dt,Me,P)=>{P.d(Me,{D:()=>z});var h=P(576);function z(ie){return Symbol.asyncIterator&&(0,h.m)(ie?.[Symbol.asyncIterator])}},576:(dt,Me,P)=>{function h(z){return"function"==typeof z}P.d(Me,{m:()=>h})},3670:(dt,Me,P)=>{P.d(Me,{c:()=>ie});var h=P(8822),z=P(576);function ie(de){return(0,z.m)(de[h.L])}},6495:(dt,Me,P)=>{P.d(Me,{T:()=>ie});var h=P(2202),z=P(576);function ie(de){return(0,z.m)(de?.[h.h])}},8239:(dt,Me,P)=>{P.d(Me,{t:()=>z});var h=P(576);function z(ie){return(0,h.m)(ie?.then)}},3260:(dt,Me,P)=>{P.d(Me,{L:()=>de,Q:()=>ie});var h=P(655),z=P(576);function ie(Ce){return(0,h.FC)(this,arguments,function*(){const pe=Ce.getReader();try{for(;;){const{value:Ee,done:ke}=yield(0,h.qq)(pe.read());if(ke)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Ee)}}finally{pe.releaseLock()}})}function de(Ce){return(0,z.m)(Ce?.getReader)}},3532:(dt,Me,P)=>{P.d(Me,{K:()=>z});var h=P(576);function z(ie){return ie&&(0,h.m)(ie.schedule)}},4482:(dt,Me,P)=>{P.d(Me,{A:()=>z,e:()=>ie});var h=P(576);function z(de){return(0,h.m)(de?.lift)}function ie(de){return Ce=>{if(z(Ce))return Ce.lift(function(ve){try{return de(ve,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(dt,Me,P)=>{function h(){}P.d(Me,{Z:()=>h})},9635:(dt,Me,P)=>{P.d(Me,{U:()=>ie,z:()=>z});var h=P(4671);function z(...de){return ie(de)}function ie(de){return 0===de.length?h.y:1===de.length?de[0]:function(ve){return de.reduce((pe,Ee)=>Ee(pe),ve)}}},7849:(dt,Me,P)=>{P.d(Me,{h:()=>ie});var h=P(2416),z=P(3410);function ie(de){z.z.setTimeout(()=>{const{onUnhandledError:Ce}=h.v;if(!Ce)throw de;Ce(de)})}},4532:(dt,Me,P)=>{function h(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Me,{z:()=>h})},655:(dt,Me,P)=>{function de(W,q){var se={};for(var J in W)Object.prototype.hasOwnProperty.call(W,J)&&q.indexOf(J)<0&&(se[J]=W[J]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(J=Object.getOwnPropertySymbols(W);xe<J.length;xe++)q.indexOf(J[xe])<0&&Object.prototype.propertyIsEnumerable.call(W,J[xe])&&(se[J[xe]]=W[J[xe]])}return se}function Ce(W,q,se,J){var ct,xe=arguments.length,Re=xe<3?q:null===J?J=Object.getOwnPropertyDescriptor(q,se):J;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Re=Reflect.decorate(W,q,se,J);else for(var Kt=W.length-1;Kt>=0;Kt--)(ct=W[Kt])&&(Re=(xe<3?ct(Re):xe>3?ct(q,se,Re):ct(q,se))||Re);return xe>3&&Re&&Object.defineProperty(q,se,Re),Re}function ve(W,q){return function(se,J){q(se,J,W)}}function pe(W,q){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(W,q)}function Ee(W,q,se,J){return new(se||(se=Promise))(function(Re,ct){function Kt(hn){try{Ue(J.next(hn))}catch(er){ct(er)}}function Pt(hn){try{Ue(J.throw(hn))}catch(er){ct(er)}}function Ue(hn){hn.done?Re(hn.value):function xe(Re){return Re instanceof se?Re:new se(function(ct){ct(Re)})}(hn.value).then(Kt,Pt)}Ue((J=J.apply(W,q||[])).next())})}function re(W){return this instanceof re?(this.v=W,this):new re(W)}function ce(W,q,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,J=se.apply(W,q||[]),Re=[];return xe={},ct("next"),ct("throw"),ct("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function ct(dn){J[dn]&&(xe[dn]=function(Zt){return new Promise(function(jt,Dt){Re.push([dn,Zt,jt,Dt])>1||Kt(dn,Zt)})})}function Kt(dn,Zt){try{!function Pt(dn){dn.value instanceof re?Promise.resolve(dn.value.v).then(Ue,hn):er(Re[0][2],dn)}(J[dn](Zt))}catch(jt){er(Re[0][3],jt)}}function Ue(dn){Kt("next",dn)}function hn(dn){Kt("throw",dn)}function er(dn,Zt){dn(Zt),Re.shift(),Re.length&&Kt(Re[0][0],Re[0][1])}}function Xe(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,q=W[Symbol.asyncIterator];return q?q.call(W):(W=function Y(W){var q="function"==typeof Symbol&&Symbol.iterator,se=q&&W[q],J=0;if(se)return se.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&J>=W.length&&(W=void 0),{value:W&&W[J++],done:!W}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),se={},J("next"),J("throw"),J("return"),se[Symbol.asyncIterator]=function(){return this},se);function J(Re){se[Re]=W[Re]&&function(ct){return new Promise(function(Kt,Pt){!function xe(Re,ct,Kt,Pt){Promise.resolve(Pt).then(function(Ue){Re({value:Ue,done:Kt})},ct)}(Kt,Pt,(ct=W[Re](ct)).done,ct.value)})}}}P.d(Me,{FC:()=>ce,KL:()=>Xe,_T:()=>de,fM:()=>ve,gn:()=>Ce,mG:()=>Ee,qq:()=>re,w6:()=>pe})},4650:(dt,Me,P)=>{P.d(Me,{$8M:()=>a2,$Z:()=>u9,AFp:()=>bv,AaK:()=>Ee,Akn:()=>_s,AsE:()=>i4,BQk:()=>b8,CHM:()=>xd,CRH:()=>Zs,CZH:()=>el,CqO:()=>w8,D6c:()=>fh,EJc:()=>N5,EpF:()=>Sb,F$t:()=>c3,F4k:()=>U9,FYo:()=>Um,FiY:()=>Ca,G48:()=>jv,Gf:()=>W3,GfV:()=>Ou,Gpc:()=>U,Hsn:()=>j,JOm:()=>Yr,KtG:()=>jc,LFG:()=>On,LSH:()=>Df,Lbi:()=>Qx,Lck:()=>dw,MMx:()=>H3,NdJ:()=>a3,O4$:()=>z0,OlP:()=>fn,Oqu:()=>r4,PXZ:()=>F5,Q6J:()=>A8,QGY:()=>o3,QP$:()=>Yt,QbO:()=>Ww,Qsj:()=>SA,R0b:()=>ei,RDi:()=>Cf,Rgc:()=>v4,SBq:()=>w2,Sil:()=>th,Suo:()=>lv,TTD:()=>mo,TgZ:()=>t4,VKq:()=>Yg,WFA:()=>j9,X6Q:()=>rl,XFs:()=>Ze,Xpm:()=>_e,Xts:()=>xf,Y36:()=>ec,YKP:()=>Wg,YNc:()=>H9,Yjl:()=>ge,Yz7:()=>Zt,Z0I:()=>xs,ZZ4:()=>W5,_Bn:()=>$g,_UZ:()=>s3,_Vd:()=>b2,_c5:()=>dN,_uU:()=>y3,aQg:()=>q5,c2e:()=>Xx,cJS:()=>Dt,cg1:()=>I3,d8E:()=>vg,dDg:()=>I4,dqk:()=>Ft,eFA:()=>sh,ekj:()=>m3,eoX:()=>O5,f3M:()=>Qd,g9A:()=>Ev,h0i:()=>$2,hGG:()=>Xv,hij:()=>Ua,iGM:()=>cv,ifc:()=>lt,ip1:()=>Av,jDz:()=>Kg,kL8:()=>yg,kcU:()=>F0,lG2:()=>G,lqb:()=>Y1,lri:()=>Tv,n5z:()=>Os,oAB:()=>$t,oxw:()=>Db,q4F:()=>Vf,qLn:()=>Po,qOj:()=>d8,qZA:()=>r3,rWj:()=>xv,s9C:()=>mt,sBO:()=>eE,sIi:()=>k2,s_b:()=>_4,soG:()=>x5,tb:()=>$w,tp0:()=>Eo,uIk:()=>m8,vHH:()=>be,vpe:()=>Ks,wAp:()=>ft,xp6:()=>Qm,ynx:()=>n4,z2F:()=>tl,zSh:()=>Rf,zs3:()=>Q1});var h=P(7579),z=P(727),ie=P(9751),de=P(6451),Ce=P(3099);function ve(o){for(let a in o)if(o[a]===ve)return a;throw Error("Could not find renamed property on target object.")}function pe(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function Ee(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Ee).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function ke(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const B=ve({__forward_ref__:ve});function U(o){return o.__forward_ref__=U,o.toString=function(){return Ee(this())},o}function Y(o){return Fe(o)?o():o}function Fe(o){return"function"==typeof o&&o.hasOwnProperty(B)&&o.__forward_ref__===U}class be extends Error{constructor(a,l){super(function Ke(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,l)),this.code=a}}function re(o){return"string"==typeof o?o:null==o?"":String(o)}function Ae(o,a){throw new be(-201,!1)}function Pt(o,a){null==o&&function Ue(o,a,l,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${l} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function Zt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Dt(o){return{providers:o.providers||[],imports:o.imports||[]}}function oi(o){return ia(o,ji)||ia(o,sa)}function xs(o){return null!==oi(o)}function ia(o,a){return o.hasOwnProperty(a)?o[a]:null}function no(o){return o&&(o.hasOwnProperty(bi)||o.hasOwnProperty(oa))?o[bi]:null}const ji=ve({\u0275prov:ve}),bi=ve({\u0275inj:ve}),sa=ve({ngInjectableDef:ve}),oa=ve({ngInjectorDef:ve});var Ze=(()=>((Ze=Ze||{})[Ze.Default=0]="Default",Ze[Ze.Host=1]="Host",Ze[Ze.Self=2]="Self",Ze[Ze.SkipSelf=4]="SkipSelf",Ze[Ze.Optional=8]="Optional",Ze))();let wr;function tr(o){const a=wr;return wr=o,a}function Gi(o,a,l){const d=oi(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Ze.Optional?null:void 0!==a?a:void Ae(Ee(o))}function Ln(o){return{toString:o}.toString()}var Gn=(()=>((Gn=Gn||{})[Gn.OnPush=0]="OnPush",Gn[Gn.Default=1]="Default",Gn))(),lt=(()=>{return(o=lt||(lt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",lt;var o})();const Ft=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ai={},wt=[],wi=ve({\u0275cmp:ve}),tn=ve({\u0275dir:ve}),ro=ve({\u0275pipe:ve}),Gt=ve({\u0275mod:ve}),kr=ve({\u0275fac:ve}),ci=ve({__NG_ELEMENT_ID__:ve});let Ye=0;function _e(o){return Ln(()=>{const l=!0===o.standalone,d={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Gn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||wt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||lt.Emulated,id:"c"+Ye++,styles:o.styles||wt,_:null,setInput:null,schemas:o.schemas||null,tView:null},m=o.dependencies,y=o.features;return f.inputs=O(o.inputs,d),f.outputs=O(o.outputs),y&&y.forEach(w=>w(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(pt).filter(Ct):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(ut).filter(Ct):null,f})}function pt(o){return K(o)||je(o)}function Ct(o){return null!==o}function $t(o){return Ln(()=>({type:o.type,bootstrap:o.bootstrap||wt,declarations:o.declarations||wt,imports:o.imports||wt,exports:o.exports||wt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function O(o,a){if(null==o)return ai;const l={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),l[f]=d,a&&(a[f]=m)}return l}const G=_e;function ge(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function K(o){return o[wi]||null}function je(o){return o[tn]||null}function ut(o){return o[ro]||null}function Yt(o){const a=K(o)||je(o)||ut(o);return null!==a&&a.standalone}function ln(o,a){const l=o[Gt]||null;if(!l&&!0===a)throw new Error(`Type ${Ee(o)} does not have '\u0275mod' property.`);return l}function lr(o){return Array.isArray(o)&&"object"==typeof o[1]}function Wr(o){return Array.isArray(o)&&!0===o[1]}function fo(o){return 0!=(8&o.flags)}function Fc(o){return 2==(2&o.flags)}function aa(o){return 1==(1&o.flags)}function Wi(o){return null!==o.template}function Vc(o){return 0!=(256&o[2])}function mr(o,a){return o.hasOwnProperty(kr)?o[kr]:null}class la{constructor(a,l,d){this.previousValue=a,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function mo(){return T0}function T0(o){return o.type.prototype.ngOnChanges&&(o.setInput=Bl),Hl}function Hl(){const o=ua(this),a=o?.current;if(a){const l=o.previous;if(l===ai)o.previous=a;else for(let d in a)l[d]=a[d];o.current=null,this.ngOnChanges(a)}}function Bl(o,a,l,d){const f=ua(o)||function N0(o,a){return o[x0]=a}(o,{previous:ai,current:null}),m=f.current||(f.current={}),y=f.previous,w=this.declaredInputs[l],S=y[w];m[w]=new la(S&&S.currentValue,a,y===ai),o[d]=a}mo.ngInherit=!0;const x0="__ngSimpleChanges__";function ua(o){return o[x0]||null}function Sn(o){for(;Array.isArray(o);)o=o[0];return o}function g1(o,a){return Sn(a[o])}function Er(o,a){return Sn(a[o.index])}function ha(o,a){return o.data[a]}function Qt(o,a){const l=a[o];return lr(l)?l:l[0]}function ks(o){return 64==(64&o[2])}function qi(o,a){return null==a?null:o[a]}function v1(o){o[18]=0}function _1(o,a){o[5]+=a;let l=o,d=o[3];for(;null!==d&&(1===a&&1===l[5]||-1===a&&0===l[5]);)d[5]+=a,l=d,d=d[3]}const Et={lFrame:Xl(null),bindingsEnabled:!0};function y1(){return Et.bindingsEnabled}function ye(){return Et.lFrame.lView}function Lt(){return Et.lFrame.tView}function xd(o){return Et.lFrame.contextLView=o,o[8]}function jc(o){return Et.lFrame.contextLView=null,o}function rr(){let o=Gc();for(;null!==o&&64===o.type;)o=o.parent;return o}function Gc(){return Et.lFrame.currentTNode}function fi(o,a){const l=Et.lFrame;l.currentTNode=o,l.isParent=a}function Wl(){return Et.lFrame.isParent}function Wc(){Et.lFrame.isParent=!1}function A1(){return Et.lFrame.bindingIndex++}function Rs(o){const a=Et.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}function P0(o,a){const l=Et.lFrame;l.bindingIndex=l.bindingRootIndex=o,qc(a)}function qc(o){Et.lFrame.currentDirectiveIndex=o}function Kl(o){const a=Et.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function Zl(){return Et.lFrame.currentQueryIndex}function Yl(o){Et.lFrame.currentQueryIndex=o}function Ql(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Rd(o,a,l){if(l&Ze.SkipSelf){let f=a,m=o;for(;!(f=f.parent,null!==f||l&Ze.Host||(f=Ql(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;a=f,o=m}const d=Et.lFrame=Ld();return d.currentTNode=a,d.lView=o,!0}function Kc(o){const a=Ld(),l=o[1];Et.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function Ld(){const o=Et.lFrame,a=null===o?null:o.child;return null===a?Xl(o):a}function Xl(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Pd(){const o=Et.lFrame;return Et.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const O0=Pd;function fa(){const o=Pd();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function En(){return Et.lFrame.selectedIndex}function cs(o){Et.lFrame.selectedIndex=o}function An(){const o=Et.lFrame;return ha(o.tView,o.selectedIndex)}function z0(){Et.lFrame.currentNamespace="svg"}function F0(){!function Fd(){Et.lFrame.currentNamespace=null}()}function b1(o,a){for(let l=a.directiveStart,d=a.directiveEnd;l<d;l++){const m=o.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:S,ngAfterViewChecked:I,ngOnDestroy:x}=m;y&&(o.contentHooks||(o.contentHooks=[])).push(-l,y),w&&((o.contentHooks||(o.contentHooks=[])).push(l,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,w)),S&&(o.viewHooks||(o.viewHooks=[])).push(-l,S),I&&((o.viewHooks||(o.viewHooks=[])).push(l,I),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,I)),null!=x&&(o.destroyHooks||(o.destroyHooks=[])).push(l,x)}}function Yc(o,a,l){tu(o,a,3,l)}function _o(o,a,l,d){(3&o[2])===l&&tu(o,a,l,d)}function eu(o,a){let l=o[2];(3&l)===a&&(l&=2047,l+=1,o[2]=l)}function tu(o,a,l,d){const m=d??-1,y=a.length-1;let w=0;for(let S=void 0!==d?65535&o[18]:0;S<y;S++)if("number"==typeof a[S+1]){if(w=a[S],null!=d&&w>=d)break}else a[S]<0&&(o[18]+=65536),(w<m||-1==m)&&(V0(o,l,a,S),o[18]=(4294901760&o[18])+S+2),S++}function V0(o,a,l,d){const f=l[d]<0,m=l[d+1],w=o[f?-l[d]:l[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class pi{constructor(a,l,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function ls(o,a,l){let d=0;for(;d<l.length;){const f=l[d];if("number"==typeof f){if(0!==f)break;d++;const m=l[d++],y=l[d++],w=l[d++];o.setAttribute(a,y,w,m)}else{const m=f,y=l[++d];ou(m)?o.setProperty(a,m,y):o.setAttribute(a,m,y),d++}}return d}function su(o){return 3===o||4===o||6===o}function ou(o){return 64===o.charCodeAt(0)}function E1(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?l=f:0===l||H0(o,l,f,null,-1===l||2===l?a[++d]:null)}}return o}function H0(o,a,l,d,f){let m=0,y=o.length;if(-1===a)y=-1;else for(;m<o.length;){const w=o[m++];if("number"==typeof w){if(w===a){y=-1;break}if(w>a){y=m-1;break}}}for(;m<o.length;){const w=o[m];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==f&&(o[m+1]=f));if(d===o[m+1])return void(o[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==y&&(o.splice(y,0,a),m=y+1),o.splice(m++,0,l),null!==d&&o.splice(m++,0,d),null!==f&&o.splice(m++,0,f)}function Bd(o){return-1!==o}function yo(o){return 32767&o}function Ls(o,a){let l=function Ud(o){return o>>16}(o),d=a;for(;l>0;)d=d[15],l--;return d}let au=!0;function Jc(o){const a=au;return au=o,a}let B0=0;const Si={};function Co(o,a){const l=e2(o,a);if(-1!==l)return l;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,cu(d.data,o),cu(a,null),cu(d.blueprint,null));const f=M1(o,a),m=o.injectorIndex;if(Bd(f)){const y=yo(f),w=Ls(f,a),S=w[1].data;for(let I=0;I<8;I++)a[m+I]=w[y+I]|S[y+I]}return a[m+8]=f,m}function cu(o,a){o.push(0,0,0,0,0,0,0,0,a)}function e2(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function M1(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,d=null,f=a;for(;null!==f;){if(d=o2(f),null===d)return-1;if(l++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function S1(o,a,l){!function Gd(o,a,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(ci)&&(d=l[ci]),null==d&&(d=l[ci]=B0++);const f=255&d;a.data[o+(f>>5)]|=1<<f}(o,a,l)}function t2(o,a,l){if(l&Ze.Optional||void 0!==o)return o;Ae()}function Ao(o,a,l,d){if(l&Ze.Optional&&void 0===d&&(d=null),0==(l&(Ze.Self|Ze.Host))){const f=o[9],m=tr(void 0);try{return f?f.get(a,d,l&Ze.Optional):Gi(a,d,l&Ze.Optional)}finally{tr(m)}}return t2(d,0,l)}function n2(o,a,l,d=Ze.Default,f){if(null!==o){if(1024&a[2]){const y=function Wd(o,a,l,d,f){let m=o,y=a;for(;null!==m&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=U0(m,y,l,d|Ze.Self,Si);if(w!==Si)return w;let S=m.parent;if(!S){const I=y[21];if(I){const x=I.get(l,Si,d);if(x!==Si)return x}S=o2(y),y=y[15]}m=S}return f}(o,a,l,d,Si);if(y!==Si)return y}const m=U0(o,a,l,d,Si);if(m!==Si)return m}return Ao(a,l,d,f)}function U0(o,a,l,d,f){const m=function $d(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(ci)?o[ci]:void 0;return"number"==typeof a?a>=0?255&a:$0:a}(l);if("function"==typeof m){if(!Rd(a,o,d))return d&Ze.Host?t2(f,0,d):Ao(a,l,d,f);try{const y=m(d);if(null!=y||d&Ze.Optional)return y;Ae()}finally{O0()}}else if("number"==typeof m){let y=null,w=e2(o,a),S=-1,I=d&Ze.Host?a[16][6]:null;for((-1===w||d&Ze.SkipSelf)&&(S=-1===w?M1(o,a):a[w+8],-1!==S&&G0(d,!1)?(y=a[1],w=yo(S),a=Ls(S,a)):w=-1);-1!==w;){const x=a[1];if(r2(m,w,x.data)){const L=j0(w,a,l,y,d,I);if(L!==Si)return L}S=a[w+8],-1!==S&&G0(d,a[1].data[w+8]===I)&&r2(m,w,a)?(y=x,w=yo(S),a=Ls(S,a)):w=-1}}return f}function j0(o,a,l,d,f,m){const y=a[1],w=y.data[o+8],x=D1(w,y,l,null==d?Fc(w)&&au:d!=y&&0!=(3&w.type),f&Ze.Host&&m===w);return null!==x?Ps(a,y,x,w):Si}function D1(o,a,l,d,f){const m=o.providerIndexes,y=a.data,w=1048575&m,S=o.directiveStart,x=m>>20,H=f?w+x:o.directiveEnd;for(let X=d?w:w+x;X<H;X++){const ue=y[X];if(X<S&&l===ue||X>=S&&ue.type===l)return X}if(f){const X=y[S];if(X&&Wi(X)&&X.type===l)return S}return null}function Ps(o,a,l,d){let f=o[l];const m=a.data;if(function nu(o){return o instanceof pi}(f)){const y=f;y.resolving&&function et(o,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new be(-200,`Circular dependency in DI detected for ${o}${l}`)}(function ce(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():re(o)}(m[l]));const w=Jc(y.canSeeViewProviders);y.resolving=!0;const S=y.injectImpl?tr(y.injectImpl):null;Rd(o,d,Ze.Default);try{f=o[l]=y.factory(void 0,m,o,d),a.firstCreatePass&&l>=d.directiveStart&&function Zc(o,a,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(d){const y=T0(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,y)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,f),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,m))}(l,m[l],a)}finally{null!==S&&tr(S),Jc(w),y.resolving=!1,O0()}}return f}function r2(o,a,l){return!!(l[a+(o>>5)]&1<<o)}function G0(o,a){return!(o&Ze.Self||o&Ze.Host&&a)}class T1{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,d){return n2(this._tNode,this._lView,a,d,l)}}function $0(){return new T1(rr(),ye())}function Os(o){return Ln(()=>{const a=o.prototype.constructor,l=a[kr]||s2(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const m=f[kr]||s2(f);if(m&&m!==l)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function s2(o){return Fe(o)?()=>{const a=s2(Y(o));return a&&a()}:mr(o)}function o2(o){const a=o[1],l=a.type;return 2===l?a.declTNode:1===l?o[6]:null}function a2(o){return function I1(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const m=l[f];if(su(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(m===a)return l[f+1];f+=2}}}return null}(rr(),o)}const x1="__parameters__";function N1(o,a,l){return Ln(()=>{const d=function W0(o){return function(...l){if(o){const d=o(...l);for(const f in d)this[f]=d[f]}}}(a);function f(...m){if(this instanceof f)return d.apply(this,m),this;const y=new f(...m);return w.annotation=y,w;function w(S,I,x){const L=S.hasOwnProperty(x1)?S[x1]:Object.defineProperty(S,x1,{value:[]})[x1];for(;L.length<=x;)L.push(null);return(L[x]=L[x]||[]).push(y),S}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class fn{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Zt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Xt(o,a){void 0===a&&(a=o);for(let l=0;l<o.length;l++){let d=o[l];Array.isArray(d)?(a===o&&(a=o.slice(0,l)),Xt(d,a)):a!==o&&a.push(d)}return a}function Kn(o,a){o.forEach(l=>Array.isArray(l)?Kn(l,a):a(l))}function Ii(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function bn(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function pn(o,a){const l=[];for(let d=0;d<o;d++)l.push(a);return l}function Zr(o,a,l){let d=zs(o,a);return d>=0?o[1|d]=l:(d=~d,function K0(o,a,l,d){let f=o.length;if(f==a)o.push(l,d);else if(1===f)o.push(d,o[0]),o[0]=l;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=l,o[a+1]=d}}(o,d,a,l)),d}function uu(o,a){const l=zs(o,a);if(l>=0)return o[1|l]}function zs(o,a){return function hu(o,a,l){let d=0,f=o.length>>l;for(;f!==d;){const m=d+(f-d>>1),y=o[m<<l];if(a===y)return m<<l;y>a?f=m:d=m+1}return~(f<<l)}(o,a,1)}const us={},In="__NG_DI_FLAG__",Fs="ngTempTokenPath",va=/\n/gm,P1="__source";let _a;function Vs(o){const a=_a;return _a=o,a}function Y0(o,a=Ze.Default){if(void 0===_a)throw new be(-203,!1);return null===_a?Gi(o,void 0,a):_a.get(o,a&Ze.Optional?null:void 0,a)}function On(o,a=Ze.Default){return(function Lc(){return wr}()||Y0)(Y(o),a)}function Qd(o,a=Ze.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),On(o,a)}function Q0(o){const a=[];for(let l=0;l<o.length;l++){const d=Y(o[l]);if(Array.isArray(d)){if(0===d.length)throw new be(900,!1);let f,m=Ze.Default;for(let y=0;y<d.length;y++){const w=d[y],S=om(w);"number"==typeof S?-1===S?f=w.token:m|=S:f=w}a.push(On(f,m))}else a.push(On(d))}return a}function ya(o,a){return o[In]=a,o.prototype[In]=a,o}function om(o){return o[In]}const Ca=ya(N1("Optional"),8),Eo=ya(N1("SkipSelf"),4);var Yr=(()=>((Yr=Yr||{})[Yr.Important=1]="Important",Yr[Yr.DashCase=2]="DashCase",Yr))();const xo=new Map;let o6=0;const g="__ngContext__";function _(o,a){lr(a)?(o[g]=a[20],function hs(o){xo.set(o[20],o)}(a)):o[g]=a}function Fn(o,a){return undefined(o,a)}function No(o){const a=o[3];return Wr(a)?a[3]:a}function j1(o){return l6(o[13])}function G1(o){return l6(o[4])}function l6(o){for(;null!==o&&!Wr(o);)o=o[4];return o}function ko(o,a,l,d,f){if(null!=d){let m,y=!1;Wr(d)?m=d:lr(d)&&(y=!0,d=d[0]);const w=Sn(d);0===o&&null!==l?null==f?fm(a,l,w):Ia(a,l,w,f||null,!0):1===o&&null!==l?Ia(a,l,w,f||null,!0):2===o?function mf(o,a,l){const d=u6(o,a);d&&function iA(o,a,l,d){o.removeChild(a,l,d)}(o,d,a,l)}(a,w,y):3===o&&a.destroyNode(w),null!=m&&function _2(o,a,l,d,f){const m=l[7];m!==Sn(l)&&ko(a,o,d,m,f);for(let w=10;w<l.length;w++){const S=l[w];Mu(S[1],S,o,a,d,m)}}(a,o,m,l,f)}}function $1(o,a,l){return o.createElement(a,l)}function Au(o,a){const l=o[9],d=l.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,_1(f,-1)),l.splice(d,1)}function q1(o,a){if(o.length<=10)return;const l=10+a,d=o[l];if(d){const f=d[17];null!==f&&f!==o&&Au(f,d),a>0&&(o[l-1][4]=d[4]);const m=bn(o,10+a);!function eA(o,a){Mu(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const y=m[19];null!==y&&y.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function hf(o,a){if(!(128&a[2])){const l=a[11];l.destroyNode&&Mu(o,a,l,3,null,null),function dm(o){let a=o[13];if(!a)return g2(o[1],o);for(;a;){let l=null;if(lr(a))l=a[13];else{const d=a[10];d&&(l=d)}if(!l){for(;a&&!a[4]&&a!==o;)lr(a)&&g2(a[1],a),a=a[3];null===a&&(a=o),lr(a)&&g2(a[1],a),l=a&&a[4]}a=l}}(a)}}function g2(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function df(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let d=0;d<l.length;d+=2){const f=a[l[d]];if(!(f instanceof pi)){const m=l[d+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const w=f[m[y]],S=m[y+1];try{S.call(w)}finally{}}else try{m.call(f)}finally{}}}}(o,a),function rA(o,a){const l=o.cleanup,d=a[7];let f=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const y=l[m+1],w="function"==typeof y?y(a):Sn(a[y]),S=d[f=l[m+2]],I=l[m+3];"boolean"==typeof I?w.removeEventListener(l[m],S,I):I>=0?d[f=I]():d[f=-I].unsubscribe(),m+=2}else{const y=d[f=l[m+1]];l[m].call(y)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const l=a[17];if(null!==l&&Wr(a[3])){l!==a[3]&&Au(l,a);const d=a[19];null!==d&&d.detachView(o)}!function Bs(o){xo.delete(o[20])}(a)}}function bu(o,a,l){return function ff(o,a,l){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return l[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===lt.None||f===lt.Emulated)return null}return Er(d,l)}(o,a.parent,l)}function Ia(o,a,l,d,f){o.insertBefore(a,l,d,f)}function fm(o,a,l){o.appendChild(a,l)}function pm(o,a,l,d,f){null!==d?Ia(o,a,l,d,f):fm(o,a,l)}function u6(o,a){return o.parentNode(a)}function mm(o,a,l){return vm(o,a,l)}let yf,vm=function gm(o,a,l){return 40&o.type?Er(o,l):null};function h6(o,a,l,d){const f=bu(o,d,a),m=a[11],w=mm(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(l))for(let S=0;S<l.length;S++)pm(m,f,l[S],w,!1);else pm(m,f,l,w,!1)}function Us(o,a){if(null!==a){const l=a.type;if(3&l)return Er(a,o);if(4&l)return _m(-1,o[a.index]);if(8&l){const d=a.child;if(null!==d)return Us(o,d);{const f=o[a.index];return Wr(f)?_m(-1,f):Sn(f)}}if(32&l)return Fn(a,o)()||Sn(o[a.index]);{const d=d6(o,a);return null!==d?Array.isArray(d)?d[0]:Us(No(o[16]),d):Us(o,a.next)}}return null}function d6(o,a){return null!==a?o[16][6].projection[a.projection]:null}function _m(o,a){const l=10+o+1;if(l<a.length){const d=a[l],f=d[1].firstChild;if(null!==f)return Us(d,f)}return a[7]}function gf(o,a,l,d,f,m,y){for(;null!=l;){const w=d[l.index],S=l.type;if(y&&0===a&&(w&&_(Sn(w),d),l.flags|=4),64!=(64&l.flags))if(8&S)gf(o,a,l.child,d,f,m,!1),ko(a,o,f,w,m);else if(32&S){const I=Fn(l,d);let x;for(;x=I();)ko(a,o,f,x,m);ko(a,o,f,w,m)}else 16&S?v2(o,a,d,l,f,m):ko(a,o,f,w,m);l=y?l.projectionNext:l.next}}function Mu(o,a,l,d,f,m){gf(l,d,o.firstChild,a,f,m,!1)}function v2(o,a,l,d,f,m){const y=l[16],S=y[6].projection[d.projection];if(Array.isArray(S))for(let I=0;I<S.length;I++)ko(a,o,f,S[I],m);else gf(o,a,S,y[3],f,m,!0)}function vf(o,a,l){o.setAttribute(a,"style",l)}function f6(o,a,l){""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l)}function Cf(o){yf=o}class Tu{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ta(o){return o instanceof Tu?o.changingThisBreaksApplicationSecurity:o}const Lo=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Dn=(()=>((Dn=Dn||{})[Dn.NONE=0]="NONE",Dn[Dn.HTML=1]="HTML",Dn[Dn.STYLE=2]="STYLE",Dn[Dn.SCRIPT=3]="SCRIPT",Dn[Dn.URL=4]="URL",Dn[Dn.RESOURCE_URL=5]="RESOURCE_URL",Dn))();function Df(o){const a=function Lu(){const o=ye();return o&&o[12]}();return a?a.sanitize(Dn.URL,o)||"":function xu(o,a){const l=function hA(o){return o instanceof Tu&&o.getTypeName()||null}(o);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}(o,"URL")?Ta(o):function xa(o){return(o=String(o)).match(Lo)?o:"unsafe:"+o}(re(o))}const xf=new fn("ENVIRONMENT_INITIALIZER"),Lm=new fn("INJECTOR",-1),y6=new fn("INJECTOR_DEF_TYPES");class xi{get(a,l=us){if(l===us){const d=new Error(`NullInjectorError: No provider for ${Ee(a)}!`);throw d.name="NullInjectorError",d}return l}}function Pm(...o){return{\u0275providers:C2(0,o)}}function C2(o,...a){const l=[],d=new Set;let f;return Kn(a,m=>{const y=m;Nf(y,l,[],d)&&(f||(f=[]),f.push(y))}),void 0!==f&&Om(f,l),l}function Om(o,a){for(let l=0;l<o.length;l++){const{providers:f}=o[l];Kn(f,m=>{a.push(m)})}}function Nf(o,a,l,d){if(!(o=Y(o)))return!1;let f=null,m=no(o);const y=!m&&K(o);if(m||y){if(y&&!y.standalone)return!1;f=o}else{const S=o.ngModule;if(m=no(S),!m)return!1;f=S}const w=d.has(f);if(y){if(w)return!1;if(d.add(f),y.dependencies){const S="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const I of S)Nf(I,a,l,d)}}else{if(!m)return!1;{if(null!=m.imports&&!w){let I;d.add(f);try{Kn(m.imports,x=>{Nf(x,a,l,d)&&(I||(I=[]),I.push(x))})}finally{}void 0!==I&&Om(I,a)}if(!w){const I=mr(f)||(()=>new f);a.push({provide:f,useFactory:I,deps:wt},{provide:y6,useValue:f,multi:!0},{provide:xf,useValue:()=>On(f),multi:!0})}const S=m.providers;null==S||w||Kn(S,x=>{a.push(x)})}}return f!==o&&void 0!==o.providers}const C6=ve({provide:String,useValue:ve});function kf(o){return null!==o&&"object"==typeof o&&C6 in o}function fs(o){return"function"==typeof o}const Rf=new fn("Set Injector scope."),Na={},Pu={};let Lf;function A6(){return void 0===Lf&&(Lf=new xi),Lf}class Y1{}class Fm extends Y1{constructor(a,l,d,f){super(),this.parent=l,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Of(a,y=>this.processProvider(y)),this.records.set(Lm,ka(void 0,this)),f.has("environment")&&this.records.set(Y1,ka(void 0,this));const m=this.records.get(Rf);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(y6.multi,wt,Ze.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const l=Vs(this),d=tr(void 0);try{return a()}finally{Vs(l),tr(d)}}get(a,l=us,d=Ze.Default){this.assertNotDestroyed();const f=Vs(this),m=tr(void 0);try{if(!(d&Ze.SkipSelf)){let w=this.records.get(a);if(void 0===w){const S=function CA(o){return"function"==typeof o||"object"==typeof o&&o instanceof fn}(a)&&oi(a);w=S&&this.injectableDefInScope(S)?ka(Pf(a),Na):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&Ze.Self?A6():this.parent).get(a,l=d&Ze.Optional&&l===us?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[Fs]=y[Fs]||[]).unshift(Ee(a)),f)throw y;return function am(o,a,l,d){const f=o[Fs];throw a[P1]&&f.unshift(a[P1]),o.message=function X0(o,a,l,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=Ee(a);if(Array.isArray(a))f=a.map(Ee).join(" -> ");else if("object"==typeof a){let m=[];for(let y in a)if(a.hasOwnProperty(y)){let w=a[y];m.push(y+":"+("string"==typeof w?JSON.stringify(w):Ee(w)))}f=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${o.replace(va,"\n  ")}`}("\n"+o.message,f,l,d),o.ngTokenPath=f,o[Fs]=null,o}(y,a,"R3InjectorError",this.source)}throw y}finally{tr(m),Vs(f)}}resolveInjectorInitializers(){const a=Vs(this),l=tr(void 0);try{const d=this.get(xf.multi,wt,Ze.Self);for(const f of d)f()}finally{Vs(a),tr(l)}}toString(){const a=[],l=this.records;for(const d of l.keys())a.push(Ee(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(a){let l=fs(a=Y(a))?a:Y(a&&a.provide);const d=function XT(o){return kf(o)?ka(void 0,o.useValue):ka(Vm(o),Na)}(a);if(fs(a)||!0!==a.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=ka(void 0,Na,!0),f.factory=()=>Q0(f.multi),this.records.set(l,f)),l=a,f.multi.push(a)}this.records.set(l,d)}hydrate(a,l){return l.value===Na&&(l.value=Pu,l.value=l.factory()),"object"==typeof l.value&&l.value&&function A2(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=Y(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Pf(o){const a=oi(o),l=null!==a?a.factory:mr(o);if(null!==l)return l;if(o instanceof fn)throw new be(204,!1);if(o instanceof Function)return function yA(o){const a=o.length;if(a>0)throw pn(a,"?"),new be(204,!1);const l=function jn(o){const a=o&&(o[ji]||o[sa]);if(a){const l=function to(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new be(204,!1)}function Vm(o,a,l){let d;if(fs(o)){const f=Y(o);return mr(f)||Pf(f)}if(kf(o))d=()=>Y(o.useValue);else if(function Z1(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Q0(o.deps||[]));else if(function zm(o){return!(!o||!o.useExisting)}(o))d=()=>On(Y(o.useExisting));else{const f=Y(o&&(o.useClass||o.provide));if(!function b6(o){return!!o.deps}(o))return mr(f)||Pf(f);d=()=>new f(...Q0(o.deps))}return d}function ka(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function AA(o){return!!o.\u0275providers}function Of(o,a){for(const l of o)Array.isArray(l)?Of(l,a):AA(l)?Of(l.\u0275providers,a):a(l)}class Hm{}class EA{resolveComponentFactory(a){throw function wA(o){const a=Error(`No component factory found for ${Ee(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let b2=(()=>{class o{}return o.NULL=new EA,o})();function MA(){return Ra(rr(),ye())}function Ra(o,a){return new w2(Er(o,a))}let w2=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=MA,o})();function zf(o){return o instanceof w2?o.nativeElement:o}class Um{}let SA=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function IA(){const o=ye(),l=Qt(rr().index,o);return(lr(l)?l:o)[11]}(),o})(),DA=(()=>{class o{}return o.\u0275prov=Zt({token:o,providedIn:"root",factory:()=>null}),o})();class Ou{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Vf=new Ou("14.2.12"),w6={};function M6(o){return o.ngOriginalError}class Po{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&M6(a);for(;l&&M6(l);)l=M6(l);return l||null}}function Oo(o){return o instanceof Function?o():o}function $m(o,a,l){let d=o.length;for(;;){const f=o.indexOf(a,l);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=a.length;if(f+m===d||o.charCodeAt(f+m)<=32)return f}l=f+1}}const Hf="ng-template";function Wm(o,a,l){let d=0;for(;d<o.length;){let f=o[d++];if(l&&"class"===f){if(f=o[d],-1!==$m(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function Bf(o){return 4===o.type&&o.value!==Hf}function qm(o,a,l){return a===(4!==o.type||l?o.value:Hf)}function FA(o,a,l){let d=4;const f=o.attrs||[],m=function BA(o){for(let a=0;a<o.length;a++)if(su(o[a]))return a;return o.length}(f);let y=!1;for(let w=0;w<a.length;w++){const S=a[w];if("number"!=typeof S){if(!y)if(4&d){if(d=2|1&d,""!==S&&!qm(o,S,l)||""===S&&1===a.length){if(ps(d))return!1;y=!0}}else{const I=8&d?S:a[++w];if(8&d&&null!==o.attrs){if(!Wm(o.attrs,I,l)){if(ps(d))return!1;y=!0}continue}const L=VA(8&d?"class":S,f,Bf(o),l);if(-1===L){if(ps(d))return!1;y=!0;continue}if(""!==I){let H;H=L>m?"":f[L+1].toLowerCase();const X=8&d?H:null;if(X&&-1!==$m(X,I,0)||2&d&&I!==H){if(ps(d))return!1;y=!0}}}}else{if(!y&&!ps(d)&&!ps(S))return!1;if(y&&ps(S))continue;y=!1,d=S|1&d}}return ps(d)||y}function ps(o){return 0==(1&o)}function VA(o,a,l,d){if(null===a)return-1;let f=0;if(d||!l){let m=!1;for(;f<a.length;){const y=a[f];if(y===o)return f;if(3===y||6===y)m=!0;else{if(1===y||2===y){let w=a[++f];for(;"string"==typeof w;)w=a[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=m?1:2}return-1}return function Zm(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const d=o[l];if("number"==typeof d)return-1;if(d===a)return l;l++}return-1}(a,o)}function Km(o,a,l=!1){for(let d=0;d<a.length;d++)if(FA(o,a[d],l))return!0;return!1}function Uf(o,a){e:for(let l=0;l<a.length;l++){const d=a[l];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function jf(o,a){return o?":not("+a.trim()+")":a}function Ym(o){let a=o[0],l=1,d=2,f="",m=!1;for(;l<o.length;){let y=o[l];if("string"==typeof y)if(2&d){const w=o[++l];f+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+y:4&d&&(f+=" "+y);else""!==f&&!ps(y)&&(a+=jf(m,f),f=""),d=y,m=m||!ps(d);l++}return""!==f&&(a+=jf(m,f)),a}const It={};function Qm(o){Xm(Lt(),ye(),En()+o,!1)}function Xm(o,a,l,d){if(!d)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&Yc(a,m,l)}else{const m=o.preOrderHooks;null!==m&&_o(a,m,0,l)}cs(l)}function t9(o,a=null,l=null,d){const f=n9(o,a,l,d);return f.resolveInjectorInitializers(),f}function n9(o,a=null,l=null,d,f=new Set){const m=[l||wt,Pm(o)];return d=d||("object"==typeof o?void 0:Ee(o)),new Fm(m,a||A6(),d||null,f)}let Q1=(()=>{class o{static create(l,d){if(Array.isArray(l))return t9({name:""},d,l,"");{const f=l.name??"";return t9({name:f},l.parent,l.providers,f)}}}return o.THROW_IF_NOT_FOUND=us,o.NULL=new xi,o.\u0275prov=Zt({token:o,providedIn:"any",factory:()=>On(Lm)}),o.__NG_ELEMENT_ID__=-1,o})();function ec(o,a=Ze.Default){const l=ye();return null===l?On(o,a):n2(rr(),l,Y(o),a)}function u9(){throw new Error("invalid")}function Fu(o,a){return o<<17|a<<2}function ms(o){return o>>17&32767}function Qf(o){return 2|o}function zo(o){return(131068&o)>>2}function R6(o,a){return-131069&o|a<<2}function p9(o){return 1|o}function r8(o,a){const l=o.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const f=l[d],m=l[d+1];if(-1!==m){const y=o.data[m];Yl(f),y.contentQueries(2,a[m],m)}}}function gs(o,a,l,d,f,m,y,w,S,I,x){const L=a.blueprint.slice();return L[0]=f,L[2]=76|d,(null!==x||o&&1024&o[2])&&(L[2]|=1024),v1(L),L[3]=L[15]=o,L[8]=l,L[10]=y||o&&o[10],L[11]=w||o&&o[11],L[12]=S||o&&o[12]||null,L[9]=I||o&&o[9]||null,L[6]=m,L[20]=function lf(){return o6++}(),L[21]=x,L[16]=2==a.type?o[16]:L,L}function tc(o,a,l,d,f){let m=o.data[a];if(null===m)m=function A9(o,a,l,d,f){const m=Gc(),y=Wl(),S=o.data[a]=function dx(o,a,l,d,f,m){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,l,a,d,f);return null===o.firstChild&&(o.firstChild=S),null!==m&&(y?null==m.child&&null!==S.parent&&(m.child=S):null===m.next&&(m.next=S)),S}(o,a,l,d,f),function L0(){return Et.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=d,m.attrs=f;const y=function $c(){const o=Et.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return fi(m,!0),m}function Hu(o,a,l,d){if(0===l)return-1;const f=a.length;for(let m=0;m<l;m++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function Fa(o,a,l){Kc(a);try{const d=o.viewQuery;null!==d&&k9(1,d,l);const f=o.template;null!==f&&U6(o,a,f,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&r8(o,a),o.staticViewQueries&&k9(2,o.viewQuery,l);const m=o.components;null!==m&&function Xr(o,a){for(let l=0;l<a.length;l++)hb(o,a[l])}(a,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,fa()}}function Vo(o,a,l,d){const f=a[2];if(128!=(128&f)){Kc(a);try{v1(a),function C1(o){return Et.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&U6(o,a,l,2,d);const y=3==(3&f);if(y){const I=o.preOrderCheckHooks;null!==I&&Yc(a,I,null)}else{const I=o.preOrderHooks;null!==I&&_o(a,I,0,null),eu(a,0)}if(function ub(o){for(let a=j1(o);null!==a;a=G1(a)){if(!a[2])continue;const l=a[9];for(let d=0;d<l.length;d++){const f=l[d],m=f[3];0==(512&f[2])&&_1(m,1),f[2]|=512}}}(a),function q6(o){for(let a=j1(o);null!==a;a=G1(a))for(let l=10;l<a.length;l++){const d=a[l],f=d[1];ks(d)&&Vo(f,d,f.template,d[8])}}(a),null!==o.contentQueries&&r8(o,a),y){const I=o.contentCheckHooks;null!==I&&Yc(a,I)}else{const I=o.contentHooks;null!==I&&_o(a,I,1),eu(a,1)}!function y9(o,a){const l=o.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const f=l[d];if(f<0)cs(~f);else{const m=f,y=l[++d],w=l[++d];P0(y,m),w(2,a[m])}}}finally{cs(-1)}}(o,a);const w=o.components;null!==w&&function C9(o,a){for(let l=0;l<a.length;l++)o8(o,a[l])}(a,w);const S=o.viewQuery;if(null!==S&&k9(2,S,d),y){const I=o.viewCheckHooks;null!==I&&Yc(a,I)}else{const I=o.viewHooks;null!==I&&_o(a,I,2),eu(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,_1(a[3],-1))}finally{fa()}}}function U6(o,a,l,d,f){const m=En(),y=2&d;try{cs(-1),y&&a.length>22&&Xm(o,a,22,!1),l(d,f)}finally{cs(m)}}function Bu(o,a,l){if(fo(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const y=o.data[m];y.contentQueries&&y.contentQueries(1,l[m],m)}}}function i8(o,a,l){!y1()||(function s8(o,a,l,d){const f=l.directiveStart,m=l.directiveEnd;o.firstCreatePass||Co(l,a),_(d,a);const y=l.initialInputs;for(let w=f;w<m;w++){const S=o.data[w],I=Wi(S);I&&fx(a,l,S);const x=Ps(a,o,w,l);_(x,a),null!==y&&px(0,w-f,x,S,0,y),I&&(Qt(l.index,a)[8]=x)}}(o,a,l,Er(l,a)),128==(128&l.flags)&&function D9(o,a,l){const d=l.directiveStart,f=l.directiveEnd,m=l.index,y=function tm(){return Et.lFrame.currentDirectiveIndex}();try{cs(m);for(let w=d;w<f;w++){const S=o.data[w],I=a[w];qc(w),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&j6(S,I)}}finally{cs(-1),qc(y)}}(o,a,l))}function Uu(o,a,l=Er){const d=a.localNames;if(null!==d){let f=a.index+1;for(let m=0;m<d.length;m+=2){const y=d[m+1],w=-1===y?l(a,o):o[y];o[f++]=w}}}function b9(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=w9(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function w9(o,a,l,d,f,m,y,w,S,I){const x=22+d,L=x+f,H=function ux(o,a){const l=[];for(let d=0;d<a;d++)l.push(d<o?null:It);return l}(x,L),X="function"==typeof I?I():I;return H[1]={type:o,blueprint:H,template:l,queries:null,viewQuery:w,declTNode:a,data:H.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:S,consts:X,incompleteFirstPass:!1}}function ab(o,a,l,d){const f=c8(a);null===l?f.push(d):(f.push(l),o.firstCreatePass&&fb(o).push(d,f.length-1))}function cb(o,a,l){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(a,f):l[d]=[a,f]}return l}function E9(o,a){const d=a.directiveEnd,f=o.data,m=a.attrs,y=[];let w=null,S=null;for(let I=a.directiveStart;I<d;I++){const x=f[I],L=x.inputs,H=null===m||Bf(a)?null:$6(L,m);y.push(H),w=cb(L,I,w),S=cb(x.outputs,I,S)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=y,a.inputs=w,a.outputs=S}function ki(o,a,l,d,f,m,y,w){const S=Er(a,l);let x,I=a.inputs;!w&&null!=I&&(x=I[d])?(Z6(o,l,x,d,f),Fc(a)&&S9(l,a.index)):3&a.type&&(d=function M9(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=y?y(f,a.value||"",d):f,m.setProperty(S,d,f))}function S9(o,a){const l=Qt(a,o);16&l[2]||(l[2]|=32)}function D2(o,a,l,d){let f=!1;if(y1()){const m=function T9(o,a,l){const d=o.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const y=d[m];Km(l,y.selectors,!1)&&(f||(f=[]),S1(Co(l,a),o,y.type),Wi(y)?($u(o,l),f.unshift(y)):f.push(y))}return f}(o,a,l),y=null===d?null:{"":-1};if(null!==m){f=!0,Wu(l,o.data.length,m.length);for(let x=0;x<m.length;x++){const L=m[x];L.providersResolver&&L.providersResolver(L)}let w=!1,S=!1,I=Hu(o,a,m.length,null);for(let x=0;x<m.length;x++){const L=m[x];l.mergedAttrs=E1(l.mergedAttrs,L.hostAttrs),T2(o,l,a,I,L),N9(I,L,y),null!==L.contentQueries&&(l.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(l.flags|=128);const H=L.type.prototype;!w&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),w=!0),!S&&(H.ngOnChanges||H.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),S=!0),I++}E9(o,l)}y&&function x9(o,a,l){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const m=l[a[f+1]];if(null==m)throw new be(-301,!1);d.push(a[f],m)}}}(l,d,y)}return l.mergedAttrs=E1(l.mergedAttrs,l.attrs),f}function nc(o,a,l,d,f,m){const y=m.hostBindings;if(y){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const S=~a.index;(function Gu(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(w)!=S&&w.push(S),w.push(d,f,y)}}function j6(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function $u(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function N9(o,a,l){if(l){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)l[a.exportAs[d]]=o;Wi(a)&&(l[""]=o)}}function Wu(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}function T2(o,a,l,d,f){o.data[d]=f;const m=f.factory||(f.factory=mr(f.type)),y=new pi(m,Wi(f),ec);o.blueprint[d]=y,l[d]=y,nc(o,a,0,d,Hu(o,l,f.hostVars,It),f)}function fx(o,a,l){const d=Er(a,o),f=b9(l),m=o[10],y=Ku(o,gs(o,f,null,l.onPush?32:16,d,a,m,m.createRenderer(d,l),null,null,null));o[a.index]=y}function Ho(o,a,l,d,f,m){const y=Er(o,a);!function G6(o,a,l,d,f,m,y){if(null==m)o.removeAttribute(a,f,l);else{const w=null==y?re(m):y(m,d||"",f);o.setAttribute(a,f,w,l)}}(a[11],y,m,o.value,l,d,f)}function px(o,a,l,d,f,m){const y=m[a];if(null!==y){const w=d.setInput;for(let S=0;S<y.length;){const I=y[S++],x=y[S++],L=y[S++];null!==w?d.setInput(l,L,I,x):l[x]=L}}}function $6(o,a){let l=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,o[f],a[d+1])),d+=2}else d+=2;else d+=4}return l}function qu(o,a,l,d){return new Array(o,!0,!1,a,null,0,d,l,null,null)}function o8(o,a){const l=Qt(a,o);if(ks(l)){const d=l[1];48&l[2]?Vo(d,l,d.template,l[8]):l[5]>0&&x2(l)}}function x2(o){for(let d=j1(o);null!==d;d=G1(d))for(let f=10;f<d.length;f++){const m=d[f];if(ks(m))if(512&m[2]){const y=m[1];Vo(y,m,y.template,m[8])}else m[5]>0&&x2(m)}const l=o[1].components;if(null!==l)for(let d=0;d<l.length;d++){const f=Qt(l[d],o);ks(f)&&f[5]>0&&x2(f)}}function hb(o,a){const l=Qt(a,o),d=l[1];(function db(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])})(d,l),Fa(d,l,l[8])}function Ku(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function a8(o){for(;o;){o[2]|=32;const a=No(o);if(Vc(o)&&!a)return o;o=a}return null}function Zu(o,a,l,d=!0){const f=a[10];f.begin&&f.begin();try{Vo(o,a,o.template,l)}catch(y){throw d&&R9(a,y),y}finally{f.end&&f.end()}}function k9(o,a,l){Yl(0),a(o,l)}function c8(o){return o[7]||(o[7]=[])}function fb(o){return o.cleanup||(o.cleanup=[])}function K6(o,a,l){return(null===o||Wi(o))&&(l=function k0(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(l[a.index])),l[11]}function R9(o,a){const l=o[9],d=l?l.get(Po,null):null;d&&d.handleError(a)}function Z6(o,a,l,d,f){for(let m=0;m<l.length;){const y=l[m++],w=l[m++],S=a[y],I=o.data[y];null!==I.setInput?I.setInput(S,f,d,w):S[w]=f}}function vs(o,a,l){const d=g1(a,o);!function Sa(o,a,l){o.setValue(a,l)}(o[11],d,l)}function Y6(o,a,l){let d=l?o.styles:null,f=l?o.classes:null,m=0;if(null!==a)for(let y=0;y<a.length;y++){const w=a[y];"number"==typeof w?m=w:1==m?f=ke(f,w):2==m&&(d=ke(d,w+": "+a[++y]+";"))}l?o.styles=d:o.stylesWithoutHost=d,l?o.classes=f:o.classesWithoutHost=f}function l8(o,a,l,d,f=!1){for(;null!==l;){const m=a[l.index];if(null!==m&&d.push(Sn(m)),Wr(m))for(let w=10;w<m.length;w++){const S=m[w],I=S[1].firstChild;null!==I&&l8(S[1],S,I,d)}const y=l.type;if(8&y)l8(o,a,l.child,d);else if(32&y){const w=Fn(l,a);let S;for(;S=w();)d.push(S)}else if(16&y){const w=d6(a,l);if(Array.isArray(w))d.push(...w);else{const S=No(a[16]);l8(S[1],S,w,d,!0)}}l=f?l.projectionNext:l.next}return d}class Yu{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return l8(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Wr(a)){const l=a[8],d=l?l.indexOf(this):-1;d>-1&&(q1(a,d),bn(l,d))}this._attachedToViewContainer=!1}hf(this._lView[1],this._lView)}onDestroy(a){ab(this._lView[1],this._lView,null,a)}markForCheck(){a8(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Zu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tA(o,a){Mu(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=a}}class Qu extends Yu{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Zu(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class Xu extends b2{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=K(a);return new Q6(l,this.ngModule)}}function u8(o){const a=[];for(let l in o)o.hasOwnProperty(l)&&a.push({propName:o[l],templateName:l});return a}class Ju{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,d){const f=this.injector.get(a,w6,d);return f!==w6||l===w6?f:this.parentInjector.get(a,l,d)}}class Q6 extends Hm{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function nx(o){return o.map(Ym).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return u8(this.componentDef.inputs)}get outputs(){return u8(this.componentDef.outputs)}create(a,l,d,f){let m=(f=f||this.ngModule)instanceof Y1?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new Ju(a,m):a,w=y.get(Um,null);if(null===w)throw new be(407,!1);const S=y.get(DA,null),I=w.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",L=d?function hx(o,a,l){return o.selectRootElement(a,l===lt.ShadowDom)}(I,d,this.componentDef.encapsulation):$1(I,x,function L9(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(x)),H=this.componentDef.onPush?288:272,X=w9(0,null,null,1,0,null,null,null,null,null),ue=gs(null,X,null,H,null,null,w,I,S,y,null);let Le,Be;Kc(ue);try{const tt=function _x(o,a,l,d,f,m){const y=l[1];l[22]=o;const S=tc(y,22,2,"#host",null),I=S.mergedAttrs=a.hostAttrs;null!==I&&(Y6(S,I,!0),null!==o&&(ls(f,o,I),null!==S.classes&&f6(f,o,S.classes),null!==S.styles&&vf(f,o,S.styles)));const x=d.createRenderer(o,a),L=gs(l,b9(a),null,a.onPush?32:16,l[22],S,d,x,m||null,null,null);return y.firstCreatePass&&(S1(Co(S,l),y,a.type),$u(y,S),Wu(S,l.length,1)),Ku(l,L),l[22]=L}(L,this.componentDef,ue,w,I);if(L)if(d)ls(I,L,["ng-version",Vf.full]);else{const{attrs:gt,classes:we}=function UA(o){const a=[],l=[];let d=1,f=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===f?""!==m&&a.push(m,o[++d]):8===f&&l.push(m);else{if(!ps(f))break;f=m}d++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);gt&&ls(I,L,gt),we&&we.length>0&&f6(I,L,we.join(" "))}if(Be=ha(X,22),void 0!==l){const gt=Be.projection=[];for(let we=0;we<this.ngContentSelectors.length;we++){const yt=l[we];gt.push(null!=yt?Array.from(yt):null)}}Le=function yx(o,a,l,d){const f=l[1],m=function ju(o,a,l){const d=rr();o.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),T2(o,d,a,Hu(o,a,1,null),l),E9(o,d));const f=Ps(a,o,d.directiveStart,d);_(f,a);const m=Er(d,a);return m&&_(m,a),f}(f,l,a);if(o[8]=l[8]=m,null!==d)for(const w of d)w(m,a);if(a.contentQueries){const w=rr();a.contentQueries(1,m,w.directiveStart)}const y=rr();return!f.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(cs(y.index),nc(l[1],y,0,y.directiveStart,y.directiveEnd,a),j6(a,m)),m}(tt,this.componentDef,ue,[gb]),Fa(X,ue,null)}finally{fa()}return new vx(this.componentType,Le,Ra(Be,ue),ue,Be)}}class vx extends class bA{}{constructor(a,l,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new Qu(f),this.componentType=a}setInput(a,l){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){const m=this._rootLView;Z6(m[1],m,f,a,l),S9(m,this._tNode.index)}}get injector(){return new T1(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function gb(){const o=rr();b1(ye()[1],o)}function d8(o){let a=function h8(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const d=[o];for(;a;){let f;if(Wi(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new be(903,!1);f=a.\u0275dir}if(f){if(l){d.push(f);const y=o;y.inputs=X6(o.inputs),y.declaredInputs=X6(o.declaredInputs),y.outputs=X6(o.outputs);const w=f.hostBindings;w&&f8(o,w);const S=f.viewQuery,I=f.contentQueries;if(S&&N2(o,S),I&&vb(o,I),pe(o.inputs,f.inputs),pe(o.declaredInputs,f.declaredInputs),pe(o.outputs,f.outputs),Wi(f)&&f.data.animation){const x=o.data;x.animation=(x.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let y=0;y<m.length;y++){const w=m[y];w&&w.ngInherit&&w(o),w===d8&&(l=!1)}}a=Object.getPrototypeOf(a)}!function P9(o){let a=0,l=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=E1(f.hostAttrs,l=E1(l,f.hostAttrs))}}(d)}function X6(o){return o===ai?{}:o===wt?[]:o}function N2(o,a){const l=o.viewQuery;o.viewQuery=l?(d,f)=>{a(d,f),l(d,f)}:a}function vb(o,a){const l=o.contentQueries;o.contentQueries=l?(d,f,m)=>{a(d,f,m),l(d,f,m)}:a}function f8(o,a){const l=o.hostBindings;o.hostBindings=l?(d,f)=>{a(d,f),l(d,f)}:a}let J6=null;function Va(){if(!J6){const o=Ft.Symbol;if(o&&o.iterator)J6=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const d=a[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(J6=d)}}}return J6}function k2(o){return!!e3(o)&&(Array.isArray(o)||!(o instanceof Map)&&Va()in o)}function e3(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function vr(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function m8(o,a,l,d){const f=ye();return vr(f,A1(),a)&&(Lt(),Ho(An(),f,o,a,l,d)),m8}function L2(o,a,l,d){return vr(o,A1(),l)?a+re(l)+d:It}function ic(o,a,l,d,f,m){const w=function rc(o,a,l,d){const f=vr(o,a,l);return vr(o,a+1,d)||f}(o,function Ki(){return Et.lFrame.bindingIndex}(),l,f);return Rs(2),w?a+re(l)+d+re(f)+m:It}function H9(o,a,l,d,f,m,y,w){const S=ye(),I=Lt(),x=o+22,L=I.firstCreatePass?function bb(o,a,l,d,f,m,y,w,S){const I=a.consts,x=tc(a,o,4,y||null,qi(I,w));D2(a,l,x,qi(I,S)),b1(a,x);const L=x.tViews=w9(2,x,d,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,I);return null!==a.queries&&(a.queries.template(a,x),L.queries=a.queries.embeddedTView(x)),x}(x,I,S,a,l,d,f,m,y):I.data[x];fi(L,!1);const H=S[11].createComment("");h6(I,S,H,L),_(H,S),Ku(S,S[x]=qu(H,S,H,L)),aa(L)&&i8(I,S,L),null!=y&&Uu(S,L,w)}function A8(o,a,l){const d=ye();return vr(d,A1(),a)&&ki(Lt(),An(),d,o,a,d[11],l,!1),A8}function n3(o,a,l,d,f){const y=f?"class":"style";Z6(o,l,a.inputs[y],y,d)}function t4(o,a,l,d){const f=ye(),m=Lt(),y=22+o,w=f[11],S=f[y]=$1(w,a,function Jl(){return Et.lFrame.currentNamespace}()),I=m.firstCreatePass?function wb(o,a,l,d,f,m,y){const w=a.consts,I=tc(a,o,2,f,qi(w,m));return D2(a,l,I,qi(w,y)),null!==I.attrs&&Y6(I,I.attrs,!1),null!==I.mergedAttrs&&Y6(I,I.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,I),I}(y,m,f,0,a,l,d):m.data[y];fi(I,!0);const x=I.mergedAttrs;null!==x&&ls(w,S,x);const L=I.classes;null!==L&&f6(w,S,L);const H=I.styles;return null!==H&&vf(w,S,H),64!=(64&I.flags)&&h6(m,f,S,I),0===function jl(){return Et.lFrame.elementDepthCount}()&&_(S,f),function Td(){Et.lFrame.elementDepthCount++}(),aa(I)&&(i8(m,f,I),Bu(m,I,f)),null!==d&&Uu(f,I),t4}function r3(){let o=rr();Wl()?Wc():(o=o.parent,fi(o,!1));const a=o;!function Gl(){Et.lFrame.elementDepthCount--}();const l=Lt();return l.firstCreatePass&&(b1(l,o),fo(o)&&l.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Qc(o){return 0!=(16&o.flags)}(a)&&n3(l,a,ye(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Xc(o){return 0!=(32&o.flags)}(a)&&n3(l,a,ye(),a.stylesWithoutHost,!1),r3}function s3(o,a,l,d){return t4(o,a,l,d),r3(),s3}function n4(o,a,l){const d=ye(),f=Lt(),m=o+22,y=f.firstCreatePass?function Eb(o,a,l,d,f){const m=a.consts,y=qi(m,d),w=tc(a,o,8,"ng-container",y);return null!==y&&Y6(w,y,!0),D2(a,l,w,qi(m,f)),null!==a.queries&&a.queries.elementStart(a,w),w}(m,f,d,a,l):f.data[m];fi(y,!0);const w=d[m]=d[11].createComment("");return h6(f,d,w,y),_(w,d),aa(y)&&(i8(f,d,y),Bu(f,y,d)),null!=l&&Uu(d,y),n4}function b8(){let o=rr();const a=Lt();return Wl()?Wc():(o=o.parent,fi(o,!1)),a.firstCreatePass&&(b1(a,o),fo(o)&&a.queries.elementEnd(o)),b8}function Sb(){return ye()}function o3(o){return!!o&&"function"==typeof o.then}function U9(o){return!!o&&"function"==typeof o.subscribe}const w8=U9;function a3(o,a,l,d){const f=ye(),m=Lt(),y=rr();return E8(m,f,f[11],y,o,a,0,d),a3}function j9(o,a){const l=rr(),d=ye(),f=Lt();return E8(f,d,K6(Kl(f.data),l,d),l,o,a),j9}function E8(o,a,l,d,f,m,y,w){const S=aa(d),x=o.firstCreatePass&&fb(o),L=a[8],H=c8(a);let X=!0;if(3&d.type||w){const Be=Er(d,a),tt=w?w(Be):Be,gt=H.length,we=w?an=>w(Sn(an[d.index])):d.index;let yt=null;if(!w&&S&&(yt=function bx(o,a,l,d){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const y=f[m];if(y===l&&f[m+1]===d){const w=a[7],S=f[m+2];return w.length>S?w[S]:null}"string"==typeof y&&(m+=2)}return null}(o,a,f,d.index)),null!==yt)(yt.__ngLastListenerFn__||yt).__ngNextListenerFn__=m,yt.__ngLastListenerFn__=m,X=!1;else{m=Ib(d,a,L,m,!1);const an=l.listen(tt,f,m);H.push(m,an),x&&x.push(f,we,gt,gt+1)}}else m=Ib(d,a,L,m,!1);const ue=d.outputs;let Le;if(X&&null!==ue&&(Le=ue[f])){const Be=Le.length;if(Be)for(let tt=0;tt<Be;tt+=2){const kn=a[Le[tt]][Le[tt+1]].subscribe(m),ol=H.length;H.push(m,kn),x&&x.push(f,d.index,ol,-(ol+1))}}}function F2(o,a,l,d){try{return!1!==l(d)}catch(f){return R9(o,f),!1}}function Ib(o,a,l,d,f){return function m(y){if(y===Function)return d;a8(2&o.flags?Qt(o.index,a):a);let S=F2(a,0,d,y),I=m.__ngNextListenerFn__;for(;I;)S=F2(a,0,I,y)&&S,I=I.__ngNextListenerFn__;return f&&!1===S&&(y.preventDefault(),y.returnValue=!1),S}}function Db(o=1){return function vo(o){return(Et.lFrame.contextLView=function Od(o,a){for(;o>0;)a=a[15],o--;return a}(o,Et.lFrame.contextLView))[8]}(o)}function wx(o,a){let l=null;const d=function HA(o){const a=o.attrs;if(null!=a){const l=a.indexOf(5);if(0==(1&l))return a[l+1]}return null}(o);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===d?Km(o,m,!0):Uf(d,m))return f}else l=f}return l}function c3(o){const a=ye()[16][6];if(!a.projection){const d=a.projection=pn(o?o.length:1,null),f=d.slice();let m=a.child;for(;null!==m;){const y=o?wx(m,o):0;null!==y&&(f[y]?f[y].projectionNext=m:d[y]=m,f[y]=m),m=m.next}}}function j(o,a=0,l){const d=ye(),f=Lt(),m=tc(f,22+o,16,null,l||null);null===m.projection&&(m.projection=a),Wc(),64!=(64&m.flags)&&function Su(o,a,l){v2(a[11],0,a,l,bu(o,l,a),mm(l.parent||a[6],l,a))}(f,d,m)}function mt(o,a,l){return mi(o,"",a,"",l),mt}function mi(o,a,l,d,f){const m=ye(),y=L2(m,a,l,d);return y!==It&&ki(Lt(),An(),m,o,y,m[11],f,!1),mi}function K9(o,a,l,d,f){const m=o[l+1],y=null===a;let w=d?ms(m):zo(m),S=!1;for(;0!==w&&(!1===S||y);){const x=o[w+1];Nb(o[w],a)&&(S=!0,o[w+1]=d?p9(x):Qf(x)),w=d?ms(x):zo(x)}S&&(o[l+1]=d?Qf(m):p9(m))}function Nb(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&zs(o,a)>=0}const ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Z9(o){return o.substring(ur.key,ur.keyEnd)}function Uo(o){return o.substring(ur.value,ur.valueEnd)}function h3(o,a){const l=ur.textEnd;let d=ur.key=cc(o,a,l);return l===d?-1:(d=ur.keyEnd=function I8(o,a,l){let d;for(;a<l&&(45===(d=o.charCodeAt(a))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)a++;return a}(o,d,l),d=f3(o,d,l),d=ur.value=cc(o,d,l),d=ur.valueEnd=function kb(o,a,l){let d=-1,f=-1,m=-1,y=a,w=y;for(;y<l;){const S=o.charCodeAt(y++);if(59===S)return w;34===S||39===S?w=y=J9(o,S,y,l):a===y-4&&85===m&&82===f&&76===d&&40===S?w=y=J9(o,41,y,l):S>32&&(w=y),m=f,f=d,d=-33&S}return w}(o,d,l),f3(o,d,l))}function cc(o,a,l){for(;a<l&&o.charCodeAt(a)<=32;)a++;return a}function f3(o,a,l,d){return(a=cc(o,a,l))<l&&a++,a}function J9(o,a,l,d){let f=-1,m=l;for(;m<d;){const y=o.charCodeAt(m++);if(y==a&&92!==f)return m;f=92==y&&92===f?0:y}throw new Error}function m3(o,a){return function ys(o,a,l,d){const f=ye(),m=Lt(),y=Rs(2);m.firstUpdatePass&&T8(m,o,y,d),a!==It&&vr(f,y,a)&&Ba(m,m.data[En()],f,f[11],o,f[y+1]=function v3(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=Ee(Ta(o)))),o}(a,l),d,y)}(o,a,null,!0),m3}function _s(o){!function Lr(o,a,l,d){const f=Lt(),m=Rs(2);f.firstUpdatePass&&T8(f,null,m,d);const y=ye();if(l!==It&&vr(y,m,l)){const w=f.data[En()];if(_3(w,d)&&!lc(f,m)){let S=d?w.classesWithoutHost:w.stylesWithoutHost;null!==S&&(l=ke(S,l||"")),n3(f,w,y,l,d)}else!function zb(o,a,l,d,f,m,y,w){f===It&&(f=wt);let S=0,I=0,x=0<f.length?f[0]:null,L=0<m.length?m[0]:null;for(;null!==x||null!==L;){const H=S<f.length?f[S+1]:void 0,X=I<m.length?m[I+1]:void 0;let Le,ue=null;x===L?(S+=2,I+=2,H!==X&&(ue=L,Le=X)):null===L||null!==x&&x<L?(S+=2,ue=x):(I+=2,ue=L,Le=X),null!==ue&&Ba(o,a,l,d,ue,Le,y,w),x=S<f.length?f[S]:null,L=I<m.length?m[I]:null}}(f,w,y,y[11],y[m+1],y[m+1]=function tg(o,a,l){if(null==l||""===l)return wt;const d=[],f=Ta(l);if(Array.isArray(f))for(let m=0;m<f.length;m++)o(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&o(d,m,f[m]);else"string"==typeof f&&a(d,f);return d}(o,a,l),d,m)}}(ng,Rb,o,!1)}function Rb(o,a){for(let l=function Q9(o){return function d3(o){ur.key=0,ur.keyEnd=0,ur.value=0,ur.valueEnd=0,ur.textEnd=o.length}(o),h3(o,cc(o,0,ur.textEnd))}(a);l>=0;l=h3(a,l))ng(o,Z9(a),Uo(a))}function lc(o,a){return a>=o.expandoStartIndex}function T8(o,a,l,d){const f=o.data;if(null===f[l+1]){const m=f[En()],y=lc(o,l);_3(m,d)&&null===a&&!y&&(a=!1),a=function Lb(o,a,l,d){const f=Kl(o);let m=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(l=V2(l=jo(null,o,a,l,d),a.attrs,d),m=null);else{const y=a.directiveStylingLast;if(-1===y||o[y]!==f)if(l=jo(f,o,a,l,d),null===m){let S=function Pb(o,a,l){const d=l?a.classBindings:a.styleBindings;if(0!==zo(d))return o[ms(d)]}(o,a,d);void 0!==S&&Array.isArray(S)&&(S=jo(null,o,a,S[1],d),S=V2(S,a.attrs,d),function eg(o,a,l,d){o[ms(l?a.classBindings:a.styleBindings)]=d}(o,a,d,S))}else m=function Ob(o,a,l){let d;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)d=V2(d,o[m].hostAttrs,l);return V2(d,a.attrs,l)}(o,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),l}(f,m,a,d),function q9(o,a,l,d,f,m){let y=m?a.classBindings:a.styleBindings,w=ms(y),S=zo(y);o[d]=l;let x,I=!1;if(Array.isArray(l)){const L=l;x=L[1],(null===x||zs(L,x)>0)&&(I=!0)}else x=l;if(f)if(0!==S){const H=ms(o[w+1]);o[d+1]=Fu(H,w),0!==H&&(o[H+1]=R6(o[H+1],d)),o[w+1]=function KA(o,a){return 131071&o|a<<17}(o[w+1],d)}else o[d+1]=Fu(w,0),0!==w&&(o[w+1]=R6(o[w+1],d)),w=d;else o[d+1]=Fu(S,0),0===w?w=d:o[S+1]=R6(o[S+1],d),S=d;I&&(o[d+1]=Qf(o[d+1])),K9(o,x,d,!0),K9(o,x,d,!1),function xb(o,a,l,d,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&zs(m,a)>=0&&(l[d+1]=p9(l[d+1]))}(a,x,o,d,m),y=Fu(w,S),m?a.classBindings=y:a.styleBindings=y}(f,m,a,l,y,d)}}function jo(o,a,l,d,f){let m=null;const y=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<y&&(m=a[w],d=V2(d,m.hostAttrs,f),m!==o);)w++;return null!==o&&(l.directiveStylingLast=w),d}function V2(o,a,l){const d=l?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const y=a[m];"number"==typeof y?f=y:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Zr(o,y,!!l||a[++m]))}return void 0===o?null:o}function ng(o,a,l){Zr(o,a,Ta(l))}function Ba(o,a,l,d,f,m,y,w){if(!(3&a.type))return;const S=o.data,I=S[w+1];H2(function f9(o){return 1==(1&o)}(I)?g3(S,a,l,f,zo(I),y):void 0)||(H2(m)||function d9(o){return 2==(2&o)}(I)&&(m=g3(S,null,l,f,w,y)),function ym(o,a,l,d,f){if(a)f?o.addClass(l,d):o.removeClass(l,d);else{let m=-1===d.indexOf("-")?void 0:Yr.DashCase;null==f?o.removeStyle(l,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Yr.Important),o.setStyle(l,d,f,m))}}(d,y,g1(En(),l),f,m))}function g3(o,a,l,d,f,m){const y=null===a;let w;for(;f>0;){const S=o[f],I=Array.isArray(S),x=I?S[1]:S,L=null===x;let H=l[f+1];H===It&&(H=L?wt:void 0);let X=L?uu(H,d):x===d?H:void 0;if(I&&!H2(X)&&(X=uu(S,d)),H2(X)&&(w=X,y))return w;const ue=o[f+1];f=y?ms(ue):zo(ue)}if(null!==a){let S=m?a.residualClasses:a.residualStyles;null!=S&&(w=uu(S,d))}return w}function H2(o){return void 0!==o}function _3(o,a){return 0!=(o.flags&(a?16:32))}function y3(o,a=""){const l=ye(),d=Lt(),f=o+22,m=d.firstCreatePass?tc(d,f,1,a,null):d.data[f],y=l[f]=function m2(o,a){return o.createText(a)}(l[11],a);h6(d,l,y,m),fi(m,!1)}function r4(o){return Ua("",o,""),r4}function Ua(o,a,l){const d=ye(),f=L2(d,o,a,l);return f!==It&&vs(d,En(),f),Ua}function i4(o,a,l,d,f){const m=ye(),y=ic(m,o,a,l,d,f);return y!==It&&vs(m,En(),y),i4}function vg(o,a,l){const d=ye();if(vr(d,A1(),a)){const m=Lt(),y=An();ki(m,y,d,o,a,K6(Kl(m.data),y,d),l,!0)}return vg}const Go=void 0;var Sx=["en",[["a","p"],["AM","PM"],Go],[["AM","PM"],Go,Go],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Go,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Go,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Go,"{1} 'at' {0}",Go],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Mx(o){const l=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let B2={};function I3(o){const a=function Ag(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=Cg(a);if(l)return l;const d=a.split("-")[0];if(l=Cg(d),l)return l;if("en"===d)return Sx;throw new be(701,!1)}function yg(o){return I3(o)[ft.PluralCase]}function Cg(o){return o in B2||(B2[o]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[o]),B2[o]}var ft=(()=>((ft=ft||{})[ft.LocaleId=0]="LocaleId",ft[ft.DayPeriodsFormat=1]="DayPeriodsFormat",ft[ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",ft[ft.DaysFormat=3]="DaysFormat",ft[ft.DaysStandalone=4]="DaysStandalone",ft[ft.MonthsFormat=5]="MonthsFormat",ft[ft.MonthsStandalone=6]="MonthsStandalone",ft[ft.Eras=7]="Eras",ft[ft.FirstDayOfWeek=8]="FirstDayOfWeek",ft[ft.WeekendRange=9]="WeekendRange",ft[ft.DateFormat=10]="DateFormat",ft[ft.TimeFormat=11]="TimeFormat",ft[ft.DateTimeFormat=12]="DateTimeFormat",ft[ft.NumberSymbols=13]="NumberSymbols",ft[ft.NumberFormats=14]="NumberFormats",ft[ft.CurrencyCode=15]="CurrencyCode",ft[ft.CurrencySymbol=16]="CurrencySymbol",ft[ft.CurrencyName=17]="CurrencyName",ft[ft.Currencies=18]="Currencies",ft[ft.Directionality=19]="Directionality",ft[ft.PluralCase=20]="PluralCase",ft[ft.ExtraData=21]="ExtraData",ft))();const U2="en-US";let wg=U2;function Y8(o,a,l,d,f){if(o=Y(o),Array.isArray(o))for(let m=0;m<o.length;m++)Y8(o[m],a,l,d,f);else{const m=Lt(),y=ye();let w=fs(o)?o:Y(o.provide),S=Vm(o);const I=rr(),x=1048575&I.providerIndexes,L=I.directiveStart,H=I.providerIndexes>>20;if(fs(o)||!o.multi){const X=new pi(S,f,ec),ue=d4(w,a,f?x:x+H,L);-1===ue?(S1(Co(I,y),m,w),h4(m,o,a.length),a.push(w),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),l.push(X),y.push(X)):(l[ue]=X,y[ue]=X)}else{const X=d4(w,a,x+H,L),ue=d4(w,a,x,x+H),Le=X>=0&&l[X],Be=ue>=0&&l[ue];if(f&&!Be||!f&&!Le){S1(Co(I,y),m,w);const tt=function Gg(o,a,l,d,f){const m=new pi(o,l,ec);return m.multi=[],m.index=a,m.componentProviders=0,Q8(m,f,d&&!l),m}(f?X8:hw,l.length,f,d,S);!f&&Be&&(l[ue].providerFactory=tt),h4(m,o,a.length,0),a.push(w),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),l.push(tt),y.push(tt)}else h4(m,o,X>-1?X:ue,Q8(l[f?ue:X],S,!f&&d));!f&&d&&Be&&l[ue].componentProviders++}}}function h4(o,a,l,d){const f=fs(a),m=function _A(o){return!!o.useClass}(a);if(f||m){const S=(m?Y(a.useClass):a).prototype.ngOnDestroy;if(S){const I=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const x=I.indexOf(l);-1===x?I.push(l,[d,S]):I[x+1].push(d,S)}else I.push(l,S)}}}function Q8(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function d4(o,a,l,d){for(let f=l;f<d;f++)if(a[f]===o)return f;return-1}function hw(o,a,l,d){return J8(this.multi,[])}function X8(o,a,l,d){const f=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Ps(l,l[1],this.providerFactory.index,d);m=w.slice(0,y),J8(f,m);for(let S=y;S<w.length;S++)m.push(w[S])}else m=[],J8(f,m);return m}function J8(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function $g(o,a=[]){return l=>{l.providersResolver=(d,f)=>function Z8(o,a,l){const d=Lt();if(d.firstCreatePass){const f=Wi(o);Y8(l,d.data,d.blueprint,f,!0),Y8(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class $2{}class Wg{}function dw(o,a){return new qg(o,a??null)}class qg extends $2{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xu(this);const d=ln(a);this._bootstrapComponents=Oo(d.bootstrap),this._r3Injector=n9(a,l,[{provide:$2,useValue:this},{provide:b2,useValue:this.componentFactoryResolver}],Ee(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class f4 extends Wg{constructor(a){super(),this.moduleType=a}create(a){return new qg(this.moduleType,a)}}class pw extends $2{constructor(a,l,d){super(),this.componentFactoryResolver=new Xu(this),this.instance=null;const f=new Fm([...a,{provide:$2,useValue:this},{provide:b2,useValue:this.componentFactoryResolver}],l||A6(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function H3(o,a,l=null){return new pw(o,a,l).injector}let e5=(()=>{class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=C2(0,l.type),f=d.length>0?H3([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,f)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Zt({token:o,providedIn:"environment",factory:()=>new o(On(Y1))}),o})();function Kg(o){o.getStandaloneInjector=a=>a.get(e5).getOrCreateStandaloneInjector(o)}function Yg(o,a,l,d){return function Qg(o,a,l,d,f,m){const y=a+l;return vr(o,y,f)?function Ir(o,a,l){return o[a]=l}(o,y+1,m?d.call(m,f):d(f)):function m4(o,a){const l=o[a];return l===It?void 0:l}(o,y+1)}(ye(),function Wn(){const o=Et.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}(),o,a,l,d)}function h5(o){return a=>{setTimeout(o,void 0,a)}}const Ks=class Pi extends h.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,d){let f=a,m=l||(()=>null),y=d;if(a&&"object"==typeof a){const S=a;f=S.next?.bind(S),m=S.error?.bind(S),y=S.complete?.bind(S)}this.__isAsync&&(m=h5(m),f&&(f=h5(f)),y&&(y=h5(y)));const w=super.subscribe({next:f,error:m,complete:y});return a instanceof z.w0&&a.add(w),w}};function Nw(){return this._results[Va()]()}class $3{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Va(),d=$3.prototype;d[l]||(d[l]=Nw)}get changes(){return this._changes||(this._changes=new Ks)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const d=this;d.dirty=!1;const f=Xt(a);(this._changesDetected=!function Mr(o,a,l){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],m=a[d];if(l&&(f=l(f),m=l(m)),m!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let v4=(()=>{class o{}return o.__NG_ELEMENT_ID__=Rw,o})();const kw=v4,d5=class extends kw{constructor(a,l,d){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(a,l){const d=this._declarationTContainer.tViews,f=gs(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,l||null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(d)),Fa(d,f,a),new Yu(f)}};function Rw(){return W2(rr(),ye())}function W2(o,a){return 4&o.type?new d5(a,o,Ra(o,a)):null}let _4=(()=>{class o{}return o.__NG_ELEMENT_ID__=f5,o})();function f5(){return nv(rr(),ye())}const Lw=_4,ev=class extends Lw{constructor(a,l,d){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=d}get element(){return Ra(this._hostTNode,this._hostLView)}get injector(){return new T1(this._hostTNode,this._hostLView)}get parentInjector(){const a=M1(this._hostTNode,this._hostLView);if(Bd(a)){const l=Ls(a,this._hostLView),d=yo(a);return new T1(l[1].data[d+8],l)}return new T1(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=tv(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const y=a.createEmbeddedView(l||{},m);return this.insert(y,f),y}createComponent(a,l,d,f,m){const y=a&&!function yn(o){return"function"==typeof o}(a);let w;if(y)w=l;else{const L=l||{};w=L.index,d=L.injector,f=L.projectableNodes,m=L.environmentInjector||L.ngModuleRef}const S=y?a:new Q6(K(a)),I=d||this.parentInjector;if(!m&&null==S.ngModule){const H=(y?I:this.parentInjector).get(Y1,null);H&&(m=H)}const x=S.create(I,f,void 0,m);return this.insert(x.hostView,w),x}insert(a,l){const d=a._lView,f=d[1];if(function Dd(o){return Wr(o[3])}(d)){const x=this.indexOf(a);if(-1!==x)this.detach(x);else{const L=d[3],H=new ev(L,L[6],L[3]);H.detach(H.indexOf(a))}}const m=this._adjustIndex(l),y=this._lContainer;!function uf(o,a,l,d){const f=10+d,m=l.length;d>0&&(l[f-1][4]=a),d<m-10?(a[4]=l[f],Ii(l,10+d,a)):(l.push(a),a[4]=null),a[3]=l;const y=a[17];null!==y&&l!==y&&function nA(o,a){const l=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===l?o[9]=[a]:l.push(a)}(y,a);const w=a[19];null!==w&&w.insertView(o),a[2]|=64}(f,d,y,m);const w=_m(m,y),S=d[11],I=u6(S,y[7]);return null!==I&&function W1(o,a,l,d,f,m){d[0]=f,d[6]=a,Mu(o,d,l,1,f,m)}(f,y[6],S,d,I,w),a.attachToViewContainerRef(),Ii(y4(y),m,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=tv(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),d=q1(this._lContainer,l);d&&(bn(y4(this._lContainer),l),hf(d[1],d))}detach(a){const l=this._adjustIndex(a,-1),d=q1(this._lContainer,l);return d&&null!=bn(y4(this._lContainer),l)?new Yu(d):null}_adjustIndex(a,l=0){return a??this.length+l}};function tv(o){return o[8]}function y4(o){return o[8]||(o[8]=[])}function nv(o,a){let l;const d=a[o.index];if(Wr(d))l=d;else{let f;if(8&o.type)f=Sn(d);else{const m=a[11];f=m.createComment("");const y=Er(o,a);Ia(m,u6(m,y),f,function sA(o,a){return o.nextSibling(a)}(m,y),!1)}a[o.index]=l=qu(d,a,f,o),Ku(a,l)}return new ev(l,o,a)}class m5{constructor(a){this.queryList=a,this.matches=null}clone(){return new m5(this.queryList)}setDirty(){this.queryList.setDirty()}}class C4{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const d=null!==a.contentQueries?a.contentQueries[0]:l.length,f=[];for(let m=0;m<d;m++){const y=l.getByIndex(m);f.push(this.queries[y.indexInDeclarationView].clone())}return new C4(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==C5(a,l).matches&&this.queries[l].setDirty()}}class iv{constructor(a,l,d=null){this.predicate=a,this.flags=l,this.read=d}}class A4{constructor(a=[]){this.queries=a}elementStart(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(a,f);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new A4(l):null}template(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class g5{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new g5(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(a,l,v5(l,m)),this.matchTNodeWithReadOption(a,l,D1(l,a,m,!1,!1))}else d===v4?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,D1(l,a,d,!1,!1))}matchTNodeWithReadOption(a,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===w2||f===_4||f===v4&&4&l.type)this.addMatch(l.index,-2);else{const m=D1(l,a,f,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function v5(o,a){const l=o.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===a)return l[d+1];return null}function sv(o,a,l,d){return-1===l?function _5(o,a){return 11&o.type?Ra(o,a):4&o.type?W2(o,a):null}(a,o):-2===l?function ov(o,a,l){return l===w2?Ra(a,o):l===v4?W2(a,o):l===_4?nv(a,o):void 0}(o,a,d):Ps(o,o[1],l,a)}function av(o,a,l,d){const f=a[19].queries[d];if(null===f.matches){const m=o.data,y=l.matches,w=[];for(let S=0;S<y.length;S+=2){const I=y[S];w.push(I<0?null:sv(a,m[I],y[S+1],l.metadata.read))}f.matches=w}return f.matches}function b4(o,a,l,d){const f=o.queries.getByIndex(l),m=f.matches;if(null!==m){const y=av(o,a,f,l);for(let w=0;w<m.length;w+=2){const S=m[w];if(S>0)d.push(y[w/2]);else{const I=m[w+1],x=a[-S];for(let L=10;L<x.length;L++){const H=x[L];H[17]===H[3]&&b4(H[1],H,I,d)}if(null!==x[9]){const L=x[9];for(let H=0;H<L.length;H++){const X=L[H];b4(X[1],X,I,d)}}}}}return d}function cv(o){const a=ye(),l=Lt(),d=Zl();Yl(d+1);const f=C5(l,d);if(o.dirty&&function Id(o){return 4==(4&o[2])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?b4(l,a,d,[]):av(l,a,f,d);o.reset(m,zf),o.notifyOnChanges()}return!0}return!1}function W3(o,a,l){const d=Lt();d.firstCreatePass&&(w4(d,new iv(o,a,l),-1),2==(2&a)&&(d.staticViewQueries=!0)),y5(d,ye(),a)}function lv(o,a,l,d){const f=Lt();if(f.firstCreatePass){const m=rr();w4(f,new iv(a,l,d),m.index),function hv(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(f,o),2==(2&l)&&(f.staticContentQueries=!0)}y5(f,ye(),l)}function Zs(){return function uv(o,a){return o[19].queries[a].queryList}(ye(),Zl())}function y5(o,a,l){const d=new $3(4==(4&l));ab(o,a,d,d.destroy),null===a[19]&&(a[19]=new C4),a[19].queries.push(new m5(d))}function w4(o,a,l){null===o.queries&&(o.queries=new A4),o.queries.track(new g5(a,l))}function C5(o,a){return o.queries.getByIndex(a)}function Ga(...o){}const Av=new fn("Application Initializer");let el=(()=>{class o{constructor(l){this.appInits=l,this.resolve=Ga,this.reject=Ga,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(o3(m))l.push(m);else if(w8(m)){const y=new Promise((w,S)=>{m.subscribe({complete:w,error:S})});l.push(y)}}Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)(On(Av,8))},o.\u0275prov=Zt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const bv=new fn("AppId",{providedIn:"root",factory:function wv(){return`${T5()}${T5()}${T5()}`}});function T5(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ev=new fn("Platform Initializer"),Qx=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$w=new fn("appBootstrapListener"),Ww=new fn("AnimationModuleType");let Xx=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Zt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const x5=new fn("LocaleId",{providedIn:"root",factory:()=>Qd(x5,Ze.Optional|Ze.SkipSelf)||function Jx(){return typeof $localize<"u"&&$localize.locale||U2}()}),N5=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Kw{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let th=(()=>{class o{compileModuleSync(l){return new f4(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=Oo(ln(l).declarations).reduce((y,w)=>{const S=K(w);return S&&y.push(new Q6(S)),y},[]);return new Kw(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Zt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Yw=(()=>Promise.resolve(0))();function L5(o){typeof Zone>"u"?Yw.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class ei{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ks(!1),this.onMicrotaskEmpty=new Ks(!1),this.onStable=new Ks(!1),this.onError=new Ks(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Jr(){let o=Ft.requestAnimationFrame,a=Ft.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function P5(o){const a=()=>{!function nh(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Ft,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,S4(o),o.isCheckStableRunning=!0,M4(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),S4(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,m,y,w)=>{try{return Iv(o),l.invokeTask(f,m,y,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),Dv(o)}},onInvoke:(l,d,f,m,y,w,S)=>{try{return Iv(o),l.invoke(f,m,y,w,S)}finally{o.shouldCoalesceRunChangeDetection&&a(),Dv(o)}},onHasTask:(l,d,f,m)=>{l.hasTask(f,m),d===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,S4(o),M4(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,f,m)=>(l.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ei.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(ei.isInAngularZone())throw new be(909,!1)}run(a,l,d){return this._inner.run(a,l,d)}runTask(a,l,d,f){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+f,a,Sv,Ga,Ga);try{return m.runTask(y,l,d)}finally{m.cancelTask(y)}}runGuarded(a,l,d){return this._inner.runGuarded(a,l,d)}runOutsideAngular(a){return this._outer.run(a)}}const Sv={};function M4(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function S4(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Iv(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Dv(o){o._nesting--,M4(o)}class Qw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ks,this.onMicrotaskEmpty=new Ks,this.onStable=new Ks,this.onError=new Ks}run(a,l,d){return a.apply(l,d)}runGuarded(a,l,d){return a.apply(l,d)}runOutsideAngular(a){return a()}runTask(a,l,d,f){return a.apply(l,d)}}const Tv=new fn(""),xv=new fn("");let ih,I4=(()=>{class o{constructor(l,d,f){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ih||(function rh(o){ih=o}(f),f.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ei.assertNotInAngularZone(),L5(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())L5(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,f){return[]}}return o.\u0275fac=function(l){return new(l||o)(On(ei),On(O5),On(xv))},o.\u0275prov=Zt({token:o,factory:o.\u0275fac}),o})(),O5=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return ih?.findTestabilityInTree(this,l,d)??null}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Zt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),$a=null;const Nv=new fn("AllowMultipleToken"),z5=new fn("PlatformDestroyListeners");class F5{constructor(a,l){this.name=a,this.token=l}}function sh(o,a,l=[]){const d=`Platform: ${a}`,f=new fn(d);return(m=[])=>{let y=ah();if(!y||y.injector.get(Nv,!1)){const w=[...l,...m,{provide:f,useValue:!0}];o?o(w):function Pv(o){if($a&&!$a.get(Nv,!1))throw new be(400,!1);$a=o;const a=o.get(ch);(function Ov(o){const a=o.get(Ev,null);a&&a.forEach(l=>l())})(o)}(function oh(o=[],a){return Q1.create({name:a,providers:[{provide:Rf,useValue:"platform"},{provide:z5,useValue:new Set([()=>$a=null])},...o]})}(w,d))}return function Xw(o){const a=ah();if(!a)throw new be(401,!1);return a}()}}function ah(){return $a?.get(ch)??null}let ch=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const f=function Vv(o,a){let l;return l="noop"===o?new Qw:("zone.js"===o?void 0:o)||new ei(a),l}(d?.ngZone,function Fv(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:ei,useValue:f}];return f.run(()=>{const y=Q1.create({providers:m,parent:this.injector,name:l.moduleType.name}),w=l.create(y),S=w.injector.get(Po,null);if(!S)throw new be(402,!1);return f.runOutsideAngular(()=>{const I=f.onError.subscribe({next:x=>{S.handleError(x)}});w.onDestroy(()=>{nl(this._modules,w),I.unsubscribe()})}),function Hv(o,a,l){try{const d=l();return o3(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(S,f,()=>{const I=w.injector.get(el);return I.runInitializers(),I.donePromise.then(()=>(function x3(o){Pt(o,"Expected localeId to be defined"),"string"==typeof o&&(wg=o.toLowerCase().replace(/_/g,"-"))}(w.injector.get(x5,U2)||U2),this._moduleDoBootstrap(w),w))})})}bootstrapModule(l,d=[]){const f=T4({},d);return function kv(o,a,l){const d=new f4(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(l){const d=l.injector.get(tl);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new be(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(z5,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(On(Q1))},o.\u0275prov=Zt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function T4(o,a){return Array.isArray(a)?a.reduce(T4,o):{...o,...a}}let tl=(()=>{class o{constructor(l,d,f){this._zone=l,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new ie.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new ie.y(w=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{ei.assertNotInAngularZone(),L5(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{ei.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{S.unsubscribe(),I.unsubscribe()}});this.isStable=(0,de.T)(m,y.pipe((0,Ce.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const f=l instanceof Hm;if(!this._injector.get(el).done)throw!f&&Yt(l),new be(405,false);let y;y=f?l:this._injector.get(b2).resolveComponentFactory(l),this.componentTypes.push(y.componentType);const w=function Lv(o){return o.isBoundToModule}(y)?void 0:this._injector.get($2),I=y.create(Q1.NULL,[],d||y.selector,w),x=I.location.nativeElement,L=I.injector.get(Tv,null);return L?.registerApplication(x),I.onDestroy(()=>{this.detachView(I.hostView),nl(this.components,I),L?.unregisterApplication(x)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;nl(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get($w,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>nl(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new be(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(l){return new(l||o)(On(ei),On(Y1),On(Po))},o.\u0275prov=Zt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function nl(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}let Uv=!0,V5=!1;function rl(){return V5=!0,Uv}function jv(){if(V5)throw new Error("Cannot enable prod mode after platform setup.");Uv=!1}let eE=(()=>{class o{}return o.__NG_ELEMENT_ID__=tE,o})();function tE(o){return function nE(o,a,l){if(Fc(o)&&!l){const d=Qt(o.index,a);return new Yu(d,d)}return 47&o.type?new Yu(a[16],a):null}(rr(),ye(),16==(16&o))}class G5{constructor(){}supports(a){return k2(a)}create(a){return new Yv(a)}}const oE=(o,a)=>a;class Yv{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||oE}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,d=this._removalsHead,f=0,m=null;for(;l||d;){const y=!d||l&&l.currentIndex<dh(d,f,m)?l:d,w=dh(y,f,m),S=y.currentIndex;if(y===d)f--,d=d._nextRemoved;else if(l=l._next,null==y.previousIndex)f++;else{m||(m=[]);const I=w-f,x=S-f;if(I!=x){for(let H=0;H<I;H++){const X=H<m.length?m[H]:m[H]=0,ue=X+H;x<=ue&&ue<I&&(m[H]=X+1)}m[y.previousIndex]=x-I}}w!==S&&a(y,w,S)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!k2(a))throw new be(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,y,l=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)m=a[w],y=this._trackByFn(w,m),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,m,y,w)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,y,w),d=!0),l=l._next}else f=0,function yb(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[Va()]();let d;for(;!(d=l.next()).done;)a(d.value)}}(a,w=>{y=this._trackByFn(f,w),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,w,y,f)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,y,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,d,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,m,f)):a=this._addAfter(new $5(l,d),m,f),a}_verifyReinsertion(a,l,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,l,d),this._addToMoves(a,d),a}_moveAfter(a,l,d){return this._unlink(a),this._insertAfter(a,l,d),this._addToMoves(a,d),a}_addAfter(a,l,d){return this._insertAfter(a,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,d){const f=null===l?this._itHead:l._next;return a._next=f,a._prev=l,null===f?this._itTail=a:f._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new aE),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,d=a._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aE),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class $5{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sl{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const l=a._prevDup,d=a._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class aE{constructor(){this.map=new Map}put(a){const l=a.trackById;let d=this.map.get(l);d||(d=new sl,this.map.set(l,d)),d.add(a)}get(a,l){const f=this.map.get(a);return f?f.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dh(o,a,l){const d=o.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+a+f}class cE{constructor(){}supports(a){return a instanceof Map||e3(a)}create(){return new lE}}class lE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||e3(a)))throw new be(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const d=a._prev;return l._next=a,l._prev=d,a._prev=l,d&&(d._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,l);const m=f._prev,y=f._next;return m&&(m._next=y),y&&(y._prev=m),f._next=null,f._prev=null,f}const d=new lN(a);return this._records.set(a,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(d=>l(a[d],d))}}class lN{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qv(){return new W5([new G5])}let W5=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||Qv()),deps:[[o,new Eo,new Ca]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new be(901,!1)}}return o.\u0275prov=Zt({token:o,providedIn:"root",factory:Qv}),o})();function uE(){return new q5([new cE])}let q5=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||uE()),deps:[[o,new Eo,new Ca]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(d)return d;throw new be(901,!1)}}return o.\u0275prov=Zt({token:o,providedIn:"root",factory:uE}),o})();const dN=sh(null,"core",[]);let Xv=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(On(tl))},o.\u0275mod=$t({type:o}),o.\u0275inj=Dt({}),o})();function fh(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(dt,Me,P)=>{P.d(Me,{Z:()=>be});var h=P(2090),z=P(4859),ie=P(9681),de=P(1877);class Ce{constructor(re,ce){this._delegate=re,this.firebase=ce,(0,ie._addComponent)(re,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this._delegate.automaticDataCollectionEnabled=re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(re=>{this._delegate.checkDestroyed(),re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ie.deleteApp)(this._delegate)))}_getService(re,ce=ie._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const Xe=this._delegate.container.getProvider(re);return!Xe.isInitialized()&&"EXPLICIT"===(null===(et=Xe.getComponent())||void 0===et?void 0:et.instantiationMode)&&Xe.initialize(),Xe.getImmediate({identifier:ce})}_removeServiceInstance(re,ce=ie._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(re).clearInstance(ce)}_addComponent(re){(0,ie._addComponent)(this._delegate,re)}_addOrOverwriteComponent(re){(0,ie._addOrOverwriteComponent)(this._delegate,re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function ke(){const Ke=function Ee(Ke){const re={},ce={__esModule:!0,initializeApp:function De(ee,ne={}){const le=ie.initializeApp(ee,ne);if((0,h.r3)(re,le.name))return re[le.name];const W=new Ke(le,ce);return re[le.name]=W,W},app:Xe,registerVersion:ie.registerVersion,setLogLevel:ie.setLogLevel,onLog:ie.onLog,apps:null,SDK_VERSION:ie.SDK_VERSION,INTERNAL:{registerComponent:function me(ee){const ne=ee.name,le=ne.replace("-compat","");if(ie._registerComponent(ee)&&"PUBLIC"===ee.type){const W=(q=Xe())=>{if("function"!=typeof q[le])throw pe.create("invalid-app-argument",{appName:ne});return q[le]()};void 0!==ee.serviceProps&&(0,h.ZB)(W,ee.serviceProps),ce[le]=W,Ke.prototype[le]=function(...q){return this._getService.bind(this,ne).apply(this,ee.multipleInstances?q:[])}}return"PUBLIC"===ee.type?ce[le]:null},removeApp:function et(ee){delete re[ee]},useAsService:function Ve(ee,ne){return"serverAuth"===ne?null:ne},modularAPIs:ie}};function Xe(ee){if(!(0,h.r3)(re,ee=ee||ie._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:ee});return re[ee]}return ce.default=ce,Object.defineProperty(ce,"apps",{get:function Ae(){return Object.keys(re).map(ee=>re[ee])}}),Xe.App=Ke,ce}(Ce);return Ke.INTERNAL=Object.assign(Object.assign({},Ke.INTERNAL),{createFirebaseNamespace:ke,extendNamespace:function re(ce){(0,h.ZB)(Ke,ce)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Ke}(),U=new de.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ke=self.firebase.SDK_VERSION;Ke&&Ke.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const be=B;!function Pe(Ke){(0,ie.registerVersion)("@firebase/app-compat","0.1.39",Ke)}()},9681:(dt,Me,P)=>{P.r(Me),P.d(Me,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>no,_DEFAULT_ENTRY_NAME:()=>Pt,_addComponent:()=>dn,_addOrOverwriteComponent:()=>Zt,_apps:()=>hn,_clearComponents:()=>xs,_components:()=>er,_getProvider:()=>Dt,_registerComponent:()=>jt,_removeServiceInstance:()=>oi,deleteApp:()=>oa,getApp:()=>bi,getApps:()=>sa,initializeApp:()=>ji,onLog:()=>Lc,registerVersion:()=>wr,setLogLevel:()=>tr});var h=P(5861),z=P(4859),ie=P(1877),de=P(2090),Ce=P(8766);class ve{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(qe=>{if(function pe(Ye){return"VERSION"===Ye.getComponent()?.type}(qe)){const pt=qe.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(qe=>qe).join(" ")}}const Ee="@firebase/app",B=new ie.Yd("@firebase/app"),Pt="[DEFAULT]",Ue={[Ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hn=new Map,er=new Map;function dn(Ye,_e){try{Ye.container.addComponent(_e)}catch(qe){B.debug(`Component ${_e.name} failed to register with FirebaseApp ${Ye.name}`,qe)}}function Zt(Ye,_e){Ye.container.addOrOverwriteComponent(_e)}function jt(Ye){const _e=Ye.name;if(er.has(_e))return B.debug(`There were multiple attempts to register component ${_e}.`),!1;er.set(_e,Ye);for(const qe of hn.values())dn(qe,Ye);return!0}function Dt(Ye,_e){const qe=Ye.container.getProvider("heartbeat").getImmediate({optional:!0});return qe&&qe.triggerHeartbeat(),Ye.container.getProvider(_e)}function oi(Ye,_e,qe=Pt){Dt(Ye,_e).clearInstance(qe)}function xs(){er.clear()}const jn=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class to{constructor(_e,qe,pt){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},qe),this._name=qe.name,this._automaticDataCollectionEnabled=qe.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}const no="9.14.0";function ji(Ye,_e={}){let qe=Ye;"object"!=typeof _e&&(_e={name:_e});const pt=Object.assign({name:Pt,automaticDataCollectionEnabled:!1},_e),Ct=pt.name;if("string"!=typeof Ct||!Ct)throw jn.create("bad-app-name",{appName:String(Ct)});if(qe||(qe=(0,de.aH)()),!qe)throw jn.create("no-options");const $t=hn.get(Ct);if($t){if((0,de.vZ)(qe,$t.options)&&(0,de.vZ)(pt,$t.config))return $t;throw jn.create("duplicate-app",{appName:Ct})}const F=new z.H0(Ct);for(const G of er.values())F.addComponent(G);const O=new to(qe,pt,F);return hn.set(Ct,O),O}function bi(Ye=Pt){const _e=hn.get(Ye);if(!_e&&Ye===Pt)return ji();if(!_e)throw jn.create("no-app",{appName:Ye});return _e}function sa(){return Array.from(hn.values())}function oa(Ye){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,h.Z)(function*(Ye){const _e=Ye.name;hn.has(_e)&&(hn.delete(_e),yield Promise.all(Ye.container.getProviders().map(qe=>qe.delete())),Ye.isDeleted=!0)})).apply(this,arguments)}function wr(Ye,_e,qe){var pt;let Ct=null!==(pt=Ue[Ye])&&void 0!==pt?pt:Ye;qe&&(Ct+=`-${qe}`);const $t=Ct.match(/\s|\//),F=_e.match(/\s|\//);if($t||F){const O=[`Unable to register library "${Ct}" with version "${_e}":`];return $t&&O.push(`library name "${Ct}" contains illegal characters (whitespace or "/")`),$t&&F&&O.push("and"),F&&O.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void B.warn(O.join(" "))}jt(new z.wA(`${Ct}-version`,()=>({library:Ct,version:_e}),"VERSION"))}function Lc(Ye,_e){if(null!==Ye&&"function"!=typeof Ye)throw jn.create("invalid-log-argument");(0,ie.Am)(Ye,_e)}function tr(Ye){(0,ie.Ub)(Ye)}const Ln="firebase-heartbeat-store";let Gn=null;function vn(){return Gn||(Gn=(0,Ce.X3)("firebase-heartbeat-database",1,{upgrade:(Ye,_e)=>{0===_e&&Ye.createObjectStore(Ln)}}).catch(Ye=>{throw jn.create("idb-open",{originalErrorMessage:Ye.message})})),Gn}function lt(){return(lt=(0,h.Z)(function*(Ye){var _e;try{return(yield vn()).transaction(Ln).objectStore(Ln).get(pr(Ye))}catch(qe){if(qe instanceof de.ZR)B.warn(qe.message);else{const pt=jn.create("idb-get",{originalErrorMessage:null===(_e=qe)||void 0===_e?void 0:_e.message});B.warn(pt.message)}}})).apply(this,arguments)}function Ft(Ye,_e){return $i.apply(this,arguments)}function $i(){return($i=(0,h.Z)(function*(Ye,_e){var qe;try{const Ct=(yield vn()).transaction(Ln,"readwrite");return yield Ct.objectStore(Ln).put(_e,pr(Ye)),Ct.done}catch(pt){if(pt instanceof de.ZR)B.warn(pt.message);else{const Ct=jn.create("idb-set",{originalErrorMessage:null===(qe=pt)||void 0===qe?void 0:qe.message});B.warn(Ct.message)}}})).apply(this,arguments)}function pr(Ye){return`${Ye.name}!${Ye.options.appId}`}class wi{constructor(_e){this.container=_e,this._heartbeatsCache=null;const qe=this.container.getProvider("app").getImmediate();this._storage=new Gt(qe),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var _e=this;return(0,h.Z)(function*(){const pt=_e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ct=tn();if(null===_e._heartbeatsCache&&(_e._heartbeatsCache=yield _e._heartbeatsCachePromise),_e._heartbeatsCache.lastSentHeartbeatDate!==Ct&&!_e._heartbeatsCache.heartbeats.some($t=>$t.date===Ct))return _e._heartbeatsCache.heartbeats.push({date:Ct,agent:pt}),_e._heartbeatsCache.heartbeats=_e._heartbeatsCache.heartbeats.filter($t=>{const F=new Date($t.date).valueOf();return Date.now()-F<=2592e6}),_e._storage.overwrite(_e._heartbeatsCache)})()}getHeartbeatsHeader(){var _e=this;return(0,h.Z)(function*(){if(null===_e._heartbeatsCache&&(yield _e._heartbeatsCachePromise),null===_e._heartbeatsCache||0===_e._heartbeatsCache.heartbeats.length)return"";const qe=tn(),{heartbeatsToSend:pt,unsentEntries:Ct}=function ro(Ye,_e=1024){const qe=[];let pt=Ye.slice();for(const Ct of Ye){const $t=qe.find(F=>F.agent===Ct.agent);if($t){if($t.dates.push(Ct.date),kr(qe)>_e){$t.dates.pop();break}}else if(qe.push({agent:Ct.agent,dates:[Ct.date]}),kr(qe)>_e){qe.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:qe,unsentEntries:pt}}(_e._heartbeatsCache.heartbeats),$t=(0,de.L)(JSON.stringify({version:2,heartbeats:pt}));return _e._heartbeatsCache.lastSentHeartbeatDate=qe,Ct.length>0?(_e._heartbeatsCache.heartbeats=Ct,yield _e._storage.overwrite(_e._heartbeatsCache)):(_e._heartbeatsCache.heartbeats=[],_e._storage.overwrite(_e._heartbeatsCache)),$t})()}}function tn(){return(new Date).toISOString().substring(0,10)}class Gt{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _e=this;return(0,h.Z)(function*(){return(yield _e._canUseIndexedDBPromise)&&(yield function ht(Ye){return lt.apply(this,arguments)}(_e.app))||{heartbeats:[]}})()}overwrite(_e){var qe=this;return(0,h.Z)(function*(){var pt;if(yield qe._canUseIndexedDBPromise){const $t=yield qe.read();return Ft(qe.app,{lastSentHeartbeatDate:null!==(pt=_e.lastSentHeartbeatDate)&&void 0!==pt?pt:$t.lastSentHeartbeatDate,heartbeats:_e.heartbeats})}})()}add(_e){var qe=this;return(0,h.Z)(function*(){var pt;if(yield qe._canUseIndexedDBPromise){const $t=yield qe.read();return Ft(qe.app,{lastSentHeartbeatDate:null!==(pt=_e.lastSentHeartbeatDate)&&void 0!==pt?pt:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,..._e.heartbeats]})}})()}}function kr(Ye){return(0,de.L)(JSON.stringify({version:2,heartbeats:Ye})).length}!function ci(Ye){jt(new z.wA("platform-logger",_e=>new ve(_e),"PRIVATE")),jt(new z.wA("heartbeat",_e=>new wi(_e),"PRIVATE")),wr(Ee,"0.8.4",Ye),wr(Ee,"0.8.4","esm2017"),wr("fire-js","")}("")},4859:(dt,Me,P)=>{P.d(Me,{H0:()=>Ee,wA:()=>ie});var h=P(5861),z=P(2090);class ie{constructor(B,U,Y){this.name=B,this.instanceFactory=U,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const de="[DEFAULT]";class Ce{constructor(B,U){this.name=B,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const U=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(U)){const Y=new z.BH;if(this.instancesDeferred.set(U,Y),this.isInitialized(U)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:U});Fe&&Y.resolve(Fe)}catch{}}return this.instancesDeferred.get(U).promise}getImmediate(B){var U;const Y=this.normalizeInstanceIdentifier(B?.identifier),Fe=null!==(U=B?.optional)&&void 0!==U&&U;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Pe){if(Fe)return null;throw Pe}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function pe(ke){return"EAGER"===ke.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[U,Y]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(U);try{const Pe=this.getOrInitializeService({instanceIdentifier:Fe});Y.resolve(Pe)}catch{}}}}clearInstance(B=de){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,h.Z)(function*(){const U=Array.from(B.instances.values());yield Promise.all([...U.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...U.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=de){return this.instances.has(B)}getOptions(B=de){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:U={}}=B,Y=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:Y,options:U});for(const[Pe,be]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Pe)&&be.resolve(Fe);return Fe}onInit(B,U){var Y;const Fe=this.normalizeInstanceIdentifier(U),Pe=null!==(Y=this.onInitCallbacks.get(Fe))&&void 0!==Y?Y:new Set;Pe.add(B),this.onInitCallbacks.set(Fe,Pe);const be=this.instances.get(Fe);return be&&B(be,Fe),()=>{Pe.delete(B)}}invokeOnInitCallbacks(B,U){const Y=this.onInitCallbacks.get(U);if(Y)for(const Fe of Y)try{Fe(B,U)}catch{}}getOrInitializeService({instanceIdentifier:B,options:U={}}){let Y=this.instances.get(B);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(ke=B,ke===de?void 0:ke),options:U}),this.instances.set(B,Y),this.instancesOptions.set(B,U),this.invokeOnInitCallbacks(Y,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,Y)}catch{}var ke;return Y||null}normalizeInstanceIdentifier(B=de){return this.component?this.component.multipleInstances?B:de:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const U=this.getProvider(B.name);if(U.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);U.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const U=new Ce(B,this);return this.providers.set(B,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(dt,Me,P)=>{P.d(Me,{Am:()=>ke,Ub:()=>Ee,Yd:()=>pe,in:()=>z});const h=[];var z=(()=>{return(B=z||(z={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",z;var B})();const ie={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},de=z.INFO,Ce={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},ve=(B,U,...Y)=>{if(U<B.logLevel)return;const Fe=(new Date).toISOString(),Pe=Ce[U];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Pe](`[${Fe}]  ${B.name}:`,...Y)};class pe{constructor(U){this.name=U,this._logLevel=de,this._logHandler=ve,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in z))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?ie[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...U),this._logHandler(this,z.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...U),this._logHandler(this,z.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,z.INFO,...U),this._logHandler(this,z.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,z.WARN,...U),this._logHandler(this,z.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...U),this._logHandler(this,z.ERROR,...U)}}function Ee(B){h.forEach(U=>{U.setLogLevel(B)})}function ke(B,U){for(const Y of h){let Fe=null;U&&U.level&&(Fe=ie[U.level]),Y.userLogHandler=null===B?null:(Pe,be,...Ke)=>{const re=Ke.map(ce=>{if(null==ce)return null;if("string"==typeof ce)return ce;if("number"==typeof ce||"boolean"==typeof ce)return ce.toString();if(ce instanceof Error)return ce.message;try{return JSON.stringify(ce)}catch{return null}}).filter(ce=>ce).join(" ");be>=(Fe??Pe.logLevel)&&B({level:z[be].toLowerCase(),message:re,args:Ke,type:Pe.name})}}}},8766:(dt,Me,P)=>{P.d(Me,{Lj:()=>De,X3:()=>Xe});var h=P(5861);let ie,de;const pe=new WeakMap,Ee=new WeakMap,ke=new WeakMap,B=new WeakMap,U=new WeakMap;let Pe={get(ne,le,W){if(ne instanceof IDBTransaction){if("done"===le)return Ee.get(ne);if("objectStoreNames"===le)return ne.objectStoreNames||ke.get(ne);if("store"===le)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return ce(ne[le])},set:(ne,le,W)=>(ne[le]=W,!0),has:(ne,le)=>ne instanceof IDBTransaction&&("done"===le||"store"===le)||le in ne};function re(ne){return"function"==typeof ne?function Ke(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...le){return ne.apply(et(this),le),ce(pe.get(this))}:function(...le){return ce(ne.apply(et(this),le))}:function(le,...W){const q=ne.call(et(this),le,...W);return ke.set(q,le.sort?le.sort():[le]),ce(q)}}(ne):(ne instanceof IDBTransaction&&function Fe(ne){if(Ee.has(ne))return;const le=new Promise((W,q)=>{const se=()=>{ne.removeEventListener("complete",J),ne.removeEventListener("error",xe),ne.removeEventListener("abort",xe)},J=()=>{W(),se()},xe=()=>{q(ne.error||new DOMException("AbortError","AbortError")),se()};ne.addEventListener("complete",J),ne.addEventListener("error",xe),ne.addEventListener("abort",xe)});Ee.set(ne,le)}(ne),((ne,le)=>le.some(W=>ne instanceof W))(ne,function Ce(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,Pe):ne)}function ce(ne){if(ne instanceof IDBRequest)return function Y(ne){const le=new Promise((W,q)=>{const se=()=>{ne.removeEventListener("success",J),ne.removeEventListener("error",xe)},J=()=>{W(ce(ne.result)),se()},xe=()=>{q(ne.error),se()};ne.addEventListener("success",J),ne.addEventListener("error",xe)});return le.then(W=>{W instanceof IDBCursor&&pe.set(W,ne)}).catch(()=>{}),U.set(le,ne),le}(ne);if(B.has(ne))return B.get(ne);const le=re(ne);return le!==ne&&(B.set(ne,le),U.set(le,ne)),le}const et=ne=>U.get(ne);function Xe(ne,le,{blocked:W,upgrade:q,blocking:se,terminated:J}={}){const xe=indexedDB.open(ne,le),Re=ce(xe);return q&&xe.addEventListener("upgradeneeded",ct=>{q(ce(xe.result),ct.oldVersion,ct.newVersion,ce(xe.transaction))}),W&&xe.addEventListener("blocked",()=>W()),Re.then(ct=>{J&&ct.addEventListener("close",()=>J()),se&&ct.addEventListener("versionchange",()=>se())}).catch(()=>{}),Re}function De(ne,{blocked:le}={}){const W=indexedDB.deleteDatabase(ne);return le&&W.addEventListener("blocked",()=>le()),ce(W).then(()=>{})}const Ae=["get","getKey","getAll","getAllKeys","count"],me=["put","add","delete","clear"],Ve=new Map;function ee(ne,le){if(!(ne instanceof IDBDatabase)||le in ne||"string"!=typeof le)return;if(Ve.get(le))return Ve.get(le);const W=le.replace(/FromIndex$/,""),q=le!==W,se=me.includes(W);if(!(W in(q?IDBIndex:IDBObjectStore).prototype)||!se&&!Ae.includes(W))return;const J=function(){var xe=(0,h.Z)(function*(Re,...ct){const Kt=this.transaction(Re,se?"readwrite":"readonly");let Pt=Kt.store;return q&&(Pt=Pt.index(ct.shift())),(yield Promise.all([Pt[W](...ct),se&&Kt.done]))[0]});return function(ct){return xe.apply(this,arguments)}}();return Ve.set(le,J),J}!function be(ne){Pe=ne(Pe)}(ne=>({...ne,get:(le,W,q)=>ee(le,W)||ne.get(le,W,q),has:(le,W)=>!!ee(le,W)||ne.has(le,W)}))},5861:(dt,Me,P)=>{function h(ie,de,Ce,ve,pe,Ee,ke){try{var B=ie[Ee](ke),U=B.value}catch(Y){return void Ce(Y)}B.done?de(U):Promise.resolve(U).then(ve,pe)}function z(ie){return function(){var de=this,Ce=arguments;return new Promise(function(ve,pe){var Ee=ie.apply(de,Ce);function ke(U){h(Ee,ve,pe,ke,B,"next",U)}function B(U){h(Ee,ve,pe,ke,B,"throw",U)}ke(void 0)})}}P.d(Me,{Z:()=>z})}},dt=>{dt(dt.s=2143)}]);