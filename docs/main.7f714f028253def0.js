"use strict";(self.webpackChunklandding_page=self.webpackChunklandding_page||[]).push([[179],{2011:(dt,Me,P)=>{P.d(Me,{Dh:()=>pe,GT:()=>Ce,cc:()=>Fe,on:()=>ke,pX:()=>de,xv:()=>Ee});var u=P(4650),z=P(127);dt=P.hmd(dt);const ie=["ngOnDestroy"],de=(re,ce,et,Xe={})=>new Proxy(re,{get:(Se,Ae)=>et.runOutsideAngular(()=>{var me;if(re[Ae])return!(null===(me=Xe?.spy)||void 0===me)&&me.get&&Xe.spy.get(Ae,re[Ae]),re[Ae];if(ie.indexOf(Ae)>-1)return()=>{};const Ve=ce.toPromise().then(ee=>{const ne=ee&&ee[Ae];return"function"==typeof ne?ne.bind(ee):ne&&ne.then?ne.then(le=>et.run(()=>le)):et.run(()=>ne)});return new Proxy(()=>{},{get:(ee,ne)=>Ve[ne],apply:(ee,ne,le)=>Ve.then(W=>{var q;const se=W&&W(...le);return!(null===(q=Xe?.spy)||void 0===q)&&q.apply&&Xe.spy.apply(Ae,le,se),se})})})}),Ce=(re,ce)=>{ce.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(Xe=>{Object.defineProperty(re.prototype,Xe,Object.getOwnPropertyDescriptor(et.prototype||et,Xe))})})};class ve{constructor(ce){return ce}}const pe=new u.OlP("angularfire2.app.options"),Ee=new u.OlP("angularfire2.app.name");function ke(re,ce,et){const Se="object"==typeof et&&et||{};Se.name=Se.name||"string"==typeof et&&et||"[DEFAULT]";const me=z.Z.apps.filter(Ve=>Ve&&Ve.name===Se.name)[0]||ce.runOutsideAngular(()=>z.Z.initializeApp(re,Se));try{JSON.stringify(re)!==JSON.stringify(me.options)&&B("error",`${me.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ve(me)}const B=(re,...ce)=>{(0,u.X6Q)()&&typeof console<"u"&&console[re](...ce)};function Fe(re,ce,et,Xe,Se){const[,Ae,me]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===re)||[];if(Ae)return function Pe(re,ce){try{return re.toString()===ce.toString()}catch{return re===ce}}(Se,me)||(Ze("error",`${ce} was already initialized on the ${et} Firebase App with different settings.${be?" You may need to reload as Firebase is not HMR aware.":""}`),Ze("warn",{is:Se,was:me})),Ae;{const Ve=Xe();return globalThis.\u0275AngularfireInstanceCache.push([re,Ve,Se]),Ve}}const be=!!dt.hot,Ze=(re,...ce)=>{(0,u.X6Q)()&&typeof console<"u"&&console[re](...ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8247:(dt,Me,P)=>{P.d(Me,{$:()=>b1,A:()=>U,B:()=>Pe,G:()=>co,H:()=>ui,J:()=>cs,L:()=>F,M:()=>R0,N:()=>L0,P:()=>J0,Q:()=>Bl,R:()=>dm,T:()=>Ul,U:()=>vo,V:()=>_o,W:()=>xd,X:()=>om,Y:()=>C1,Z:()=>Et,_:()=>am,a:()=>Os,a0:()=>Pd,a1:()=>ir,a2:()=>Zc,a3:()=>ql,a4:()=>Od,a5:()=>cm,a6:()=>Wn,a7:()=>Ki,a8:()=>E1,a9:()=>Ps,aA:()=>O,aB:()=>p2,aC:()=>F1,aD:()=>e6,aE:()=>ot,aI:()=>va,aL:()=>fa,aa:()=>lm,ab:()=>Kl,ac:()=>Ql,af:()=>Vd,ag:()=>Hd,ah:()=>B0,ak:()=>y1,al:()=>jd,an:()=>Gd,ao:()=>su,ap:()=>le,aq:()=>He,ar:()=>un,as:()=>Xe,at:()=>U1,au:()=>Sa,av:()=>Bt,aw:()=>Se,ax:()=>ee,ay:()=>Ma,az:()=>q,b:()=>Ao,c:()=>h2,d:()=>tf,e:()=>fm,f:()=>t6,g:()=>pm,h:()=>nf,i:()=>c2,j:()=>i6,k:()=>Yr,l:()=>Ir,m:()=>Us,n:()=>j1,o:()=>Ee,r:()=>Zn,s:()=>yn,u:()=>Zr});var u=P(5861),z=P(2090),ie=P(9681),de=P(1877),Ce=P(655),ve=P(4859);const Ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},U={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function Y(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},be=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ze=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ce=new de.Yd("@firebase/auth");function et(C,...g){ce.logLevel<=de.in.ERROR&&ce.error(`Auth (${ie.SDK_VERSION}): ${C}`,...g)}function Xe(C,...g){throw Ve(C,...g)}function Se(C,...g){return Ve(C,...g)}function Ae(C,g,_){const E=Object.assign(Object.assign({},be()),{[g]:_});return new z.LL("auth","Firebase",E).create(g,{appName:C.name})}function me(C,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Xe(C,"argument-error"),Ae(C,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(C,...g){if("string"!=typeof C){const _=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=C.name),C._errorFactory.create(_,...E)}return Ze.create(C,...g)}function ee(C,g,..._){if(!C)throw Ve(g,..._)}function ne(C){const g="INTERNAL ASSERTION FAILED: "+C;throw et(g),new Error(g)}function le(C,g){C||ne(g)}const W=new Map;function q(C){le(C instanceof Function,"Expected a class definition");let g=W.get(C);return g?(le(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,W.set(C,g),g)}function De(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Re(){return"http:"===ct()||"https:"===ct()}function ct(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Ue{constructor(g,_){this.shortDelay=g,this.longDelay=_,le(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function Zt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Re()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hn(C,g){le(C.emulator,"Emulator should always be set here");const{url:_}=C.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class tr{static initialize(g,_,E){this.fetchImpl=g,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Kt=new Ue(3e4,6e4);function jt(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function Tt(C,g,_,E){return ai.apply(this,arguments)}function ai(){return(ai=(0,u.Z)(function*(C,g,_,E,x={}){return ks(C,x,(0,u.Z)(function*(){let k={},Q={};E&&("GET"===g?Q=E:k={body:JSON.stringify(E)});const he=(0,z.xO)(Object.assign({key:C.config.apiKey},Q)).slice(1),We=yield C._getAdditionalHeaders();return We["Content-Type"]="application/json",C.languageCode&&(We["X-Firebase-Locale"]=C.languageCode),tr.fetch()(io(C,C.config.apiHost,_,he),Object.assign({method:g,headers:We,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function ks(C,g,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(C,g,_){C._canInitEmulator=!1;const E=Object.assign(Object.assign({},dn),g);try{const x=new Gi(C),k=yield Promise.race([_(),x.promise]);x.clearNetworkTimeout();const Q=yield k.json();if("needConfirmation"in Q)throw wi(C,"account-exists-with-different-credential",Q);if(k.ok&&!("errorMessage"in Q))return Q;{const he=k.ok?Q.errorMessage:Q.error.message,[We,st]=he.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===We)throw wi(C,"credential-already-in-use",Q);if("EMAIL_EXISTS"===We)throw wi(C,"email-already-in-use",Q);if("USER_DISABLED"===We)throw wi(C,"user-disabled",Q);const vt=E[We]||We.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw Ae(C,vt,st);Xe(C,vt)}}catch(x){if(x instanceof z.ZR)throw x;Xe(C,"network-request-failed")}})).apply(this,arguments)}function jn(C,g,_,E){return ro.apply(this,arguments)}function ro(){return(ro=(0,u.Z)(function*(C,g,_,E,x={}){const k=yield Tt(C,g,_,E,x);return"mfaPendingCredential"in k&&Xe(C,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function io(C,g,_,E){const x=`${g}${_}?${E}`;return C.config.emulator?hn(C.config,x):`${C.config.apiScheme}://${x}`}class Gi{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(Se(this.auth,"network-request-failed")),Kt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wi(C,g,_){const E={appName:C.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const x=Se(C,g,E);return x.customData._tokenResponse=_,x}function la(){return(la=(0,u.Z)(function*(C,g){return Tt(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Ke(C,g){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,u.Z)(function*(C,g){return Tt(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Oc(C,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,u.Z)(function*(C,g){return Tt(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function $i(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Gn(){return(Gn=(0,u.Z)(function*(C,g=!1){const _=(0,z.m9)(C),E=yield _.getIdToken(g),x=ht(E);ee(x&&x.exp&&x.auth_time&&x.iat,_.auth,"internal-error");const k="object"==typeof x.firebase?x.firebase:void 0,Q=k?.sign_in_provider;return{claims:x,token:E,authTime:$i(vn(x.auth_time)),issuedAtTime:$i(vn(x.iat)),expirationTime:$i(vn(x.exp)),signInProvider:Q||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function vn(C){return 1e3*Number(C)}function ht(C){var g;const[_,E,x]=C.split(".");if(void 0===_||void 0===E||void 0===x)return et("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,z.tV)(E);return k?JSON.parse(k):(et("Failed to decode base64 JWT payload"),null)}catch(k){return et("Caught error parsing JWT payload as JSON",null===(g=k)||void 0===g?void 0:g.toString()),null}}function Ft(C,g){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,u.Z)(function*(C,g,_=!1){if(_)return g;try{return yield g}catch(E){throw E instanceof z.ZR&&gr(E)&&C.auth.currentUser===C&&(yield C.auth.signOut()),E}})).apply(this,arguments)}function gr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class ci{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const x=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),E)}iteration(){var g=this;return(0,u.Z)(function*(){var _;try{yield g.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(_=E)||void 0===_?void 0:_.code)&&g.schedule(!0))}g.schedule()})()}}class wt{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=$i(this.lastLoginAt),this.creationTime=$i(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ei(C){return tn.apply(this,arguments)}function tn(){return(tn=(0,u.Z)(function*(C){var g;const _=C.auth,E=yield C.getIdToken(),x=yield Ft(C,Oc(_,{idToken:E}));ee(x?.users.length,_,"internal-error");const k=x.users[0];C._notifyReloadListener(k);const Q=null!==(g=k.providerUserInfo)&&void 0!==g&&g.length?li(k.providerUserInfo):[],he=kr(C.providerData,Q),vt=!!C.isAnonymous&&!(C.email&&k.passwordHash||he?.length),mn={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:he,metadata:new wt(k.createdAt,k.lastLoginAt),isAnonymous:vt};Object.assign(C,mn)})).apply(this,arguments)}function Gt(){return(Gt=(0,u.Z)(function*(C){const g=(0,z.m9)(C);yield Ei(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function kr(C,g){return[...C.filter(E=>!g.some(x=>x.providerId===E.providerId)),...g]}function li(C){return C.map(g=>{var{providerId:_}=g,E=(0,Ce._T)(g,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function _e(){return(_e=(0,u.Z)(function*(C,g){const _=yield ks(C,{},(0,u.Z)(function*(){const E=(0,z.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:x,apiKey:k}=C.config,Q=io(C,x,"/v1/token",`key=${k}`),he=yield C._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",tr.fetch()(Q,{method:"POST",headers:he,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class qe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ee(g.idToken,"internal-error"),ee(typeof g.idToken<"u","internal-error"),ee(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function lt(C){const g=ht(C);return ee(g,"internal-error"),ee(typeof g.exp<"u","internal-error"),ee(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var E=this;return(0,u.Z)(function*(){return ee(!E.accessToken||E.refreshToken,g,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var E=this;return(0,u.Z)(function*(){const{accessToken:x,refreshToken:k,expiresIn:Q}=yield function Ye(C,g){return _e.apply(this,arguments)}(g,_);E.updateTokensAndExpiration(x,k,Number(Q))})()}updateTokensAndExpiration(g,_,E){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,_){const{refreshToken:E,accessToken:x,expirationTime:k}=_,Q=new qe;return E&&(ee("string"==typeof E,"internal-error",{appName:g}),Q.refreshToken=E),x&&(ee("string"==typeof x,"internal-error",{appName:g}),Q.accessToken=x),k&&(ee("number"==typeof k,"internal-error",{appName:g}),Q.expirationTime=k),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new qe,this.toJSON())}_performRefresh(){return ne("not implemented")}}function pt(C,g){ee("string"==typeof C||typeof C>"u","internal-error",{appName:g})}class Ct{constructor(g){var{uid:_,auth:E,stsTokenManager:x}=g,k=(0,Ce._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ci(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new wt(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,u.Z)(function*(){const E=yield Ft(_,_.stsTokenManager.getToken(_.auth,g));return ee(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(g){return function Ln(C){return Gn.apply(this,arguments)}(this,g)}reload(){return function so(C){return Gt.apply(this,arguments)}(this)}_assign(g){this!==g&&(ee(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Ct(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var E=this;return(0,u.Z)(function*(){let x=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),x=!0),_&&(yield Ei(E)),yield E.auth._persistUserIfCurrent(E),x&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,u.Z)(function*(){const _=yield g.getIdToken();return yield Ft(g,function ca(C,g){return la.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var E,x,k,Q,he,We,st,vt;const mn=null!==(E=_.displayName)&&void 0!==E?E:void 0,xi=null!==(x=_.email)&&void 0!==x?x:void 0,fs=null!==(k=_.phoneNumber)&&void 0!==k?k:void 0,G1=null!==(Q=_.photoURL)&&void 0!==Q?Q:void 0,Fn=null!==(he=_.tenantId)&&void 0!==he?he:void 0,es=null!==(We=_._redirectEventId)&&void 0!==We?We:void 0,$1=null!==(st=_.createdAt)&&void 0!==st?st:void 0,f6=null!==(vt=_.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Ro,emailVerified:yu,isAnonymous:Cu,providerData:W1,stsTokenManager:q1}=_;ee(Ro&&q1,g,"internal-error");const p6=qe.fromJSON(this.name,q1);ee("string"==typeof Ro,g,"internal-error"),pt(mn,g.name),pt(xi,g.name),ee("boolean"==typeof yu,g,"internal-error"),ee("boolean"==typeof Cu,g,"internal-error"),pt(fs,g.name),pt(G1,g.name),pt(Fn,g.name),pt(es,g.name),pt($1,g.name),pt(f6,g.name);const Au=new Ct({uid:Ro,auth:g,email:xi,emailVerified:yu,displayName:mn,isAnonymous:Cu,photoURL:G1,phoneNumber:fs,tenantId:Fn,stsTokenManager:p6,createdAt:$1,lastLoginAt:f6});return W1&&Array.isArray(W1)&&(Au.providerData=W1.map(Lo=>Object.assign({},Lo))),es&&(Au._redirectEventId=es),Au}static _fromIdTokenResponse(g,_,E=!1){return(0,u.Z)(function*(){const x=new qe;x.updateFromServerResponse(_);const k=new Ct({uid:_.localId,auth:g,stsTokenManager:x,isAnonymous:E});return yield Ei(k),k})()}}const F=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,E){var x=this;return(0,u.Z)(function*(){x.storage[_]=E})()}_get(_){var E=this;return(0,u.Z)(function*(){const x=E.storage[_];return void 0===x?null:x})()}_remove(_){var E=this;return(0,u.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return C.type="NONE",C})();function O(C,g,_){return`firebase:${C}:${g}:${_}`}class G{constructor(g,_,E){this.persistence=g,this.auth=_,this.userKey=E;const{config:x,name:k}=this.auth;this.fullUserKey=O(this.userKey,x.apiKey,k),this.fullPersistenceKey=O("persistence",x.apiKey,k),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,u.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?Ct._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,u.Z)(function*(){if(_.persistence===g)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,E="authUser"){return(0,u.Z)(function*(){if(!_.length)return new G(q(F),g,E);const x=(yield Promise.all(_.map(function(){var st=(0,u.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return st.apply(this,arguments)}}()))).filter(st=>st);let k=x[0]||q(F);const Q=O(E,g.config.apiKey,g.name);let he=null;for(const st of _)try{const vt=yield st._get(Q);if(vt){const mn=Ct._fromJSON(g,vt);st!==k&&(he=mn),k=st;break}}catch{}const We=x.filter(st=>st._shouldAllowMigration);return k._shouldAllowMigration&&We.length?(k=We[0],he&&(yield k._set(Q,he.toJSON())),yield Promise.all(_.map(function(){var st=(0,u.Z)(function*(vt){if(vt!==k)try{yield vt._remove(Q)}catch{}});return function(vt){return st.apply(this,arguments)}}())),new G(k,g,E)):new G(k,g,E)})()}}function ge(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Yt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(K(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(an(g))return"Blackberry";if(ze(g))return"Webos";if(je(g))return"Safari";if((g.includes("chrome/")||ut(g))&&!g.includes("edge/"))return"Chrome";if(un(g))return"Android";{const E=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function K(C=(0,z.z$)()){return/firefox\//i.test(C)}function je(C=(0,z.z$)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ut(C=(0,z.z$)()){return/crios\//i.test(C)}function Yt(C=(0,z.z$)()){return/iemobile/i.test(C)}function un(C=(0,z.z$)()){return/android/i.test(C)}function an(C=(0,z.z$)()){return/blackberry/i.test(C)}function ze(C=(0,z.z$)()){return/webos/i.test(C)}function He(C=(0,z.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Bt(C=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Pn(C=(0,z.z$)()){return He(C)||un(C)||ze(C)||an(C)||/windows phone/i.test(C)||Yt(C)}function _n(C,g=[]){let _;switch(C){case"Browser":_=ge((0,z.z$)());break;case"Worker":_=`${ge((0,z.z$)())}-${C}`;break;default:_=C}const E=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${ie.SDK_VERSION}/${E}`}class f1{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const E=k=>new Promise((Q,he)=>{try{Q(g(k))}catch(We){he(We)}});E.onAbort=_,this.queue.push(E);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,u.Z)(function*(){var E;if(_.auth.currentUser===g)return;const x=[];try{for(const k of _.queue)yield k(g),k.onAbort&&x.push(k.onAbort)}catch(k){x.reverse();for(const Q of x)try{Q()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=k)||void 0===E?void 0:E.message})}})()}}class p1{constructor(g,_,E){this.app=g,this.heartbeatServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ao(this),this.idTokenSubscription=new ao(this),this.beforeStateQueue=new f1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ze,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,_){var E=this;return _&&(this._popupRedirectResolver=q(_)),this._initializationPromise=this.queue((0,u.Z)(function*(){var x,k;if(!E._deleted&&(E.persistenceManager=yield G.create(E,g),!E._deleted)){if(null!==(x=E._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(k=E.currentUser)||void 0===k?void 0:k.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,u.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,u.Z)(function*(){var E;const x=yield _.assertedPersistence.getCurrentUser();let k=x,Q=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const he=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,We=k?._redirectEventId,st=yield _.tryRedirectSignIn(g);(!he||he===We)&&st?.user&&(k=st.user,Q=!0)}if(!k)return _.directlySetCurrentUser(null);if(!k._redirectEventId){if(Q)try{yield _.beforeStateQueue.runMiddleware(k)}catch(he){k=x,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(he))}return k?_.reloadAndSetCurrentUserOrClear(k):_.directlySetCurrentUser(null)}return ee(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===k._redirectEventId?_.directlySetCurrentUser(k):_.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(g){var _=this;return(0,u.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,u.Z)(function*(){var E;try{yield Ei(g)}catch(x){if("auth/network-request-failed"!==(null===(E=x)||void 0===E?void 0:E.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Pt(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,u.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,u.Z)(function*(){const E=g?(0,z.m9)(g):null;return E&&ee(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(g,_=!1){var E=this;return(0,u.Z)(function*(){if(!E._deleted)return g&&ee(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,u.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,u.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,u.Z)(function*(){yield _.assertedPersistence.setPersistence(q(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new z.LL("auth","Firebase",g())}onAuthStateChanged(g,_,E){return this.registerStateListener(this.authStateSubscription,g,_,E)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,E){return this.registerStateListener(this.idTokenSubscription,g,_,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var E=this;return(0,u.Z)(function*(){const x=yield E.getOrInitRedirectPersistenceManager(_);return null===g?x.removeCurrentUser():x.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,u.Z)(function*(){if(!_.redirectPersistenceManager){const E=g&&q(g)||_._popupRedirectResolver;ee(E,_,"argument-error"),_.redirectPersistenceManager=yield G.create(_,[q(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,u.Z)(function*(){var E,x;return _._isInitialized&&(yield _.queue((0,u.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===g?_._currentUser:(null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,u.Z)(function*(){if(g===_.currentUser)return _.queue((0,u.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,E,x){if(this._deleted)return()=>{};const k="function"==typeof _?_:_.next.bind(_),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(Q,this,"internal-error"),Q.then(()=>k(this.currentUser)),"function"==typeof _?g.addObserver(_,E,x):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,u.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=_n(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,u.Z)(function*(){var _;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const x=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return x&&(E["X-Firebase-Client"]=x),E})()}}function ot(C){return(0,z.m9)(C)}class ao{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,z.ne)(_=>this.observer=_)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function co(C,g,_){const E=ot(C);ee(E._canInitEmulator,E,"emulator-config-failed"),ee(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const x=!!_?.disableWarnings,k=zc(g),{host:Q,port:he}=function lo(C){const g=zc(C),_=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(E);if(x){const k=x[1];return{host:k,port:$n(E.substr(k.length+1))}}{const[k,Q]=E.split(":");return{host:k,port:$n(Q)}}}(g);E.config.emulator={url:`${k}//${Q}${null===he?"":`:${he}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Q,port:he,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function uo(){function C(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function zc(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function $n(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class ui{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return ne("not implemented")}_getIdTokenResponse(g){return ne("not implemented")}_linkToIdToken(g,_){return ne("not implemented")}_getReauthenticationResolver(g){return ne("not implemented")}}function hi(C,g){return ho.apply(this,arguments)}function ho(){return(ho=(0,u.Z)(function*(C,g){return Tt(C,"POST","/v1/accounts:resetPassword",jt(C,g))})).apply(this,arguments)}function Fc(C,g){return nn.apply(this,arguments)}function nn(){return(nn=(0,u.Z)(function*(C,g){return Tt(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Id(C,g){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,u.Z)(function*(C,g){return Tt(C,"POST","/v1/accounts:update",jt(C,g))})).apply(this,arguments)}function g1(){return(g1=(0,u.Z)(function*(C,g){return jn(C,"POST","/v1/accounts:signInWithPassword",jt(C,g))})).apply(this,arguments)}function Rr(C,g){return fo.apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(C,g){return Tt(C,"POST","/v1/accounts:sendOobCode",jt(C,g))})).apply(this,arguments)}function po(C,g){return rn.apply(this,arguments)}function rn(){return(rn=(0,u.Z)(function*(C,g){return Rr(C,g)})).apply(this,arguments)}function Td(C,g){return ur.apply(this,arguments)}function ur(){return(ur=(0,u.Z)(function*(C,g){return Rr(C,g)})).apply(this,arguments)}function Wr(C,g){return mo.apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(C,g){return Rr(C,g)})).apply(this,arguments)}function Hc(C,g){return ua.apply(this,arguments)}function ua(){return(ua=(0,u.Z)(function*(C,g){return Rr(C,g)})).apply(this,arguments)}function Bc(){return(Bc=(0,u.Z)(function*(C,g){return jn(C,"POST","/v1/accounts:signInWithEmailLink",jt(C,g))})).apply(this,arguments)}function Uc(){return(Uc=(0,u.Z)(function*(C,g){return jn(C,"POST","/v1/accounts:signInWithEmailLink",jt(C,g))})).apply(this,arguments)}class v1 extends ui{constructor(g,_,E,x=null){super("password",E),this._email=g,this._password=_,this._tenantId=x}static _fromEmailAndPassword(g,_){return new v1(g,_,"password")}static _fromEmailAndCode(g,_,E=null){return new v1(g,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,u.Z)(function*(){switch(_.signInMethod){case"password":return function m1(C,g){return g1.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function qi(C,g){return Bc.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Xe(g,"internal-error")}})()}_linkToIdToken(g,_){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return Fc(g,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function J7(C,g){return Uc.apply(this,arguments)}(g,{idToken:_,email:E._email,oobCode:E._password});default:Xe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function go(C,g){return di.apply(this,arguments)}function di(){return(di=(0,u.Z)(function*(C,g){return jn(C,"POST","/v1/accounts:signInWithIdp",jt(C,g))})).apply(this,arguments)}class cs extends ui{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new cs(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Xe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:x}=_,k=(0,Ce._T)(_,["providerId","signInMethod"]);if(!E||!x)return null;const Q=new cs(E,x);return Q.idToken=k.idToken||void 0,Q.accessToken=k.accessToken||void 0,Q.secret=k.secret,Q.nonce=k.nonce,Q.pendingToken=k.pendingToken||null,Q}_getIdTokenResponse(g){return go(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,go(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,go(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,z.xO)(_)}return g}}function tm(C,g){return T0.apply(this,arguments)}function T0(){return(T0=(0,u.Z)(function*(C,g){return Tt(C,"POST","/v1/accounts:sendVerificationCode",jt(C,g))})).apply(this,arguments)}function x0(){return(x0=(0,u.Z)(function*(C,g){return jn(C,"POST","/v1/accounts:signInWithPhoneNumber",jt(C,g))})).apply(this,arguments)}function D0(){return(D0=(0,u.Z)(function*(C,g){const _=yield jn(C,"POST","/v1/accounts:signInWithPhoneNumber",jt(C,g));if(_.temporaryProof)throw wi(C,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const im={USER_NOT_FOUND:"user-not-found"};function N0(){return(N0=(0,u.Z)(function*(C,g){return jn(C,"POST","/v1/accounts:signInWithPhoneNumber",jt(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),im)})).apply(this,arguments)}class ha extends ui{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new ha({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new ha({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function nm(C,g){return x0.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function rm(C,g){return D0.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function sm(C,g){return N0.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:E,verificationCode:x}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:E,code:x}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:E,phoneNumber:x,temporaryProof:k}=g;return E||_||x||k?new ha({verificationId:_,verificationCode:E,phoneNumber:x,temporaryProof:k}):null}}class jc{constructor(g){var _,E,x,k,Q,he;const We=(0,z.zd)((0,z.pd)(g)),st=null!==(_=We.apiKey)&&void 0!==_?_:null,vt=null!==(E=We.oobCode)&&void 0!==E?E:null,mn=function k0(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=We.mode)&&void 0!==x?x:null);ee(st&&vt&&mn,"argument-error"),this.apiKey=st,this.operation=mn,this.code=vt,this.continueUrl=null!==(k=We.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(Q=We.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(he=We.tenantId)&&void 0!==he?he:null}static parseLink(g){const _=function Hl(C){const g=(0,z.zd)((0,z.pd)(C)).link,_=g?(0,z.zd)((0,z.pd)(g)).deep_link_id:null,E=(0,z.zd)((0,z.pd)(C)).deep_link_id;return(E?(0,z.zd)((0,z.pd)(E)).link:null)||E||_||g||C}(g);try{return new jc(_)}catch{return null}}}let R0=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(_,E){return v1._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const x=jc.parseLink(E);return ee(x,"argument-error"),v1._fromEmailAndCode(_,x.code,x.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class vr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class da extends vr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class vo extends da{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return ee("providerId"in _&&"signInMethod"in _,"argument-error"),cs._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ee(g.idToken||g.accessToken,"argument-error"),cs._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return vo.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return vo.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:x,pendingToken:k,nonce:Q,providerId:he}=g;if(!E&&!x&&!_&&!k||!he)return null;try{return new vo(he)._credential({idToken:_,accessToken:E,nonce:Q,pendingToken:k})}catch{return null}}}let L0=(()=>{class C extends da{constructor(){super("facebook.com")}static credential(_){return cs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Bl=(()=>{class C extends da{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return cs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:x}=_;if(!E&&!x)return null;try{return C.credential(E,x)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ul=(()=>{class C extends da{constructor(){super("github.com")}static credential(_){return cs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class fa extends ui{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return go(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,go(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,go(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:x,pendingToken:k}=_;return E&&x&&k&&E===x?new fa(E,k):null}static _create(g,_){return new fa(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _o extends vr{constructor(g){ee(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return _o.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return _o.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=fa.fromJSON(g);return ee(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:E}=g;if(!_||!E)return null;try{return fa._create(E,_)}catch{return null}}}let xd=(()=>{class C extends da{constructor(){super("twitter.com")}static credential(_,E){return cs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:x}=_;if(!E||!x)return null;try{return C.credential(E,x)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function qr(C,g){return _1.apply(this,arguments)}function _1(){return(_1=(0,u.Z)(function*(C,g){return jn(C,"POST","/v1/accounts:signUp",jt(C,g))})).apply(this,arguments)}class fi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,E,x=!1){return(0,u.Z)(function*(){const k=yield Ct._fromIdTokenResponse(g,E,x),Q=Gc(E);return new fi({user:k,providerId:Q,_tokenResponse:E,operationType:_})})()}static _forOperation(g,_,E){return(0,u.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const x=Gc(E);return new fi({user:g,providerId:x,_tokenResponse:E,operationType:_})})()}}function Gc(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function om(C){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,u.Z)(function*(C){var g;const _=ot(C);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new fi({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield qr(_,{returnSecureToken:!0}),x=yield fi._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(x.user),x})).apply(this,arguments)}class Sn extends z.ZR{constructor(g,_,E,x){var k;super(_.code,_.message),this.operationType=E,this.user=x,Object.setPrototypeOf(this,Sn.prototype),this.customData={appName:g.name,tenantId:null!==(k=g.tenantId)&&void 0!==k?k:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,_,E,x){return new Sn(g,_,E,x)}}function z0(C,g,_,E){return("reauthenticate"===g?_._getReauthenticationResolver(C):_._getIdTokenResponse(C)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Sn._fromErrorAndOperation(C,k,g,E):k})}function Nd(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function y1(C,g){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,u.Z)(function*(C,g){const _=(0,z.m9)(C);yield Rs(!0,_,g);const{providerUserInfo:E}=yield Ke(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),x=Nd(E||[]);return _.providerData=_.providerData.filter(k=>x.has(k.providerId)),x.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function F0(C,g){return pa.apply(this,arguments)}function pa(){return(pa=(0,u.Z)(function*(C,g,_=!1){const E=yield Ft(C,g._linkToIdToken(C.auth,yield C.getIdToken()),_);return fi._forOperation(C,"link",E)})).apply(this,arguments)}function Rs(C,g,_){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,u.Z)(function*(C,g,_){yield Ei(g);const x=!1===C?"provider-already-linked":"no-such-provider";ee(Nd(g.providerData).has(_)===C,g.auth,x)})).apply(this,arguments)}function kd(C,g){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,u.Z)(function*(C,g,_=!1){var E;const{auth:x}=C,k="reauthenticate";try{const Q=yield Ft(C,z0(x,k,g,C),_);ee(Q.idToken,x,"internal-error");const he=ht(Q.idToken);ee(he,x,"internal-error");const{sub:We}=he;return ee(C.uid===We,x,"user-mismatch"),fi._forOperation(C,k,Q)}catch(Q){throw"auth/user-not-found"===(null===(E=Q)||void 0===E?void 0:E.code)&&Xe(x,"user-mismatch"),Q}})).apply(this,arguments)}function Rd(C,g){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,u.Z)(function*(C,g,_=!1){const E="signIn",x=yield z0(C,E,g),k=yield fi._fromIdTokenResponse(C,E,x);return _||(yield C._updateCurrentUser(k.user)),k})).apply(this,arguments)}function C1(C,g){return A1.apply(this,arguments)}function A1(){return(A1=(0,u.Z)(function*(C,g){return Rd(ot(C),g)})).apply(this,arguments)}function Et(C,g){return jl.apply(this,arguments)}function jl(){return(jl=(0,u.Z)(function*(C,g){const _=(0,z.m9)(C);return yield Rs(!1,_,g.providerId),F0(_,g)})).apply(this,arguments)}function am(C,g){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,u.Z)(function*(C,g){return kd((0,z.m9)(C),g)})).apply(this,arguments)}function Ld(C,g){return $l.apply(this,arguments)}function $l(){return($l=(0,u.Z)(function*(C,g){return jn(C,"POST","/v1/accounts:signInWithCustomToken",jt(C,g))})).apply(this,arguments)}function b1(C,g){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,u.Z)(function*(C,g){const _=ot(C),E=yield Ld(_,{token:g,returnSecureToken:!0}),x=yield fi._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(x.user),x})).apply(this,arguments)}class $c{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?ye._fromServerResponse(g,_):Xe(g,"internal-error")}}class ye extends $c{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new ye(_)}}function Lt(C,g,_){var E;ee((null===(E=_.url)||void 0===E?void 0:E.length)>0,C,"invalid-continue-uri"),ee(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ee(_.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(ee(_.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Pd(C,g,_){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,u.Z)(function*(C,g,_){const E=(0,z.m9)(C),x={requestType:"PASSWORD_RESET",email:g};_&&Lt(E,x,_),yield Td(E,x)})).apply(this,arguments)}function ir(C,g,_){return qc.apply(this,arguments)}function qc(){return(qc=(0,u.Z)(function*(C,g,_){yield hi((0,z.m9)(C),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Zc(C,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,u.Z)(function*(C,g){yield Id((0,z.m9)(C),{oobCode:g})})).apply(this,arguments)}function ql(C,g){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,u.Z)(function*(C,g){const _=(0,z.m9)(C),E=yield hi(_,{oobCode:g}),x=E.requestType;switch(ee(x,_,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(E.mfaInfo,_,"internal-error");default:ee(E.email,_,"internal-error")}let k=null;return E.mfaInfo&&(k=$c._fromServerResponse(ot(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:k},operation:x}})).apply(this,arguments)}function Od(C,g){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,u.Z)(function*(C,g){const{data:_}=yield ql((0,z.m9)(C),g);return _.email})).apply(this,arguments)}function cm(C,g,_){return ma.apply(this,arguments)}function ma(){return(ma=(0,u.Z)(function*(C,g,_){const E=ot(C),x=yield qr(E,{returnSecureToken:!0,email:g,password:_}),k=yield fi._fromIdTokenResponse(E,"signIn",x);return yield E._updateCurrentUser(k.user),k})).apply(this,arguments)}function Wn(C,g,_){return C1((0,z.m9)(C),R0.credential(g,_))}function Ki(C,g,_){return w1.apply(this,arguments)}function w1(){return(w1=(0,u.Z)(function*(C,g,_){const E=(0,z.m9)(C),x={requestType:"EMAIL_SIGNIN",email:g};ee(_.handleCodeInApp,E,"argument-error"),_&&Lt(E,x,_),yield Wr(E,x)})).apply(this,arguments)}function E1(C,g){return"EMAIL_SIGNIN"===jc.parseLink(g)?.operation}function Ps(C,g,_){return V0.apply(this,arguments)}function V0(){return(V0=(0,u.Z)(function*(C,g,_){const E=(0,z.m9)(C),x=R0.credentialWithLink(g,_||De());return ee(x._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),C1(E,x)})).apply(this,arguments)}function zd(C,g){return H0.apply(this,arguments)}function H0(){return(H0=(0,u.Z)(function*(C,g){return Tt(C,"POST","/v1/accounts:createAuthUri",jt(C,g))})).apply(this,arguments)}function lm(C,g){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,u.Z)(function*(C,g){const E={identifier:g,continueUri:Re()?De():"http://localhost"},{signinMethods:x}=yield zd((0,z.m9)(C),E);return x||[]})).apply(this,arguments)}function Kl(C,g){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,u.Z)(function*(C,g){const _=(0,z.m9)(C),x={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&Lt(_.auth,x,g);const{email:k}=yield po(_.auth,x);k!==C.email&&(yield C.reload())})).apply(this,arguments)}function Ql(C,g,_){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,u.Z)(function*(C,g,_){const E=(0,z.m9)(C),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};_&&Lt(E.auth,k,_);const{email:Q}=yield Hc(E.auth,k);Q!==C.email&&(yield C.reload())})).apply(this,arguments)}function Fd(C,g){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,u.Z)(function*(C,g){return Tt(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Vd(C,g){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,u.Z)(function*(C,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const E=(0,z.m9)(C),k={idToken:yield E.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},Q=yield Ft(E,Fd(E.auth,k));E.displayName=Q.displayName||null,E.photoURL=Q.photoUrl||null;const he=E.providerData.find(({providerId:We})=>"password"===We);he&&(he.displayName=E.displayName,he.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Q)})).apply(this,arguments)}function Hd(C,g){return ga((0,z.m9)(C),g,null)}function B0(C,g){return ga((0,z.m9)(C),null,g)}function ga(C,g,_){return yo.apply(this,arguments)}function yo(){return(yo=(0,u.Z)(function*(C,g,_){const{auth:E}=C,k={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(k.email=g),_&&(k.password=_);const Q=yield Ft(C,Fc(E,k));yield C._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class En{constructor(g,_,E={}){this.isNewUser=g,this.providerId=_,this.profile=E}}class ls extends En{constructor(g,_,E,x){super(g,_,E),this.username=x}}class An extends En{constructor(g,_){super(g,"facebook.com",_)}}class U0 extends ls{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Ud extends En{constructor(g,_){super(g,"google.com",_)}}class j0 extends ls{constructor(g,_,E){super(g,"twitter.com",_,E)}}function jd(C){const{user:g,_tokenResponse:_}=C;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Bd(C){var g,_;if(!C)return null;const{providerId:E}=C,x=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},k=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!E&&C?.idToken){const Q=null===(_=null===(g=ht(C.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(Q)return new En(k,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!E)return null;switch(E){case"facebook.com":return new An(k,x);case"github.com":return new U0(k,x);case"google.com":return new Ud(k,x);case"twitter.com":return new j0(k,x,C.screenName||null);case"custom":case"anonymous":return new En(k,null);default:return new En(k,E,x)}}(_)}class mi{constructor(g,_,E){this.type=g,this.credential=_,this.auth=E}static _fromIdtoken(g,_){return new mi("enroll",g,_)}static _fromMfaPendingCredential(g){return new mi("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,E;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return mi._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.idToken)return mi._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ru{constructor(g,_,E){this.session=g,this.hints=_,this.signInResolver=E}static _fromError(g,_){const E=ot(g),x=_.customData._serverResponse,k=(x.mfaInfo||[]).map(he=>$c._fromServerResponse(E,he));ee(x.mfaPendingCredential,E,"internal-error");const Q=mi._fromMfaPendingCredential(x.mfaPendingCredential);return new ru(Q,k,function(){var he=(0,u.Z)(function*(We){const st=yield We._process(E,Q);delete x.mfaInfo,delete x.mfaPendingCredential;const vt=Object.assign(Object.assign({},x),{idToken:st.idToken,refreshToken:st.refreshToken});switch(_.operationType){case"signIn":const mn=yield fi._fromIdTokenResponse(E,_.operationType,vt);return yield E._updateCurrentUser(mn.user),mn;case"reauthenticate":return ee(_.user,E,"internal-error"),fi._forOperation(_.user,_.operationType,vt);default:Xe(E,"internal-error")}});return function(We){return he.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,u.Z)(function*(){return _.signInResolver(g)})()}}function Gd(C,g){var _;const E=(0,z.m9)(C),x=g;return ee(g.customData.operationType,E,"argument-error"),ee(null===(_=x.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),ru._fromError(E,x)}function S1(C,g){return Tt(C,"POST","/v2/accounts/mfaEnrollment:start",jt(C,g))}class t2{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>$c._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new t2(g)}getSession(){var g=this;return(0,u.Z)(function*(){return mi._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var E=this;return(0,u.Z)(function*(){const x=g,k=yield E.getSession(),Q=yield Ft(E.user,x._process(E.user.auth,k,_));return yield E.user._updateTokensIfNecessary(Q),E.user.reload()})()}unenroll(g){var _=this;return(0,u.Z)(function*(){var E;const x="string"==typeof g?g:g.uid,k=yield _.user.getIdToken(),Q=yield Ft(_.user,function e2(C,g){return Tt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",jt(C,g))}(_.user.auth,{idToken:k,mfaEnrollmentId:x}));_.enrolledFactors=_.enrolledFactors.filter(({uid:he})=>he!==x),yield _.user._updateTokensIfNecessary(Q);try{yield _.user.reload()}catch(he){if("auth/user-token-expired"!==(null===(E=he)||void 0===E?void 0:E.code))throw he}})()}}const $d=new WeakMap;function su(C){const g=(0,z.m9)(C);return $d.has(g)||$d.set(g,t2._fromUser(g)),$d.get(g)}const us="__sak";class ou{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(us,"1"),this.storage.removeItem(us),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ao=(()=>{class C extends ou{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function au(){const C=(0,z.z$)();return je(C)||He(C)}()&&function oo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Pn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const x=this.storage.getItem(E),k=this.localCache[E];x!==k&&_(E,k,x)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((he,We,st)=>{this.notifyListeners(he,st)});const x=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(x);if(_.newValue!==he)null!==_.newValue?this.storage.setItem(x,_.newValue):this.storage.removeItem(x);else if(this.localCache[x]===_.newValue&&!E)return}const k=()=>{const he=this.storage.getItem(x);!E&&this.localCache[x]===he||this.notifyListeners(x,he)},Q=this.storage.getItem(x);!function Mi(){return(0,z.w1)()&&10===document.documentMode}()||Q===_.newValue||_.newValue===_.oldValue?k():setTimeout(k,10)}notifyListeners(_,E){this.localCache[_]=E;const x=this.listeners[_];if(x)for(const k of Array.from(x))k(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var x=()=>super._set,k=this;return(0,u.Z)(function*(){yield x().call(k,_,E),k.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,x=this;return(0,u.Z)(function*(){const k=yield E().call(x,_);return x.localCache[_]=JSON.stringify(k),k})()}_remove(_){var E=()=>super._remove,x=this;return(0,u.Z)(function*(){yield E().call(x,_),delete x.localCache[_]})()}}return C.type="LOCAL",C})(),Os=(()=>{class C extends ou{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return C.type="SESSION",C})();let n2=(()=>{class C{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(k=>k.isListeningto(_));if(E)return E;const x=new C(_);return this.receivers.push(x),x}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,u.Z)(function*(){const x=_,{eventId:k,eventType:Q,data:he}=x.data,We=E.handlersMap[Q];if(!We?.size)return;x.ports[0].postMessage({status:"ack",eventId:k,eventType:Q});const st=Array.from(We).map(function(){var mn=(0,u.Z)(function*(xi){return xi(x.origin,he)});return function(xi){return mn.apply(this,arguments)}}()),vt=yield function cu(C){return Promise.all(C.map(function(){var g=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return g.apply(this,arguments)}}()))}(st);x.ports[0].postMessage({status:"done",eventId:k,eventType:Q,response:vt})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function va(C="",g=10){let _="";for(let E=0;E<g;E++)_+=Math.floor(10*Math.random());return C+_}class Zd{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,E=50){var x=this;return(0,u.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let Q,he;return new Promise((We,st)=>{const vt=va("",20);k.port1.start();const mn=setTimeout(()=>{st(new Error("unsupported_event"))},E);he={messageChannel:k,onMessage(xi){const fs=xi;if(fs.data.eventId===vt)switch(fs.data.status){case"ack":clearTimeout(mn),Q=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),We(fs.data.response);break;default:clearTimeout(mn),clearTimeout(Q),st(new Error("invalid_response"))}}},x.handlers.add(he),k.port1.addEventListener("message",he.onMessage),x.target.postMessage({eventType:g,eventId:vt,data:_},[k.port2])}).finally(()=>{he&&x.removeMessageHandler(he)})})()}}function qn(){return window}function Ii(){return typeof qn().WorkerGlobalScope<"u"&&"function"==typeof qn().importScripts}function bo(){return(bo=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const T1="firebaseLocalStorageDb",D1="firebaseLocalStorage",s2="fbase_key";class wo{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function o2(C,g){return C.transaction([D1],g?"readwrite":"readonly").objectStore(D1)}function Z0(){const C=indexedDB.open(T1,1);return new Promise((g,_)=>{C.addEventListener("error",()=>{_(C.error)}),C.addEventListener("upgradeneeded",()=>{const E=C.result;try{E.createObjectStore(D1,{keyPath:s2})}catch(x){_(x)}}),C.addEventListener("success",(0,u.Z)(function*(){const E=C.result;E.objectStoreNames.contains(D1)?g(E):(E.close(),yield function q0(){const C=indexedDB.deleteDatabase(T1);return new wo(C).toPromise()}(),g(yield Z0()))}))})}function N1(C,g,_){return zs.apply(this,arguments)}function zs(){return(zs=(0,u.Z)(function*(C,g,_){const E=o2(C,!0).put({[s2]:g,value:_});return new wo(E).toPromise()})).apply(this,arguments)}function a2(){return(a2=(0,u.Z)(function*(C,g){const _=o2(C,!1).get(g),E=yield new wo(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function K0(C,g){const _=o2(C,!0).delete(g);return new wo(_).toPromise()}const c2=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield Z0()),_.db})()}_withRetries(_){var E=this;return(0,u.Z)(function*(){let x=0;for(;;)try{const k=yield E._openDb();return yield _(k)}catch(k){if(x++>3)throw k;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return Ii()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=n2._getInstance(function r2(){return Ii()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,u.Z)(function*(x,k){return{keyProcessed:(yield _._poll()).includes(k.key)}});return function(x,k){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,u.Z)(function*(x,k){return["keyChanged"]});return function(x,k){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var E,x;if(_.activeServiceWorker=yield function Kd(){return bo.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Zd(_.activeServiceWorker);const k=yield _.sender._send("ping",{},800);!k||(null===(E=k[0])||void 0===E?void 0:E.fulfilled)&&(null===(x=k[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,u.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function lu(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Z0();return yield N1(_,us,"1"),yield K0(_,us),!0}catch{}return!1})()}_withPendingWrite(_){var E=this;return(0,u.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var x=this;return(0,u.Z)(function*(){return x._withPendingWrite((0,u.Z)(function*(){return yield x._withRetries(k=>N1(k,_,E)),x.localCache[_]=E,x.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,u.Z)(function*(){const x=yield E._withRetries(k=>function Yd(C,g){return a2.apply(this,arguments)}(k,_));return E.localCache[_]=x,x})()}_remove(_){var E=this;return(0,u.Z)(function*(){return E._withPendingWrite((0,u.Z)(function*(){return yield E._withRetries(x=>K0(x,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const E=yield _._withRetries(Q=>{const he=o2(Q,!1).getAll();return new wo(he).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const x=[],k=new Set;for(const{fbase_key:Q,value:he}of E)k.add(Q),JSON.stringify(_.localCache[Q])!==JSON.stringify(he)&&(_.notifyListeners(Q,he),x.push(Q));for(const Q of Object.keys(_.localCache))_.localCache[Q]&&!k.has(Q)&&(_.notifyListeners(Q,null),x.push(Q));return x})()}notifyListeners(_,E){this.localCache[_]=E;const x=this.listeners[_];if(x)for(const k of Array.from(x))k(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Qd(C,g){return Tt(C,"POST","/v2/accounts/mfaSignIn:start",jt(C,g))}function Eo(){return(Eo=(0,u.Z)(function*(C){return(yield Tt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _a(C){return new Promise((g,_)=>{const E=document.createElement("script");E.setAttribute("src",C),E.onload=g,E.onerror=x=>{const k=Se("internal-error");k.customData=x,_(k)},E.type="text/javascript",E.charset="UTF-8",function R1(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(E)})}function uu(C){return`__${C}${Math.floor(1e6*Math.random())}`}const X0=1e12;class um{constructor(g){this.auth=g,this.counter=X0,this._widgets=new Map}render(g,_){const E=this.counter;return this._widgets.set(E,new fn(g,this.auth.name,_||{})),this.counter++,E}reset(g){var _;const E=g||X0;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(g){var _;return(null===(_=this._widgets.get(g||X0))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,u.Z)(function*(){var E;return null===(E=_._widgets.get(g||X0))||void 0===E||E.execute(),""})()}}class fn{constructor(g,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof g?document.getElementById(g):g;ee(x,"argument-error",{appName:_}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function hm(C){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<C;E++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xd=uu("rcb"),tA=new Ue(3e4,6e4);class rA{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=qn().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return ee(function iA(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(qn().grecaptcha):new Promise((E,x)=>{const k=qn().setTimeout(()=>{x(Se(g,"network-request-failed"))},tA.get());qn()[Xd]=()=>{qn().clearTimeout(k),delete qn()[Xd];const he=qn().grecaptcha;if(!he)return void x(Se(g,"internal-error"));const We=he.render;he.render=(st,vt)=>{const mn=We(st,vt);return this.counter++,mn},this.hostLanguage=_,E(he)},_a(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:Xd,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(k),x(Se(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=qn().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class sA{load(g){return(0,u.Z)(function*(){return new um(g)})()}clearedOneInstance(){}}const P1="recaptcha",oA={theme:"light",type:"image"};class dm{constructor(g,_=Object.assign({},oA),E){this.parameters=_,this.type=P1,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ot(E),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof g?document.getElementById(g):g;ee(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sA:new rA,this.validateStartingState()}verify(){var g=this;return(0,u.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(_)||new Promise(k=>{const Q=he=>{!he||(g.tokenChangeListeners.delete(Q),k(he))};g.tokenChangeListeners.add(Q),g.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof g)g(_);else if("string"==typeof g){const E=qn()[g];"function"==typeof E&&E(_)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,u.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,u.Z)(function*(){ee(Re()&&!Ii(),g.auth,"internal-error"),yield function sr(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function u2(C){return Eo.apply(this,arguments)}(g.auth);ee(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Yi{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=ha._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function yn(C,g,_){return nt.apply(this,arguments)}function nt(){return(nt=(0,u.Z)(function*(C,g,_){const E=ot(C),x=yield bn(E,g,(0,z.m9)(_));return new Yi(x,k=>C1(E,k))})).apply(this,arguments)}function Ir(C,g,_){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,u.Z)(function*(C,g,_){const E=(0,z.m9)(C);yield Rs(!1,E,"phone");const x=yield bn(E.auth,g,(0,z.m9)(_));return new Yi(x,k=>Et(E,k))})).apply(this,arguments)}function Zn(C,g,_){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,u.Z)(function*(C,g,_){const E=(0,z.m9)(C),x=yield bn(E.auth,g,(0,z.m9)(_));return new Yi(x,k=>am(E,k))})).apply(this,arguments)}function bn(C,g,_){return pn.apply(this,arguments)}function pn(){return(pn=(0,u.Z)(function*(C,g,_){var E;const x=yield _.verify();try{let k;if(ee("string"==typeof x,C,"argument-error"),ee(_.type===P1,C,"argument-error"),k="string"==typeof g?{phoneNumber:g}:g,"session"in k){const Q=k.session;if("phoneNumber"in k)return ee("enroll"===Q.type,C,"internal-error"),(yield S1(C,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{ee("signin"===Q.type,C,"internal-error");const he=(null===(E=k.multiFactorHint)||void 0===E?void 0:E.uid)||k.multiFactorUid;return ee(he,C,"missing-multi-factor-info"),(yield Qd(C,{mfaPendingCredential:Q.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield tm(C,{phoneNumber:k.phoneNumber,recaptchaToken:x});return Q}}finally{_._reset()}})).apply(this,arguments)}function Zr(C,g){return St.apply(this,arguments)}function St(){return(St=(0,u.Z)(function*(C,g){yield F0((0,z.m9)(C),g)})).apply(this,arguments)}let J0=(()=>{class C{constructor(_){this.providerId=C.PROVIDER_ID,this.auth=ot(_)}verifyPhoneNumber(_,E){return bn(this.auth,_,(0,z.m9)(E))}static credential(_,E){return ha._fromVerification(_,E)}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:x}=_;return E&&x?ha._fromTokenResponse(E,x):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Mo(C,g){return g?q(g):(ee(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Qi extends ui{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return go(g,this._buildIdpRequest())}_linkToIdToken(g,_){return go(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return go(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Jd(C){return Rd(C.auth,new Qi(C),C.bypassAuthState)}function Kr(C){const{auth:g,user:_}=C;return ee(_,g,"internal-error"),kd(_,new Qi(C),C.bypassAuthState)}function hu(C){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,u.Z)(function*(C){const{auth:g,user:_}=C;return ee(_,g,"internal-error"),F0(_,new Qi(C),C.bypassAuthState)})).apply(this,arguments)}class ef{constructor(g,_,E,x,k=!1){this.auth=g,this.resolver=E,this.user=x,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,u.Z)(function*(E,x){g.pendingPromise={resolve:E,reject:x};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(k){g.reject(k)}});return function(E,x){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,u.Z)(function*(){const{urlResponse:E,sessionId:x,postBody:k,tenantId:Q,error:he,type:We}=g;if(he)return void _.reject(he);const st={auth:_.auth,requestUri:E,sessionId:x,tenantId:Q||void 0,postBody:k||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(We)(st))}catch(vt){_.reject(vt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Jd;case"linkViaPopup":case"linkViaRedirect":return hu;case"reauthViaPopup":case"reauthViaRedirect":return Kr;default:Xe(this.auth,"internal-error")}}resolve(g){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const du=new Ue(2e3,1e4);function h2(C,g,_){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,u.Z)(function*(C,g,_){const E=ot(C);me(C,g,vr);const x=Mo(E,_);return new ya(E,"signInViaPopup",g,x).executeNotNull()})).apply(this,arguments)}function fm(C,g,_){return fu.apply(this,arguments)}function fu(){return(fu=(0,u.Z)(function*(C,g,_){const E=(0,z.m9)(C);me(E.auth,g,vr);const x=Mo(E.auth,_);return new ya(E.auth,"reauthViaPopup",g,x,E).executeNotNull()})).apply(this,arguments)}function tf(C,g,_){return d2.apply(this,arguments)}function d2(){return(d2=(0,u.Z)(function*(C,g,_){const E=(0,z.m9)(C);me(E.auth,g,vr);const x=Mo(E.auth,_);return new ya(E.auth,"linkViaPopup",g,x,E).executeNotNull()})).apply(this,arguments)}let ya=(()=>{class C extends ef{constructor(_,E,x,k,Q){super(_,E,k,Q),this.provider=x,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const E=yield _.execute();return ee(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,u.Z)(function*(){le(1===_.filter.length,"Popup operations only handle one event");const E=va();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(x=>{_.reject(x)}),_.resolver._isIframeWebStorageSupported(_.auth,x=>{x||_.reject(Se(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,x;this.pollId=null!==(x=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Se(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,du.get())};_()}}return C.currentPopupAction=null,C})();const f2=new Map;class hs extends ef{constructor(g,_,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,u.Z)(function*(){let E=f2.get(_.auth._key());if(!E){try{const k=(yield function In(C,g){return Hs.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;E=()=>Promise.resolve(k)}catch(x){E=()=>Promise.reject(x)}f2.set(_.auth._key(),E)}return _.bypassAuthState||f2.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,E=this;return(0,u.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(E,g);if("unknown"!==g.type){if(g.eventId){const x=yield E.auth._redirectUserForId(g.eventId);if(x)return E.user=x,_().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Hs(){return(Hs=(0,u.Z)(function*(C,g){const _=Bs(g),E=Aa(C);if(!(yield E._isAvailable()))return!1;const x="true"===(yield E._get(_));return yield E._remove(_),x})).apply(this,arguments)}function z1(C,g){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,u.Z)(function*(C,g){return Aa(C)._set(Bs(g),"true")})).apply(this,arguments)}function e6(){f2.clear()}function F1(C,g){f2.set(C._key(),g)}function Aa(C){return q(C._redirectPersistence)}function Bs(C){return O("pendingRedirect",C.config.apiKey,C.name)}function t6(C,g,_){return function On(C,g,_){return pu.apply(this,arguments)}(C,g,_)}function pu(){return(pu=(0,u.Z)(function*(C,g,_){const E=ot(C);me(C,g,vr);const x=Mo(E,_);return yield z1(x,E),x._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function nf(C,g,_){return function n6(C,g,_){return ba.apply(this,arguments)}(C,g,_)}function ba(){return(ba=(0,u.Z)(function*(C,g,_){const E=(0,z.m9)(C);me(E.auth,g,vr);const x=Mo(E.auth,_);yield z1(x,E.auth);const k=yield mu(E);return x._openRedirect(E.auth,g,"reauthViaRedirect",k)})).apply(this,arguments)}function pm(C,g,_){return function mm(C,g,_){return r6.apply(this,arguments)}(C,g,_)}function r6(){return(r6=(0,u.Z)(function*(C,g,_){const E=(0,z.m9)(C);me(E.auth,g,vr);const x=Mo(E.auth,_);yield Rs(!1,E,g.providerId),yield z1(x,E.auth);const k=yield mu(E);return x._openRedirect(E.auth,g,"linkViaRedirect",k)})).apply(this,arguments)}function i6(C,g){return wa.apply(this,arguments)}function wa(){return(wa=(0,u.Z)(function*(C,g){return yield ot(C)._initializationPromise,p2(C,g,!1)})).apply(this,arguments)}function p2(C,g){return So.apply(this,arguments)}function So(){return(So=(0,u.Z)(function*(C,g,_=!1){const E=ot(C),x=Mo(E,g),Q=yield new hs(E,x,_).execute();return Q&&!_&&(delete Q.user._redirectEventId,yield E._persistUserIfCurrent(Q.user),yield E._setRedirectUser(null,g)),Q})).apply(this,arguments)}function mu(C){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,u.Z)(function*(C){const g=va(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class Ma{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(_=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function rf(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m2(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var E;if(g.error&&!m2(g)){const x=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(Se(this.auth,x))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const E=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gu(g))}saveEventToCache(g){this.cachedEventUids.add(gu(g)),this.lastProcessedEventTime=Date.now()}}function gu(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function m2({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===g?.code}function Sa(C){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,u.Z)(function*(C,g={}){return Tt(C,"GET","/v1/projects",g)})).apply(this,arguments)}const sf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gm=/^https?/;function s6(){return(s6=(0,u.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield Sa(C);for(const _ of g)try{if(Cn(_))return}catch{}Xe(C,"unauthorized-domain")})).apply(this,arguments)}function Cn(C){const g=De(),{protocol:_,hostname:E}=new URL(g);if(C.startsWith("chrome-extension://")){const Q=new URL(C);return""===Q.hostname&&""===E?"chrome-extension:"===_&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&Q.hostname===E}if(!gm.test(_))return!1;if(sf.test(C))return E===C;const x=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(E)}const Lr=new Ue(3e4,6e4);function o6(){const C=qn().___jsl;if(C?.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let _=0;_<C.CP.length;_++)C.CP[_]=null}let To=null;function a6(C){return To=To||function g2(C){return new Promise((g,_)=>{var E,x,k;function Q(){o6(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{o6(),_(Se(C,"network-request-failed"))},timeout:Lr.get()})}if(null!==(x=null===(E=qn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==x&&x.Iframe)g(gapi.iframes.getContext());else{if(null===(k=qn().gapi)||void 0===k||!k.load){const he=uu("iframefcb");return qn()[he]=()=>{gapi.load?Q():_(Se(C,"network-request-failed"))},_a(`https://apis.google.com/js/api.js?onload=${he}`).catch(We=>_(We))}Q()}}).catch(g=>{throw To=null,g})}(C),To}const cf=new Ue(5e3,15e3),l6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uf(C){const g=C.config;ee(g.authDomain,C,"auth-domain-config-required");const _=g.emulator?hn(g,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:C.name,v:ie.SDK_VERSION},x=V1.get(C.config.apiHost);x&&(E.eid=x);const k=C._getFrameworks();return k.length&&(E.fw=k.join(",")),`${_}?${(0,z.xO)(E).slice(1)}`}function xo(){return xo=(0,u.Z)(function*(C){const g=yield a6(C),_=qn().gapi;return ee(_,C,"internal-error"),g.open({where:document.body,url:uf(C),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l6,dontclear:!0},E=>new Promise(function(){var x=(0,u.Z)(function*(k,Q){yield E.restyle({setHideOnLeave:!1});const he=Se(C,"network-request-failed"),We=qn().setTimeout(()=>{Q(he)},cf.get());function st(){qn().clearTimeout(We),k(E)}E.ping(st).then(st,()=>{Q(he)})});return function(k,Q){return x.apply(this,arguments)}}()))}),xo.apply(this,arguments)}const df={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class B1{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U1(C,g,_,E,x,k){ee(C.config.authDomain,C,"auth-domain-config-required"),ee(C.config.apiKey,C,"invalid-api-key");const Q={apiKey:C.config.apiKey,appName:C.name,authType:_,redirectUrl:E,v:ie.SDK_VERSION,eventId:x};if(g instanceof vr){g.setDefaultLanguage(C.languageCode),Q.providerId=g.providerId||"",(0,z.xb)(g.getCustomParameters())||(Q.customParameters=JSON.stringify(g.getCustomParameters()));for(const[We,st]of Object.entries(k||{}))Q[We]=st}if(g instanceof da){const We=g.getScopes().filter(st=>""!==st);We.length>0&&(Q.scopes=We.join(","))}C.tenantId&&(Q.tid=C.tenantId);const he=Q;for(const We of Object.keys(he))void 0===he[We]&&delete he[We];return`${function Ta({config:C}){return C.emulator?hn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,z.xO)(he).slice(1)}`}const Ji="webStorageSupport",Yr=class No{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Os,this._completeRedirectFn=p2,this._overrideRedirectResult=F1}_openPopup(g,_,E,x){var k=this;return(0,u.Z)(function*(){var Q;le(null===(Q=k.eventManagers[g._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const he=U1(g,_,E,De(),x);return function ym(C,g,_,E=500,x=600){const k=Math.max((window.screen.availHeight-x)/2,0).toString(),Q=Math.max((window.screen.availWidth-E)/2,0).toString();let he="";const We=Object.assign(Object.assign({},df),{width:E.toString(),height:x.toString(),top:k,left:Q}),st=(0,z.z$)().toLowerCase();_&&(he=ut(st)?"_blank":_),K(st)&&(g=g||"http://localhost",We.scrollbars="yes");const vt=Object.entries(We).reduce((xi,[fs,G1])=>`${xi}${fs}=${G1},`,"");if(function rr(C=(0,z.z$)()){var g;return He(C)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(st)&&"_self"!==he)return function vu(C,g){const _=document.createElement("a");_.href=C,_.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(g||"",he),new B1(null);const mn=window.open(g||"",he,vt);ee(mn,C,"popup-blocked");try{mn.focus()}catch{}return new B1(mn)}(g,he,va())})()}_openRedirect(g,_,E,x){var k=this;return(0,u.Z)(function*(){return yield k._originValidation(g),function W0(C){qn().location.href=C}(U1(g,_,E,De(),x)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:x,promise:k}=this.eventManagers[_];return x?Promise.resolve(x):(le(k,"If manager is not set, promise should be"),k)}const E=this.initAndGetManager(g);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(g){var _=this;return(0,u.Z)(function*(){const E=yield function hf(C){return xo.apply(this,arguments)}(g),x=new Ma(g);return E.register("authEvent",k=>(ee(k?.authEvent,g,"invalid-auth-event"),{status:x.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:x},_.iframes[g._key()]=E,x})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Ji,{type:Ji},x=>{var k;const Q=null===(k=x?.[0])||void 0===k?void 0:k[Ji];void 0!==Q&&_(!!Q),Xe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function af(C){return s6.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Pn()||je()||He()}};class zn extends class u6{constructor(g){this.factorId=g}_process(g,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,E);case"signin":return this._finalizeSignIn(g,_.credential);default:return ne("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new zn(g)}_finalizeEnroll(g,_,E){return function iu(C,g){return Tt(C,"POST","/v2/accounts/mfaEnrollment:finalize",jt(C,g))}(g,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function l2(C,g){return Tt(C,"POST","/v2/accounts/mfaSignIn:finalize",jt(C,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Us=(()=>{class C{constructor(){}static assertion(_){return zn._fromCredential(_)}}return C.FACTOR_ID="phone",C})();var v2="@firebase/auth",ko="0.20.11";class h6{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,u.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(E=>{var x;g((null===(x=E)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const js=(0,z.Pz)("authIdTokenMaxAge")||300;let d6=null;const _r=C=>function(){var g=(0,u.Z)(function*(_){const E=_&&(yield _.getIdTokenResult()),x=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(x&&x>js)return;const k=E?.token;d6!==k&&(d6=k,yield fetch(C,{method:k?"POST":"DELETE",headers:k?{Authorization:`Bearer ${k}`}:{}}))});return function(_){return g.apply(this,arguments)}}();function j1(C=(0,ie.getApp)()){const g=(0,ie._getProvider)(C,"auth");if(g.isInitialized())return g.getImmediate();const _=function se(C,g){const _=(0,ie._getProvider)(C,"auth");if(_.isInitialized()){const x=_.getImmediate(),k=_.getOptions();if((0,z.vZ)(k,g??{}))return x;Xe(x,"already-initialized")}return _.initialize({options:g})}(C,{popupRedirectResolver:Yr,persistence:[c2,Ao,Os]}),E=(0,z.Pz)("authTokenSyncURL");if(E){const k=_r(E);(function M1(C,g,_){(0,z.m9)(C).beforeAuthStateChanged(g,_)})(_,k,()=>k(_.currentUser)),function Xc(C,g,_,E){(0,z.m9)(C).onIdTokenChanged(g,_,E)}(_,Q=>k(Q))}const x=(0,z.q4)("auth");return x&&co(_,`http://${x}`),_}!function ds(C){(0,ie._registerComponent)(new ve.wA("auth",(g,{options:_})=>{const E=g.getProvider("app").getImmediate(),x=g.getProvider("heartbeat"),{apiKey:k,authDomain:Q}=E.options;return((he,We)=>{ee(k&&!k.includes(":"),"invalid-api-key",{appName:he.name}),ee(!Q?.includes(":"),"argument-error",{appName:he.name});const st={apiKey:k,authDomain:Q,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_n(C)},vt=new p1(he,We,st);return function J(C,g){const _=g?.persistence||[],E=(Array.isArray(_)?_:[_]).map(q);g?.errorMap&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(E,g?.popupRedirectResolver)}(vt,_),vt})(E,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,E)=>{g.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new ve.wA("auth-internal",g=>{const _=ot(g.getProvider("auth").getImmediate());return new h6(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(v2,ko,function pf(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,ie.registerVersion)(v2,ko,"esm2017")}("Browser")},2090:(dt,Me,P)=>{P.d(Me,{$s:()=>qe,BH:()=>Pt,DV:()=>wi,GJ:()=>io,L:()=>Ee,LL:()=>dn,P0:()=>Re,Pz:()=>Zt,Sg:()=>Ue,UG:()=>be,UI:()=>la,US:()=>ve,Wl:()=>ai,Yr:()=>Ae,ZB:()=>U,ZR:()=>tr,aH:()=>ct,b$:()=>ce,cI:()=>Tt,dS:()=>tn,eu:()=>ee,g5:()=>ie,gK:()=>gr,gQ:()=>Ln,h$:()=>pe,hl:()=>Ve,hu:()=>z,jU:()=>Ze,m9:()=>$t,ne:()=>Gn,p$:()=>B,pd:()=>Vl,q4:()=>De,r3:()=>Gi,ru:()=>re,tV:()=>ke,uI:()=>Pe,ug:()=>so,vZ:()=>Ke,w1:()=>Xe,w9:()=>ro,xO:()=>nr,xb:()=>ca,z$:()=>Fe,zI:()=>ne,zd:()=>$i});const z=function(F,O){if(!F)throw ie(O)},ie=function(F){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+F)},de=function(F){const O=[];let G=0;for(let ge=0;ge<F.length;ge++){let K=F.charCodeAt(ge);K<128?O[G++]=K:K<2048?(O[G++]=K>>6|192,O[G++]=63&K|128):55296==(64512&K)&&ge+1<F.length&&56320==(64512&F.charCodeAt(ge+1))?(K=65536+((1023&K)<<10)+(1023&F.charCodeAt(++ge)),O[G++]=K>>18|240,O[G++]=K>>12&63|128,O[G++]=K>>6&63|128,O[G++]=63&K|128):(O[G++]=K>>12|224,O[G++]=K>>6&63|128,O[G++]=63&K|128)}return O},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,O){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let K=0;K<F.length;K+=3){const je=F[K],ut=K+1<F.length,Yt=ut?F[K+1]:0,un=K+2<F.length,an=un?F[K+2]:0;let Bt=(15&Yt)<<2|an>>6,rr=63&an;un||(rr=64,ut||(Bt=64)),ge.push(G[je>>2],G[(3&je)<<4|Yt>>4],G[Bt],G[rr])}return ge.join("")},encodeString(F,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(F):this.encodeByteArray(de(F),O)},decodeString(F,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(F):function(F){const O=[];let G=0,ge=0;for(;G<F.length;){const K=F[G++];if(K<128)O[ge++]=String.fromCharCode(K);else if(K>191&&K<224){const je=F[G++];O[ge++]=String.fromCharCode((31&K)<<6|63&je)}else if(K>239&&K<365){const un=((7&K)<<18|(63&F[G++])<<12|(63&F[G++])<<6|63&F[G++])-65536;O[ge++]=String.fromCharCode(55296+(un>>10)),O[ge++]=String.fromCharCode(56320+(1023&un))}else{const je=F[G++],ut=F[G++];O[ge++]=String.fromCharCode((15&K)<<12|(63&je)<<6|63&ut)}}return O.join("")}(this.decodeStringToByteArray(F,O))},decodeStringToByteArray(F,O){this.init_();const G=O?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let K=0;K<F.length;){const je=G[F.charAt(K++)],Yt=K<F.length?G[F.charAt(K)]:0;++K;const an=K<F.length?G[F.charAt(K)]:64;++K;const He=K<F.length?G[F.charAt(K)]:64;if(++K,null==je||null==Yt||null==an||null==He)throw Error();ge.push(je<<2|Yt>>4),64!==an&&(ge.push(Yt<<4&240|an>>2),64!==He&&ge.push(an<<6&192|He))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}},pe=function(F){const O=de(F);return ve.encodeByteArray(O,!0)},Ee=function(F){return pe(F).replace(/\./g,"")},ke=function(F){try{return ve.decodeString(F,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};function B(F){return U(void 0,F)}function U(F,O){if(!(O instanceof Object))return O;switch(O.constructor){case Date:return new Date(O.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return O}for(const G in O)!O.hasOwnProperty(G)||!Y(G)||(F[G]=U(F[G],O[G]));return F}function Y(F){return"__proto__"!==F}function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Pe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ze(){return"object"==typeof self&&self.self===self}function re(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function ce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){const F=Fe();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function Ae(){return!1}function Ve(){return"object"==typeof indexedDB}function ee(){return new Promise((F,O)=>{try{let G=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(ge);K.onsuccess=()=>{K.result.close(),G||self.indexedDB.deleteDatabase(ge),F(!0)},K.onupgradeneeded=()=>{G=!1},K.onerror=()=>{var je;O((null===(je=K.error)||void 0===je?void 0:je.message)||"")}}catch(G){O(G)}})}function ne(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const J=()=>{try{return function le(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const O=F&&ke(F[1]);return O&&JSON.parse(O)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},De=F=>{var O,G;return null===(G=null===(O=J())||void 0===O?void 0:O.emulatorHosts)||void 0===G?void 0:G[F]},Re=F=>{const O=De(F);if(!O)return;const G=O.lastIndexOf(":");if(G<=0||G+1===O.length)throw new Error(`Invalid host ${O} with no separate hostname and port!`);const ge=parseInt(O.substring(G+1),10);return"["===O[0]?[O.substring(1,G-1),ge]:[O.substring(0,G),ge]},ct=()=>{var F;return null===(F=J())||void 0===F?void 0:F.config},Zt=F=>{var O;return null===(O=J())||void 0===O?void 0:O[`_${F}`]};class Pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((O,G)=>{this.resolve=O,this.reject=G})}wrapCallback(O){return(G,ge)=>{G?this.reject(G):this.resolve(ge),"function"==typeof O&&(this.promise.catch(()=>{}),1===O.length?O(G):O(G,ge))}}}function Ue(F,O){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=O||"demo-project",K=F.iat||0,je=F.sub||F.user_id;if(!je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ut=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:K,exp:K+3600,auth_time:K,sub:je,user_id:je,firebase:{sign_in_provider:"custom",identities:{}}},F);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(ut)),""].join(".")}class tr extends Error{constructor(O,G,ge){super(G),this.code=O,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dn.prototype.create)}}class dn{constructor(O,G,ge){this.service=O,this.serviceName=G,this.errors=ge}create(O,...G){const ge=G[0]||{},K=`${this.service}/${O}`,je=this.errors[O],ut=je?function Kt(F,O){return F.replace(jt,(G,ge)=>{const K=O[ge];return null!=K?String(K):`<${ge}?>`})}(je,ge):"Error";return new tr(K,`${this.serviceName}: ${ut} (${K}).`,ge)}}const jt=/\{\$([^}]+)}/g;function Tt(F){return JSON.parse(F)}function ai(F){return JSON.stringify(F)}const ks=function(F){let O={},G={},ge={},K="";try{const je=F.split(".");O=Tt(ke(je[0])||""),G=Tt(ke(je[1])||""),K=je[2],ge=G.d||{},delete G.d}catch{}return{header:O,claims:G,data:ge,signature:K}},ro=function(F){const G=ks(F).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},io=function(F){const O=ks(F).claims;return"object"==typeof O&&!0===O.admin};function Gi(F,O){return Object.prototype.hasOwnProperty.call(F,O)}function wi(F,O){if(Object.prototype.hasOwnProperty.call(F,O))return F[O]}function ca(F){for(const O in F)if(Object.prototype.hasOwnProperty.call(F,O))return!1;return!0}function la(F,O,G){const ge={};for(const K in F)Object.prototype.hasOwnProperty.call(F,K)&&(ge[K]=O.call(G,F[K],K,F));return ge}function Ke(F,O){if(F===O)return!0;const G=Object.keys(F),ge=Object.keys(O);for(const K of G){if(!ge.includes(K))return!1;const je=F[K],ut=O[K];if(Mr(je)&&Mr(ut)){if(!Ke(je,ut))return!1}else if(je!==ut)return!1}for(const K of ge)if(!G.includes(K))return!1;return!0}function Mr(F){return null!==F&&"object"==typeof F}function nr(F){const O=[];for(const[G,ge]of Object.entries(F))Array.isArray(ge)?ge.forEach(K=>{O.push(encodeURIComponent(G)+"="+encodeURIComponent(K))}):O.push(encodeURIComponent(G)+"="+encodeURIComponent(ge));return O.length?"&"+O.join("&"):""}function $i(F){const O={};return F.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[K,je]=ge.split("=");O[decodeURIComponent(K)]=decodeURIComponent(je)}}),O}function Vl(F){const O=F.indexOf("?");if(!O)return"";const G=F.indexOf("#",O);return F.substring(O,G>0?G:void 0)}class Ln{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let O=1;O<this.blockSize;++O)this.pad_[O]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(O,G){G||(G=0);const ge=this.W_;if("string"==typeof O)for(let He=0;He<16;He++)ge[He]=O.charCodeAt(G)<<24|O.charCodeAt(G+1)<<16|O.charCodeAt(G+2)<<8|O.charCodeAt(G+3),G+=4;else for(let He=0;He<16;He++)ge[He]=O[G]<<24|O[G+1]<<16|O[G+2]<<8|O[G+3],G+=4;for(let He=16;He<80;He++){const Bt=ge[He-3]^ge[He-8]^ge[He-14]^ge[He-16];ge[He]=4294967295&(Bt<<1|Bt>>>31)}let an,ze,K=this.chain_[0],je=this.chain_[1],ut=this.chain_[2],Yt=this.chain_[3],un=this.chain_[4];for(let He=0;He<80;He++){He<40?He<20?(an=Yt^je&(ut^Yt),ze=1518500249):(an=je^ut^Yt,ze=1859775393):He<60?(an=je&ut|Yt&(je|ut),ze=2400959708):(an=je^ut^Yt,ze=3395469782);const Bt=(K<<5|K>>>27)+an+un+ze+ge[He]&4294967295;un=Yt,Yt=ut,ut=4294967295&(je<<30|je>>>2),je=K,K=Bt}this.chain_[0]=this.chain_[0]+K&4294967295,this.chain_[1]=this.chain_[1]+je&4294967295,this.chain_[2]=this.chain_[2]+ut&4294967295,this.chain_[3]=this.chain_[3]+Yt&4294967295,this.chain_[4]=this.chain_[4]+un&4294967295}update(O,G){if(null==O)return;void 0===G&&(G=O.length);const ge=G-this.blockSize;let K=0;const je=this.buf_;let ut=this.inbuf_;for(;K<G;){if(0===ut)for(;K<=ge;)this.compress_(O,K),K+=this.blockSize;if("string"==typeof O){for(;K<G;)if(je[ut]=O.charCodeAt(K),++ut,++K,ut===this.blockSize){this.compress_(je),ut=0;break}}else for(;K<G;)if(je[ut]=O[K],++ut,++K,ut===this.blockSize){this.compress_(je),ut=0;break}}this.inbuf_=ut,this.total_+=G}digest(){const O=[];let G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&G,G/=256;this.compress_(this.buf_);let ge=0;for(let K=0;K<5;K++)for(let je=24;je>=0;je-=8)O[ge]=this.chain_[K]>>je&255,++ge;return O}}function Gn(F,O){const G=new vn(F,O);return G.subscribe.bind(G)}class vn{constructor(O,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{O(this)}).catch(ge=>{this.error(ge)})}next(O){this.forEachObserver(G=>{G.next(O)})}error(O){this.forEachObserver(G=>{G.error(O)}),this.close(O)}complete(){this.forEachObserver(O=>{O.complete()}),this.close()}subscribe(O,G,ge){let K;if(void 0===O&&void 0===G&&void 0===ge)throw new Error("Missing Observer.");K=function lt(F,O){if("object"!=typeof F||null===F)return!1;for(const G of O)if(G in F&&"function"==typeof F[G])return!0;return!1}(O,["next","error","complete"])?O:{next:O,error:G,complete:ge},void 0===K.next&&(K.next=Ft),void 0===K.error&&(K.error=Ft),void 0===K.complete&&(K.complete=Ft);const je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),je}unsubscribeOne(O){void 0===this.observers||void 0===this.observers[O]||(delete this.observers[O],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(O){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,O)}sendOne(O,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[O])try{G(this.observers[O])}catch(ge){typeof console<"u"&&console.error&&console.error(ge)}})}close(O){this.finalized||(this.finalized=!0,void 0!==O&&(this.finalError=O),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ft(){}function gr(F,O){return`${F} failed: ${O} argument `}const tn=function(F){const O=[];let G=0;for(let ge=0;ge<F.length;ge++){let K=F.charCodeAt(ge);if(K>=55296&&K<=56319){const je=K-55296;ge++,z(ge<F.length,"Surrogate pair missing trail surrogate."),K=65536+(je<<10)+(F.charCodeAt(ge)-56320)}K<128?O[G++]=K:K<2048?(O[G++]=K>>6|192,O[G++]=63&K|128):K<65536?(O[G++]=K>>12|224,O[G++]=K>>6&63|128,O[G++]=63&K|128):(O[G++]=K>>18|240,O[G++]=K>>12&63|128,O[G++]=K>>6&63|128,O[G++]=63&K|128)}return O},so=function(F){let O=0;for(let G=0;G<F.length;G++){const ge=F.charCodeAt(G);ge<128?O++:ge<2048?O+=2:ge>=55296&&ge<=56319?(O+=4,G++):O+=3}return O};function qe(F,O=1e3,G=2){const ge=O*Math.pow(G,F),K=Math.round(.5*ge*(Math.random()-.5)*2);return Math.min(144e5,ge+K)}function $t(F){return F&&F._delegate?F._delegate:F}},8047:(dt,Me,P)=>{var u=P(4650);let z=null;function ie(){return z}const pe=new u.OlP("DocumentToken");let Ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ke(){return(0,u.LFG)(U)}()},providedIn:"platform"}),n})();const B=new u.OlP("Location Initialized");let U=(()=>{class n extends Ee{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ie().getBaseHref(this._doc)}onPopState(t){const r=ie().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ie().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Y()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Y()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Fe(){return new U((0,u.LFG)(pe))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function Pe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ze(n){return n&&"?"!==n[0]?"?"+n:n}let re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(et)},providedIn:"root"}),n})();const ce=new u.OlP("appBaseHref");let et=(()=>{class n extends re{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Pe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ze(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const c=this.prepareExternalUrl(i+Ze(s));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){const c=this.prepareExternalUrl(i+Ze(s));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee),u.LFG(ce,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xe=(()=>{class n extends re{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Pe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let c=this.prepareExternalUrl(i+Ze(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){let c=this.prepareExternalUrl(i+Ze(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee),u.LFG(ce,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=be(Ve(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ze(r))}normalize(t){return n.stripTrailingSlash(function me(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ve(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ze,n.joinWithSlash=Pe,n.stripTrailingSlash=be,n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ae(){return new Se((0,u.LFG)(re))}()},providedIn:"root"}),n})();function Ve(n){return n.replace(/\/index.html$/,"")}function Fc(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let nn=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class g1{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rr=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new g1(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===s?void 0:s);else if(null!==s){const h=r.get(s);r.move(h,c),fo(h,i)}});for(let i=0,s=r.length;i<s;i++){const h=r.get(i).context;h.index=i,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{fo(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function fo(n,e){n.context.$implicit=e.item}let rn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Td,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ur("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ur("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Td{constructor(){this.$implicit=null,this.ngIf=null}}function ur(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let Uc=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),c=-1===i.indexOf("-")?void 0:u.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,i,c)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),O0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const _o="browser";let z0=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Nd((0,u.LFG)(pe),window)}),n})();class Nd{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Sr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=y1(this.window.history)||y1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function y1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class pa{}class ga extends class B0 extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Ce(n){z||(z=n)}(new ga)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Bd(){return yo=yo||document.querySelector("base"),yo?yo.getAttribute("href"):null}();return null==t?null:function ls(n){En=En||document.createElement("a"),En.setAttribute("href",n);const e=En.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){yo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Fc(document.cookie,e)}}let En,yo=null;const An=new u.OlP("TRANSITION_ID"),Ud=[{provide:u.ip1,useFactory:function U0(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=ie(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[An,pe,u.zs3],multi:!0}];let jd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const eu=new u.OlP("EventManagerPlugins");let Xc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const c=i[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(eu),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class M1{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=ie().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Jc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Co=(()=>{class n extends Jc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(tu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(tu))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function tu(n){ie().remove(n)}const nu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},G0=/%COMP%/g;function e2(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?e2(n,i,t):(i=i.replace(G0,n),t.push(i))}return t}function t2(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let su=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new us(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new $0(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new Wd(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=e2(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Xc),u.LFG(Co),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class us{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(nu[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(I1(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(I1(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=nu[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=nu[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,t2(r)):this.eventManager.addEventListener(e,t,t2(r))}}function I1(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class $0 extends us{constructor(e,t,r,i){super(e),this.component=r;const s=e2(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function S1(n){return"_ngcontent-%COMP%".replace(G0,n)}(i+"-"+r.id),this.hostAttr=function iu(n){return"_nghost-%COMP%".replace(G0,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Wd extends us{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=e2(i.id,i.styles,[]);for(let c=0;c<s.length;c++){const h=document.createElement("style");h.textContent=s[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ao=(()=>{class n extends M1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const qd=["alt","control","meta","shift"],Os={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let n2=(()=>{class n extends M1{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ie().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let c="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),c="code."),qd.forEach(v=>{const b=r.indexOf(v);b>-1&&(r.splice(b,1),c+=v+".")}),c+=s,0!=r.length||0===s.length)return null;const p={};return p.domEventName=i,p.fullKey=c,p}static matchEventFullKeyCode(t,r){let i=Os[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),qd.forEach(c=>{c!==i&&(0,cu[c])(t)&&(s+=c+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const T1=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:_o},{provide:u.g9A,useValue:function Kd(){ga.makeCurrent()},multi:!0},{provide:pe,useFactory:function lu(){return(0,u.RDi)(document),document},deps:[]}]),x1=new u.OlP(""),D1=[{provide:u.rWj,useClass:class j0{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let s=i.length,c=!1;const h=function(p){c=c||p,s--,0==s&&r(c)};i.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ie().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],s2=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function bo(){return new u.qLn},deps:[]},{provide:eu,useClass:Ao,multi:!0,deps:[pe,u.R0b,u.Lbi]},{provide:eu,useClass:n2,multi:!0,deps:[pe]},{provide:su,useClass:su,deps:[Xc,Co,u.AFp]},{provide:u.FYo,useExisting:su},{provide:Jc,useExisting:Co},{provide:Co,useClass:Co,deps:[pe]},{provide:Xc,useClass:Xc,deps:[eu,u.R0b]},{provide:pa,useClass:jd,deps:[]},[]];let wo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:An,useExisting:u.AFp},Ud]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(x1,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...s2,...D1],imports:[O0,u.hGG]}),n})(),zs=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function N1(){return new zs((0,u.LFG)(pe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Yi=P(3269),yn=P(8996);function nt(...n){const e=(0,Yi.yG)(n);return(0,yn.D)(n,e)}var Ir=P(9751),Xt=P(5577),Zn=P(576);function Ti(n,e){return(0,Zn.m)(e)?(0,Xt.z)(n,e,1):(0,Xt.z)(n,1)}var bn=P(4482),pn=P(5403);function Zr(n,e){return(0,bn.e)((t,r)=>{let i=0;t.subscribe((0,pn.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}var St=P(4004);class J0{}class Mo{}class Qi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Qi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Qi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Qi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===s.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Kr{encodeKey(e){return du(e)}encodeValue(e){return du(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Vs=/%(\d[a-f0-9])/gi,ef={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function du(n){return encodeURIComponent(n).replace(Vs,(e,t)=>ef[t]??e)}function h2(n){return`${n}`}class Xi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Kr,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function hu(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[c,h]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],p=t.get(c)||[];p.push(h),t.set(c,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(h2):[h2(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Xi({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(h2(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(h2(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class fu{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function d2(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function ya(n){return typeof Blob<"u"&&n instanceof Blob}function O1(n){return typeof FormData<"u"&&n instanceof FormData}class hs{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function tf(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Qi),this.context||(this.context=new fu),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new Xi,this.urlWithParams=t}serializeBody(){return null===this.body?null:d2(this.body)||ya(this.body)||O1(this.body)||function f2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||O1(this.body)?null:ya(this.body)?this.body.type||null:d2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,v=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((M,T)=>M.set(T,e.setHeaders[T]),p)),e.setParams&&(v=Object.keys(e.setParams).reduce((M,T)=>M.set(T,e.setParams[T]),v)),new hs(t,r,s,{params:v,headers:p,context:b,reportProgress:h,responseType:i,withCredentials:c})}}var In=(()=>((In=In||{})[In.Sent=0]="Sent",In[In.UploadProgress=1]="UploadProgress",In[In.ResponseHeader=2]="ResponseHeader",In[In.DownloadProgress=3]="DownloadProgress",In[In.Response=4]="Response",In[In.User=5]="User",In))();class Hs{constructor(e,t=200,r="OK"){this.headers=e.headers||new Qi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class z1 extends Hs{constructor(e={}){super(e),this.type=In.ResponseHeader}clone(e={}){return new z1({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ca extends Hs{constructor(e={}){super(e),this.type=In.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ca({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class e6 extends Hs{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function F1(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Aa=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof hs)s=t;else{let p,v;p=i.headers instanceof Qi?i.headers:new Qi(i.headers),i.params&&(v=i.params instanceof Xi?i.params:new Xi({fromObject:i.params})),s=new hs(t,r,void 0!==i.body?i.body:null,{headers:p,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=nt(s).pipe(Ti(p=>this.handler.handle(p)));if(t instanceof hs||"events"===i.observe)return c;const h=c.pipe(Zr(p=>p instanceof Ca));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,St.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,St.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,St.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,St.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Xi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,F1(i,r))}post(t,r,i={}){return this.request("POST",t,F1(i,r))}put(t,r,i={}){return this.request("PUT",t,F1(i,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Bs{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const t6=new u.OlP("HTTP_INTERCEPTORS");let On=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const p2=/^\)\]\}',?\n/;let mu=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ir.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((N,R)=>i.setRequestHeader(N,R.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const N=t.detectContentTypeHeader();null!==N&&i.setRequestHeader("Content-Type",N)}if(t.responseType){const N=t.responseType.toLowerCase();i.responseType="json"!==N?N:"text"}const s=t.serializeBody();let c=null;const h=()=>{if(null!==c)return c;const N=i.statusText||"OK",R=new Qi(i.getAllResponseHeaders()),V=function So(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new z1({headers:R,status:i.status,statusText:N,url:V}),c},p=()=>{let{headers:N,status:R,statusText:V,url:$}=h(),fe=null;204!==R&&(fe=typeof i.response>"u"?i.responseText:i.response),0===R&&(R=fe?200:0);let xe=R>=200&&R<300;if("json"===t.responseType&&"string"==typeof fe){const Oe=fe;fe=fe.replace(p2,"");try{fe=""!==fe?JSON.parse(fe):null}catch(Te){fe=Oe,xe&&(xe=!1,fe={error:Te,text:fe})}}xe?(r.next(new Ca({body:fe,headers:N,status:R,statusText:V,url:$||void 0})),r.complete()):r.error(new e6({error:fe,headers:N,status:R,statusText:V,url:$||void 0}))},v=N=>{const{url:R}=h(),V=new e6({error:N,status:i.status||0,statusText:i.statusText||"Unknown Error",url:R||void 0});r.error(V)};let b=!1;const M=N=>{b||(r.next(h()),b=!0);let R={type:In.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),"text"===t.responseType&&!!i.responseText&&(R.partialText=i.responseText),r.next(R)},T=N=>{let R={type:In.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),r.next(R)};return i.addEventListener("load",p),i.addEventListener("error",v),i.addEventListener("timeout",v),i.addEventListener("abort",v),t.reportProgress&&(i.addEventListener("progress",M),null!==s&&i.upload&&i.upload.addEventListener("progress",T)),i.send(s),r.next({type:In.Sent}),()=>{i.removeEventListener("error",v),i.removeEventListener("abort",v),i.removeEventListener("load",p),i.removeEventListener("timeout",v),t.reportProgress&&(i.removeEventListener("progress",M),null!==s&&i.upload&&i.upload.removeEventListener("progress",T)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pa))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ea=new u.OlP("XSRF_COOKIE_NAME"),Io=new u.OlP("XSRF_HEADER_NAME");class Ma{}let gu=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fc(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe),u.LFG(u.Lbi),u.LFG(Ea))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),m2=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ma),u.LFG(Io))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),rf=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(t6,[]);this.chain=r.reduceRight((i,s)=>new Bs(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Mo),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),sf=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:m2,useClass:On}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Ea,useValue:t.cookieName}:[],t.headerName?{provide:Io,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[m2,{provide:t6,useExisting:m2,multi:!0},{provide:Ma,useClass:gu},{provide:Ea,useValue:"XSRF-TOKEN"},{provide:Io,useValue:"X-XSRF-TOKEN"}]}),n})(),gm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Aa,{provide:J0,useClass:rf},mu,{provide:Mo,useExisting:mu}],imports:[sf.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();var Cn=P(7579);class Lr extends Cn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const g2=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:To}=Array,{getPrototypeOf:a6,prototype:cf,keys:c6}=Object;function lf(n){if(1===n.length){const e=n[0];if(To(e))return{args:e,keys:null};if(function l6(n){return n&&"object"==typeof n&&a6(n)===cf}(e)){const t=c6(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var V1=P(4671);const{isArray:uf}=Array;function xo(n){return(0,St.U)(e=>function hf(n,e){return uf(e)?n(...e):n(e)}(n,e))}function df(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var vm=P(9672);function H1(...n){const e=(0,Yi.yG)(n),t=(0,Yi.jO)(n),{args:r,keys:i}=lf(n);if(0===r.length)return(0,yn.D)([],e);const s=new Ir.y(function _m(n,e,t=V1.y){return r=>{ff(e,()=>{const{length:i}=n,s=new Array(i);let c=i,h=i;for(let p=0;p<i;p++)ff(e,()=>{const v=(0,yn.D)(n[p],e);let b=!1;v.subscribe((0,pn.x)(r,M=>{s[p]=M,b||(b=!0,h--),h||r.next(t(s.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>df(i,c):V1.y));return t?s.pipe(xo(t)):s}function ff(n,e,t){n?(0,vm.f)(t,n,e):e()}var B1=P(8189);function vu(...n){return function ym(){return(0,B1.J)(1)}()((0,yn.D)(n,(0,Yi.yG)(n)))}var Do=P(8421);function _u(n){return new Ir.y(e=>{(0,Do.Xf)(n()).subscribe(e)})}var U1=P(9635);function Ta(n,e){const t=(0,Zn.m)(n)?n:()=>n,r=i=>i.error(t());return new Ir.y(e?i=>e.schedule(r,0,i):r)}var Ji=P(515),No=P(727);function Yr(){return(0,bn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,pn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class u6 extends Ir.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,bn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new No.w0;const t=this.getSubject();e.add(this.source.subscribe((0,pn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=No.w0.EMPTY)}return e}refCount(){return Yr()(this)}}function zn(n,e){return(0,bn.e)((t,r)=>{let i=null,s=0,c=!1;const h=()=>c&&!i&&r.complete();t.subscribe((0,pn.x)(r,p=>{i?.unsubscribe();let v=0;const b=s++;(0,Do.Xf)(n(p,b)).subscribe(i=(0,pn.x)(r,M=>r.next(e?e(p,M,b,v++):M),()=>{i=null,h()}))},()=>{c=!0,h()}))})}function Us(n){return n<=0?()=>Ji.E:(0,bn.e)((e,t)=>{let r=0;e.subscribe((0,pn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function v2(...n){const e=(0,Yi.yG)(n);return(0,bn.e)((t,r)=>{(e?vu(n,t,e):vu(n,t)).subscribe(r)})}function ko(n){return(0,bn.e)((e,t)=>{let r=!1;e.subscribe((0,pn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function h6(n=pf){return(0,bn.e)((e,t)=>{let r=!1;e.subscribe((0,pn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function pf(){return new g2}function ds(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zr((i,s)=>n(i,s,r)):V1.y,Us(1),t?ko(e):h6(()=>new g2))}function or(n,e,t){const r=(0,Zn.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,bn.e)((i,s)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let h=!0;i.subscribe((0,pn.x)(s,p=>{var v;null===(v=r.next)||void 0===v||v.call(r,p),s.next(p)},()=>{var p;h=!1,null===(p=r.complete)||void 0===p||p.call(r),s.complete()},p=>{var v;h=!1,null===(v=r.error)||void 0===v||v.call(r,p),s.error(p)},()=>{var p,v;h&&(null===(p=r.unsubscribe)||void 0===p||p.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):V1.y}function js(n){return(0,bn.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,pn.x)(t,void 0,void 0,c=>{s=(0,Do.Xf)(n(c,js(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function d6(n,e,t,r,i){return(s,c)=>{let h=t,p=e,v=0;s.subscribe((0,pn.x)(c,b=>{const M=v++;p=h?n(p,b,M):(h=!0,b),r&&c.next(p)},i&&(()=>{h&&c.next(p),c.complete()})))}}function _r(n,e){return(0,bn.e)(d6(n,e,arguments.length>=2,!0))}function j1(n){return n<=0?()=>Ji.E:(0,bn.e)((e,t)=>{let r=[];e.subscribe((0,pn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function C(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zr((i,s)=>n(i,s,r)):V1.y,j1(1),t?ko(e):h6(()=>new g2))}function E(n){return(0,bn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const x="primary",k=Symbol("RouteTitle");class Q{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function he(n){return new Q(n)}function We(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const c=r[s],h=n[s];if(c.startsWith(":"))i[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function vt(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!mn(n[i],e[i]))return!1;return!0}function mn(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function xi(n){return Array.prototype.concat.apply([],n)}function fs(n){return n.length>0?n[n.length-1]:null}function Fn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function es(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,yn.D)(Promise.resolve(n)):nt(n)}const Ro={exact:function q1(n,e,t){if(!K1(n.segments,e.segments)||!_2(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!q1(n.children[r],e.children[r],t))return!1;return!0},subset:Au},yu={exact:function W1(n,e){return vt(n,e)},subset:function p6(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>mn(n[t],e[t]))},ignored:()=>!0};function Cu(n,e,t){return Ro[t.paths](n.root,e.root,t.matrixParams)&&yu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Au(n,e,t){return Lo(n,e,e.segments,t)}function Lo(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!K1(i,t)||e.hasChildren()||!_2(i,t,r))}if(n.segments.length===t.length){if(!K1(n.segments,t)||!_2(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Au(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(K1(n.segments,i)&&_2(n.segments,i,r)&&n.children[x])&&Lo(n.children[x],e,s,r)}}function _2(n,e,t){return e.every((r,i)=>yu[t](n[i].parameters,r.parameters))}class xa{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=he(this.queryParams)),this._queryParamMap}toString(){return lA.serialize(this)}}class Ot{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Fn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bu(this)}}class Z1{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=he(this.parameters)),this._parameterMap}toString(){return Da(this)}}function K1(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Cm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new mf},providedIn:"root"}),n})();class mf{parse(e){const t=new Mm(e);return new xa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Y1(e.root,!0)}`,r=function bm(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${y2(t)}=${y2(i)}`).join("&"):`${y2(t)}=${y2(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function uA(n){return encodeURI(n)}(e.fragment)}`:""}`}}const lA=new mf;function bu(n){return n.segments.map(e=>Da(e)).join("/")}function Y1(n,e){if(!n.hasChildren())return bu(n);if(e){const t=n.children[x]?Y1(n.children[x],!1):"",r=[];return Fn(n.children,(i,s)=>{s!==x&&r.push(`${s}:${Y1(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function cA(n,e){let t=[];return Fn(n.children,(r,i)=>{i===x&&(t=t.concat(e(r,i)))}),Fn(n.children,(r,i)=>{i!==x&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===x?[Y1(n.children[x],!1)]:[`${i}:${Y1(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[x]?`${bu(n)}/${t[0]}`:`${bu(n)}/(${t.join("//")})`}}function gf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function y2(n){return gf(n).replace(/%3B/gi,";")}function vf(n){return gf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wu(n){return decodeURIComponent(n)}function _f(n){return wu(n.replace(/\+/g,"%20"))}function Da(n){return`${vf(n.path)}${function Am(n){return Object.keys(n).map(e=>`;${vf(e)}=${vf(n[e])}`).join("")}(n.parameters)}`}const hA=/^[^\/()?;=#]+/;function yf(n){const e=n.match(hA);return e?e[0]:""}const m6=/^[^=?&#]+/,wm=/^[^&#]+/;class Mm{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[x]=new Ot(e,t)),r}parseSegment(){const e=yf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new Z1(wu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=yf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=yf(this.remaining);i&&(r=i,this.capture(r))}e[wu(t)]=wu(r)}parseQueryParam(e){const t=function dA(n){const e=n.match(m6);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Em(n){const e=n.match(wm);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=_f(t),s=_f(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=yf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=x);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[x]:new Ot([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function Eu(n){return n.segments.length>0?new Ot([],{[x]:n}):n}function Mu(n){const e={};for(const r of Object.keys(n.children)){const s=Mu(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function g6(n){if(1===n.numberOfChildren&&n.children[x]){const e=n.children[x];return new Ot(n.segments.concat(e.segments),e.children)}return n}(new Ot(n.segments,e))}function Gs(n){return n instanceof xa}function Su(n,e,t,r,i){if(0===t.length)return A2(e.root,e.root,e.root,r,i);const s=function _6(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new bf(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Fn(s.outlets,(p,v)=>{h[v]="string"==typeof p?p.split("/"):p}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===c?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,s]},[]);return new bf(t,e,r)}(t);return s.toRoot()?A2(e.root,e.root,new Ot([],{}),r,i):function c(p){const v=function Q1(n,e,t,r){if(n.isAbsolute)return new Po(e.root,!0,0);if(-1===r)return new Po(t,t===e.root,0);return function Tm(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new u.vHH(4005,!1);i=r.segments.length}return new Po(r,!1,i-s)}(t,r+(Iu(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,p),b=v.processChildren?Tu(v.segmentGroup,v.index,s.commands):xm(v.segmentGroup,v.index,s.commands);return A2(e.root,v.segmentGroup,b,r,i)}(n.snapshot?._lastPathIndex)}function Iu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function C2(n){return"object"==typeof n&&null!=n&&n.outlets}function A2(n,e,t,r,i){let c,s={};r&&Fn(r,(p,v)=>{s[v]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),c=n===e?t:Im(n,e,t);const h=Eu(Mu(c));return new xa(h,s,i)}function Im(n,e,t){const r={};return Fn(n.children,(i,s)=>{r[s]=i===e?t:Im(i,e,t)}),new Ot(n.segments,r)}class bf{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Iu(r[0]))throw new u.vHH(4003,!1);const i=r.find(C2);if(i&&i!==fs(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Po{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function xm(n,e,t){if(n||(n=new Ot([],{})),0===n.segments.length&&n.hasChildren())return Tu(n,e,t);const r=function Ef(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const c=n.segments[i],h=t[r];if(C2(h))break;const p=`${h}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===p)break;if(p&&v&&"object"==typeof v&&void 0===v.outlets){if(!y6(p,v,c))return s;r+=2}else{if(!y6(p,{},c))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Ot(n.segments.slice(0,r.pathIndex),{});return s.children[x]=new Ot(n.segments.slice(r.pathIndex),n.children),Tu(s,0,i)}return r.match&&0===i.length?new Ot(n.segments,{}):r.match&&!n.hasChildren()?Mf(n,e,t):r.match?Tu(n,0,i):Mf(n,e,t)}function Tu(n,e,t){if(0===t.length)return new Ot(n.segments,{});{const r=function fA(n){return C2(n[0])?n[0].outlets:{[x]:n}}(t),i={};return Fn(r,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[c]=xm(n.children[c],e,s))}),Fn(n.children,(s,c)=>{void 0===r[c]&&(i[c]=s)}),new Ot(n.segments,i)}}function Mf(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(C2(s)){const p=Dm(s.outlets);return new Ot(r,p)}if(0===i&&Iu(t[0])){r.push(new Z1(n.segments[e].path,xu(t[0]))),i++;continue}const c=C2(s)?s.outlets[x]:`${s}`,h=i<t.length-1?t[i+1]:null;c&&h&&Iu(h)?(r.push(new Z1(c,xu(h))),i+=2):(r.push(new Z1(c,{})),i++)}return new Ot(r,{})}function Dm(n){const e={};return Fn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Mf(new Ot([],{}),0,t))}),e}function xu(n){const e={};return Fn(n,(t,r)=>e[r]=`${t}`),e}function y6(n,e,t){return n==t.path&&vt(e,t.parameters)}class $s{constructor(e,t){this.id=e,this.url=t}}class C6 extends $s{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Na extends $s{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Du extends $s{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nm extends $s{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pA extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mA extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gA extends $s{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vA extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ka extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nu{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _A{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kx{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yx{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qx{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xx{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yA{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Rm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Sf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Sf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=If(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return If(e,this._root).map(t=>t.value)}}function Sf(n,e){if(n===e.value)return e;for(const t of e.children){const r=Sf(n,t);if(r)return r}return null}function If(n,e){if(n===e.value)return[e];for(const t of e.children){const r=If(n,t);if(r.length)return r.unshift(e),r}return[]}class Oo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ra(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ws extends Rm{constructor(e,t){super(e),this.snapshot=t,ku(this,e)}toString(){return this.snapshot.toString()}}function b2(n,e){const t=function Lm(n,e){const c=new xf([],{},{},"",{},x,e,null,n.root,-1,{});return new CA("",new Oo(c,[]))}(n,e),r=new Lr([new Z1("",{})]),i=new Lr({}),s=new Lr({}),c=new Lr({}),h=new Lr(""),p=new Qr(r,i,c,h,s,x,e,t.root);return p.snapshot=t.root,new Ws(new Oo(p,[]),t)}class Qr{constructor(e,t,r,i,s,c,h,p){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=h,this.title=this.data?.pipe((0,St.U)(v=>v[k]))??nt(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,St.U)(e=>he(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,St.U)(e=>he(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tf(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Jx(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class xf{constructor(e,t,r,i,s,c,h,p,v,b,M,T){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=h,this.title=this.data?.[k],this.routeConfig=p,this._urlSegment=v,this._lastPathIndex=b,this._correctedLastPathIndex=T??b,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=he(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=he(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CA extends Rm{constructor(e,t){super(t),this.url=e,ku(this,t)}toString(){return A6(this._root)}}function ku(n,e){e.value._routerState=n,e.children.forEach(t=>ku(n,t))}function A6(n){const e=n.children.length>0?` { ${n.children.map(A6).join(", ")} } `:"";return`${n.value}${e}`}function Pm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,vt(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),vt(e.params,t.params)||n.params.next(t.params),function st(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!vt(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),vt(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Om(n,e){const t=vt(n.params,e.params)&&function aA(n,e){return K1(n,e)&&n.every((t,r)=>vt(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Om(n.parent,e.parent))}function Ru(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function AA(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ru(n,r,i);return Ru(n,r)})}(n,e,t);return new Oo(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>Ru(n,h)),c}}const r=function bA(n){return new Qr(new Lr(n.url),new Lr(n.params),new Lr(n.queryParams),new Lr(n.fragment),new Lr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Ru(n,s));return new Oo(r,i)}}const Df="ngNavigationCancelingError";function Nf(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Gs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Lu(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Lu(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Df]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Fm(n){return b6(n)&&Gs(n.url)}function b6(n){return n&&n[Df]}class wA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Tn,this.attachRef=null}}let Tn=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new wA,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const w6=!1;let kf=(()=>{class n{constructor(t,r,i,s,c){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=i||x,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,w6);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,w6);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,w6);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,w6);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new Rf(t,h,i.injector);if(r&&function Vm(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(c);this.activated=i.createComponent(v,i.length,p)}else this.activated=i.createComponent(c,{index:i.length,injector:p,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Tn),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Rf{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Qr?this.route:e===Tn?this.childContexts:this.parent.get(e,t)}}let Lf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[kf],encapsulation:2}),n})();function Hm(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function E6(n){const e=n.children&&n.children.map(E6),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==x&&(t.component=Lf),t}function Di(n){return n.outlet||x}function jm(n,e){const t=n.filter(r=>Di(r)===e);return t.push(...n.filter(r=>Di(r)!==e)),t}function w2(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Of{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Pm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ra(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,i[c],r),delete i[c]}),Fn(i,(s,c)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ra(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);if(r&&r.outlet){const c=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ra(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ra(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Xx(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Yx(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Pm(i),i===s)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),Pm(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=w2(i.snapshot),p=h?.get(u._Vd)??null;c.attachRef=null,c.route=i,c.resolver=p,c.injector=h,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class EA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class M6{constructor(e,t){this.component=e,this.route=t}}function zf(n,e,t){const r=n._root;return ps(r,e?e._root:null,t,[r.value])}function X1(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function ps(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ra(e);return n.children.forEach(c=>{(function MA(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function Ff(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!K1(n.url,e.url);case"pathParamsOrQueryParamsChange":return!K1(n.url,e.url)||!vt(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Om(n,e)||!vt(n.queryParams,e.queryParams);default:return!Om(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new EA(r)):(s.data=c.data,s._resolvedData=c._resolvedData),ps(n,e,s.component?h?h.children:null:t,r,i),p&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new M6(h.outlet.component,c))}else c&&La(e,h,i),i.canActivateChecks.push(new EA(r)),ps(n,null,s.component?h?h.children:null:t,r,i)})(c,s[c.value.outlet],t,r.concat([c.value]),i),delete s[c.value.outlet]}),Fn(s,(c,h)=>La(c,t.getContext(h),i)),i}function La(n,e,t){const r=Ra(n),i=n.value;Fn(r,(s,c)=>{La(s,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new M6(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ou(n){return"function"==typeof n}function Pa(n){return n instanceof g2||"EmptyError"===n?.name}const I6=Symbol("INITIAL_VALUE");function E2(){return zn(n=>H1(n.map(e=>e.pipe(Us(1),v2(I6)))).pipe((0,St.U)(e=>{for(const t of e)if(!0!==t){if(t===I6)return I6;if(!1===t||t instanceof xa)return t}return!0}),Zr(e=>e!==I6),Us(1)))}function M2(n){return(0,U1.z)(or(e=>{if(Gs(e))throw Nf(0,e)}),(0,St.U)(e=>!0===e))}const Oa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function S2(n,e,t,r,i){const s=Uf(n,e,t);return s.matched?function kA(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?nt(i.map(c=>{const h=X1(c,n);return es(function SA(n){return n&&Ou(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(E2(),M2()):nt(!0)}(r=Hm(e,r),e,t).pipe((0,St.U)(c=>!0===c?s:{...Oa})):nt(s)}function Uf(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Oa}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||We)(t,n,e);if(!i)return{...Oa};const s={};Fn(i.posParams,(h,p)=>{s[p]=h.path});const c=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function jf(n,e,t,r,i="corrected"){if(t.length>0&&function LA(n,e,t){return t.some(r=>zu(n,e,r)&&Di(r)!==x)}(n,t,r)){const c=new Ot(e,function RA(n,e,t,r){const i={};i[x]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Di(s)!==x){const c=new Ot([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Di(s)]=c}return i}(n,e,r,new Ot(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function PA(n,e,t){return t.some(r=>zu(n,e,r))}(n,t,r)){const c=new Ot(n.segments,function Ym(n,e,t,r,i,s){const c={};for(const h of r)if(zu(n,t,h)&&!i[Di(h)]){const p=new Ot([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:e.length,c[Di(h)]=p}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const s=new Ot(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function zu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Gf(n,e,t,r){return!!(Di(n)===r||r!==x&&zu(e,t,n))&&("**"===n.path||Uf(e,n,t).matched)}function T6(n,e,t){return 0===e.length&&!n.children[t]}const I2=!1;class x6{constructor(e){this.segmentGroup=e||null}}class D6{constructor(e){this.urlTree=e}}function zo(n){return Ta(new x6(n))}function Qm(n){return Ta(new D6(n))}class VA{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=jf(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ot(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,x).pipe((0,St.U)(s=>this.createUrlTree(Mu(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(js(s=>{if(s instanceof D6)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof x6?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,x).pipe((0,St.U)(i=>this.createUrlTree(Mu(i),e.queryParams,e.fragment))).pipe(js(i=>{throw i instanceof x6?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,I2)}createUrlTree(e,t,r){const i=Eu(e);return new xa(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,St.U)(s=>new Ot([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,yn.D)(i).pipe(Ti(s=>{const c=r.children[s],h=jm(t,s);return this.expandSegmentGroup(e,h,c,s).pipe((0,St.U)(p=>({segment:p,outlet:s})))}),_r((s,c)=>(s[c.outlet]=c.segment,s),{}),C())}expandSegment(e,t,r,i,s,c){return(0,yn.D)(r).pipe(Ti(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,s,c).pipe(js(v=>{if(v instanceof x6)return nt(null);throw v}))),ds(h=>!!h),js((h,p)=>{if(Pa(h))return T6(t,i,s)?nt(new Ot([],{})):zo(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,s,c,h){return Gf(i,t,s,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c):zo(t):zo(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Qm(s):this.lineralizeSegments(r,s).pipe((0,Xt.z)(c=>{const h=new Ot(c,{});return this.expandSegment(e,h,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c){const{matched:h,consumedSegments:p,remainingSegments:v,positionalParamSegments:b}=Uf(t,i,s);if(!h)return zo(t);const M=this.applyRedirectCommands(p,i.redirectTo,b);return i.redirectTo.startsWith("/")?Qm(M):this.lineralizeSegments(i,M).pipe((0,Xt.z)(T=>this.expandSegment(e,t,r,T.concat(v),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=Hm(r,e),r.loadChildren?(r._loadedRoutes?nt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,St.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new Ot(i,{})))):nt(new Ot(i,{}))):S2(t,r,i,e).pipe(zn(({matched:c,consumedSegments:h,remainingSegments:p})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Xt.z)(b=>{const M=b.injector??e,T=b.routes,{segmentGroup:N,slicedSegments:R}=jf(t,h,p,T),V=new Ot(N.segments,N.children);if(0===R.length&&V.hasChildren())return this.expandChildren(M,T,V).pipe((0,St.U)(Oe=>new Ot(h,Oe)));if(0===T.length&&0===R.length)return nt(new Ot(h,{}));const $=Di(r)===s;return this.expandSegment(M,V,T,R,$?x:s,!0).pipe((0,St.U)(xe=>new Ot(h.concat(xe.segments),xe.children)))})):zo(t)))}getChildConfig(e,t,r){return t.children?nt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?nt({routes:t._loadedRoutes,injector:t._loadedInjector}):function NA(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?nt(!0):nt(i.map(c=>{const h=X1(c,n);return es(function S6(n){return n&&Ou(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(E2(),M2())}(e,t,r).pipe((0,Xt.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(or(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function zA(n){return Ta(Lu(I2,3))}())):nt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return nt(r);if(i.numberOfChildren>1||!i.children[x])return Ta(new u.vHH(4e3,I2));i=i.children[x]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new xa(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Fn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[s]=t[h]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let c={};return Fn(t.children,(h,p)=>{c[p]=this.createSegmentGroup(e,h,r,i)}),new Ot(s,c)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,I2);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class T2{}class UA{constructor(e,t,r,i,s,c,h,p){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h,this.urlSerializer=p}recognize(){const e=jf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,x).pipe((0,St.U)(t=>{if(null===t)return null;const r=new xf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},x,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Oo(r,t),s=new CA(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=Tf(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,yn.D)(Object.keys(r.children)).pipe(Ti(i=>{const s=r.children[i],c=jm(t,i);return this.processSegmentGroup(e,c,s,i)}),_r((i,s)=>i&&s?(i.push(...s),i):null),function g(n,e=!1){return(0,bn.e)((t,r)=>{let i=0;t.subscribe((0,pn.x)(r,s=>{const c=n(s,i++);(c||e)&&r.next(s),!c&&r.complete()}))})}(i=>null!==i),ko(null),C(),(0,St.U)(i=>{if(null===i)return null;const s=jA(i);return function sD(n){n.sort((e,t)=>e.value.outlet===x?-1:t.value.outlet===x?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return(0,yn.D)(t).pipe(Ti(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,s)),ds(c=>!!c),js(c=>{if(Pa(c))return T6(r,i,s)?nt([]):nt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!Gf(t,r,i,s))return nt(null);let c;if("**"===t.path){const h=i.length>0?fs(i).parameters:{},p=$f(r)+i.length;c=nt({snapshot:new xf(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wf(t),Di(t),t.component??t._loadedComponent??null,t,GA(r),p,t9(t),p),consumedSegments:[],remainingSegments:[]})}else c=S2(r,t,i,e).pipe((0,St.U)(({matched:h,consumedSegments:p,remainingSegments:v,parameters:b})=>{if(!h)return null;const M=$f(r)+p.length;return{snapshot:new xf(p,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wf(t),Di(t),t.component??t._loadedComponent??null,t,GA(r),M,t9(t),M),consumedSegments:p,remainingSegments:v}}));return c.pipe(zn(h=>{if(null===h)return nt(null);const{snapshot:p,consumedSegments:v,remainingSegments:b}=h;e=t._injector??e;const M=t._loadedInjector??e,T=function oD(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:N,slicedSegments:R}=jf(r,v,b,T.filter($=>void 0===$.redirectTo),this.relativeLinkResolution);if(0===R.length&&N.hasChildren())return this.processChildren(M,T,N).pipe((0,St.U)($=>null===$?null:[new Oo(p,$)]));if(0===T.length&&0===R.length)return nt([new Oo(p,[])]);const V=Di(t)===s;return this.processSegment(M,T,N,R,V?x:s).pipe((0,St.U)($=>null===$?null:[new Oo(p,$)]))}))}}function Xm(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function jA(n){const e=[],t=new Set;for(const r of n){if(!Xm(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=jA(r.children);e.push(new Oo(r.value,i))}return e.filter(r=>!t.has(r))}function GA(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function $f(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Wf(n){return n.data||{}}function t9(n){return n.resolve||{}}function r9(n){return"string"==typeof n.title||null===n.title}function qf(n){return zn(e=>{const t=n(e);return t?(0,yn.D)(t).pipe((0,St.U)(()=>e)):nt(e)})}let Zf=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===x);return r}getResolvedTitleForRoute(t){return t.data[k]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(i9)},providedIn:"root"}),n})(),i9=(()=>{class n extends Zf{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(zs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KA{}class s9 extends class It{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Fu=new u.OlP("",{providedIn:"root",factory:()=>({})}),Kf=new u.OlP("ROUTES");let k6=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return nt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=es(t.loadComponent()).pipe(or(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),E(()=>{this.componentLoaders.delete(t)})),i=new u6(r,()=>new Cn.x).pipe(Yr());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return nt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,St.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let p,v,b=!1;Array.isArray(h)?v=h:(p=h.create(t).injector,v=xi(p.get(Kf,[],u.XFs.Self|u.XFs.Optional)));return{routes:v.map(E6),injector:p}}),E(()=>{this.childrenLoaders.delete(r)})),c=new u6(s,()=>new Cn.x).pipe(Yr());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return es(t()).pipe((0,Xt.z)(r=>r instanceof u.YKP||Array.isArray(r)?nt(r):(0,yn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class YA{}class c9{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function QA(n){throw n}function cD(n,e,t){return e.parse("/")}const l9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},u9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function h9(){const n=(0,u.f3M)(Cm),e=(0,u.f3M)(Tn),t=(0,u.f3M)(Se),r=(0,u.f3M)(u.zs3),i=(0,u.f3M)(u.Sil),s=(0,u.f3M)(Kf,{optional:!0})??[],c=(0,u.f3M)(Fu,{optional:!0})??{},h=(0,u.f3M)(i9),p=(0,u.f3M)(Zf,{optional:!0}),v=(0,u.f3M)(YA,{optional:!0}),b=(0,u.f3M)(KA,{optional:!0}),M=new sn(null,n,e,t,r,i,xi(s));return v&&(M.urlHandlingStrategy=v),b&&(M.routeReuseStrategy=b),M.titleStrategy=p??h,function ec(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,M),M}let sn=(()=>{class n{constructor(t,r,i,s,c,h,p){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Cn.x,this.errorHandler=QA,this.malformedUriErrorHandler=cD,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>nt(void 0),this.urlHandlingStrategy=new c9,this.routeReuseStrategy=new s9,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(k6),this.configLoader.onLoadEndListener=T=>this.triggerEvent(new _A(T)),this.configLoader.onLoadStartListener=T=>this.triggerEvent(new Nu(T)),this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const M=c.get(u.R0b);this.isNgZoneEnabled=M instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function f6(){return new xa(new Ot([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=b2(this.currentUrlTree,this.rootComponentType),this.transitions=new Lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Zr(i=>0!==i.id),(0,St.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),zn(i=>{let s=!1,c=!1;return nt(i).pipe(or(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),zn(h=>{const p=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return d9(h.source)&&(this.browserUrlTree=h.extractedUrl),nt(h).pipe(zn(M=>{const T=this.transitions.getValue();return r.next(new C6(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),T!==this.transitions.getValue()?Ji.E:Promise.resolve(M)}),function HA(n,e,t,r){return zn(i=>function FA(n,e,t,r,i){return new VA(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,St.U)(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),or(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},i.urlAfterRedirects=M.urlAfterRedirects}),function $A(n,e,t,r,i,s){return(0,Xt.z)(c=>function BA(n,e,t,r,i,s,c="emptyOnly",h="legacy"){return new UA(n,e,t,r,i,c,h,s).recognize().pipe(zn(p=>null===p?function Fo(n){return new Ir.y(e=>e.error(n))}(new T2):nt(p)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,s).pipe((0,St.U)(h=>({...c,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),or(M=>{if(i.targetSnapshot=M.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const N=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(N,M)}this.browserUrlTree=M.urlAfterRedirects}const T=new pA(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(T)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:T,extractedUrl:N,source:R,restoredState:V,extras:$}=h,fe=new C6(T,this.serializeUrl(N),R,V);r.next(fe);const xe=b2(N,this.rootComponentType).snapshot;return nt(i={...h,targetSnapshot:xe,urlAfterRedirects:N,extras:{...$,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),Ji.E}),or(h=>{const p=new mA(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,St.U)(h=>i={...h,guards:zf(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function IA(n,e){return(0,Xt.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?nt({...t,guardsResult:!0}):function TA(n,e,t,r){return(0,yn.D)(n).pipe((0,Xt.z)(i=>function iD(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?nt(s.map(h=>{const p=w2(e)??i,v=X1(h,p);return es(function Hf(n){return n&&Ou(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):p.runInContext(()=>v(n,e,t,r))).pipe(ds())})).pipe(E2()):nt(!0)}(i.component,i.route,t,e,r)),ds(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Xt.z)(h=>h&&function Vf(n){return"boolean"==typeof n}(h)?function Bf(n,e,t,r){return(0,yn.D)(e).pipe(Ti(i=>vu(function Zm(n,e){return null!==n&&e&&e(new Kx(n)),nt(!0)}(i.route.parent,r),function xA(n,e){return null!==n&&e&&e(new Qx(n)),nt(!0)}(i.route,r),function Km(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function $m(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>_u(()=>nt(c.guards.map(p=>{const v=w2(c.node)??t,b=X1(p,v);return es(function Wm(n){return n&&Ou(n.canActivateChild)}(b)?b.canActivateChild(r,n):v.runInContext(()=>b(r,n))).pipe(ds())})).pipe(E2())));return nt(s).pipe(E2())}(n,i.path,t),function DA(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return nt(!0);const i=r.map(s=>_u(()=>{const c=w2(e)??t,h=X1(s,c);return es(function J1(n){return n&&Ou(n.canActivate)}(h)?h.canActivate(e,n):c.runInContext(()=>h(e,n))).pipe(ds())}));return nt(i).pipe(E2())}(n,i.route,t))),ds(i=>!0!==i,!0))}(r,s,n,e):nt(h)),(0,St.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),or(h=>{if(i.guardsResult=h.guardsResult,Gs(h.guardsResult))throw Nf(0,h.guardsResult);const p=new gA(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),Zr(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),qf(h=>{if(h.guards.canActivateChecks.length)return nt(h).pipe(or(p=>{const v=new vA(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),zn(p=>{let v=!1;return nt(p).pipe(function ms(n,e){return(0,Xt.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return nt(t);let s=0;return(0,yn.D)(i).pipe(Ti(c=>function WA(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!r9(i)&&(s[k]=i.title),function n9(n,e,t,r){const i=function qA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return nt({});const s={};return(0,yn.D)(i).pipe((0,Xt.z)(c=>function ZA(n,e,t,r){const i=w2(e)??r,s=X1(n,i);return es(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[c],e,t,r).pipe(ds(),or(h=>{s[c]=h}))),j1(1),function _(n){return(0,St.U)(()=>n)}(s),js(c=>Pa(c)?Ji.E:Ta(c)))}(s,n,e,r).pipe((0,St.U)(c=>(n._resolvedData=c,n.data=Tf(n,t).resolve,i&&r9(i)&&(n.data[k]=i.title),null)))}(c.route,r,n,e)),or(()=>s++),j1(1),(0,Xt.z)(c=>s===i.length?nt(t):Ji.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),or({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),or(p=>{const v=new ka(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}))}),qf(h=>{const p=v=>{const b=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(v.routeConfig).pipe(or(M=>{v.component=M}),(0,St.U)(()=>{})));for(const M of v.children)b.push(...p(M));return b};return H1(p(h.targetSnapshot.root)).pipe(ko(),Us(1))}),qf(()=>this.afterPreactivation()),(0,St.U)(h=>{const p=function zm(n,e,t){const r=Ru(n,e._root,t?t._root:void 0);return new Ws(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:p}}),or(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,St.U)(r=>(new Of(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),or({next(){s=!0},complete(){s=!0}}),E(()=>{s||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),js(h=>{if(c=!0,b6(h)){Fm(h)||(this.navigated=!0,this.restoreHistory(i,!0));const p=new Du(i.id,this.serializeUrl(i.extractedUrl),h.message,h.cancellationCode);if(r.next(p),Fm(h)){const v=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),b={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||d9(i.source)};this.scheduleNavigation(v,"imperative",null,b,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const p=new Nm(i.id,this.serializeUrl(i.extractedUrl),h,i.targetSnapshot??void 0);r.next(p);try{i.resolve(this.errorHandler(h))}catch(v){i.reject(v)}}return Ji.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const h={...s};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(i.state=h)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(E6),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:c,queryParamsHandling:h,preserveFragment:p}=r,v=i||this.routerState.root,b=p?this.currentUrlTree.fragment:c;let M=null;switch(h){case"merge":M={...this.currentUrlTree.queryParams,...s};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=s||null}return null!==M&&(M=this.removeEmptyProps(M)),Su(v,this.currentUrlTree,t,M,b??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Gs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Yf(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...l9}:!1===r?{...u9}:r,Gs(t))return Cu(this.currentUrlTree,t,i);const s=this.parseUrl(t);return Cu(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Na(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,c){if(this.disposed)return Promise.resolve(!1);let h,p,v;c?(h=c.resolve,p=c.reject,v=c.promise):v=new Promise((T,N)=>{h=T,p=N});const b=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),M=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:b,targetPageId:M,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:h,reject:p,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(T=>Promise.reject(T))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const s=new Du(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return h9()},providedIn:"root"}),n})();function d9(n){return"imperative"!==n}let za=(()=>{class n{constructor(t,r,i,s,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Cn.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(sn),u.Y36(Qr),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})(),L6=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Cn.x,this.subscription=t.events.subscribe(s=>{s instanceof Na&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,c){return!!(0!==t||r||i||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(sn),u.Y36(Qr),u.Y36(re))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})(),XA=(()=>{class n{constructor(t,r,i,s,c,h){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=c,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=t.events.subscribe(p=>{p instanceof Na&&this.update()})}ngAfterContentInit(){nt(this.links.changes,this.linksWithHrefs.changes,nt(null)).pipe((0,B1.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,yn.D)(t).pipe((0,B1.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function JA(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(sn),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(za,8),u.Y36(L6,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,za,5),u.Suo(i,L6,5)),2&t){let s;u.iGM(s=u.CRH())&&(r.links=s),u.iGM(s=u.CRH())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.TTD]}),n})();class Qf{}let x2=(()=>{class n{constructor(t,r,i,s,c){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Zr(t=>t instanceof Na),Ti(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,u.MMx)(s.providers,t,`Route: ${s.path}`));const c=s._injector??t,h=s._loadedInjector??c;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(c,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,yn.D)(i).pipe((0,B1.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):nt(null);const s=i.pipe((0,Xt.z)(c=>null===c?nt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,yn.D)([s,c]).pipe((0,B1.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sn),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(Qf),u.LFG(k6))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xf=new u.OlP("");let Jf=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof C6?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Na&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new yA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function D2(n,e){return{\u0275kind:n,\u0275providers:e}}function t8(n){return[{provide:Kf,multi:!0,useValue:n}]}function f9(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(sn),i=n.get(p9);1===n.get(P6)&&r.initialNavigation(),n.get(O6,null,u.XFs.Optional)?.setUpPreloading(),n.get(Xf,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const p9=new u.OlP("",{factory:()=>new Cn.x}),P6=new u.OlP("",{providedIn:"root",factory:()=>1});const O6=new u.OlP("");function dD(n){return D2(0,[{provide:O6,useExisting:x2},{provide:Qf,useExisting:n}])}const nc=new u.OlP("ROUTER_FORROOT_GUARD"),_9=[Se,{provide:Cm,useClass:mf},{provide:sn,useFactory:h9},Tn,{provide:Qr,useFactory:function e8(n){return n.routerState.root},deps:[sn]},k6];function y9(){return new u.PXZ("Router",sn)}let Vu=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[_9,[],t8(t),{provide:nc,useFactory:n8,deps:[[sn,new u.FiY,new u.tp0]]},{provide:Fu,useValue:r||{}},r?.useHash?{provide:re,useClass:Xe}:{provide:re,useClass:et},{provide:Xf,useFactory:()=>{const n=(0,u.f3M)(sn),e=(0,u.f3M)(z0),t=(0,u.f3M)(Fu);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Jf(n,e,t)}},r?.preloadingStrategy?dD(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:y9},r?.initialNavigation?Vo(r):[],[{provide:F6,useFactory:f9},{provide:u.tb,multi:!0,useExisting:F6}]]}}static forChild(t){return{ngModule:n,providers:[t8(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(nc,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Lf]}),n})();function n8(n){return"guarded"}function Vo(n){return["disabled"===n.initialNavigation?D2(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(sn);return()=>{e.setUpLocationChangeListener()}}},{provide:P6,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?D2(2,[{provide:P6,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(B,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(s=>{const c=e.get(sn),h=e.get(p9);(function i(s){e.get(sn).events.pipe(Zr(h=>h instanceof Na||h instanceof Du||h instanceof Nm),(0,St.U)(h=>h instanceof Na||h instanceof Du&&(0===h.code||1===h.code)&&null),Zr(h=>null!==h),Us(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),c.afterPreactivation=()=>(s(!0),r||h.closed?nt(void 0):h),c.initialNavigation()}))}}]).\u0275providers:[]]}const F6=new u.OlP("");var oe=P(5861);let nb=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),qs=(()=>{class n extends nb{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Ni=new u.OlP("NgValueAccessor"),r8={provide:Ni,useExisting:(0,u.Gpc)(()=>Hu),multi:!0};let Hu=(()=>{class n extends qs{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[u._Bn([r8]),u.qOj]}),n})();const i8={provide:Ni,useExisting:(0,u.Gpc)(()=>Ho),multi:!0},rb=new u.OlP("CompositionEventMode");let Ho=(()=>{class n extends nb{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fD(){const n=ie()?ie().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(rb,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[u._Bn([i8]),u.qOj]}),n})();function Fa(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function s8(n){return null!=n&&"number"==typeof n.length}const Xr=new u.OlP("NgValidators"),Va=new u.OlP("NgAsyncValidators"),pD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Kn{static min(e){return function o8(n){return e=>{if(Fa(e.value)||Fa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function E9(n){return e=>{if(Fa(e.value)||Fa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function V6(n){return Fa(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function sb(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function ob(n){return Fa(n.value)||pD.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function ab(n){return e=>Fa(e.value)||!s8(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function cb(n){return e=>s8(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function lb(n){if(!n)return a8;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Fa(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return M9(e)}static composeAsync(e){return U6(e)}}function a8(n){return null}function ub(n){return null!=n}function hb(n){return(0,u.QGY)(n)?(0,yn.D)(n):n}function db(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function fb(n,e){return e.map(t=>t(n))}function H6(n){return n.map(e=>function Ha(n){return!n.validate}(e)?e:t=>e.validate(t))}function M9(n){if(!n)return null;const e=n.filter(ub);return 0==e.length?null:function(t){return db(fb(t,e))}}function B6(n){return null!=n?M9(H6(n)):null}function U6(n){if(!n)return null;const e=n.filter(ub);return 0==e.length?null:function(t){return function w9(...n){const e=(0,Yi.jO)(n),{args:t,keys:r}=lf(n),i=new Ir.y(s=>{const{length:c}=t;if(!c)return void s.complete();const h=new Array(c);let p=c,v=c;for(let b=0;b<c;b++){let M=!1;(0,Do.Xf)(t[b]).subscribe((0,pn.x)(s,T=>{M||(M=!0,v--),h[b]=T},()=>p--,void 0,()=>{(!p||!M)&&(v||s.next(r?df(r,h):h),s.complete())}))}});return e?i.pipe(xo(e)):i}(fb(t,e).map(hb)).pipe((0,St.U)(db))}}function j6(n){return null!=n?U6(H6(n)):null}function G6(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function S9(n){return n._rawValidators}function Bo(n){return n._rawAsyncValidators}function $6(n){return n?Array.isArray(n)?n:[n]:[]}function W6(n,e){return Array.isArray(n)?n.includes(e):n===e}function I9(n,e){const t=$6(e);return $6(n).forEach(i=>{W6(t,i)||t.push(i)}),t}function c8(n,e){return $6(e).filter(t=>!W6(n,t))}class T9{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=B6(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=j6(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Jr extends T9{get formDirective(){return null}get path(){return null}}class vs extends T9{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rc{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Uo=(()=>{class n extends rc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vs,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})(),_s=(()=>{class n extends rc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Jr,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),n})();const Gu="VALID",N2="INVALID",ic="PENDING",$u="DISABLED";function u8(n){return(Wu(n)?n.validators:n)||null}function O9(n){return Array.isArray(n)?B6(n):n||null}function Z6(n,e){return(Wu(e)?e.asyncValidators:n)||null}function z9(n){return Array.isArray(n)?j6(n):n||null}function Wu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function F9(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[t])throw new u.vHH(1001,"")}function V9(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.vHH(1002,"")})}class qu{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=O9(this._rawValidators),this._composedAsyncValidatorFn=z9(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Gu}get invalid(){return this.status===N2}get pending(){return this.status==ic}get disabled(){return this.status===$u}get enabled(){return this.status!==$u}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=O9(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=z9(e)}addValidators(e){this.setValidators(I9(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(I9(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(c8(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(c8(e,this._rawAsyncValidators))}hasValidator(e){return W6(this._rawValidators,e)}hasAsyncValidator(e){return W6(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ic,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$u,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gu,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gu||this.status===ic)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$u:Gu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ic,this._hasOwnPendingAsyncValidator=!0;const t=hb(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?$u:this.errors?N2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ic)?ic:this._anyControlsHaveStatus(N2)?N2:Gu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class k2 extends qu{constructor(e,t,r){super(u8(t),Z6(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){V9(this,0,e),Object.keys(e).forEach(r=>{F9(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class K6 extends k2{}function Q6(n,e){h8(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function _b(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ku(n,e)})}(n,e),function d8(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function yb(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ku(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function vb(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Zu(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),R2(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function X6(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function h8(n,e){const t=S9(n);null!==e.validator?n.setValidators(G6(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Bo(n);null!==e.asyncValidator?n.setAsyncValidators(G6(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();X6(e._rawValidators,i),X6(e._rawAsyncValidators,i)}function R2(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=S9(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=Bo(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return X6(e._rawValidators,r),X6(e._rawAsyncValidators,r),t}function Ku(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function m8(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function U9(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const e4=class extends qu{constructor(e=null,t,r){super(u8(t),Z6(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=U9(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){m8(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){m8(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){U9(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Ba=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Eb={provide:Ni,useExisting:(0,u.Gpc)(()=>_8),multi:!0};let _8=(()=>{class n extends qs{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([Eb]),u.qOj]}),n})(),G9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const y8=new u.OlP("NgModelWithFormControlWarning"),Ib={provide:Jr,useExisting:(0,u.Gpc)(()=>hr)};let hr=(()=>{class n extends Jr{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(R2(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Q6(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Zu(t.control||null,t,!1),function t3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function e3(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Zu(r||null,t),(n=>n instanceof e4)(i)&&(Q6(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Yu(n,e){h8(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function CD(n,e){return R2(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){h8(this.form,this),this._oldForm&&R2(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Xr,10),u.Y36(Va,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Ib]),u.qOj,u.TTD]}),n})();const C8={provide:vs,useExisting:(0,u.Gpc)(()=>Li)};let Li=(()=>{class n extends vs{constructor(t,r,i,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ys(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Ho?t=s:function B9(n){return Object.getPrototypeOf(n.constructor)===qs}(s)?r=s:i=s}),i||r||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function J6(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Y6(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(Jr,13),u.Y36(Xr,10),u.Y36(Va,10),u.Y36(Ni,10),u.Y36(y8,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([C8]),u.qOj,u.TTD]}),n})();const O2={provide:Ni,useExisting:(0,u.Gpc)(()=>Go),multi:!0};function oc(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Go=(()=>{class n extends qs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=oc(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function z2(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([O2]),u.qOj]}),n})(),ac=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(oc(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(Go,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const F2={provide:Ni,useExisting:(0,u.Gpc)(()=>a3),multi:!0};function cc(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let a3=(()=>{class n extends qs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,c)=>{s._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const c=s;for(let h=0;h<c.length;h++){const v=this._getOptionValue(c[h].value);i.push(v)}}else{const c=r.options;for(let h=0;h<c.length;h++){const p=c[h];if(p.selected){const v=this._getOptionValue(p.value);i.push(v)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function V2(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([F2]),u.qOj]}),n})(),A8=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(cc(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(cc(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(a3,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),h3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[G9]}),n})(),Y9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[h3]}),n})(),T8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:y8,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[h3]}),n})();class d3 extends qu{constructor(e,t,r){super(u8(t),Z6(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){V9(this,0,e),e.forEach((r,i)=>{F9(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function x8(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Ga=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return x8(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new k2(i,s)}record(t,r=null){const i=this._reduceControls(t);return new K6(i,r)}control(t,r,i){let s={};return this.useNonNullable?(x8(r)?s=r:(s.validators=r,s.asyncValidators=i),new e4(t,{...s,nonNullable:!0})):new e4(t,r,i)}array(t,r,i){const s=t.map(c=>this._createControl(c));return new d3(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof e4||t instanceof qu?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:T8}),n})();var f3=P(8247),j=P(2090),mt=P(9681),gi=P(1877),Pi=P(4859);class X9{constructor(e,t){this.email=e,this.id=t}get nom(){return this.email.split("@")[0]}}(0,mt.registerVersion)("firebase","9.14.0","app");var lc=P(8766);const D8="@firebase/installations",p3="0.5.16",Ob=`w:${p3}`,tg="FIS_v2",$o=new j.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ig(n){return n instanceof j.ZR&&n.code.includes("request-failed")}function m3({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function sg(n){return{token:n.token,requestStatus:2,expiresIn:Vb(n.expiresIn),creationTime:Date.now()}}function g3(n,e){return v3.apply(this,arguments)}function v3(){return(v3=(0,oe.Z)(function*(n,e){const r=(yield e.json()).error;return $o.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function uc({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function og(n,{refreshToken:e}){const t=uc(n);return t.append("Authorization",function ag(n){return`${tg} ${n}`}(e)),t}function k8(n){return _3.apply(this,arguments)}function _3(){return(_3=(0,oe.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Vb(n){return Number(n.replace("s","000"))}function xD(n,e){return y3.apply(this,arguments)}function y3(){return(y3=(0,oe.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=m3(n),i=uc(n),s=e.getImmediate({optional:!0});if(s){const v=yield s.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const h={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:tg,appId:n.appId,sdkVersion:Ob})},p=yield k8(()=>fetch(r,h));if(p.ok){const v=yield p.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:sg(v.authToken)}}throw yield g3("Create Installation",p)})).apply(this,arguments)}function C3(n){return new Promise(e=>{setTimeout(e,n)})}const Hb=/^[cdef][\w-]{21}$/;function Zs(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function As(n){return function Cs(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Hb.test(t)?t:""}catch{return""}}function Pr(n){return`${n.appName}!${n.appId}`}const hc=new Map;function L8(n,e){const t=Pr(n);cg(t,e),function jb(n,e){const t=function H2(){return!Wo&&"BroadcastChannel"in self&&(Wo=new BroadcastChannel("[Firebase] FID Change"),Wo.onmessage=n=>{cg(n.data.key,n.data.fid)}),Wo}();t&&t.postMessage({key:n,fid:e}),function lg(){0===hc.size&&Wo&&(Wo.close(),Wo=null)}()}(t,e)}function cg(n,e){const t=hc.get(n);if(t)for(const r of t)r(e)}let Wo=null;const $a="firebase-installations-store";let A3=null;function B2(){return A3||(A3=(0,lc.X3)("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore($a)}})),A3}function b3(n,e){return w3.apply(this,arguments)}function w3(){return(w3=(0,oe.Z)(function*(n,e){const t=Pr(n),i=(yield B2()).transaction($a,"readwrite"),s=i.objectStore($a),c=yield s.get(t);return yield s.put(e,t),yield i.done,(!c||c.fid!==e.fid)&&L8(n,e.fid),e})).apply(this,arguments)}function E3(n){return i4.apply(this,arguments)}function i4(){return(i4=(0,oe.Z)(function*(n){const e=Pr(n),r=(yield B2()).transaction($a,"readwrite");yield r.objectStore($a).delete(e),yield r.done})).apply(this,arguments)}function Wa(n,e){return s4.apply(this,arguments)}function s4(){return(s4=(0,oe.Z)(function*(n,e){const t=Pr(n),i=(yield B2()).transaction($a,"readwrite"),s=i.objectStore($a),c=yield s.get(t),h=e(c);return void 0===h?yield s.delete(t):yield s.put(h,t),yield i.done,h&&(!c||c.fid!==h.fid)&&L8(n,h.fid),h})).apply(this,arguments)}function M3(n){return S3.apply(this,arguments)}function S3(){return(S3=(0,oe.Z)(function*(n){let e;const t=yield Wa(n.appConfig,r=>{const i=hg(r),s=dg(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function hg(n){return gg(n||{fid:Zs(),registrationStatus:0})}function dg(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject($o.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function fg(n,e){return I3.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:pg(n)}:{installationEntry:e}}function I3(){return(I3=(0,oe.Z)(function*(n,e){try{const t=yield xD(n,e);return b3(n.appConfig,t)}catch(t){throw ig(t)&&409===t.customData.serverCode?yield E3(n.appConfig):yield b3(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function pg(n){return P8.apply(this,arguments)}function P8(){return(P8=(0,oe.Z)(function*(n){let e=yield mg(n.appConfig);for(;1===e.registrationStatus;)yield C3(100),e=yield mg(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield M3(n);return r||t}return e})).apply(this,arguments)}function mg(n){return Wa(n,e=>{if(!e)throw $o.create("installation-not-found");return gg(e)})}function gg(n){return function $b(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Wb(n,e){return O8.apply(this,arguments)}function O8(){return(O8=(0,oe.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=qb(n,t),i=og(n,t),s=e.getImmediate({optional:!0});if(s){const v=yield s.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const h={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Ob,appId:n.appId}})},p=yield k8(()=>fetch(r,h));if(p.ok)return sg(yield p.json());throw yield g3("Generate Auth Token",p)})).apply(this,arguments)}function qb(n,{fid:e}){return`${m3(n)}/${e}/authTokens:generate`}function z8(n){return F8.apply(this,arguments)}function F8(){return(F8=(0,oe.Z)(function*(n,e=!1){let t;const r=yield Wa(n.appConfig,s=>{if(!_g(s))throw $o.create("not-registered");const c=s.authToken;if(!e&&Yb(c))return s;if(1===c.requestStatus)return t=Zb(n,e),s;{if(!navigator.onLine)throw $o.create("app-offline");const h=Xb(s);return t=Kb(n,h),h}});return t?yield t:r.authToken})).apply(this,arguments)}function Zb(n,e){return V8.apply(this,arguments)}function V8(){return(V8=(0,oe.Z)(function*(n,e){let t=yield vg(n.appConfig);for(;1===t.authToken.requestStatus;)yield C3(100),t=yield vg(n.appConfig);const r=t.authToken;return 0===r.requestStatus?z8(n,e):r})).apply(this,arguments)}function vg(n){return Wa(n,e=>{if(!_g(e))throw $o.create("not-registered");return function yg(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Kb(n,e){return H8.apply(this,arguments)}function H8(){return(H8=(0,oe.Z)(function*(n,e){try{const t=yield Wb(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield b3(n.appConfig,r),t}catch(t){if(!ig(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield b3(n.appConfig,r)}else yield E3(n.appConfig);throw t}})).apply(this,arguments)}function _g(n){return void 0!==n&&2===n.registrationStatus}function Yb(n){return 2===n.requestStatus&&!function Qb(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function Xb(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function T3(){return(T3=(0,oe.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield M3(e);return r?r.catch(console.error):z8(e).catch(console.error),t.fid})).apply(this,arguments)}function x3(){return(x3=(0,oe.Z)(function*(n,e=!1){const t=n;return yield bg(t),(yield z8(t,e)).token})).apply(this,arguments)}function bg(n){return D3.apply(this,arguments)}function D3(){return(D3=(0,oe.Z)(function*(n){const{registrationPromise:e}=yield M3(n);e&&(yield e)})).apply(this,arguments)}function Sg(n){return $o.create("missing-app-config-values",{valueName:n})}const k3="installations",Ig=n=>{const e=n.getProvider("app").getImmediate(),t=function U2(n){if(!n||!n.options)throw Sg("App Configuration");if(!n.name)throw Sg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Sg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,mt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},Tg=n=>{const e=n.getProvider("app").getImmediate(),t=(0,mt._getProvider)(e,k3).getImmediate();return{getId:()=>function Cg(n){return T3.apply(this,arguments)}(t),getToken:i=>function Ag(n){return x3.apply(this,arguments)}(t,i)}};(function RD(){(0,mt._registerComponent)(new Pi.wA(k3,Ig,"PUBLIC")),(0,mt._registerComponent)(new Pi.wA("installations-internal",Tg,"PRIVATE"))})(),(0,mt.registerVersion)(D8,p3),(0,mt.registerVersion)(D8,p3,"esm2017");const ft="@firebase/remote-config",vi=new j.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Pg{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,oe.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),c=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&c.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(c),s})()}}function Og(n=navigator){return n.languages&&n.languages[0]||n.language}class zg{constructor(e,t,r,i,s,c){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=c}fetch(e){var t=this;return(0,oe.Z)(function*(){var r,i,s;const[c,h]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),v=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,b={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},M={sdk_version:t.sdkVersion,app_instance_id:c,app_instance_id_token:h,app_id:t.appId,language_code:Og()},T={method:"POST",headers:b,body:JSON.stringify(M)},N=fetch(v,T),R=new Promise((Te,Je)=>{e.signal.addEventListener(()=>{const Qe=new Error("The operation was aborted.");Qe.name="AbortError",Je(Qe)})});let V;try{yield Promise.race([N,R]),V=yield N}catch(Te){let Je="fetch-client-network";throw"AbortError"===(null===(r=Te)||void 0===r?void 0:r.name)&&(Je="fetch-timeout"),vi.create(Je,{originalErrorMessage:null===(i=Te)||void 0===i?void 0:i.message})}let $=V.status;const fe=V.headers.get("ETag")||void 0;let xe,Oe;if(200===V.status){let Te;try{Te=yield V.json()}catch(Je){throw vi.create("fetch-client-parse",{originalErrorMessage:null===(s=Je)||void 0===s?void 0:s.message})}xe=Te.entries,Oe=Te.state}if("INSTANCE_STATE_UNSPECIFIED"===Oe?$=500:"NO_CHANGE"===Oe?$=304:("NO_TEMPLATE"===Oe||"EMPTY_CONFIG"===Oe)&&(xe={}),304!==$&&200!==$)throw vi.create("fetch-status",{httpStatus:$});return{status:$,eTag:fe,config:xe}})()}}class a4{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,oe.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,oe.Z)(function*(){yield function tw(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(vi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function o4(n){if(!(n instanceof j.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const c={throttleEndTimeMillis:Date.now()+(0,j.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(c),i.attemptFetch(e,c)}})()}}class iw{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function c4(n,e){var t;const r=n.target.error||void 0;return vi.create(e,{originalErrorMessage:r&&(null===(t=r)||void 0===t?void 0:t.message)})}const qa="app_namespace_store";class ow{constructor(e,t,r,i=function Vg(){return new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(c4(i,"storage-open"))},r.onsuccess=i=>{n(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(qa,{keyPath:"compositeKey"})}}catch(r){e(vi.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,oe.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var c;const p=r.transaction([qa],"readonly").objectStore(qa),v=t.createCompositeKey(e);try{const b=p.get(v);b.onerror=M=>{s(c4(M,"storage-get"))},b.onsuccess=M=>{const T=M.target.result;i(T?T.value:void 0)}}catch(b){s(vi.create("storage-get",{originalErrorMessage:null===(c=b)||void 0===c?void 0:c.message}))}})})()}set(e,t){var r=this;return(0,oe.Z)(function*(){const i=yield r.openDbPromise;return new Promise((s,c)=>{var h;const v=i.transaction([qa],"readwrite").objectStore(qa),b=r.createCompositeKey(e);try{const M=v.put({compositeKey:b,value:t});M.onerror=T=>{c(c4(T,"storage-set"))},M.onsuccess=()=>{s()}}catch(M){c(vi.create("storage-set",{originalErrorMessage:null===(h=M)||void 0===h?void 0:h.message}))}})})()}delete(e){var t=this;return(0,oe.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var c;const p=r.transaction([qa],"readwrite").objectStore(qa),v=t.createCompositeKey(e);try{const b=p.delete(v);b.onerror=M=>{s(c4(M,"storage-delete"))},b.onsuccess=()=>{i()}}catch(b){s(vi.create("storage-delete",{originalErrorMessage:null===(c=b)||void 0===c?void 0:c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class aw{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,oe.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const c=yield r;c&&(e.lastSuccessfulFetchTimestampMillis=c);const h=yield i;h&&(e.activeConfig=h)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function HD(){return H3.apply(this,arguments)}function H3(){return(H3=(0,oe.Z)(function*(){if(!(0,j.hl)())return!1;try{return yield(0,j.eu)()}catch{return!1}})).apply(this,arguments)}!function VD(){(0,mt._registerComponent)(new Pi.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw vi.create("registration-window");if(!(0,j.hl)())throw vi.create("indexed-db-unavailable");const{projectId:s,apiKey:c,appId:h}=r.options;if(!s)throw vi.create("registration-project-id");if(!c)throw vi.create("registration-api-key");if(!h)throw vi.create("registration-app-id");const p=new ow(h,r.name,t=t||"firebase"),v=new aw(p),b=new gi.Yd(ft);b.logLevel=gi.in.ERROR;const M=new zg(i,mt.SDK_VERSION,t,s,c,h),T=new a4(M,p),N=new Pg(T,p,v,b),R=new iw(r,N,v,p,b);return function Rg(n){const e=(0,j.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(R),R},"PUBLIC").setMultipleInstances(!0)),(0,mt.registerVersion)(ft,"0.3.15"),(0,mt.registerVersion)(ft,"0.3.15","esm2017")}();const B3="/firebase-messaging-sw.js",cw="/firebase-cloud-messaging-push-scope",Bg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",G2="google.c.a.c_id",lw="google.c.a.c_l",uw="google.c.a.ts",hw="google.c.a.e";var $2=(()=>{return(n=$2||($2={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",$2;var n})();function Ks(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dw(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const U8="fcm_token_details_db",jg="fcm_token_object_Store";function Gg(n){return j8.apply(this,arguments)}function j8(){return j8=(0,oe.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(U8))return null;let e=null;return(yield(0,lc.X3)(U8,5,{upgrade:(r=(0,oe.Z)(function*(i,s,c,h){var p;if(s<2||!i.objectStoreNames.contains(jg))return;const v=h.objectStore(jg),b=yield v.index("fcmSenderId").get(n);if(yield v.clear(),b)if(2===s){const M=b;if(!M.auth||!M.p256dh||!M.endpoint)return;e={token:M.fcmToken,createTime:null!==(p=M.createTime)&&void 0!==p?p:Date.now(),subscriptionOptions:{auth:M.auth,p256dh:M.p256dh,endpoint:M.endpoint,swScope:M.swScope,vapidKey:"string"==typeof M.vapidKey?M.vapidKey:Ks(M.vapidKey)}}}else if(3===s){const M=b;e={token:M.fcmToken,createTime:M.createTime,subscriptionOptions:{auth:Ks(M.auth),p256dh:Ks(M.p256dh),endpoint:M.endpoint,swScope:M.swScope,vapidKey:Ks(M.vapidKey)}}}else if(4===s){const M=b;e={token:M.fcmToken,createTime:M.createTime,subscriptionOptions:{auth:Ks(M.auth),p256dh:Ks(M.p256dh),endpoint:M.endpoint,swScope:M.swScope,vapidKey:Ks(M.vapidKey)}}}}),function(s,c,h,p){return r.apply(this,arguments)})})).close(),yield(0,lc.Lj)(U8),yield(0,lc.Lj)("fcm_vapid_details_db"),yield(0,lc.Lj)("undefined"),$g(e)?e:null;var r}),j8.apply(this,arguments)}function $g(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const dc="firebase-messaging-store";let u4=null;function G8(){return u4||(u4=(0,lc.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(dc)}})),u4}function $8(n){return U3.apply(this,arguments)}function U3(){return(U3=(0,oe.Z)(function*(n){const e=Z8(n),r=yield(yield G8()).transaction(dc).objectStore(dc).get(e);if(r)return r;{const i=yield Gg(n.appConfig.senderId);if(i)return yield W8(n,i),i}})).apply(this,arguments)}function W8(n,e){return q8.apply(this,arguments)}function q8(){return(q8=(0,oe.Z)(function*(n,e){const t=Z8(n),i=(yield G8()).transaction(dc,"readwrite");return yield i.objectStore(dc).put(e,t),yield i.done,e})).apply(this,arguments)}function pw(n){return h4.apply(this,arguments)}function h4(){return(h4=(0,oe.Z)(function*(n){const e=Z8(n),r=(yield G8()).transaction(dc,"readwrite");yield r.objectStore(dc).delete(e),yield r.done})).apply(this,arguments)}function Z8({appConfig:n}){return n.appId}const Tr=new j.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function mw(n,e){return K8.apply(this,arguments)}function K8(){return(K8=(0,oe.Z)(function*(n,e){var t;const r=yield j3(n),i=Kg(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let c;try{c=yield(yield fetch(X8(n.appConfig),s)).json()}catch(h){throw Tr.create("token-subscribe-failed",{errorInfo:null===(t=h)||void 0===t?void 0:t.toString()})}if(c.error)throw Tr.create("token-subscribe-failed",{errorInfo:c.error.message});if(!c.token)throw Tr.create("token-subscribe-no-token");return c.token})).apply(this,arguments)}function gw(n,e){return Y8.apply(this,arguments)}function Y8(){return(Y8=(0,oe.Z)(function*(n,e){var t;const r=yield j3(n),i=Kg(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let c;try{c=yield(yield fetch(`${X8(n.appConfig)}/${e.token}`,s)).json()}catch(h){throw Tr.create("token-update-failed",{errorInfo:null===(t=h)||void 0===t?void 0:t.toString()})}if(c.error)throw Tr.create("token-update-failed",{errorInfo:c.error.message});if(!c.token)throw Tr.create("token-update-no-token");return c.token})).apply(this,arguments)}function Zg(n,e){return Q8.apply(this,arguments)}function Q8(){return(Q8=(0,oe.Z)(function*(n,e){var t;const i={method:"DELETE",headers:yield j3(n)};try{const c=yield(yield fetch(`${X8(n.appConfig)}/${e}`,i)).json();if(c.error)throw Tr.create("token-unsubscribe-failed",{errorInfo:c.error.message})}catch(s){throw Tr.create("token-unsubscribe-failed",{errorInfo:null===(t=s)||void 0===t?void 0:t.toString()})}})).apply(this,arguments)}function X8({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function j3(n){return G3.apply(this,arguments)}function G3(){return(G3=(0,oe.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function Kg({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Bg&&(i.web.applicationPubKey=r),i}const vw=6048e5;function Yg(n){return J8.apply(this,arguments)}function J8(){return(J8=(0,oe.Z)(function*(n){const e=yield _w(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ks(e.getKey("auth")),p256dh:Ks(e.getKey("p256dh"))},r=yield $8(n.firebaseDependencies);if(r){if(s5(r.subscriptionOptions,t))return Date.now()>=r.createTime+vw?t5(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield Zg(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return n5(n.firebaseDependencies,t)}return n5(n.firebaseDependencies,t)})).apply(this,arguments)}function Qg(n){return e5.apply(this,arguments)}function e5(){return(e5=(0,oe.Z)(function*(n){const e=yield $8(n.firebaseDependencies);e&&(yield Zg(n.firebaseDependencies,e.token),yield pw(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function t5(n,e){return d4.apply(this,arguments)}function d4(){return(d4=(0,oe.Z)(function*(n,e){try{const t=yield gw(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield W8(n.firebaseDependencies,r),t}catch(t){throw yield Qg(n),t}})).apply(this,arguments)}function n5(n,e){return f4.apply(this,arguments)}function f4(){return(f4=(0,oe.Z)(function*(n,e){const r={token:yield mw(n,e),createTime:Date.now(),subscriptionOptions:e};return yield W8(n,r),r.token})).apply(this,arguments)}function _w(n,e){return r5.apply(this,arguments)}function r5(){return(r5=(0,oe.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dw(e)})})).apply(this,arguments)}function s5(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function Xg(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Jg(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function W2(n,e){!e.data||(n.data=e.data)}(e,n),function ev(n,e){var t,r,i,s,c;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const h=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;h&&(n.fcmOptions.link=h);const p=null===(c=e.fcmOptions)||void 0===c?void 0:c.analytics_label;p&&(n.fcmOptions.analyticsLabel=p)}(e,n),e}function yw(n){return"object"==typeof n&&!!n&&G2 in n}function Cw(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function p4(n){return Tr.create("missing-app-config-values",{valueName:n})}Cw("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Cw("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Aw{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function tv(n){if(!n||!n.options)throw p4("App Configuration Object");if(!n.name)throw p4("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw p4(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function $3(n){return o5.apply(this,arguments)}function o5(){return(o5=(0,oe.Z)(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(B3,{scope:cw}),n.swRegistration.update().catch(()=>{})}catch(t){throw Tr.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function nv(n,e){return m4.apply(this,arguments)}function m4(){return(m4=(0,oe.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield $3(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Tr.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function rv(n,e){return W3.apply(this,arguments)}function W3(){return(W3=(0,oe.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Bg)})).apply(this,arguments)}function q3(){return(q3=(0,oe.Z)(function*(n,e){if(!navigator)throw Tr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Tr.create("permission-blocked");return yield rv(n,e?.vapidKey),yield nv(n,e?.serviceWorkerRegistration),Yg(n)})).apply(this,arguments)}function bw(n,e,t){return c5.apply(this,arguments)}function c5(){return(c5=(0,oe.Z)(function*(n,e,t){const r=ww(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[G2],message_name:t[lw],message_time:t[uw],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ww(n){switch(n){case $2.NOTIFICATION_CLICKED:return"notification_open";case $2.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Z3(){return(Z3=(0,oe.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===$2.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(Xg(t)):n.onMessageHandler.next(Xg(t)));const r=t.data;yw(r)&&"1"===r[hw]&&(yield bw(n,t.messageType,r))})).apply(this,arguments)}const Mw="@firebase/messaging",Sw=n=>{const e=new Aw(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Ew(n,e){return Z3.apply(this,arguments)}(e,t)),e},Iw=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function a5(n,e){return q3.apply(this,arguments)}(e,r)}};function Tw(){return u5.apply(this,arguments)}function u5(){return(u5=(0,oe.Z)(function*(){try{yield(0,j.eu)()}catch{return!1}return typeof window<"u"&&(0,j.hl)()&&(0,j.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function UD(){(0,mt._registerComponent)(new Pi.wA("messaging",Sw,"PUBLIC")),(0,mt._registerComponent)(new Pi.wA("messaging-internal",Iw,"PRIVATE")),(0,mt.registerVersion)(Mw,"0.11.0"),(0,mt.registerVersion)(Mw,"0.11.0","esm2017")}();const K3="analytics",Dw="firebase_id",sv="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",f5="https://www.googletagmanager.com/gtag/js",Cr=new gi.Yd("@firebase/analytics");function p5(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function ov(n,e){const t=document.createElement("script");t.src=`${f5}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function Rw(n,e,t,r,i,s){return av.apply(this,arguments)}function av(){return(av=(0,oe.Z)(function*(n,e,t,r,i,s){const c=r[i];try{if(c)yield e[c];else{const p=(yield p5(t)).find(v=>v.measurementId===i);p&&(yield e[p.appId])}}catch(h){Cr.error(h)}n("config",i,s)})).apply(this,arguments)}function Lw(n,e,t,r,i){return m5.apply(this,arguments)}function m5(){return(m5=(0,oe.Z)(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const h=yield p5(t);for(const p of c){const v=h.find(M=>M.measurementId===p),b=v&&e[v.appId];if(!b){s=[];break}s.push(b)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Cr.error(s)}})).apply(this,arguments)}function zw(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(f5)&&t.src.includes(n))return t;return null}const Oi=new j.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Y3=new class Fw{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function _4(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Vw(n){return v5.apply(this,arguments)}function v5(){return(v5=(0,oe.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:_4(r)},s=sv.replace("{app-id}",t),c=yield fetch(s,i);if(200!==c.status&&304!==c.status){let h="";try{const p=yield c.json();null!==(e=p.error)&&void 0!==e&&e.message&&(h=p.error.message)}catch{}throw Oi.create("config-fetch-failed",{httpStatus:c.status,responseMessage:h})}return c.json()})).apply(this,arguments)}function Hw(n){return q2.apply(this,arguments)}function q2(){return(q2=(0,oe.Z)(function*(n,e=Y3,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Oi.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Oi.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new lv;return setTimeout((0,oe.Z)(function*(){h.abort()}),void 0!==t?t:6e4),y4({appId:r,apiKey:i,measurementId:s},c,h,e)})).apply(this,arguments)}function y4(n,e,t){return _5.apply(this,arguments)}function _5(){return(_5=(0,oe.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=Y3){var s,c;const{appId:h,measurementId:p}=n;try{yield Bw(r,e)}catch(v){if(p)return Cr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${null===(s=v)||void 0===s?void 0:s.message}]`),{appId:h,measurementId:p};throw v}try{const v=yield Vw(n);return i.deleteThrottleMetadata(h),v}catch(v){const b=v;if(!cv(b)){if(i.deleteThrottleMetadata(h),p)return Cr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${b?.message}]`),{appId:h,measurementId:p};throw v}const M=503===Number(null===(c=b?.customData)||void 0===c?void 0:c.httpStatus)?(0,j.$s)(t,i.intervalMillis,30):(0,j.$s)(t,i.intervalMillis),T={throttleEndTimeMillis:Date.now()+M,backoffCount:t+1};return i.setThrottleMetadata(h,T),Cr.debug(`Calling attemptFetch again in ${M} millis`),y4(n,T,r,i)}})).apply(this,arguments)}function Bw(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Oi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function cv(n){if(!(n instanceof j.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class lv{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let C4,w5;function y5(){return(y5=(0,oe.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function fv(n){w5=n}function pv(n){C4=n}function mv(){return w4.apply(this,arguments)}function w4(){return(w4=(0,oe.Z)(function*(){var n;if(!(0,j.hl)())return Cr.warn(Oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,j.eu)()}catch(e){return Cr.warn(Oi.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function Q3(){return(Q3=(0,oe.Z)(function*(n,e,t,r,i,s,c){var h;const p=Hw(n);p.then(N=>{t[N.measurementId]=N.appId,n.options.measurementId&&N.measurementId!==n.options.measurementId&&Cr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>Cr.error(N)),e.push(p);const v=mv().then(N=>{if(N)return r.getId()}),[b,M]=yield Promise.all([p,v]);zw(s)||ov(s,b.measurementId),w5&&(i("consent","default",w5),fv(void 0)),i("js",new Date);const T=null!==(h=c?.config)&&void 0!==h?h:{};return T.origin="firebase",T.update=!0,null!=M&&(T[Dw]=M),i("config",b.measurementId,T),C4&&(i("set",C4),pv(void 0)),b.measurementId})).apply(this,arguments)}class vv{constructor(e){this.app=e}_delete(){return delete Qs[this.app.options.appId],Promise.resolve()}}let Qs={},_v=[];const E5={};let M5,Zo,E4="dataLayer",xr=!1;function Gw(n,e,t){!function jw(){const n=[];if((0,j.ru)()&&n.push("This is a browser extension environment."),(0,j.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Oi.create("invalid-analytics-context",{errorInfo:e});Cr.warn(t.message)}}();const r=n.options.appId;if(!r)throw Oi.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Oi.create("no-api-key");Cr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qs[r])throw Oi.create("already-exists",{id:r});if(!xr){!function kw(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(E4);const{wrappedGtag:s,gtagCore:c}=function Ow(n,e,t,r,i){let s=function(...c){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Pw(n,e,t,r){function s(){return(s=(0,oe.Z)(function*(c,h,p){try{"event"===c?yield Lw(n,e,t,h,p):"config"===c?yield Rw(n,e,t,r,h,p):"consent"===c?n("consent","update",p):n("set",h)}catch(v){Cr.error(v)}})).apply(this,arguments)}return function i(c,h,p){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Qs,_v,E5,E4,"gtag");Zo=s,M5=c,xr=!0}return Qs[r]=function gv(n,e,t,r,i,s,c){return Q3.apply(this,arguments)}(n,_v,E5,e,M5,E4,t),new vv(n)}function Cv(){return X3.apply(this,arguments)}function X3(){return(X3=(0,oe.Z)(function*(){if((0,j.ru)()||!(0,j.zI)()||!(0,j.hl)())return!1;try{return yield(0,j.eu)()}catch{return!1}})).apply(this,arguments)}const bv="@firebase/analytics";!function wv(){(0,mt._registerComponent)(new Pi.wA(K3,(e,{options:t})=>Gw(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,mt._registerComponent)(new Pi.wA("analytics-internal",function n(e){try{const t=e.getProvider(K3).getImmediate();return{logEvent:(r,i,s)=>function Ww(n,e,t,r){n=(0,j.m9)(n),function uv(n,e,t,r,i){return y5.apply(this,arguments)}(Zo,Qs[n.app.options.appId],e,t,r).catch(i=>Cr.error(i))}(t,r,i,s)}}catch(t){throw Oi.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,mt.registerVersion)(bv,"0.8.4"),(0,mt.registerVersion)(bv,"0.8.4","esm2017")}();class Ev extends No.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const fc={setInterval(n,e,...t){const{delegate:r}=fc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=fc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var S5=P(8737);class I5 extends Ev{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return fc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&fc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,S5.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const T5={now:()=>(T5.delegate||Date).now(),delegate:void 0};class Z2{constructor(e,t=Z2.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Z2.now=T5.now;class Ko extends Z2{constructor(e,t=Z2.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Sv=new class qw extends Ko{}(class Mv extends I5{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),x5=new Ko(I5),Zw=x5;var th=P(9468),K2=P(5363);const pc=new u.GfV("7.5.0"),D5="__angularfire_symbol__analyticsIsSupportedValue",nh="__angularfire_symbol__analyticsIsSupported",rh="__angularfire_symbol__remoteConfigIsSupportedValue",N5="__angularfire_symbol__remoteConfigIsSupported",ih="__angularfire_symbol__messagingIsSupportedValue",sh="__angularfire_symbol__messagingIsSupported";function Y2(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(c=>c.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[nh]||(globalThis[nh]=Cv().then(n=>globalThis[D5]=n).catch(()=>globalThis[D5]=!1)),globalThis[sh]||(globalThis[sh]=Tw().then(n=>globalThis[ih]=n).catch(()=>globalThis[ih]=!1)),globalThis[N5]||(globalThis[N5]=HD().then(n=>globalThis[rh]=n).catch(()=>globalThis[rh]=!1));const Q2=(n,e)=>{const t=e?[e]:(0,mt.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(c=>{r.includes(c)||r.push(c)})}),r};function mc(){}class R5{constructor(e,t=Sv){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(c){i.runGuarded(()=>{e.apply(this,[c])})},t,r)}}class Yw{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mc,{},mc,mc)),t.pipe(or({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let X2=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new R5(Zone.current)),this.insideAngular=t.run(()=>new R5(Zone.current,x5)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function J2(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Tv(n){return J2().ngZone.runOutsideAngular(()=>n())}function el(n){return J2().ngZone.run(()=>n())}function Qw(n){return J2(),function JD(n){return function(t){return(t=t.lift(new Yw(n.ngZone))).pipe((0,th.R)(n.outsideAngular),(0,K2.Q)(n.insideAngular))}}(J2())(n)}const eN=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),el(()=>n.apply(void 0,r))},Or=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=el(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mc,{},mc,mc)))),r[s]=eN(r[s],t));const i=Tv(()=>n.apply(this,r));if(!e){if(i instanceof Ir.y){const s=J2();return i.pipe((0,th.R)(s.outsideAngular),(0,K2.Q)(s.insideAngular))}return el(()=>i)}return i instanceof Ir.y?i.pipe(Qw):i instanceof Promise?el(()=>new Promise((s,c)=>i.then(h=>el(()=>s(h)),h=>el(()=>c(h))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:el(()=>i)};class gc{constructor(e){return e}}class Za{constructor(){return(0,mt.getApps)()}}const tl=new u.OlP("angularfire2._apps"),Dv={provide:gc,useFactory:function xv(n){return n&&1===n.length?n[0]:new gc((0,mt.getApp)())},deps:[[new u.FiY,tl]]},Nv={provide:Za,deps:[[new u.FiY,tl]]};function tN(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new gc(r)}}let L5=(()=>{class n{constructor(t){(0,mt.registerVersion)("angularfire",pc.full,"core"),(0,mt.registerVersion)("angularfire",pc.full,"app"),(0,mt.registerVersion)("angular",u.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Dv,Nv]}),n})();function kv(n,...e){return{ngModule:L5,providers:[{provide:tl,useFactory:tN(n),multi:!0,deps:[u.R0b,u.zs3,X2,...e]}]}}const Jw=Or(mt.initializeApp,!0),O5=new Map,eE={activated:!1,tokenObservers:[]},sN={initialized:!1,enabled:!1};function zr(n){return O5.get(n)||Object.assign({},eE)}function oh(){return sN}class bs{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,oe.Z)(function*(){t.stop();try{t.pending=new j.BH,yield function rE(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new j.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ei=new j.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Lv(n){if(!zr(n).activated)throw ei.create("use-before-activation",{appName:n.name})}function H5(n,e){return I4.apply(this,arguments)}function I4(){return(I4=(0,oe.Z)(function*({url:n,body:e},t){var r,i;const s={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const N=yield c.getHeartbeatsHeader();N&&(s["X-Firebase-Client"]=N)}const h={method:"POST",body:JSON.stringify(e),headers:s};let p,v;try{p=yield fetch(n,h)}catch(N){throw ei.create("fetch-network-error",{originalErrorMessage:null===(r=N)||void 0===r?void 0:r.message})}if(200!==p.status)throw ei.create("fetch-status-error",{httpStatus:p.status});try{v=yield p.json()}catch(N){throw ei.create("fetch-parse-error",{originalErrorMessage:null===(i=N)||void 0===i?void 0:i.message})}const b=v.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw ei.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const M=1e3*Number(b[1]),T=Date.now();return{token:v.token,expireTimeMillis:T+M,issuedAtTimeMillis:T}})).apply(this,arguments)}function iE(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const T4="firebase-app-check-store";let ch=null;function lh(){return ch||(ch=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var s;e(ei.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(T4,{keyPath:"compositeKey"})}}catch(r){e(ei.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),ch)}function Bv(){return(Bv=(0,oe.Z)(function*(n,e){const r=(yield lh()).transaction(T4,"readwrite"),s=r.objectStore(T4).put({compositeKey:n,value:e});return new Promise((c,h)=>{s.onsuccess=p=>{c()},r.onerror=p=>{var v;h(ei.create("storage-set",{originalErrorMessage:null===(v=p.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const x4=new gi.Yd("@firebase/app-check");function uh(n,e){return(0,j.hl)()?function Vv(n,e){return function Hv(n,e){return Bv.apply(this,arguments)}(function jv(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{x4.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function oE(){return oh().enabled}function dh(){return fh.apply(this,arguments)}function fh(){return(fh=(0,oe.Z)(function*(){const n=oh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const qv={error:"UNKNOWN_ERROR"};function Zv(n){return j.US.encodeString(JSON.stringify(n),!1)}function D4(n){return nl.apply(this,arguments)}function nl(){return(nl=(0,oe.Z)(function*(n,e=!1){const t=n.app;Lv(t);const r=zr(t);let s,i=r.token;if(i&&!il(i)&&(r.token=void 0,i=void 0),!i){const p=yield r.cachedTokenPromise;p&&(il(p)?i=p:yield uh(t,void 0))}if(!e&&i&&il(i))return{token:i.token};let h,c=!1;if(oE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=H5(iE(t,yield dh()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const p=yield r.exchangeTokenPromise;return yield uh(t,p),r.token=p,{token:p.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield zr(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?x4.warn(p.message):x4.error(p),s=p}return i?s?h=il(i)?{token:i.token,internalError:s}:Qv(s):(h={token:i.token},r.token=i,yield uh(t,i)):h=Qv(s),c&&G5(t,h),h})).apply(this,arguments)}function ph(n,e){const t=zr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Kv(n){const{app:e}=n,t=zr(e);let r=t.tokenRefresher;r||(r=function Yv(n){const{app:e}=n;return new bs((0,oe.Z)(function*(){let r;if(r=zr(e).token?yield D4(n,!0):yield D4(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=zr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function G5(n,e){const t=zr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function il(n){return n.expireTimeMillis-Date.now()>0}function Qv(n){return{token:Zv(qv),error:n}}class cN{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=zr(this.app);for(const t of e)ph(this.app,t.next);return Promise.resolve()}}const K5="app-check-internal";!function fE(){(0,mt._registerComponent)(new Pi.wA("app-check",n=>function lN(n,e){return new cN(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(K5).initialize()})),(0,mt._registerComponent)(new Pi.wA(K5,n=>function Xv(n){return{getToken:e=>D4(n,e),addTokenListener:e=>function rl(n,e,t,r){const{app:i}=n,s=zr(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&il(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),Kv(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Kv(n))}(n,"INTERNAL",e),removeTokenListener:e=>ph(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,mt.registerVersion)("@firebase/app-check","0.5.17")}();class ol{constructor(){return Q2("app-check")}}typeof window<"u"&&window;class _h{constructor(e){return e}}class J5{constructor(){return Q2("auth")}}const a_=new u.OlP("angularfire2.auth-instances");function yN(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new _h(r)}}const _E={provide:J5,deps:[[new u.FiY,a_]]},CN={provide:_h,useFactory:function _N(n,e){const t=Y2("auth",n,e);return t&&new _h(t)},deps:[[new u.FiY,a_],gc]};let AN=(()=>{class n{constructor(){(0,mt.registerVersion)("angularfire",pc.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[CN,_E]}),n})();function bN(n,...e){return{ngModule:AN,providers:[{provide:a_,useFactory:yN(n),multi:!0,deps:[u.R0b,u.zs3,X2,Za,[new u.FiY,ol],...e]}]}}const I=Or(f3.n,!0);let cl=(()=>{class n{constructor(t){this.auth=t,this._$estConnecteSubject=new Lr(!1)}get utilisateur(){if(!this.utilisateurEstConnecte)throw"Utilisateur non connect\xe9";return this._utilisateur}get utilisateurEstConnecte(){return this._$estConnecteSubject.value}get utilisateurEstConnecteObservable(){return this._$estConnecteSubject.asObservable()}loginUser(t,r){const i=(0,f3.a6)(this.auth,t,r);return i.then(s=>{const c=s.user;this._utilisateur=new X9(c.email,c.uid),this._$estConnecteSubject.next(!0),localStorage.setItem("user",JSON.stringify(this._utilisateur)),localStorage.setItem("userEstConnecte",JSON.stringify(!0))}).catch(s=>{console.log("Error getting document:",s)}),i}sendResetPassword(t){return(0,f3.a0)(this.auth,t)}getInfosUser(){const t=localStorage.getItem("userEstConnecte"),r=localStorage.getItem("user");if(t&&r){let i=JSON.parse(r);return this._utilisateur=i,this._$estConnecteSubject.next(!0),!0}return this._$estConnecteSubject.next(!1),!1}signOut(){localStorage.removeItem("user"),localStorage.removeItem("userEstConnecte"),this._utilisateur=void 0,this._$estConnecteSubject.next(!1)}getEmail(){const t=localStorage.getItem("user");return t?JSON.parse(t).email:null}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_h))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LB(n,e){1&n&&(u.TgZ(0,"p",9),u._uU(1,"Il faut un email valide"),u.qZA())}function PB(n,e){1&n&&(u.TgZ(0,"p",9),u._uU(1,"Email ou mot de passe invalide"),u.qZA())}let OB=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this._router=r,this.authentificationService=i,this.isSendForm=!1,this.isConnexionError=!1}ngOnInit(){this.authentificationService.utilisateurEstConnecte?this._router.navigate(["/home"]):this.initForm()}initForm(){this.form=this.formBuilder.group({email:["",[Kn.required,Kn.email]],password:["",Kn.required]})}login(){var t=this;return(0,oe.Z)(function*(){if(t.isSendForm=!0,t.form.valid)try{yield t.authentificationService.loginUser(t.form.value.email,t.form.value.password),t._router.navigate(["/home"])}catch{t.isConnexionError=!0}})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ga),u.Y36(sn),u.Y36(cl))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:11,vars:3,consts:[[1,"header"],["src","assets/logo_blanc.png","alt","Logo",1,"header__img"],[1,"login",3,"formGroup","ngSubmit"],["src","assets/logo_noir.png","alt","Login",1,"login__img"],["type","email","formControlName","email","placeholder","Email",1,"login__item"],["class","login__error",4,"ngIf"],["type","password","formControlName","password","placeholder","Mot de passe",1,"login__item"],["routerLink","/forgot-password",1,"login__forgotten"],["type","submit","value","Se connecter",1,"login__submit"],[1,"login__error"]],template:function(t,r){if(1&t&&(u.TgZ(0,"header",0),u._UZ(1,"img",1),u.qZA(),u.TgZ(2,"form",2),u.NdJ("ngSubmit",function(){return r.login()}),u._UZ(3,"img",3)(4,"input",4),u.YNc(5,LB,2,0,"p",5),u._UZ(6,"input",6),u.TgZ(7,"a",7),u._uU(8,"Mot de passe oubli\xe9 ?"),u.qZA(),u._UZ(9,"input",8),u.YNc(10,PB,2,0,"p",5),u.qZA()),2&t){let i;u.xp6(2),u.Q6J("formGroup",r.form),u.xp6(3),u.Q6J("ngIf",(null==(i=r.form.get("email"))||null==i.errors?null:i.errors.email)&&r.isSendForm),u.xp6(5),u.Q6J("ngIf",r.isConnexionError)}},dependencies:[rn,L6,Ba,Ho,Uo,_s,hr,Li],styles:[".header[_ngcontent-%COMP%]{width:100vw;height:10vh;background-color:#3c4452;position:fixed;top:0;left:0;text-align:left;display:flex;align-items:center;justify-content:start}.header__img[_ngcontent-%COMP%]{height:5vh;padding-left:20px}.login[_ngcontent-%COMP%]{width:90vw;height:90vh;display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:20px;padding:0 5vw}.login__submit[_ngcontent-%COMP%]{background-color:#1ba8a8;border:1px solid #1BA8A8;color:#fff;font-size:1.2rem;padding:0 1rem;height:8vh;width:100%;max-width:400px}.login__error[_ngcontent-%COMP%]{color:red;text-align:center}.login__item[_ngcontent-%COMP%]{padding:0 1rem;background-color:#fcfcfd;height:6vh;color:#1ba8a8;border:1px solid #1BA8A8;width:100%;max-width:400px}.login__img[_ngcontent-%COMP%]{width:80vw;max-width:400px}.login__forgotten[_ngcontent-%COMP%]{text-align:right;width:100%;max-width:400px;cursor:pointer}"]}),n})();function zB(n,e){1&n&&(u.TgZ(0,"p",7),u._uU(1,"Il faut un email valide"),u.qZA())}function FB(n,e){1&n&&(u.TgZ(0,"p",7),u._uU(1,"Email doit \xeatre renseign\xe9"),u.qZA())}let VB=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this._router=r,this.authentificationService=i,this.isSendForm=!1,this.isConnexionError=!1}ngOnInit(){this.authentificationService.utilisateurEstConnecte?this._router.navigate(["/home"]):this.initForm()}initForm(){this.form=this.formBuilder.group({email:["",[Kn.required,Kn.email]]})}send(){var t=this;return(0,oe.Z)(function*(){if(t.isSendForm=!0,t.form.valid)try{yield t.authentificationService.sendResetPassword(t.form.value.email),t._router.navigate(["/login"])}catch{t.isConnexionError=!0}})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ga),u.Y36(sn),u.Y36(cl))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-forgot-password"]],decls:8,vars:3,consts:[[1,"header"],["src","assets/logo_blanc.png","alt","Logo",1,"header__img"],[1,"forget-password",3,"formGroup","ngSubmit"],["src","assets/logo_noir.png","alt","logo",1,"forget-password__img"],["type","email","formControlName","email","placeholder","Email",1,"forget-password__item"],["class","forget-password__error",4,"ngIf"],["type","submit","value","Envoyer",1,"forget-password__submit"],[1,"forget-password__error"]],template:function(t,r){if(1&t&&(u.TgZ(0,"header",0),u._UZ(1,"img",1),u.qZA(),u.TgZ(2,"form",2),u.NdJ("ngSubmit",function(){return r.send()}),u._UZ(3,"img",3)(4,"input",4),u.YNc(5,zB,2,0,"p",5),u._UZ(6,"input",6),u.YNc(7,FB,2,0,"p",5),u.qZA()),2&t){let i;u.xp6(2),u.Q6J("formGroup",r.form),u.xp6(3),u.Q6J("ngIf",(null==(i=r.form.get("email"))||null==i.errors?null:i.errors.email)&&r.isSendForm),u.xp6(2),u.Q6J("ngIf",r.isConnexionError)}},dependencies:[rn,Ba,Ho,Uo,_s,hr,Li],styles:[".header[_ngcontent-%COMP%]{width:100vw;height:10vh;background-color:#3c4452;position:fixed;top:0;left:0;text-align:left;display:flex;align-items:center;justify-content:start}.header__img[_ngcontent-%COMP%]{height:5vh;padding-left:20px}.forget-password[_ngcontent-%COMP%]{width:90vw;height:90vh;display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:20px;padding:0 5vw}.forget-password__submit[_ngcontent-%COMP%]{background-color:#1ba8a8;border:1px solid #1BA8A8;color:#fff;font-size:1.2rem;padding:0 1rem;height:8vh;width:100%;max-width:400px}.forget-password__error[_ngcontent-%COMP%]{color:red;text-align:center}.forget-password__item[_ngcontent-%COMP%]{padding:0 1rem;background-color:#fcfcfd;height:6vh;color:#1ba8a8;border:1px solid #1BA8A8;width:100%;max-width:400px}.forget-password__img[_ngcontent-%COMP%]{width:80vw;max-width:400px}"]}),n})(),HB=(()=>{class n{constructor(t,r){this._router=t,this.authentificationService=r}ngOnInit(){}signOut(){this.authentificationService.signOut(),this._router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(sn),u.Y36(cl))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:14,vars:0,consts:[[1,"home"],["src","assets/logo_noir.png","alt","Logo",1,"home__logo"],[1,"home__titre"],[1,"home__list"],["routerLink","/admin","title","Administrer les rayons",1,"item"],[1,"item__texte"],["width","30","height","30","viewBox","0 0 30 30","fill","none","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"item__svg"],["width","30","height","30","fill","url(#pattern0)"],["id","pattern0","patternContentUnits","objectBoundingBox","width","1","height","1"],[0,"xlink","href","#image0_5_119","transform","scale(0.00195312)"],["id","image0_5_119","width","512","height","512",0,"xlink","href","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAV6klEQVR4nO3W0W1kyQ5EwTVkDBlHZOWY9QzJ14sxYEWABRZVEcD9F4hS9vnnHwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4IdL8vvzfW34pm/1XZ+/9df0rQrfr+l7fdcFt/ru93v6VgD/6TNWf7LE9K2+K39/BLbYFFZb/Jm+FcB/igBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAD3iwBoFwFwxPShCgQAcL8IgHYRAEdMH6pAAAC9plcNmDO9P8Cg6QEC5kzvDzBoeoCAOdP7AwyaHiBgzvT+AIOmBwiYM70/wKDpAQLmTO8PMGh6gIA50/sDDJoeIGDO9P4Ag6YHCJgzvT/AoOkBAuZM7w8waHqAgDnT+wMMmh4gYM70/gCDpgcImDO9P8Cg6QEC5kzvDzBoeoCAOdP7AwyaHiBgzvT+AIOmBwiYM70/wKDpAQLmTO8PMGh6gIA50/sDDJoeIGDO9P4Ag6YHCJgzvT/wLZ+3+vvz/fG1f8C7pvfnJ36/p38vf5zPUb8qrxoABnxN/17+OBEAANxPAHSLAADgfgKgWwQAAPcTAN0iAAC4nwDoFgEAwP0EQLcIAADuJwC6RQAAcD8B0C0CAID7CYBuEQAA3E8AdIsAAOB+AqBbBAAA9xMA3SIAALifAOgWAQDA/QRAtwgAAO4nALpFAABwPwHQLQIAgPsJgG4RAADcTwB0iwAA4H4CoFsEAAD3EwDdIgBe97/P98fnW/D9+1Z5lwDoFgHwuj/TbxC+I38jgHcJgG4RAK8TAKwQAfA6AdAtAuB1AoAVIgBeJwC6RQC8TgCwQgTA6wRAtwiA1wkAVogAeJ0A6BYB8DoBwAoRAK8TAN0iAF4nAFghAuB1AqBbBMDrBAArRAC8TgB0iwB4nQBghQiA1wmAbhEArxMArBAB8DoB0C0C4HUCgBUiAF4nALpFALxOALBCBMDrBEC3CIDXCQBWiAB4nQDoFgHwOgHAChEArxMA3SIAXicAWCEC4HUCoFsEwOsEACtEALxOAHSLAHidAGCFCIDXCYBuEQCvEwCsEAHwOgHQLQLgdQKAFSIAXicAukUAvE4AsEIEwOsEQLcIgNcJAFaIAHidAGCH6f+UAgHAClkUANO3AgZND1CBAGCFCABgg+kBKhAArBABAGwwPUAFAoAVIgCADaYHqEAAsEIEALDB9AAVCABWiAAANpgeoAIBwAoRAMAG0wNUIABYIQIA2GB6gAoEACtEAAAbTA9QgQBghQgAYIPpASoQAKwQAQBsMD1ABQKAFSIAgA2mB6hAALBCBACwwfQAFQgAVogAADaYHqACAcAKEQDABtMDVCAAWCECANhgeoAKBAArRAAAG0wPUIEAYIUIAGCD6QEqEACsEAEAbDA9QAUCgBUiAIANpgeoQACwQgQAsMH0ABUIAFaIAAA2mB6gAgHAChEAwAbTA1QgAFghAgDYYHqACgQAK0QAABtMD1CBAGCFCABgg+kBKhAArBABAGwwPUAFAoAVIgCADaYHqEAAsEIEALDB9AAVCABWiAAANpgeoAIBwAoRAMAG0wNUIABYIQIA2GB6gAoEACtEAAAbTA9QgQBghQgAYIPpASoQAKwQAQBsMD1ABQKAFSIAgA2mB6hAALBCBACwwfQAFQgAVogAADaYHqACAcAKEQDABtMDVCAAWCECANhgeoAKBAArRAAAG0wPUIEAYIUIAOj1eau/Pt+Xr/3b4ukAyK73/2v6XpOyKAAy/1Z+4vf0+z8iu36s6Pd6AGx6/1/T95qUXQFAv6ff/xHZNYD0EwB7PD2AEQCve/r9H5FdA0g/AbDH0wMYAfC6p9//Edk1gPQTAHs8PYARAK97+v0fkV0DSD8BsMfTAxgB8Lqn3/8R2TWA9BMAezw9gBEAr3v6/R+RXQNIPwGwx9MDGAHwuqff/xHZNYD0EwB7PD2AEQCve/r9H5FdA0g/AbDH0wMYAfC6p9//Edk1gPQTAHs8PYARAK97+v0fkV0DSD8BsMfTAxgB8Lqn3/8R2TWA9BMAezw9gBEAr3v6/R+RXQNIPwGwx9MDGAHwuqff/xHZNYD0EwB7PD2AEQCve/r9H5FdA0g/AbDH0wMYAfC6p9//Edk1gPQTAHs8PYARAK97+v0fkV0DSD8BsMfTAxgB8Lqn3/8R2TWA9BMAezw9gBEAr3v6/R+RXQNIPwGwx9MDGAHwuqff/xHZNYD0EwB7PD2AEQCve/r9H5FdA0g/AbDH0wMYAfC6p9//Edk1gPQTAHs8PYARAK97+v0fkV0DSD8BsMfTAxgB8Lqn3/8R2TWA9BMAezw9gBEAr3v6/R+RXQNIPwGwx9MDGAHwuqff/xHZNYD0EwB7PD2AEQCve/r9H5FdA0g/AbDH0wMYAfC6p9//Edk1gPQTAHs8PYARAK97+v0fkV0DSD8BsMfTAxgB8Lqn3/8R2TWA9BMAezw9gBEAr3v6/R+RXQNIPwGwx9MDGAHwuqff/xHZNYD0EwB7PD2AEQCve/r9H5FdA0g/AbDH0wMYAfC6p9//Edk1gPQTAHs8PYARAK97+v0fkV0DSD8BsMfTAxgB8Lqn3/8R2TWA9BMAezw9gBEAr3v6/R+RXQNIPwGwx9MDGAHwuqff/xHZNYD0EwB7PD2AEQCve/r9H5FdA0g/AbDH0wMYAfC6p9//Edk1gPQTAHs8PYARAK97+v0fkV0DSD8BsMfTAxgB8Lqn3/8R2TWA9BMAezw9gBEAr3v6/R/xOeqv/B1BX++3xesBsOn9/5q+16TsCoDpt/ITv6ffP4uUpmLW0wHAHlkUANO3AgZND1CBAGCFCABgg+kBKhAArBABAGwwPUAFAoAVIgCADaYHqEAAsEIEALDB9AAVCABWiAAANpgeoAIBwAoRAMAG0wNUIABYIQIA2GB6gAoEACtEAAAbTA9QgQBghQgAYIPpASoQAKwQAQBsMD1ABQKAFSIAgA2mB6hAALBCBACwwfQAFQgAVogAADaYHqACAcAKEQDABtMDVCAAWCECANhgeoAKBAArRAAAG0wPUIEAYIUIAGCD6QEqEACsEAEAbDA9QAUCgBUiAIANpgeoQACwQgQAsMH0ABUIAFaIAAA2mB6gAgHAChEAwAbTA1QgAFghAgDYYHqACgQAK0QAABtMD1CBAGCFCABgg+kBKhAArBABAGwwPUAFAoAVIgCADaYHqEAAsEIEALDB9AAVCABWiAAANpgeoAIBwAoRAMAG0wNUIABYIQIA2GB6gAoEACtEAAAbTA9QgQBghQgAYIPpASoQAKwQAQBsMD1ABQKAFSIAgA2mB6hAALBCBACwwfQAFQgAVogAADaYHqACAcAKEQDABtMDVCAAWCECANhgeoAKBAArRAAAG0wPUIEAYIUIAOj1eatf0/8sjBIArJBFAcARX9Nv8MeJAHidAGCFCIDXCYBuEQCvEwCsEAHwOgHQLQLgdQKAFSIAXicAukUAvE4AsEIEwOsEQLcIgNcJAFaIAHidAOgWAfA6AcAKEQCvEwDdIgBeJwBYIQLgdQKgWwTA6wQAK0QAvE4AdIsAeJ0AYIUIgNcJgG4RAK8TAKwQAfA6AdAtAuB1AoAVIgBeJwC6RQC8TgCwQgTA6wRAtwiA1wkAVogAeJ0A6BYB8DoBwAoRAK8TAN0iAF4nAFghAuB1AqBbBMDrBAArRAC8TgB0iwB4nQBghQiA1wmAbhEArxMArBAB8DoB0C0C4HUCgBUiAF4nALpFALxOALBCBMDrBEC3CIDX/S9/h9Xnu/37963yLgHQLQIAgPsJgG4RAADcTwB0iwAA4H4CoFsEAAD3EwDdIgAAuJ8A6BYBAMD9BEC3CAAA7icAukUAAHA/AdAtAgCA+wmAbhEAANxPAHSLAADgfgKgWwQAAPcTAN0iAAC4nwDoFgEAwP0EQLcIAADuJwC6RQAAcD8B0C0CAID7CYBuEQAA3E8AdIsAAOB+AqBbBAAA9xMA3T5H/f35/vjaP+Bd0/vzE7/f07+X8C2lqQB+lOn9AQZNDxAwZ3p/gEHTAwTMmd4fYND0AAFzpvcHGDQ9QMCc6f0BBk0PEDBnen+AQdMDBMyZ3h9g0PQAAXOm9wcYND1AwJzp/QEGTQ8QMGd6f4BB0wMEzJneH2DQ9AABc6b3Bxg0PUDAnOn9AQZNDxAwZ3p/gEHTAwTMmd4fYND0AAFzpvcHGDQ9QMCc6f0BBk0PEDBnen+AQdMDBMyZ3h9g0PQAAXOm9wcYND1AwJzp/QF+mM+u/Jketu+avtV3ff7Ur+lbFXxN3+u7pg9V8Gf6VgD/KQKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDcLwKgXQTAEdOHKhAAwP0iANpFABwxfagCAQDc7zNWv/P3B+v6b/pW3/X5W39N36rw/Zq+13ddcKvvfr+nbwUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJz2f6NuVNq9eVRdAAAAAElFTkSuQmCC"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0),u._UZ(1,"img",1),u.TgZ(2,"h1",2),u._uU(3,"Back Office"),u.qZA(),u.TgZ(4,"ul",3)(5,"li",4)(6,"p",5),u._uU(7,"Administrer"),u.qZA(),u.O4$(),u.TgZ(8,"svg",6),u._UZ(9,"rect",7),u.TgZ(10,"defs")(11,"pattern",8),u._UZ(12,"use",9),u.qZA(),u._UZ(13,"image",10),u.qZA()()()()())},dependencies:[za],styles:[".home[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-around;height:90vh;width:100%}.home__logo[_ngcontent-%COMP%]{width:40%}.home__titre[_ngcontent-%COMP%]{text-transform:uppercase;font-size:38px;padding:3px;font-weight:900}.home__list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.item[_ngcontent-%COMP%]{background-color:#f6d258;color:#fcfcfd;width:200px;height:50px;display:flex;align-items:center;justify-content:space-between;padding:20px;border-radius:10px;cursor:pointer}.item__texte[_ngcontent-%COMP%]{font-size:18px;font-weight:900}.item__svg[_ngcontent-%COMP%]{width:20px}"]}),n})(),BB=(()=>{class n{constructor(t,r){this._router=t,this.authentificationService=r}ngOnInit(){this._router.navigate(this.authentificationService.utilisateurEstConnecte?["/home"]:["/login"])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(sn),u.Y36(cl))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-loading"]],decls:2,vars:0,template:function(t,r){1&t&&(u.TgZ(0,"p"),u._uU(1,"loading works!"),u.qZA())}}),n})();class N4{constructor(e,t,r,i="1",s=100,c=100,h=0,p=0,v="#1BA8A8"){this.width=100,this.height=100,this.left=0,this.top=0,this.id=e,this.name=t,this.description=r,this.idDepartmentType=i,this.width=s,this.height=c,this.left=h,this.top=p,this.color=v}static fromFirebase(e){let t=e.data();return new N4(e.id,t.name,t.description,t.idDepartmentType,t.width,t.height,t.left,t.top,t.color)}static transformToMap(e){return{description:e.description,idDepartmentType:e.idDepartmentType,height:e.height,left:e.left,name:e.name,top:e.top,width:e.width,color:e.color}}}var at,UB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vc={},yE=yE||{},xt=UB||self;function v_(){}function __(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ep(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var CE="closure_uid_"+(1e9*Math.random()>>>0),GB=0;function $B(n,e,t){return n.call.apply(n.bind,arguments)}function WB(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function _i(n,e,t){return(_i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$B:WB).apply(null,arguments)}function y_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ni(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[i].apply(r,c)}}function ll(){this.s=this.s,this.o=this.o}ll.prototype.s=!1,ll.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function jB(n){Object.prototype.hasOwnProperty.call(n,CE)&&n[CE]||(n[CE]=++GB)}(this)},ll.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wN=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function AE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function EN(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(__(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let c=0;c<s;c++)n[i+c]=r[c]}else n.push(r)}}function yi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}yi.prototype.h=function(){this.defaultPrevented=!0};var ZB=function(){if(!xt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{xt.addEventListener("test",v_,e),xt.removeEventListener("test",v_,e)}catch{}return n}();function C_(n){return/^[\s\xa0]*$/.test(n)}var MN=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function bE(n,e){return n<e?-1:n>e?1:0}function A_(){var n=xt.navigator;return n&&(n=n.userAgent)?n:""}function Qa(n){return-1!=A_().indexOf(n)}function wE(n){return wE[" "](n),n}wE[" "]=v_;var b_,n,YB=Qa("Opera"),yh=Qa("Trident")||Qa("MSIE"),SN=Qa("Edge"),EE=SN||yh,IN=Qa("Gecko")&&!(-1!=A_().toLowerCase().indexOf("webkit")&&!Qa("Edge"))&&!(Qa("Trident")||Qa("MSIE"))&&!Qa("Edge"),QB=-1!=A_().toLowerCase().indexOf("webkit")&&!Qa("Edge");function TN(){var n=xt.document;return n?n.documentMode:void 0}e:{var ME="",SE=(n=A_(),IN?/rv:([^\);]+)(\)|;)/.exec(n):SN?/Edge\/([\d\.]+)/.exec(n):yh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):QB?/WebKit\/(\S+)/.exec(n):YB?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(SE&&(ME=SE?SE[1]:""),yh){var IE=TN();if(null!=IE&&IE>parseFloat(ME)){b_=String(IE);break e}}b_=ME}var XB={};var eU=xt.document&&yh&&(TN()||parseInt(b_,10))||void 0;function tp(n,e){if(yi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(IN){e:{try{wE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:tU[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&tp.X.h.call(this)}}ni(tp,yi);var tU={2:"touch",3:"pen",4:"mouse"};tp.prototype.h=function(){tp.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var np="closure_listenable_"+(1e6*Math.random()|0),nU=0;function rU(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++nU,this.ba=this.ea=!1}function w_(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function xE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function DN(n){const e={};for(const t in n)e[t]=n[t];return e}const NN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kN(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<NN.length;s++)t=NN[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function E_(n){this.src=n,this.g={},this.h=0}function DE(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=wN(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(w_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function NE(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}E_.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=NE(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new rU(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var kE="closure_lm_"+(1e6*Math.random()|0),RE={};function RN(n,e,t,r,i){if(r&&r.once)return PN(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)RN(n,e[s],t,r,i);return null}return t=zE(t),n&&n[np]?n.N(e,t,ep(r)?!!r.capture:!!r,i):LN(n,e,t,!1,r,i)}function LN(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var c=ep(i)?!!i.capture:!!i,h=PE(n);if(h||(n[kE]=h=new E_(n)),(t=h.add(e,t,r,c,s)).proxy)return t;if(r=function iU(){const e=sU;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)ZB||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(zN(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function PN(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)PN(n,e[s],t,r,i);return null}return t=zE(t),n&&n[np]?n.O(e,t,ep(r)?!!r.capture:!!r,i):LN(n,e,t,!0,r,i)}function ON(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)ON(n,e[s],t,r,i);else r=ep(r)?!!r.capture:!!r,t=zE(t),n&&n[np]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=NE(s=n.g[e],t,r,i))&&(w_(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=PE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=NE(e,t,r,i)),(t=-1<n?e[n]:null)&&LE(t))}function LE(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[np])DE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(zN(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=PE(e))?(DE(t,n),0==t.h&&(t.src=null,e[kE]=null)):w_(n)}}}function zN(n){return n in RE?RE[n]:RE[n]="on"+n}function sU(n,e){if(n.ba)n=!0;else{e=new tp(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&LE(n),n=t.call(r,e)}return n}function PE(n){return(n=n[kE])instanceof E_?n:null}var OE="__closure_events_fn_"+(1e9*Math.random()>>>0);function zE(n){return"function"==typeof n?n:(n[OE]||(n[OE]=function(e){return n.handleEvent(e)}),n[OE])}function Fr(){ll.call(this),this.i=new E_(this),this.P=this,this.I=null}function ri(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new yi(e,n);else if(e instanceof yi)e.target=e.target||n;else{var i=e;kN(e=new yi(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];i=M_(c,r,!0,e)&&i}if(i=M_(c=e.g=n,r,!0,e)&&i,i=M_(c,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=M_(c=e.g=t[s],r,!1,e)&&i}function M_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.ba&&c.capture==t){var h=c.listener,p=c.ha||c.src;c.ea&&DE(n.i,c),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}ni(Fr,ll),Fr.prototype[np]=!0,Fr.prototype.removeEventListener=function(n,e,t,r){ON(this,n,e,t,r)},Fr.prototype.M=function(){if(Fr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)w_(t[r]);delete n.g[e],n.h--}}this.I=null},Fr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Fr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var FE=xt.JSON.stringify;function oU(){var n=HN;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var VE,FN=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new cU,n=>n.reset());class cU{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function lU(n){xt.setTimeout(()=>{throw n},0)}function VN(n,e){VE||function uU(){var n=xt.Promise.resolve(void 0);VE=function(){n.then(hU)}}(),HE||(VE(),HE=!0),HN.add(n,e)}var HE=!1,HN=new class aU{constructor(){this.h=this.g=null}add(e,t){const r=FN.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function hU(){for(var n;n=oU();){try{n.h.call(n.g)}catch(t){lU(t)}var e=FN;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}HE=!1}function S_(n,e){Fr.call(this),this.h=n||1,this.g=e||xt,this.j=_i(this.lb,this),this.l=Date.now()}function BE(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function UE(n,e,t){if("function"==typeof n)t&&(n=_i(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=_i(n.handleEvent,n)}return 2147483647<Number(e)?-1:xt.setTimeout(n,e||0)}function BN(n){n.g=UE(()=>{n.g=null,n.i&&(n.i=!1,BN(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ni(S_,Fr),(at=S_.prototype).ca=!1,at.R=null,at.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ri(this,"tick"),this.ca&&(BE(this),this.start()))}},at.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.M=function(){S_.X.M.call(this),BE(this),delete this.g};class dU extends ll{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:BN(this)}M(){super.M(),this.g&&(xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rp(n){ll.call(this),this.h=n,this.g={}}ni(rp,ll);var UN=[];function jN(n,e,t,r){Array.isArray(t)||(t&&(UN[0]=t.toString()),t=UN);for(var i=0;i<t.length;i++){var s=RN(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function GN(n){xE(n.g,function(e,t){this.g.hasOwnProperty(t)&&LE(e)},n),n.g={}}function I_(){this.g=!0}function Ch(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function gU(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<i.length;c++)i[c]=""}}}return FE(t)}catch{return e}}(n,t)+(r?" "+r:"")})}rp.prototype.M=function(){rp.X.M.call(this),GN(this)},rp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},I_.prototype.Aa=function(){this.g=!1},I_.prototype.info=function(){};var k4={},$N=null;function T_(){return $N=$N||new Fr}function WN(n){yi.call(this,k4.Pa,n)}function ip(n){const e=T_();ri(e,new WN(e))}function qN(n,e){yi.call(this,k4.STAT_EVENT,n),this.stat=e}function zi(n){const e=T_();ri(e,new qN(e,n))}function ZN(n,e){yi.call(this,k4.Qa,n),this.size=e}function sp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return xt.setTimeout(function(){n()},e)}k4.Pa="serverreachability",ni(WN,yi),k4.STAT_EVENT="statevent",ni(qN,yi),k4.Qa="timingevent",ni(ZN,yi);var x_={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},KN={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function jE(){}function QN(){}jE.prototype.h=null;var WE,op={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function GE(){yi.call(this,"d")}function $E(){yi.call(this,"c")}function D_(){}function ap(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new rp(this),this.O=vU,this.T=new S_(n=EE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new XN}function XN(){this.i=null,this.g="",this.h=!1}ni(GE,yi),ni($E,yi),ni(D_,jE),D_.prototype.g=function(){return new XMLHttpRequest},D_.prototype.i=function(){return{}},WE=new D_;var vU=45e3,qE={},N_={};function ZE(n,e,t){n.K=1,n.v=P_(_c(e)),n.s=t,n.P=!0,JN(n,null)}function JN(n,e){n.F=Date.now(),cp(n),n.A=_c(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),lk(t.i,"t",r),n.C=0,t=n.l.H,n.h=new XN,n.g=Rk(n.l,t?e:null,!n.s),0<n.N&&(n.L=new dU(_i(n.La,n,n.g),n.N)),jN(n.S,n.g,"readystatechange",n.ib),e=n.H?DN(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),ip(),function fU(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var c="",h=s.split("&"),p=0;p<h.length;p++){var v=h[p].split("=");if(1<v.length){var b=v[0];v=v[1];var M=b.split("_");c=2<=M.length&&"type"==M[1]?c+(b+"=")+v+"&":c+(b+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function ek(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function tk(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=_U(n,t),i==N_){4==e&&(n.o=4,zi(14),r=!1),Ch(n.j,n.m,null,"[Incomplete Response]");break}if(i==qE){n.o=4,zi(15),Ch(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ch(n.j,n.m,i,null),KE(n,i)}ek(n)&&i!=N_&&i!=qE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,zi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),rM(e),e.K=!0,zi(11))):(Ch(n.j,n.m,t,"[Invalid Chunked Response]"),R4(n),lp(n))}function _U(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?N_:(t=Number(e.substring(t,r)),isNaN(t)?qE:(r+=1)+t>e.length?N_:(e=e.substr(r,t),n.C=r+t,e))}function cp(n){n.V=Date.now()+n.O,nk(n,n.O)}function nk(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=sp(_i(n.gb,n),e)}function k_(n){n.B&&(xt.clearTimeout(n.B),n.B=null)}function lp(n){0==n.l.G||n.I||xk(n.l,n)}function R4(n){k_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,BE(n.T),GN(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function KE(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||YE(t.h,n)))if(!n.J&&YE(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;B_(t),V_(t)}nM(t),zi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=sp(_i(t.cb,t),6e3));if(1>=dk(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else P4(t,11)}else if((n.J||t.g==n)&&B_(t),!C_(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const b=v[3];null!=b&&(t.ma=b,t.j.info("VER="+t.ma));const M=v[4];null!=M&&(t.Ca=M,t.j.info("SVER="+t.Ca));const T=v[5];null!=T&&"number"==typeof T&&0<T&&(t.J=r=1.5*T,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const N=n.g;if(N){const R=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var s=r.h;s.g||-1==R.indexOf("spdy")&&-1==R.indexOf("quic")&&-1==R.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(QE(s,s.h),s.h=null))}if(r.D){const V=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;V&&(r.za=V,Hn(r.F,r.D,V))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=kk(r,r.H?r.ka:null,r.V),c.J){fk(r.h,c);var h=c,p=r.J;p&&h.setTimeout(p),h.B&&(k_(h),cp(h)),r.g=c}else Ik(r);0<t.i.length&&H_(t)}else"stop"!=v[0]&&"close"!=v[0]||P4(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?P4(t,7):tM(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}ip()}catch{}}function rk(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(__(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function CU(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(__(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function yU(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(__(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(at=ap.prototype).setTimeout=function(n){this.O=n},at.ib=function(n){n=n.target;const e=this.L;e&&3==yc(n)?e.l():this.La(n)},at.La=function(n){try{if(n==this.g)e:{const b=yc(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>b)&&(3!=b||EE||this.g&&(this.h.h||this.g.fa()||Ak(this.g)))){this.I||4!=b||7==e||ip(),k_(this);var t=this.g.aa();this.Y=t;t:if(ek(this)){var r=Ak(this.g);n="";var i=r.length,s=4==yc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){R4(this),lp(this);var c="";break t}this.h.i=new xt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function pU(n,e,t,r,i,s,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.U,b,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C_(h)){var v=h;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,zi(12),R4(this),lp(this);break e}Ch(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,KE(this,t)}this.P?(tk(this,b,c),EE&&this.i&&3==b&&(jN(this.S,this.T,"tick",this.hb),this.T.start())):(Ch(this.j,this.m,c,null),KE(this,c)),4==b&&R4(this),this.i&&!this.I&&(4==b?xk(this.l,this):(this.i=!1,cp(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,zi(12)):(this.o=0,zi(13)),R4(this),lp(this)}}}catch{}},at.hb=function(){if(this.g){var n=yc(this.g),e=this.g.fa();this.C<e.length&&(k_(this),tk(this,n,e),this.i&&4!=n&&cp(this))}},at.cancel=function(){this.I=!0,R4(this)},at.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function mU(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ip(),zi(17)),R4(this),this.o=2,lp(this)):nk(this,this.V-n)};var ik=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function L4(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof L4){this.h=void 0!==e?e:n.h,R_(this,n.j),this.s=n.s,this.g=n.g,L_(this,n.m),this.l=n.l,e=n.i;var t=new dp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),sk(this,t),this.o=n.o}else n&&(t=String(n).match(ik))?(this.h=!!e,R_(this,t[1]||"",!0),this.s=up(t[2]||""),this.g=up(t[3]||"",!0),L_(this,t[4]),this.l=up(t[5]||"",!0),sk(this,t[6]||"",!0),this.o=up(t[7]||"")):(this.h=!!e,this.i=new dp(null,this.h))}function _c(n){return new L4(n)}function R_(n,e,t){n.j=t?up(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function L_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function sk(n,e,t){e instanceof dp?(n.i=e,function IU(n,e){e&&!n.j&&(ul(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(ak(this,r),lk(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=hp(e,MU)),n.i=new dp(e,n.h))}function Hn(n,e,t){n.i.set(e,t)}function P_(n){return Hn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function up(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function hp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,bU),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function bU(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}L4.prototype.toString=function(){var n=[],e=this.j;e&&n.push(hp(e,ok,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(hp(e,ok,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(hp(t,"/"==t.charAt(0)?EU:wU,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",hp(t,SU)),n.join("")};var ok=/[#\/\?@]/g,wU=/[#\?:]/g,EU=/[#\?]/g,MU=/[#\?@]/g,SU=/#/g;function dp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ul(n){n.g||(n.g=new Map,n.h=0,n.i&&function AU(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ak(n,e){ul(n),e=Ah(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function ck(n,e){return ul(n),e=Ah(n,e),n.g.has(e)}function lk(n,e,t){ak(n,e),0<t.length&&(n.i=null,n.g.set(Ah(n,e),AE(t)),n.h+=t.length)}function Ah(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function uk(n){this.l=n||xU,n=xt.PerformanceNavigationTiming?0<(n=xt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(xt.g&&xt.g.Ga&&xt.g.Ga()&&xt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=dp.prototype).add=function(n,e){ul(this),this.i=null,n=Ah(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},at.forEach=function(n,e){ul(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},at.oa=function(){ul(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},at.W=function(n){ul(this);let e=[];if("string"==typeof n)ck(this,n)&&(e=e.concat(this.g.get(Ah(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},at.set=function(n,e){return ul(this),this.i=null,ck(this,n=Ah(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},at.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=s;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var xU=10;function hk(n){return!!n.h||!!n.g&&n.g.size>=n.j}function dk(n){return n.h?1:n.g?n.g.size:0}function YE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function QE(n,e){n.g?n.g.add(e):n.h=e}function fk(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function pk(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return AE(n.i)}function XE(){}function DU(){this.g=new XE}function NU(n,e,t){const r=t||"";try{rk(n,function(i,s){let c=i;ep(i)&&(c=FE(i)),e.push(r+s+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function O_(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function fp(n){this.l=n.ac||null,this.j=n.jb||!1}function z_(n,e){Fr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=JE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}uk.prototype.cancel=function(){if(this.i=pk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},XE.prototype.stringify=function(n){return xt.JSON.stringify(n,void 0)},XE.prototype.parse=function(n){return xt.JSON.parse(n,void 0)},ni(fp,jE),fp.prototype.g=function(){return new z_(this.l,this.j)},fp.prototype.i=function(n){return function(){return n}}({}),ni(z_,Fr);var JE=0;function mk(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function pp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,mp(n)}function mp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(at=z_.prototype).open=function(n,e){if(this.readyState!=JE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,mp(this)},at.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||xt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pp(this)),this.readyState=JE},at.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,mp(this)),this.g&&(this.readyState=3,mp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof xt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mk(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},at.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?pp(this):mp(this),3==this.readyState&&mk(this)}},at.Va=function(n){this.g&&(this.response=this.responseText=n,pp(this))},at.Ua=function(n){this.g&&(this.response=n,pp(this))},at.ga=function(){this.g&&pp(this)},at.setRequestHeader=function(n,e){this.v.append(n,e)},at.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(z_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var RU=xt.JSON.parse;function ar(n){Fr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=gk,this.K=this.L=!1}ni(ar,Fr);var gk="",LU=/^https?$/i,PU=["POST","PUT"];function vk(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,_k(n),F_(n)}function _k(n){n.D||(n.D=!0,ri(n,"complete"),ri(n,"error"))}function yk(n){if(n.h&&typeof yE<"u"&&(!n.C[1]||4!=yc(n)||2!=n.aa()))if(n.v&&4==yc(n))UE(n.Ha,0,n);else if(ri(n,"readystatechange"),4==yc(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(ik)[1]||null;if(!i&&xt.self&&xt.self.location){var s=xt.self.location.protocol;i=s.substr(0,s.length-1)}r=!LU.test(i?i.toLowerCase():"")}t=r}if(t)ri(n,"complete"),ri(n,"success");else{n.m=6;try{var c=2<yc(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",_k(n)}}finally{F_(n)}}}function F_(n,e){if(n.g){Ck(n);const t=n.g,r=n.C[0]?v_:null;n.g=null,n.C=null,e||ri(n,"ready");try{t.onreadystatechange=r}catch{}}}function Ck(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(xt.clearTimeout(n.A),n.A=null)}function yc(n){return n.g?n.g.readyState:0}function Ak(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case gk:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function bk(n){let e="";return xE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function eM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=bk(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Hn(n,e,t))}function gp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function wk(n){this.Ca=0,this.i=[],this.j=new I_,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=gp("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=gp("baseRetryDelayMs",5e3,n),this.bb=gp("retryDelaySeedMs",1e4,n),this.$a=gp("forwardChannelMaxRetries",2,n),this.ta=gp("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new uk(n&&n.concurrentRequestLimit),this.Fa=new DU,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function tM(n){if(Ek(n),3==n.G){var e=n.U++,t=_c(n.F);Hn(t,"SID",n.I),Hn(t,"RID",e),Hn(t,"TYPE","terminate"),vp(n,t),(e=new ap(n,n.j,e,void 0)).K=2,e.v=P_(_c(t)),t=!1,xt.navigator&&xt.navigator.sendBeacon&&(t=xt.navigator.sendBeacon(e.v.toString(),"")),!t&&xt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Rk(e.l,null),e.g.da(e.v)),e.F=Date.now(),cp(e)}Nk(n)}function V_(n){n.g&&(rM(n),n.g.cancel(),n.g=null)}function Ek(n){V_(n),n.u&&(xt.clearTimeout(n.u),n.u=null),B_(n),n.h.cancel(),n.m&&("number"==typeof n.m&&xt.clearTimeout(n.m),n.m=null)}function H_(n){hk(n.h)||n.m||(n.m=!0,VN(n.Ja,n),n.C=0)}function Mk(n,e){var t;t=e?e.m:n.U++;const r=_c(n.F);Hn(r,"SID",n.I),Hn(r,"RID",t),Hn(r,"AID",n.T),vp(n,r),n.o&&n.s&&eM(r,n.o,n.s),t=new ap(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Sk(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),QE(n.h,t),ZE(t,r,e)}function vp(n,e){n.ia&&xE(n.ia,function(t,r){Hn(e,r,t)}),n.l&&rk({},function(t,r){Hn(e,r,t)})}function Sk(n,e,t){t=Math.min(n.i.length,t);var r=n.l?_i(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=i[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let v=i[p].h;const b=i[p].g;if(v-=s,0>v)s=Math.max(0,i[p].h-100),h=!1;else try{NU(b,c,"req"+v+"_")}catch{r&&r(b)}}if(h){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function Ik(n){n.g||n.u||(n.Z=1,VN(n.Ia,n),n.A=0)}function nM(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=sp(_i(n.Ia,n),Dk(n,n.A)),n.A++,0))}function rM(n){null!=n.B&&(xt.clearTimeout(n.B),n.B=null)}function Tk(n){n.g=new ap(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=_c(n.sa);Hn(e,"RID","rpc"),Hn(e,"SID",n.I),Hn(e,"CI",n.L?"0":"1"),Hn(e,"AID",n.T),Hn(e,"TYPE","xmlhttp"),vp(n,e),n.o&&n.s&&eM(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=P_(_c(e)),t.s=null,t.P=!0,JN(t,n)}function B_(n){null!=n.v&&(xt.clearTimeout(n.v),n.v=null)}function xk(n,e){var t=null;if(n.g==e){B_(n),rM(n),n.g=null;var r=2}else{if(!YE(n.h,e))return;t=e.D,fk(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ri(r=T_(),new ZN(r,t)),H_(n)}else Ik(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function zU(n,e){return!(dk(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=sp(_i(n.Ja,n,e),Dk(n,n.C)),n.C++,0)))}(n,e)||2==r&&nM(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:P4(n,5);break;case 4:P4(n,10);break;case 3:P4(n,6);break;default:P4(n,2)}}function Dk(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function P4(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=_i(n.kb,n);t||(t=new L4("//www.google.com/images/cleardot.gif"),xt.location&&"http"==xt.location.protocol||R_(t,"https"),P_(t)),function kU(n,e){const t=new I_;if(xt.Image){const r=new Image;r.onload=y_(O_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=y_(O_,t,r,"TestLoadImage: error",!1,e),r.onabort=y_(O_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=y_(O_,t,r,"TestLoadImage: timeout",!1,e),xt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else zi(2);n.G=0,n.l&&n.l.va(e),Nk(n),Ek(n)}function Nk(n){if(n.G=0,n.la=[],n.l){const e=pk(n.h);(0!=e.length||0!=n.i.length)&&(EN(n.la,e),EN(n.la,n.i),n.h.i.length=0,AE(n.i),n.i.length=0),n.l.ua()}}function kk(n,e,t){var r=t instanceof L4?_c(t):new L4(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),L_(r,r.m);else{var i=xt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new L4(null,void 0);r&&R_(s,r),e&&(s.g=e),i&&L_(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&Hn(r,t,e),Hn(r,"VER",n.ma),vp(n,r),r}function Rk(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ar(t&&n.Da&&!n.ra?new fp({jb:!0}):n.ra)).Ka(n.H),e}function Lk(){}function U_(){if(yh&&!(10<=Number(eU)))throw Error("Environmental error: no available transport.")}function ws(n,e){Fr.call(this),this.g=new wk(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!C_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!C_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new bh(this)}function Pk(n){GE.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Ok(){$E.call(this),this.status=1}function bh(n){this.g=n}(at=ar.prototype).Ka=function(n){this.L=n},at.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():WE.g(),this.C=function YN(n){return n.h||(n.h=n.i())}(this.u?this.u:WE),this.g.onreadystatechange=_i(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void vk(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=xt.FormData&&n instanceof xt.FormData,!(0<=wN(PU,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of t)this.g.setRequestHeader(s,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ck(this),0<this.B&&((this.K=function OU(n){return yh&&function JB(){return function KB(n){var e=XB;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=MN(String(b_)).split("."),t=MN("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",s=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=bE(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||bE(0==i[2].length,0==s[2].length)||bE(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_i(this.qa,this)):this.A=UE(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){vk(this,s)}},at.qa=function(){typeof yE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ri(this,"timeout"),this.abort(8))},at.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ri(this,"complete"),ri(this,"abort"),F_(this))},at.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),F_(this,!0)),ar.X.M.call(this)},at.Ha=function(){this.s||(this.F||this.v||this.l?yk(this):this.fb())},at.fb=function(){yk(this)},at.aa=function(){try{return 2<yc(this)?this.g.status:-1}catch{return-1}},at.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},at.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),RU(e)}},at.Ea=function(){return this.m},at.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=wk.prototype).ma=8,at.G=1,at.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new ap(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=DN(s),kN(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Sk(this,i,e),Hn(t=_c(this.F),"RID",n),Hn(t,"CVER",22),this.D&&Hn(t,"X-HTTP-Session-Id",this.D),vp(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(bk(s)))+"&"+e:this.o&&eM(t,this.o,s)),QE(this.h,i),this.Ya&&Hn(t,"TYPE","init"),this.O?(Hn(t,"$req",e),Hn(t,"SID","null"),i.Z=!0,ZE(i,t,null)):ZE(i,t,e),this.G=2}}else 3==this.G&&(n?Mk(this,n):0==this.i.length||hk(this.h)||Mk(this))},at.Ia=function(){if(this.u=null,Tk(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=sp(_i(this.eb,this),n)}},at.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,zi(10),V_(this),Tk(this))},at.cb=function(){null!=this.v&&(this.v=null,V_(this),nM(this),zi(19))},at.kb=function(n){n?(this.j.info("Successfully pinged google.com"),zi(2)):(this.j.info("Failed to ping google.com"),zi(1))},(at=Lk.prototype).xa=function(){},at.wa=function(){},at.va=function(){},at.ua=function(){},at.Ra=function(){},U_.prototype.g=function(n,e){return new ws(n,e)},ni(ws,Fr),ws.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;zi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=kk(n,null,n.V),H_(n)},ws.prototype.close=function(){tM(this.g)},ws.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=FE(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&H_(e)},ws.prototype.M=function(){this.g.l=null,delete this.j,tM(this.g),delete this.g,ws.X.M.call(this)},ni(Pk,GE),ni(Ok,$E),ni(bh,Lk),bh.prototype.xa=function(){ri(this.g,"a")},bh.prototype.wa=function(n){ri(this.g,new Pk(n))},bh.prototype.va=function(n){ri(this.g,new Ok)},bh.prototype.ua=function(){ri(this.g,"b")},U_.prototype.createWebChannel=U_.prototype.g,ws.prototype.send=ws.prototype.u,ws.prototype.open=ws.prototype.m,ws.prototype.close=ws.prototype.close,x_.NO_ERROR=0,x_.TIMEOUT=8,x_.HTTP_ERROR=6,KN.COMPLETE="complete",QN.EventType=op,op.OPEN="a",op.CLOSE="b",op.ERROR="c",op.MESSAGE="d",Fr.prototype.listen=Fr.prototype.N,ar.prototype.listenOnce=ar.prototype.O,ar.prototype.getLastError=ar.prototype.Oa,ar.prototype.getLastErrorCode=ar.prototype.Ea,ar.prototype.getStatus=ar.prototype.aa,ar.prototype.getResponseJson=ar.prototype.Sa,ar.prototype.getResponseText=ar.prototype.fa,ar.prototype.send=ar.prototype.da,ar.prototype.setWithCredentials=ar.prototype.Ka;var FU=vc.createWebChannelTransport=function(){return new U_},VU=vc.getStatEventTarget=function(){return T_()},iM=vc.ErrorCode=x_,HU=vc.EventType=KN,BU=vc.Event=k4,zk=vc.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},UU=vc.FetchXmlHttpFactory=fp,j_=vc.WebChannel=QN,jU=vc.XhrIo=ar;const Fk="@firebase/firestore";class Vr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");let wh="9.14.0";const hl=new gi.Yd("@firebase/firestore");function sM(){return hl.logLevel}function Ne(n,...e){if(hl.logLevel<=gi.in.DEBUG){const t=e.map(oM);hl.debug(`Firestore (${wh}): ${n}`,...t)}}function fr(n,...e){if(hl.logLevel<=gi.in.ERROR){const t=e.map(oM);hl.error(`Firestore (${wh}): ${n}`,...t)}}function Eh(n,...e){if(hl.logLevel<=gi.in.WARN){const t=e.map(oM);hl.warn(`Firestore (${wh}): ${n}`,...t)}}function oM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${wh}) INTERNAL ASSERTION FAILED: `+n;throw fr(e),new Error(e)}function At(n,e){n||rt()}function $e(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends j.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Vk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vr.UNAUTHENTICATED))}shutdown(){}}class $U{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WU{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let c=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Dr,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const v=c;e.enqueueRetryable((0,oe.Z)(function*(){yield v.promise,yield s(r.currentUser)}))},p=v=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Dr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At("string"==typeof r.accessToken),new Vk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(null===e||"string"==typeof e),new Vr(e)}}class qU{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(At(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ZU{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new qU(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KU{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.A;return this.A=s.token,Ne("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At("string"==typeof t.token),this.A=t.token,new Hk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function YU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Bk{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=YU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Dt(n,e){return n<e?-1:n>e?1:0}function Mh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Yn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ie(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yn.fromMillis(Date.now())}static fromDate(e){return Yn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Yn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new Yn(0,0))}static max(){return new bt(new Yn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _p{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===_p.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _p?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),c=t.get(i);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jt extends _p{construct(e,t,r){return new Jt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Jt(t)}static emptyPath(){return new Jt([])}}const QU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pr extends _p{construct(e,t,r){return new pr(e,t,r)}static isValidIdentifier(e){return QU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Ie(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new Ie(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ie(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else"`"===h?(c=!c,i++):"."!==h||c?(r+=h,i++):(s(),i++)}if(s(),c)throw new Ie(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pr(t)}static emptyPath(){return new pr([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Jt.fromString(e))}static fromName(e){return new Ge(Jt.fromString(e).popFirst(5))}static empty(){return new Ge(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Jt(e.slice()))}}function Gk(n){return new Es(n.readTime,n.key,-1)}class Es{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Es(bt.min(),Ge.empty(),-1)}static max(){return new Es(bt.max(),Ge.empty(),-1)}}function cM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:Dt(n.largestBatchId,e.largestBatchId))}const $k="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function dl(n){return lM.apply(this,arguments)}function lM(){return lM=(0,oe.Z)(function*(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==$k)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}),lM.apply(this,arguments)}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let i=0,s=0,c=!1;e.forEach(h=>{++i,h.next(()=>{++s,c&&s===i&&t()},p=>r(p))}),c=!0,s===i&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(i=>i?te.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new te((r,i)=>{const s=e.length,c=new Array(s);let h=0;for(let p=0;p<s;p++){const v=p;t(e[v]).next(b=>{c[v]=b,++h,h===s&&r(c)},b=>i(b))}})}static doWhile(e,t){return new te((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function fl(n){return"IndexedDbTransactionError"===n.name}class ts{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function qk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function F4(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Zk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}ts.at=-1;class cr{constructor(e,t){this.comparator=e,this.root=t||ii.EMPTY}insert(e,t){return new cr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ii.BLACK,null,null))}remove(e){return new cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ii.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new q_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new q_(this.root,e,this.comparator,!1)}getReverseIterator(){return new q_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new q_(this.root,e,this.comparator,!0)}}class q_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ii{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ii.RED,this.left=i??ii.EMPTY,this.right=s??ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ii(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ii.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}ii.EMPTY=null,ii.RED=!0,ii.BLACK=!1,ii.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ii(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wn{constructor(e){this.comparator=e,this.data=new cr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kk(this.data.getIterator())}getIteratorFrom(e){return new Kk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wn(this.comparator);return t.data=e,t}}class Kk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ms{constructor(e){this.fields=e,e.sort(pr.comparator)}static empty(){return new Ms([])}unionWith(e){let t=new wn(pr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ms(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Nr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const sj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pl(n){if(At(!!n),"string"==typeof n){let e=0;const t=sj.exec(n);if(At(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lr(n.seconds),nanos:lr(n.nanos)}}function lr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function V4(n){return"string"==typeof n?Nr.fromBase64String(n):Nr.fromUint8Array(n)}function hM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Yk(n){const e=n.mapValue.fields.__previous_value__;return hM(e)?Yk(e):e}function Ap(n){const e=pl(n.mapValue.fields.__local_write_time__.timestampValue);return new Yn(e.seconds,e.nanos)}class oj{constructor(e,t,r,i,s,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class H4{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new H4("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof H4&&e.projectId===this.projectId&&e.database===this.database}}function bp(n){return null==n}function wp(n){return 0===n&&1/n==-1/0}const ml_mapValue={fields:{__type__:{stringValue:"__max__"}}};function B4(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hM(n)?4:tR(n)?9007199254740991:10:rt()}function Xa(n,e){if(n===e)return!0;const t=B4(n);if(t!==B4(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ap(n).isEqual(Ap(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=pl(r.timestampValue),c=pl(i.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,V4(n.bytesValue).isEqual(V4(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return lr(r.geoPointValue.latitude)===lr(i.geoPointValue.latitude)&&lr(r.geoPointValue.longitude)===lr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return lr(r.integerValue)===lr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=lr(r.doubleValue),c=lr(i.doubleValue);return s===c?wp(s)===wp(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Mh(n.arrayValue.values||[],e.arrayValue.values||[],Xa);case 10:return function(r,i){const s=r.mapValue.fields||{},c=i.mapValue.fields||{};if(qk(s)!==qk(c))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===c[h]||!Xa(s[h],c[h])))return!1;return!0}(n,e);default:return rt()}var i}function Ep(n,e){return void 0!==(n.values||[]).find(t=>Xa(t,e))}function gl(n,e){if(n===e)return 0;const t=B4(n),r=B4(e);if(t!==r)return Dt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Dt(n.booleanValue,e.booleanValue);case 2:return function(i,s){const c=lr(i.integerValue||i.doubleValue),h=lr(s.integerValue||s.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return Xk(n.timestampValue,e.timestampValue);case 4:return Xk(Ap(n),Ap(e));case 5:return Dt(n.stringValue,e.stringValue);case 6:return function(i,s){const c=V4(i),h=V4(s);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const c=i.split("/"),h=s.split("/");for(let p=0;p<c.length&&p<h.length;p++){const v=Dt(c[p],h[p]);if(0!==v)return v}return Dt(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const c=Dt(lr(i.latitude),lr(s.latitude));return 0!==c?c:Dt(lr(i.longitude),lr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const c=i.values||[],h=s.values||[];for(let p=0;p<c.length&&p<h.length;++p){const v=gl(c[p],h[p]);if(v)return v}return Dt(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ml_mapValue&&s===ml_mapValue)return 0;if(i===ml_mapValue)return 1;if(s===ml_mapValue)return-1;const c=i.fields||{},h=Object.keys(c),p=s.fields||{},v=Object.keys(p);h.sort(),v.sort();for(let b=0;b<h.length&&b<v.length;++b){const M=Dt(h[b],v[b]);if(0!==M)return M;const T=gl(c[h[b]],p[v[b]]);if(0!==T)return T}return Dt(h.length,v.length)}(n.mapValue,e.mapValue);default:throw rt()}}function Xk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Dt(n,e);const t=pl(n),r=pl(e),i=Dt(t.seconds,r.seconds);return 0!==i?i:Dt(t.nanos,r.nanos)}function Ih(n){return dM(n)}function dM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=pl(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?V4(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const c of r.values||[])s?s=!1:i+=",",i+=dM(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",c=!0;for(const h of i)c?c=!1:s+=",",s+=`${h}:${dM(r.fields[h])}`;return s+"}"}(n.mapValue):rt();var e}function U4(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fM(n){return!!n&&"integerValue"in n}function Mp(n){return!!n&&"arrayValue"in n}function Jk(n){return!!n&&"nullValue"in n}function eR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function K_(n){return!!n&&"mapValue"in n}function Sp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return F4(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Sp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function tR(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class si{constructor(e){this.value=e}static empty(){return new si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!K_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sp(t)}setAll(e){let t=pr.emptyPath(),r={},i=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=h.popLast()}c?r[h.lastSegment()]=Sp(c):i.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());K_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];K_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){F4(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new si(Sp(this.value))}}function iR(n){const e=[];return F4(n.fields,(t,r)=>{const i=new pr([t]);if(K_(r)){const s=iR(r.mapValue).fields;if(0===s.length)e.push(i);else for(const c of s)e.push(i.child(c))}else e.push(i)}),new Ms(e)}class xn{constructor(e,t,r,i,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=c}static newInvalidDocument(e){return new xn(e,0,bt.min(),bt.min(),si.empty(),0)}static newFoundDocument(e,t,r){return new xn(e,1,t,bt.min(),r,0)}static newNoDocument(e,t){return new xn(e,2,t,bt.min(),si.empty(),0)}static newUnknownDocument(e,t){return new xn(e,3,t,bt.min(),si.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lj{constructor(e,t=null,r=[],i=[],s=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=c,this.endAt=h,this.ht=null}}function sR(n,e=null,t=[],r=[],i=null,s=null,c=null){return new lj(n,e,t,r,i,s,c)}function j4(n){const e=$e(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Ih(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),bp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ih(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ih(r)).join(",")),e.ht=t}return e.ht}function Ip(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!_j(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Xa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uR(n.startAt,e.startAt)&&uR(n.endAt,e.endAt)}function Y_(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class oi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new hj(e,t,r):"array-contains"===t?new pj(e,r):"in"===t?new mj(e,r):"not-in"===t?new gj(e,r):"array-contains-any"===t?new vj(e,r):new oi(e,t,r)}static lt(e,t,r){return"in"===t?new dj(e,r):new fj(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(gl(t,this.value)):null!==t&&B4(this.value)===B4(t)&&this.ft(gl(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class hj extends oi{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.ft(t)}}class dj extends oi{constructor(e,t){super(e,"in",t),this.keys=cR(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fj extends oi{constructor(e,t){super(e,"not-in",t),this.keys=cR(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cR(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class pj extends oi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mp(t)&&Ep(t.arrayValue,this.value)}}class mj extends oi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ep(this.value.arrayValue,t)}}class gj extends oi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ep(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ep(this.value.arrayValue,t)}}class vj extends oi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ep(this.value.arrayValue,r))}}class vl{constructor(e,t){this.position=e,this.inclusive=t}}class Th{constructor(e,t="asc"){this.field=e,this.dir=t}}function _j(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function lR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],c=n.position[i];if(r=s.field.isKeyField()?Ge.comparator(Ge.fromName(c.referenceValue),t.key):gl(c,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function uR(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xa(n.position[t],e.position[t]))return!1;return!0}class Cc{constructor(e,t=null,r=[],i=[],s=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=c,this.startAt=h,this.endAt=p,this._t=null,this.wt=null}}function xh(n){return new Cc(n)}function dR(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function pM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function mM(n){for(const e of n.filters)if(e.dt())return e.field;return null}function gM(n){return null!==n.collectionGroup}function Dh(n){const e=$e(n);if(null===e._t){e._t=[];const t=mM(e),r=pM(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Th(t)),e._t.push(new Th(pr.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Th(pr.keyField(),s))}}}return e._t}function Fi(n){const e=$e(n);if(!e.wt)if("F"===e.limitType)e.wt=sR(e.path,e.collectionGroup,Dh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Dh(e))t.push(new Th(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new vl(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new vl(e.startAt.position,e.startAt.inclusive):null;e.wt=sR(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function X_(n,e,t){return new Cc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Tp(n,e){return Ip(Fi(n),Fi(e))&&n.limitType===e.limitType}function fR(n){return`${j4(Fi(n))}|lt:${n.limitType}`}function vM(n){return`Query(target=${function uj(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Ih(r.value)}`;var r}).join(", ")}]`),bp(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Ih(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Ih(t)).join(",")),`Target(${e})`}(Fi(n))}; limitType=${n.limitType})`}function _M(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ge.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,c){const h=lR(i,s,c);return i.inclusive?h<=0:h<0}(t.startAt,Dh(t),r)||t.endAt&&!function(i,s,c){const h=lR(i,s,c);return i.inclusive?h>=0:h>0}(t.endAt,Dh(t),r)));var t,r}function mR(n){return(e,t)=>{let r=!1;for(const i of Dh(n)){const s=yj(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function yj(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(i,s,c){const h=s.data.field(i),p=c.data.field(i);return null!==h&&null!==p?gl(h,p):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function gR(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wp(e)?"-0":e}}function vR(n){return{integerValue:""+n}}function _R(n,e){return function Qk(n){return"number"==typeof n&&Number.isInteger(n)&&!wp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?vR(e):gR(n,e)}class J_{constructor(){this._=void 0}}function Cj(n,e,t){return n instanceof Nh?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof G4?CR(n,e):n instanceof $4?AR(n,e):function(r,i){const s=yR(r,i),c=bR(s)+bR(r.yt);return fM(s)&&fM(r.yt)?vR(c):gR(r.It,c)}(n,e)}function Aj(n,e,t){return n instanceof G4?CR(n,e):n instanceof $4?AR(n,e):t}function yR(n,e){return n instanceof kh?fM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Nh extends J_{}class G4 extends J_{constructor(e){super(),this.elements=e}}function CR(n,e){const t=wR(e);for(const r of n.elements)t.some(i=>Xa(i,r))||t.push(r);return{arrayValue:{values:t}}}class $4 extends J_{constructor(e){super(),this.elements=e}}function AR(n,e){let t=wR(e);for(const r of n.elements)t=t.filter(i=>!Xa(i,r));return{arrayValue:{values:t}}}class kh extends J_{constructor(e,t){super(),this.It=e,this.yt=t}}function bR(n){return lr(n.integerValue||n.doubleValue)}function wR(n){return Mp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class wj{constructor(e,t){this.version=e,this.transformResults=t}}class Bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ey(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ty{}function ER(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Lh(n.key,Bn.none()):new Rh(n.key,n.data,Bn.none());{const t=n.data,r=si.empty();let i=new wn(pr.comparator);for(let s of e.fields)if(!i.has(s)){let c=t.field(s);null===c&&s.length>1&&(s=s.popLast(),c=t.field(s)),null===c?r.delete(s):r.set(s,c),i=i.add(s)}return new Ac(n.key,r,new Ms(i.toArray()),Bn.none())}}function Ej(n,e,t){n instanceof Rh?function(r,i,s){const c=r.value.clone(),h=IR(r.fieldTransforms,i,s.transformResults);c.setAll(h),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ac?function(r,i,s){if(!ey(r.precondition,i))return void i.convertToUnknownDocument(s.version);const c=IR(r.fieldTransforms,i,s.transformResults),h=i.data;h.setAll(SR(r)),h.setAll(c),i.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Dp(n,e,t,r){return n instanceof Rh?function(i,s,c,h){if(!ey(i.precondition,s))return c;const p=i.value.clone(),v=TR(i.fieldTransforms,h,s);return p.setAll(v),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ac?function(i,s,c,h){if(!ey(i.precondition,s))return c;const p=TR(i.fieldTransforms,h,s),v=s.data;return v.setAll(SR(i)),v.setAll(p),s.convertToFoundDocument(s.version,v).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(b=>b.field))}(n,e,t,r):(c=t,ey(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function Mj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=yR(r.transform,i||null);null!=s&&(null===t&&(t=si.empty()),t.set(r.field,s))}return t||null}function MR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Mh(t,r,(i,s)=>function bj(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof G4&&r instanceof G4||t instanceof $4&&r instanceof $4?Mh(t.elements,r.elements,Xa):t instanceof kh&&r instanceof kh?Xa(t.yt,r.yt):t instanceof Nh&&r instanceof Nh);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Rh extends ty{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ac extends ty{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function SR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function IR(n,e,t){const r=new Map;At(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],c=s.transform,h=e.data.field(s.field);r.set(s.field,Aj(c,h,t[i]))}return r}function TR(n,e,t){const r=new Map;for(const i of n){const s=i.transform,c=t.data.field(i.field);r.set(i.field,Cj(s,c,e))}return r}class Lh extends ty{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yM extends ty{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sj{constructor(e){this.count=e}}var Ar,en;function xR(n){switch(n){default:return rt();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function DR(n){if(void 0===n)return fr("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Ar.OK:return ae.OK;case Ar.CANCELLED:return ae.CANCELLED;case Ar.UNKNOWN:return ae.UNKNOWN;case Ar.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Ar.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Ar.INTERNAL:return ae.INTERNAL;case Ar.UNAVAILABLE:return ae.UNAVAILABLE;case Ar.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Ar.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Ar.NOT_FOUND:return ae.NOT_FOUND;case Ar.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Ar.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Ar.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Ar.ABORTED:return ae.ABORTED;case Ar.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Ar.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Ar.DATA_LOSS:return ae.DATA_LOSS;default:return rt()}}(en=Ar||(Ar={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";class _l{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){F4(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Zk(this.inner)}size(){return this.innerSize}}const Ij=new cr(Ge.comparator);function ns(){return Ij}const NR=new cr(Ge.comparator);function Np(...n){let e=NR;for(const t of n)e=e.insert(t.key,t);return e}function kR(n){let e=NR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ja(){return kp()}function RR(){return kp()}function kp(){return new _l(n=>n.toString(),(n,e)=>n.isEqual(e))}const Tj=new cr(Ge.comparator),xj=new wn(Ge.comparator);function Rt(...n){let e=xj;for(const t of n)e=e.add(t);return e}const Dj=new wn(Dt);function ny(){return Dj}class Rp{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Lp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Rp(bt.min(),i,ny(),ns(),Rt())}}class Lp{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Lp(r,t,Rt(),Rt(),Rt())}}class ry{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class LR{constructor(e,t){this.targetId=e,this.At=t}}class PR{constructor(e,t,r=Nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class OR{constructor(){this.Rt=0,this.bt=FR(),this.Pt=Nr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Rt(),t=Rt(),r=Rt();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new Lp(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=FR()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Nj{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ns(),this.qt=zR(),this.Kt=new wn(Dt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const s=i.target;if(Y_(s))if(0===r){const c=new Ge(s.path);this.jt(t,c,xn.newNoDocument(c,bt.min()))}else At(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,c)=>{const h=this.Xt(c);if(h){if(s.current&&Y_(h.target)){const p=new Ge(h.target.path);null!==this.Ut.get(p)||this.ee(c,p)||this.jt(c,p,xn.newNoDocument(p,e))}s.Dt&&(t.set(c,s.xt()),s.Nt())}});let r=Rt();this.qt.forEach((s,c)=>{let h=!0;c.forEachWhile(p=>{const v=this.Xt(p);return!v||2===v.purpose||(h=!1,!1)}),h&&(r=r.add(s))}),this.Ut.forEach((s,c)=>c.setReadTime(e));const i=new Rp(e,t,this.Kt,this.Ut,r);return this.Ut=ns(),this.qt=zR(),this.Kt=new wn(Dt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new OR,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new wn(Dt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new OR),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function zR(){return new cr(Ge.comparator)}function FR(){return new cr(Ge.comparator)}const kj={asc:"ASCENDING",desc:"DESCENDING"},Rj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Lj{constructor(e,t){this.databaseId=e,this.gt=t}}function Pp(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VR(n,e){return n.gt?e.toBase64():e.toUint8Array()}function Pj(n,e){return Pp(n,e.toTimestamp())}function Hr(n){return At(!!n),bt.fromTimestamp(function(e){const t=pl(e);return new Yn(t.seconds,t.nanos)}(n))}function CM(n,e){return(t=n,new Jt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function HR(n){const e=Jt.fromString(n);return At(ZR(e)),e}function Op(n,e){return CM(n.databaseId,e.path)}function e1(n,e){const t=HR(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(UR(t))}function AM(n,e){return CM(n.databaseId,e)}function zp(n){return new Jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function UR(n){return At(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function jR(n,e,t){return{name:Op(n,e),fields:t.value.mapValue.fields}}function $R(n,e){return{documents:[AM(n,e.path)]}}function wM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=AM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=AM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(p){if(0===p.length)return;const v=p.map(b=>function(M){if("=="===M.op){if(eR(M.value))return{unaryFilter:{field:Ph(M.field),op:"IS_NAN"}};if(Jk(M.value))return{unaryFilter:{field:Ph(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(eR(M.value))return{unaryFilter:{field:Ph(M.field),op:"IS_NOT_NAN"}};if(Jk(M.value))return{unaryFilter:{field:Ph(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ph(M.field),op:Bj(M.op),value:M.value}}}(b));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(p){if(0!==p.length)return p.map(v=>{return{field:Ph((b=v).field),direction:Hj(b.dir)};var b})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=(v=e.limit,n.gt||bp(v)?v:{value:v});var v,h,p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function WR(n){let e=function BR(n){const e=HR(n);return 4===e.length?Jt.emptyPath():UR(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){At(1===r);const b=t.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let s=[];t.where&&(s=qR(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(b=>{return new Th(Oh((M=b).field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let h=null;t.limit&&(h=function(b){let M;return M="object"==typeof b?b.value:b,bp(M)?null:M}(t.limit));let p=null;var b;t.startAt&&(p=new vl((b=t.startAt).values||[],!!b.before));let v=null;return t.endAt&&(v=function(b){return new vl(b.values||[],!b.before)}(t.endAt)),function hR(n,e,t,r,i,s,c,h){return new Cc(n,e,t,r,i,s,c,h)}(e,i,c,s,h,"F",p,v)}function qR(n){return n?void 0!==n.unaryFilter?[jj(n)]:void 0!==n.fieldFilter?[Uj(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>qR(e)).reduce((e,t)=>e.concat(t)):rt():[]}function Hj(n){return kj[n]}function Bj(n){return Rj[n]}function Ph(n){return{fieldPath:n.canonicalString()}}function Oh(n){return pr.fromServerFormat(n.fieldPath)}function Uj(n){return oi.create(Oh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function jj(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Oh(n.unaryFilter.field);return oi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Oh(n.unaryFilter.field);return oi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Oh(n.unaryFilter.field);return oi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Oh(n.unaryFilter.field);return oi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function Gj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ZR(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class MM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Ej(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Dp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Dp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=RR();return this.mutations.forEach(i=>{const s=e.get(i.key),c=s.overlayedDocument;let h=this.applyToLocalView(c,s.mutatedFields);h=t.has(i.key)?null:h;const p=ER(c,h);null!==p&&r.set(i.key,p),c.isValidDocument()||c.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rt())}isEqual(e){return this.batchId===e.batchId&&Mh(this.mutations,e.mutations,(t,r)=>MR(t,r))&&Mh(this.baseMutations,e.baseMutations,(t,r)=>MR(t,r))}}class SM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){At(e.mutations.length===r.length);let i=Tj;const s=e.mutations;for(let c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new SM(e,t,r,i)}}class IM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yl{constructor(e,t,r,i,s=bt.min(),c=bt.min(),h=Nr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(e){return new yl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class tL{constructor(e){this.re=e}}function TM(n){const e=WR({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?X_(e,e.limit,"L"):e}class K4{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(lr(e.integerValue));else if("doubleValue"in e){const r=lr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),wp(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(V4(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?tR(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):rt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),Ge.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}K4.Te=new K4;class gG{constructor(){this.Ye=new DM}addToCollectionParentIndex(e,t){return this.Ye.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Es.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class DM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new wn(Jt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wn(Jt.comparator)).toArray()}}new Uint8Array(0);class rs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new rs(e,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}rs.DEFAULT_COLLECTION_PERCENTILE=10,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rs.DEFAULT=new rs(41943040,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rs.DISABLED=new rs(-1,0,0);class X4{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new X4(0)}static vn(){return new X4(-1)}}class SG{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class bL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Dp(r.mutation,i,Ms.empty(),Yn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Rt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Rt()){const i=Ja();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let c=Np();return s.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Ja();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Rt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,r,i){let s=ns();const c=kp(),h=kp();return t.forEach((p,v)=>{const b=r.get(v.key);i.has(v.key)&&(void 0===b||b.mutation instanceof Ac)?s=s.insert(v.key,v):void 0!==b&&(c.set(v.key,b.mutation.getFieldMask()),Dp(b.mutation,v,b.mutation.getFieldMask(),Yn.now()))}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((v,b)=>c.set(v,b)),t.forEach((v,b)=>{var M;return h.set(v,new SG(b,null!==(M=c.get(v))&&void 0!==M?M:null))}),h))}recalculateAndSaveOverlays(e,t){const r=kp();let i=new cr((c,h)=>c-h),s=Rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const v=t.get(p);if(null===v)return;let b=r.get(p)||Ms.empty();b=h.applyToLocalView(v,b),r.set(p,b);const M=(i.get(h.batchId)||Rt()).add(p);i=i.insert(h.batchId,M)})}).next(()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),v=p.key,b=p.value,M=RR();b.forEach(T=>{if(!s.has(T)){const N=ER(t.get(T),r.get(T));null!==N&&M.set(T,N),s=s.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,M))}return te.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ge.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):gM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const c=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):te.resolve(Ja());let h=-1,p=s;return c.next(v=>te.forEach(v,(b,M)=>(h<M.largestBatchId&&(h=M.largestBatchId),s.get(b)?te.resolve():this.getBaseDocument(e,b,M).next(T=>{p=p.insert(b,T)}))).next(()=>this.populateOverlays(e,v,s)).next(()=>this.computeViews(e,p,v,Rt())).next(b=>({batchId:h,changes:kR(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(r=>{let i=Np();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Np();return this.indexManager.getCollectionParents(e,i).next(c=>te.forEach(c,h=>{const p=(v=t,b=h.child(i),new Cc(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,b;return this.getDocumentsMatchingCollectionQuery(e,p,r).next(v=>{v.forEach((b,M)=>{s=s.insert(b,M)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((h,p)=>{const v=p.getKey();null===i.get(v)&&(i=i.insert(v,xn.newInvalidDocument(v)))});let c=Np();return i.forEach((h,p)=>{const v=s.get(h);void 0!==v&&Dp(v.mutation,p,Ms.empty(),Yn.now()),_M(t,p)&&(c=c.insert(h,p))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):te.resolve(xn.newInvalidDocument(t))}}class IG{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return te.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Hr(r.createTime)}),te.resolve()}getNamedQuery(e,t){return te.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:TM(r.bundledQuery),readTime:Hr(r.readTime)}),te.resolve();var r}}class TG{constructor(){this.overlays=new cr(Ge.comparator),this.es=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ja();return te.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ue(e,t,s)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const i=Ja(),s=t.length+1,c=new Ge(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===s&&p.largestBatchId>r&&i.set(p.getKey(),p)}return te.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new cr((v,b)=>v-b);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let b=s.get(v.largestBatchId);null===b&&(b=Ja(),s=s.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const h=Ja(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,b)=>h.set(v,b)),!(h.size()>=i)););return te.resolve(h)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new IM(t,r));let s=this.es.get(t);void 0===s&&(s=Rt(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class NM{constructor(){this.ns=new wn(Ur.ss),this.rs=new wn(Ur.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Ur(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Ur(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Ge(new Jt([])),r=new Ur(t,e),i=new Ur(t,e+1),s=[];return this.rs.forEachInRange([r,i],c=>{this.cs(c),s.push(c.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ge(new Jt([])),r=new Ur(t,e),i=new Ur(t,e+1);let s=Rt();return this.rs.forEachInRange([r,i],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new Ur(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ur{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ge.comparator(e.key,t.key)||Dt(e._s,t._s)}static os(e,t){return Dt(e._s,t._s)||Ge.comparator(e.key,t.key)}}class xG{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new wn(Ur.ss)}checkEmpty(e){return te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const c=new MM(s,t,r,i);this.mutationQueue.push(c);for(const h of i)this.gs=this.gs.add(new Ur(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return te.resolve(c)}lookupMutationBatch(e,t){return te.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ur(t,0),i=new Ur(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],c=>{const h=this.ys(c._s);s.push(h)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(Dt);return t.forEach(i=>{const s=new Ur(i,0),c=new Ur(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,c],h=>{r=r.add(h._s)})}),te.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Ge.isDocumentKey(s)||(s=s.child(""));const c=new Ur(new Ge(s),0);let h=new wn(Dt);return this.gs.forEachWhile(p=>{const v=p.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(h=h.add(p._s)),!0)},c),te.resolve(this.Is(h))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){At(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return te.forEach(t.mutations,i=>{const s=new Ur(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Ur(t,0),i=this.gs.firstAfterOrEqual(r);return te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return te.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class DG{constructor(e){this.Es=e,this.docs=new cr(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,c=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(t))}getEntries(e,t){let r=ns();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xn.newInvalidDocument(i))}),te.resolve(r)}getAllFromCollection(e,t,r){let i=ns();const s=new Ge(t.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||cM(Gk(p),r)<=0||(i=i.insert(p.key,p.mutableCopy()))}return te.resolve(i)}getAllFromCollectionGroup(e,t,r,i){rt()}As(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new NG(this)}getSize(e){return te.resolve(this.size)}}class NG extends class wG{constructor(){this.changes=new _l(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class kG{constructor(e){this.persistence=e,this.Rs=new _l(t=>j4(t),Ip),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new NM,this.targetCount=0,this.vs=X4.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),te.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new X4(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Dn(t),te.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((c,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Rs.delete(c),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(c=>{s.push(i.markPotentiallyOrphaned(e,c))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.Ps.containsKey(t))}}class wL{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ts(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new kG(this),this.indexManager=new gG,this.remoteDocumentCache=new DG(r=>this.referenceDelegate.xs(r)),this.It=new tL(t),this.Ns=new IG(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new TG,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new xG(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new RG(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return te.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class RG extends class ej{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class dy{constructor(e){this.persistence=e,this.Fs=new NM,this.$s=null}static Bs(e){return new dy(e)}get Ls(){if(this.$s)return this.$s;throw rt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),te.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Ls,r=>{const i=Ge.fromPath(r);return this.Us(e,i).next(s=>{s||t.removeEntry(i,bt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return te.or([()=>te.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class PM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Rt(),i=Rt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new PM(e,t.fromCache,r,i)}}class ML{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if(dR(t))return te.resolve(null);let r=Fi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=X_(t,null,"F"),r=Fi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const c=Rt(...s);return this.Ni.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,r).next(p=>{const v=this.Fi(t,h);return this.$i(t,v,c,p.readTime)?this.ki(e,X_(t,null,"F")):this.Bi(e,v,t,p)}))})))}Oi(e,t,r,i){return dR(t)||i.isEqual(bt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const c=this.Fi(t,s);return this.$i(t,c,r,i)?this.Mi(e,t):(sM()<=gi.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vM(t)),this.Bi(e,c,t,function jk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(1e9===r?new Yn(t+1,0):new Yn(t,r));return new Es(i,Ge.empty(),e)}(i,-1)))})}Fi(e,t){let r=new wn(mR(e));return t.forEach((i,s)=>{_M(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return sM()<=gi.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",vM(t)),this.Ni.getDocumentsMatchingQuery(e,t,Es.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class PG{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new cr(Dt),this.qi=new _l(s=>j4(s),Ip),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function IL(n,e){return OM.apply(this,arguments)}function OM(){return OM=(0,oe.Z)(function*(n,e){const t=$e(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const c=[],h=[];let p=Rt();for(const v of i){c.push(v.batchId);for(const b of v.mutations)p=p.add(b.key)}for(const v of s){h.push(v.batchId);for(const b of v.mutations)p=p.add(b.key)}return t.localDocuments.getDocuments(r,p).next(v=>({ji:v,removedBatchIds:c,addedBatchIds:h}))})})}),OM.apply(this,arguments)}function OG(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,h,p,v){const b=p.batch,M=b.keys();let T=te.resolve();return M.forEach(N=>{T=T.next(()=>v.getEntry(h,N)).next(R=>{const V=p.docVersions.get(N);At(null!==V),R.version.compareTo(V)<0&&(b.applyToRemoteDocument(R,p),R.isValidDocument()&&(R.setReadTime(p.commitVersion),v.addEntry(R)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(h,b))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Rt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function TL(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function zG(n,e){const t=$e(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const h=[];e.targetChanges.forEach((b,M)=>{const T=i.get(M);if(!T)return;h.push(t.Cs.removeMatchingKeys(s,b.removedDocuments,M).next(()=>t.Cs.addMatchingKeys(s,b.addedDocuments,M)));let N=T.withSequenceNumber(s.currentSequenceNumber);var R,V,$;e.targetMismatches.has(M)?N=N.withResumeToken(Nr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):b.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(b.resumeToken,r)),i=i.insert(M,N),V=N,$=b,(0===(R=T).resumeToken.approximateByteSize()||V.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8||$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0)&&h.push(t.Cs.updateTargetData(s,N))});let p=ns(),v=Rt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,b))}),h.push(function xL(n,e,t){let r=Rt(),i=Rt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let c=ns();return t.forEach((h,p)=>{const v=s.get(h);p.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(h)),p.isNoDocument()&&p.version.isEqual(bt.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||0===p.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):Ne("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",p.version)}),{Wi:c,zi:i}})}(s,c,e.documentUpdates).next(b=>{p=b.Wi,v=b.zi})),!r.isEqual(bt.min())){const b=t.Cs.getLastRemoteSnapshotVersion(s).next(M=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));h.push(b)}return te.waitFor(h).next(()=>c.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,v)).next(()=>p)}).then(s=>(t.Ui=i,s))}function FG(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Vh(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,te.resolve(i)):t.Cs.allocateTargetId(r).next(c=>(i=new yl(e,c,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Hh(n,e,t){return zM.apply(this,arguments)}function zM(){return zM=(0,oe.Z)(function*(n,e,t){const r=$e(n),i=r.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!fl(c))throw c;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),zM.apply(this,arguments)}function py(n,e,t){const r=$e(n);let i=bt.min(),s=Rt();return r.persistence.runTransaction("Execute query","readonly",c=>function(h,p,v){const b=$e(h),M=b.qi.get(v);return void 0!==M?te.resolve(b.Ui.get(M)):b.Cs.getTargetData(p,v)}(r,c,Fi(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(c,h.targetId).next(p=>{s=p})}).next(()=>r.Li.getDocumentsMatchingQuery(c,e,t?i:bt.min(),t?s:Rt())).next(h=>(function kL(n,e,t){let r=n.Ki.get(e)||bt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}(r,function pR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),h),{documents:h,Hi:s})))}class UM{constructor(){this.activeTargetIds=ny()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PL{constructor(){this.Lr=new UM,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new UM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BG{qr(e){}shutdown(){}}class OL{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const UG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jG{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class GG extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const c=this.ho(e,t);Ne("RestConnection","Sending: ",c,r);const h={};return this.lo(h,i,s),this.fo(e,c,h,r).then(p=>(Ne("RestConnection","Received: ",p),p),p=>{throw Eh("RestConnection",`${e} failed with error: `,p,"url: ",c,"request:",r),p})}_o(e,t,r,i,s,c){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+wh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${UG[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,c)=>{const h=new jU;h.setWithCredentials(!0),h.listenOnce(HU.COMPLETE,()=>{var v;try{switch(h.getLastErrorCode()){case iM.NO_ERROR:const b=h.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(b)),s(b);break;case iM.TIMEOUT:Ne("Connection",'RPC "'+e+'" timed out'),c(new Ie(ae.DEADLINE_EXCEEDED,"Request time out"));break;case iM.HTTP_ERROR:const M=h.getStatus();if(Ne("Connection",'RPC "'+e+'" failed with status:',M,"response text:",h.getResponseText()),M>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const N=null===(v=T)||void 0===v?void 0:v.error;if(N&&N.status&&N.message){const R=function(V){const $=V.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf($)>=0?$:ae.UNKNOWN}(N.status);c(new Ie(R,N.message))}else c(new Ie(ae.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ie(ae.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ne("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(i);h.send(t,"POST",p,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=FU(),c=VU(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new UU({})),this.lo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const p=i.join("");Ne("Connection","Creating WebChannel: "+p,h);const v=s.createWebChannel(p,h);let b=!1,M=!1;const T=new jG({Hr:R=>{M?Ne("Connection","Not sending because WebChannel is closed:",R):(b||(Ne("Connection","Opening WebChannel transport."),v.open(),b=!0),Ne("Connection","WebChannel sending:",R),v.send(R))},Jr:()=>v.close()}),N=(R,V,$)=>{R.listen(V,fe=>{try{$(fe)}catch(xe){setTimeout(()=>{throw xe},0)}})};return N(v,j_.EventType.OPEN,()=>{M||Ne("Connection","WebChannel transport opened.")}),N(v,j_.EventType.CLOSE,()=>{M||(M=!0,Ne("Connection","WebChannel transport closed"),T.io())}),N(v,j_.EventType.ERROR,R=>{M||(M=!0,Eh("Connection","WebChannel transport errored:",R),T.io(new Ie(ae.UNAVAILABLE,"The operation could not be completed")))}),N(v,j_.EventType.MESSAGE,R=>{var V;if(!M){const $=R.data[0];At(!!$);const fe=$,xe=fe.error||(null===(V=fe[0])||void 0===V?void 0:V.error);if(xe){Ne("Connection","WebChannel received error:",xe);const Oe=xe.status;let Te=function(Qe){const zt=Ar[Qe];if(void 0!==zt)return DR(zt)}(Oe),Je=xe.message;void 0===Te&&(Te=ae.INTERNAL,Je="Unknown error status: "+Oe+" with message "+xe.message),M=!0,T.io(new Ie(Te,Je)),v.close()}else Ne("Connection","WebChannel received:",$),T.ro($)}}),N(c,BU.STAT_EVENT,R=>{R.stat===zk.PROXY?Ne("Connection","Detected buffering proxy"):R.stat===zk.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{T.so()},0),T}}function vy(){return typeof document<"u"?document:null}function qp(n){return new Lj(n,!0)}class GM{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class FL{constructor(e,t,r,i,s,c,h,p){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new GM(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,oe.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,oe.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,oe.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(fr(t.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Ie(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,oe.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $G extends FL{constructor(e,t,r,i,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.It=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function zj(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:rt(),i=e.targetChange.targetIds||[],s=function(p,v){return p.gt?(At(void 0===v||"string"==typeof v),Nr.fromBase64String(v||"")):(At(void 0===v||v instanceof Uint8Array),Nr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const v=void 0===p.code?ae.UNKNOWN:DR(p.code);return new Ie(v,p.message||"")}(c);t=new PR(r,i,s,h||null)}else if("documentChange"in e){const r=e.documentChange,i=e1(n,r.document.name),s=Hr(r.document.updateTime),c=new si({mapValue:{fields:r.document.fields}}),h=xn.newFoundDocument(i,s,c);t=new ry(r.targetIds||[],r.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const r=e.documentDelete,i=e1(n,r.document),s=r.readTime?Hr(r.readTime):bt.min(),c=xn.newNoDocument(i,s);t=new ry([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=e1(n,r.document);t=new ry([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return rt();{const r=e.filter,s=new Sj(r.count||0);t=new LR(r.targetId,s)}}var p;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return bt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?bt.min():s.readTime?Hr(s.readTime):bt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=zp(this.It),t.addTarget=function(i,s){let c;const h=s.target;return c=Y_(h)?{documents:$R(i,h)}:{query:wM(i,h)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=VR(i,s.resumeToken):s.snapshotVersion.compareTo(bt.min())>0&&(c.readTime=Pp(i,s.snapshotVersion.toTimestamp())),c}(this.It,e);const r=function Vj(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=zp(this.It),t.removeTarget=e,this.Bo(t)}}class WG extends FL{constructor(e,t,r,i,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Fj(n,e){return n&&n.length>0?(At(void 0!==e),n.map(t=>function(r,i){let s=Hr(r.updateTime?r.updateTime:i);return s.isEqual(bt.min())&&(s=Hr(i)),new wj(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Hr(e.commitTime);return this.listener.Zo(r,t)}return At(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=zp(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Fp(n,e){let t;if(e instanceof Rh)t={update:jR(n,e.key,e.value)};else if(e instanceof Lh)t={delete:Op(n,e.key)};else if(e instanceof Ac)t={update:jR(n,e.key,e.data),updateMask:Gj(e.fieldMask)};else{if(!(e instanceof yM))return rt();t={verify:Op(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const c=s.transform;if(c instanceof Nh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof G4)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof $4)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof kh)return{fieldPath:s.field.canonicalString(),increment:c.yt};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Pj(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:rt()),t;var i}(this.It,r))};this.Bo(t)}}class qG extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Ie(ae.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ie(ae.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection._o(e,t,r,s,c,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(ae.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class KG{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(fr(t),this.ou=!1):Ne("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class YG{constructor(e,t,r,i,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(h=>{r.enqueueAndForget((0,oe.Z)(function*(){var p;bc(c)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,oe.Z)(function*(v){const b=$e(v);b._u.add(4),yield Bh(b),b.gu.set("Unknown"),b._u.delete(4),yield Zp(b)}),function(v){return p.apply(this,arguments)})(c))}))}),this.gu=new KG(r,i)}}function Zp(n){return WM.apply(this,arguments)}function WM(){return WM=(0,oe.Z)(function*(n){if(bc(n))for(const e of n.wu)yield e(!0)}),WM.apply(this,arguments)}function Bh(n){return qM.apply(this,arguments)}function qM(){return qM=(0,oe.Z)(function*(n){for(const e of n.wu)yield e(!1)}),qM.apply(this,arguments)}function _y(n,e){const t=$e(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),YM(t)?KM(t):jh(t).ko()&&ZM(t,e))}function Kp(n,e){const t=$e(n),r=jh(t);t.du.delete(e),r.ko()&&VL(t,e),0===t.du.size&&(r.ko()?r.Fo():bc(t)&&t.gu.set("Unknown"))}function ZM(n,e){n.yu.Mt(e.targetId),jh(n).zo(e)}function VL(n,e){n.yu.Mt(e),jh(n).Ho(e)}function KM(n){n.yu=new Nj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),jh(n).start(),n.gu.uu()}function YM(n){return bc(n)&&!jh(n).No()&&n.du.size>0}function bc(n){return 0===$e(n)._u.size}function HL(n){n.yu=void 0}function QG(n){return QM.apply(this,arguments)}function QM(){return QM=(0,oe.Z)(function*(n){n.du.forEach((e,t)=>{ZM(n,e)})}),QM.apply(this,arguments)}function XG(n,e){return XM.apply(this,arguments)}function XM(){return XM=(0,oe.Z)(function*(n,e){HL(n),YM(n)?(n.gu.hu(e),KM(n)):n.gu.set("Unknown")}),XM.apply(this,arguments)}function JG(n,e,t){return JM.apply(this,arguments)}function JM(){return JM=(0,oe.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof PR&&2===e.state&&e.cause)try{yield(r=(0,oe.Z)(function*(i,s){const c=s.cause;for(const h of s.targetIds)i.du.has(h)&&(yield i.remoteSyncer.rejectListen(h,c),i.du.delete(h),i.yu.removeTarget(h))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield yy(n,r)}else if(e instanceof ry?n.yu.Gt(e):e instanceof LR?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(bt.min()))try{const r=yield TL(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const c=i.yu.te(s);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const v=i.du.get(p);v&&i.du.set(p,v.withResumeToken(h.resumeToken,s))}}),c.targetMismatches.forEach(h=>{const p=i.du.get(h);if(!p)return;i.du.set(h,p.withResumeToken(Nr.EMPTY_BYTE_STRING,p.snapshotVersion)),VL(i,h);const v=new yl(p.target,h,1,p.sequenceNumber);ZM(i,v)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),yield yy(n,r)}var r}),JM.apply(this,arguments)}function yy(n,e,t){return eS.apply(this,arguments)}function eS(){return eS=(0,oe.Z)(function*(n,e,t){if(!fl(e))throw e;n._u.add(1),yield Bh(n),n.gu.set("Offline"),t||(t=()=>TL(n.localStore)),n.asyncQueue.enqueueRetryable((0,oe.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Zp(n)}))}),eS.apply(this,arguments)}function BL(n,e){return e().catch(t=>yy(n,t,e))}function Uh(n){return tS.apply(this,arguments)}function tS(){return tS=(0,oe.Z)(function*(n){const e=$e(n),t=bl(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;e$(e);)try{const i=yield FG(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,t$(e,i)}catch(i){yield yy(e,i)}UL(e)&&jL(e)}),tS.apply(this,arguments)}function e$(n){return bc(n)&&n.fu.length<10}function t$(n,e){n.fu.push(e);const t=bl(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function UL(n){return bc(n)&&!bl(n).No()&&n.fu.length>0}function jL(n){bl(n).start()}function n$(n){return nS.apply(this,arguments)}function nS(){return nS=(0,oe.Z)(function*(n){bl(n).eu()}),nS.apply(this,arguments)}function r$(n){return rS.apply(this,arguments)}function rS(){return rS=(0,oe.Z)(function*(n){const e=bl(n);for(const t of n.fu)e.Xo(t.mutations)}),rS.apply(this,arguments)}function i$(n,e,t){return iS.apply(this,arguments)}function iS(){return iS=(0,oe.Z)(function*(n,e,t){const r=n.fu.shift(),i=SM.from(r,e,t);yield BL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Uh(n)}),iS.apply(this,arguments)}function s$(n,e){return sS.apply(this,arguments)}function sS(){return sS=(0,oe.Z)(function*(n,e){var t;e&&bl(n).Yo&&(yield(t=(0,oe.Z)(function*(r,i){if(xR(s=i.code)&&s!==ae.ABORTED){const c=r.fu.shift();bl(r).Mo(),yield BL(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Uh(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),UL(n)&&jL(n)}),sS.apply(this,arguments)}function GL(n,e){return oS.apply(this,arguments)}function oS(){return oS=(0,oe.Z)(function*(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=bc(t);t._u.add(3),yield Bh(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Zp(t)}),oS.apply(this,arguments)}function cS(){return cS=(0,oe.Z)(function*(n,e){const t=$e(n);e?(t._u.delete(2),yield Zp(t)):e||(t._u.add(2),yield Bh(t),t.gu.set("Unknown"))}),cS.apply(this,arguments)}function jh(n){return n.pu||(n.pu=function(e,t,r){const i=$e(e);return i.su(),new $G(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:QG.bind(null,n),Zr:XG.bind(null,n),Wo:JG.bind(null,n)}),n.wu.push(function(){var e=(0,oe.Z)(function*(t){t?(n.pu.Mo(),YM(n)?KM(n):n.gu.set("Unknown")):(yield n.pu.stop(),HL(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function bl(n){return n.Iu||(n.Iu=function(e,t,r){const i=$e(e);return i.su(),new WG(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:n$.bind(null,n),Zr:s$.bind(null,n),tu:r$.bind(null,n),Zo:i$.bind(null,n)}),n.wu.push(function(){var e=(0,oe.Z)(function*(t){t?(n.Iu.Mo(),yield Uh(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class lS{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,s){const c=Date.now()+r,h=new lS(e,t,c,i,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ie(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gh(n,e){if(fr("AsyncQueue",`${e}: ${n}`),fl(n))return new Ie(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class $h{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=Np(),this.sortedSet=new cr(this.comparator)}static emptySet(e){return new $h(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $h)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new $h;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class $L{constructor(){this.Tu=new cr(Ge.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):rt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Wh{constructor(e,t,r,i,s,c,h,p,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,s){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Wh(e,t,$h.emptySet(t),c,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class o${constructor(){this.Au=void 0,this.listeners=[]}}class a${constructor(){this.queries=new _l(e=>fR(e),Tp),this.onlineState="Unknown",this.Ru=new Set}}function uS(n,e){return hS.apply(this,arguments)}function hS(){return hS=(0,oe.Z)(function*(n,e){const t=$e(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new o$),i)try{s.Au=yield t.onListen(r)}catch(c){const h=Gh(c,`Initialization of query '${vM(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&pS(t)}),hS.apply(this,arguments)}function dS(n,e){return fS.apply(this,arguments)}function fS(){return fS=(0,oe.Z)(function*(n,e){const t=$e(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),fS.apply(this,arguments)}function c$(n,e){const t=$e(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const h of c.listeners)h.Pu(i)&&(r=!0);c.Au=i}}r&&pS(t)}function l$(n,e,t){const r=$e(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function pS(n){n.Ru.forEach(e=>{e.next()})}class mS{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Wh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Wh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class ZL{constructor(e){this.key=e}}class KL{constructor(e){this.key=e}}class YL{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Rt(),this.mutatedKeys=Rt(),this.Gu=mR(e),this.Qu=new $h(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new $L,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,c=i,h=!1;const p="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((b,M)=>{const T=i.get(b),N=_M(this.query,M)?M:null,R=!!T&&this.mutatedKeys.has(T.key),V=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let $=!1;T&&N?T.data.isEqual(N.data)?R!==V&&(r.track({type:3,doc:N}),$=!0):this.Hu(T,N)||(r.track({type:2,doc:N}),$=!0,(p&&this.Gu(N,p)>0||v&&this.Gu(N,v)<0)&&(h=!0)):!T&&N?(r.track({type:0,doc:N}),$=!0):T&&!N&&(r.track({type:1,doc:T}),$=!0,(p||v)&&(h=!0)),$&&(N?(c=c.add(N),s=V?s.add(b):s.delete(b)):(c=c.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),s=s.delete(b.key),r.track({type:1,doc:b})}return{Qu:c,zu:r,$i:h,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((v,b)=>function(M,T){const N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return N(M)-N(T)}(v.type,b.type)||this.Gu(v.doc,b.doc)),this.Ju(r);const c=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,p=h!==this.qu;return this.qu=h,0!==s.length||p?{snapshot:new Wh(this.query,e.Qu,i,s,e.mutatedKeys,0===h,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new $L,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Rt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new KL(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new ZL(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Rt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Wh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class d${constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class f${constructor(e){this.key=e,this.nc=!1}}class p${constructor(e,t,r,i,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new _l(h=>fR(h),Tp),this.rc=new Map,this.oc=new Set,this.uc=new cr(Ge.comparator),this.cc=new Map,this.ac=new NM,this.hc={},this.lc=new Map,this.fc=X4.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function m$(n,e){return gS.apply(this,arguments)}function gS(){return gS=(0,oe.Z)(function*(n,e){const t=VS(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const c=yield Vh(t.localStore,Fi(e));t.isPrimaryClient&&_y(t.remoteStore,c);const h=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield vS(t,e,r,"current"===h,c.resumeToken)}return i}),gS.apply(this,arguments)}function vS(n,e,t,r,i){return _S.apply(this,arguments)}function _S(){return _S=(0,oe.Z)(function*(n,e,t,r,i){n._c=(M,T,N)=>{return(R=(0,oe.Z)(function*(V,$,fe,xe){let Oe=$.view.Wu(fe);Oe.$i&&(Oe=yield py(V.localStore,$.query,!1).then(({documents:Qe})=>$.view.Wu(Qe,Oe)));const Te=xe&&xe.targetChanges.get($.targetId),Je=$.view.applyChanges(Oe,V.isPrimaryClient,Te);return TS(V,$.targetId,Je.Xu),Je.snapshot}),function(V,$,fe,xe){return R.apply(this,arguments)})(n,M,T,N);var R};const s=yield py(n.localStore,e,!0),c=new YL(e,s.Hi),h=c.Wu(s.documents),p=Lp.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=c.applyChanges(h,n.isPrimaryClient,p);TS(n,t,v.Xu);const b=new d$(e,t,c);return n.ic.set(e,b),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),v.snapshot}),_S.apply(this,arguments)}function g$(n,e){return yS.apply(this,arguments)}function yS(){return yS=(0,oe.Z)(function*(n,e){const t=$e(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!Tp(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Hh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Kp(t.remoteStore,r.targetId),qh(t,r.targetId)}).catch(dl))):(qh(t,r.targetId),yield Hh(t.localStore,r.targetId,!0))}),yS.apply(this,arguments)}function CS(){return CS=(0,oe.Z)(function*(n,e,t){const r=HS(n);try{const i=yield function(s,c){const h=$e(s),p=Yn.now(),v=c.reduce((T,N)=>T.add(N.key),Rt());let b,M;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let N=ns(),R=Rt();return h.Gi.getEntries(T,v).next(V=>{N=V,N.forEach(($,fe)=>{fe.isValidDocument()||(R=R.add($))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,N)).next(V=>{b=V;const $=[];for(const fe of c){const xe=Mj(fe,b.get(fe.key).overlayedDocument);null!=xe&&$.push(new Ac(fe.key,xe,iR(xe.value.mapValue),Bn.exists(!0)))}return h.mutationQueue.addMutationBatch(T,p,$,c)}).next(V=>{M=V;const $=V.applyToLocalDocumentSet(b,R);return h.documentOverlayCache.saveOverlays(T,V.batchId,$)})}).then(()=>({batchId:M.batchId,changes:kR(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,h){let p=s.hc[s.currentUser.toKey()];p||(p=new cr(Dt)),p=p.insert(c,h),s.hc[s.currentUser.toKey()]=p}(r,i.batchId,t),yield wc(r,i.changes),yield Uh(r.remoteStore)}catch(i){const s=Gh(i,"Failed to persist write");t.reject(s)}}),CS.apply(this,arguments)}function QL(n,e){return AS.apply(this,arguments)}function AS(){return AS=(0,oe.Z)(function*(n,e){const t=$e(n);try{const r=yield zG(t.localStore,e);e.targetChanges.forEach((i,s)=>{const c=t.cc.get(s);c&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.nc=!0:i.modifiedDocuments.size>0?At(c.nc):i.removedDocuments.size>0&&(At(c.nc),c.nc=!1))}),yield wc(t,r,e)}catch(r){yield dl(r)}}),AS.apply(this,arguments)}function XL(n,e,t){const r=$e(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,c)=>{const h=c.view.bu(e);h.snapshot&&i.push(h.snapshot)}),function(s,c){const h=$e(s);h.onlineState=c;let p=!1;h.queries.forEach((v,b)=>{for(const M of b.listeners)M.bu(c)&&(p=!0)}),p&&pS(h)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _$(n,e,t){return bS.apply(this,arguments)}function bS(){return bS=(0,oe.Z)(function*(n,e,t){const r=$e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let c=new cr(Ge.comparator);c=c.insert(s,xn.newNoDocument(s,bt.min()));const h=Rt().add(s),p=new Rp(bt.min(),new Map,new wn(Dt),c,h);yield QL(r,p),r.uc=r.uc.remove(s),r.cc.delete(e),xS(r)}else yield Hh(r.localStore,e,!1).then(()=>qh(r,e,t)).catch(dl)}),bS.apply(this,arguments)}function y$(n,e){return wS.apply(this,arguments)}function wS(){return wS=(0,oe.Z)(function*(n,e){const t=$e(n),r=e.batch.batchId;try{const i=yield OG(t.localStore,e);IS(t,r,null),SS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield wc(t,i)}catch(i){yield dl(i)}}),wS.apply(this,arguments)}function C$(n,e,t){return ES.apply(this,arguments)}function ES(){return ES=(0,oe.Z)(function*(n,e,t){const r=$e(n);try{const i=yield function(s,c){const h=$e(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return h.mutationQueue.lookupMutationBatch(p,c).next(b=>(At(null!==b),v=b.keys(),h.mutationQueue.removeMutationBatch(p,b))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,v,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>h.localDocuments.getDocuments(p,v))})}(r.localStore,e);IS(r,e,t),SS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield wc(r,i)}catch(i){yield dl(i)}}),ES.apply(this,arguments)}function SS(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function IS(n,e,t){const r=$e(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function qh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||JL(n,r)})}function JL(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Kp(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),xS(n))}function TS(n,e,t){for(const r of t)r instanceof ZL?(n.ac.addReference(r.key,e),b$(n,r)):r instanceof KL?(Ne("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||JL(n,r.key)):rt()}function b$(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Ne("SyncEngine","New document in limbo: "+t),n.oc.add(r),xS(n))}function xS(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Ge(Jt.fromString(e)),r=n.fc.next();n.cc.set(r,new f$(t)),n.uc=n.uc.insert(t,r),_y(n.remoteStore,new yl(Fi(xh(t.path)),r,2,ts.at))}}function wc(n,e,t){return DS.apply(this,arguments)}function DS(){return DS=(0,oe.Z)(function*(n,e,t){const r=$e(n),i=[],s=[],c=[];var h;r.ic.isEmpty()||(r.ic.forEach((h,p)=>{c.push(r._c(p,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const b=PM.Ci(p.targetId,v);s.push(b)}}))}),yield Promise.all(c),r.sc.Wo(i),yield(h=(0,oe.Z)(function*(p,v){const b=$e(p);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>te.forEach(v,T=>te.forEach(T.Si,N=>b.persistence.referenceDelegate.addReference(M,T.targetId,N)).next(()=>te.forEach(T.Di,N=>b.persistence.referenceDelegate.removeReference(M,T.targetId,N)))))}catch(M){if(!fl(M))throw M;Ne("LocalStore","Failed to update sequence numbers: "+M)}for(const M of v){const T=M.targetId;if(!M.fromCache){const N=b.Ui.get(T),V=N.withLastLimboFreeSnapshotVersion(N.snapshotVersion);b.Ui=b.Ui.insert(T,V)}}}),function(p,v){return h.apply(this,arguments)})(r.localStore,s))}),DS.apply(this,arguments)}function w$(n,e){return NS.apply(this,arguments)}function NS(){return NS=(0,oe.Z)(function*(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=yield IL(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(c=>{c.forEach(h=>{h.reject(new Ie(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wc(t,r.ji)}var i}),NS.apply(this,arguments)}function E$(n,e){const t=$e(n),r=t.cc.get(e);if(r&&r.nc)return Rt().add(r.key);{let i=Rt();const s=t.rc.get(e);if(!s)return i;for(const c of s){const h=t.ic.get(c);i=i.unionWith(h.view.ju)}return i}}function VS(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=QL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_$.bind(null,e),e.sc.Wo=c$.bind(null,e.eventManager),e.sc.wc=l$.bind(null,e.eventManager),e}function HS(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C$.bind(null,e),e}class R${constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,oe.Z)(function*(){t.It=qp(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function SL(n,e,t,r){return new PG(n,e,t,r)}(this.persistence,new ML,e.initialUser,this.It)}yc(e){return new wL(dy.Bs,this.It)}gc(e){return new PL}terminate(){var e=this;return(0,oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class BS{initialize(e,t){var r=this;return(0,oe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>XL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=w$.bind(null,r.syncEngine),yield function aS(n,e){return cS.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new a$}createDatastore(e){const t=qp(e.databaseInfo.databaseId),r=new GG(e.databaseInfo);return new qG(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=h=>XL(this.syncEngine,h,0),c=OL.C()?new OL:new BG,new YG(t,r,i,s,c);var t,r,i,s,c}createSyncEngine(e,t){return function(r,i,s,c,h,p,v){const b=new p$(r,i,s,c,h,p);return v&&(b.dc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,oe.Z)(function*(t){const r=$e(t);Ne("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Bh(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function US(n,e,t){if(!t)throw new Ie(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nP(n){if(!Ge.isDocumentKey(n))throw new Ie(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rP(n){if(Ge.isDocumentKey(n))throw new Ie(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Cy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function qt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Cy(n);throw new Ie(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const sP=new Map;class oP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ie(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ie(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function O$(n,e,t,r){if(!0===e&&!0===r)throw new Ie(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ie(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ie(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new GU;switch(t.type){case"gapi":return new ZU(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ie(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=sP.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),sP.delete(e),t.terminate())}(this),Promise.resolve()}}class mr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new n1(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mr(this.firestore,e,this._key)}}class Ci{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ci(this.firestore,e,this._query)}}class n1 extends Ci{constructor(e,t,r){super(e,t,xh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mr(this.firestore,null,new Ge(e))}withConverter(e){return new n1(this.firestore,e,this._path)}}function F$(n,e,...t){if(n=(0,j.m9)(n),US("collection","path",e),n instanceof Yp){const r=Jt.fromString(e,...t);return rP(r),new n1(n,null,r)}{if(!(n instanceof mr||n instanceof n1))throw new Ie(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return rP(r),new n1(n.firestore,null,r)}}function aP(n,e,...t){if(n=(0,j.m9)(n),1===arguments.length&&(e=Bk.R()),US("doc","path",e),n instanceof Yp){const r=Jt.fromString(e,...t);return nP(r),new mr(n,null,new Ge(r))}{if(!(n instanceof mr||n instanceof n1))throw new Ie(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return nP(r),new mr(n.firestore,n instanceof n1?n.converter:null,new Ge(r))}}class Ay{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class G${constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Vr.UNAUTHENTICATED,this.clientId=Bk.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,oe.Z)(function*(h){Ne("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ne("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Gh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function uP(n,e){return jS.apply(this,arguments)}function jS(){return jS=(0,oe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,oe.Z)(function*(s){r.isEqual(s)||(yield IL(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),jS.apply(this,arguments)}function hP(n,e){return GS.apply(this,arguments)}function GS(){return GS=(0,oe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield $S(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>GL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>GL(e.remoteStore,s)),n.onlineComponents=e}),GS.apply(this,arguments)}function $S(n){return WS.apply(this,arguments)}function WS(){return WS=(0,oe.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield uP(n,new R$)),n.offlineComponents}),WS.apply(this,arguments)}function by(n){return qS.apply(this,arguments)}function qS(){return qS=(0,oe.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield hP(n,new BS)),n.onlineComponents}),qS.apply(this,arguments)}function Zh(n){return YS.apply(this,arguments)}function YS(){return YS=(0,oe.Z)(function*(n){const e=yield by(n),t=e.eventManager;return t.onListen=m$.bind(null,e.syncEngine),t.onUnlisten=g$.bind(null,e.syncEngine),t}),YS.apply(this,arguments)}class X${constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new GM(this,"async_queue_retry"),this.Wc=()=>{const t=vy();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=vy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=vy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Dr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,oe.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!fl(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,fr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=lS.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.qc.push(i),i}zc(){this.Kc&&rt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,oe.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}class Rn extends Yp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new X$,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||gP(this),this._firestoreClient.terminate()}}function eW(n,e){const t="object"==typeof n?n:(0,mt.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,mt._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,j.P0)("firestore");s&&function z$(n,e,t,r={}){var i;const s=(n=qt(n,Yp))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Eh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,h;if("string"==typeof r.mockUserToken)c=r.mockUserToken,h=Vr.MOCK_USER;else{c=(0,j.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Ie(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Vr(p)}n._authCredentials=new $U(new Vk(c,h))}}(i,...s)}return i}function br(n){return n._firestoreClient||gP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function gP(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new oj(n._databaseId,s,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new G$(n._authCredentials,n._appCheckCredentials,n._queue,r)}class e0{constructor(e){this._byteString=e}static fromBase64String(e){try{return new e0(Nr.fromBase64String(e))}catch(t){throw new Ie(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new e0(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Kh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ie(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class XS{constructor(e){this._methodName=e}}class JS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}}const tW=/^__.*__$/;class nW{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ac(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rh(e,this.data,t,this.fieldTransforms)}}class yP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ac(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function CP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class Ey{constructor(e,t,r,i,s,c){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Ey(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Sy(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(CP(this.sa)&&tW.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class rW{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||qp(e)}da(e,t,r,i=!1){return new Ey({sa:e,methodName:t,fa:r,path:pr.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Yh(n){const e=n._freezeSettings(),t=qp(n._databaseId);return new rW(n._databaseId,!!e.ignoreUndefinedProperties,t)}function eI(n,e,t,r,i,s={}){const c=n.da(s.merge||s.mergeFields?2:0,e,t,i);nI("Data must be an object, but it was:",c,r);const h=MP(r,c);let p,v;if(s.merge)p=new Ms(c.fieldMask),v=c.fieldTransforms;else if(s.mergeFields){const b=[];for(const M of s.mergeFields){const T=rI(e,M,t);if(!c.contains(T))throw new Ie(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);IP(b,T)||b.push(T)}p=new Ms(b),v=c.fieldTransforms.filter(M=>p.covers(M.field))}else p=null,v=c.fieldTransforms;return new nW(new si(h),p,v)}class Qp extends XS{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qp}}function t0(n,e){if(SP(n=(0,j.m9)(n)))return nI("Unsupported field value:",e,n),MP(n,e);if(n instanceof XS)return function(t,r){if(!CP(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const c of t){let h=t0(c,r.aa(s));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,j.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _R(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Yn.fromDate(t);return{timestampValue:Pp(r.It,i)}}if(t instanceof Yn){const i=new Yn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Pp(r.It,i)}}if(t instanceof JS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof e0)return{bytesValue:VR(r.It,t._byteString)};if(t instanceof mr){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:CM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${Cy(t)}`)}(n,e)}function MP(n,e){const t={};return Zk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):F4(n,(r,i)=>{const s=t0(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function SP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Yn||n instanceof JS||n instanceof e0||n instanceof mr||n instanceof XS)}function nI(n,e,t){if(!SP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Cy(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function rI(n,e,t){if((e=(0,j.m9)(e))instanceof Kh)return e._internalPath;if("string"==typeof e)return My(n,e);throw Sy("Field path arguments must be of type string or ",n,!1,void 0,t)}const aW=new RegExp("[~\\*/\\[\\]]");function My(n,e,t){if(e.search(aW)>=0)throw Sy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Kh(...e.split("."))._internalPath}catch{throw Sy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sy(n,e,t,r,i){const s=r&&!r.isEmpty(),c=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${r}`),c&&(p+=` in document ${i}`),p+=")"),new Ie(ae.INVALID_ARGUMENT,h+n+p)}function IP(n,e){return n.some(t=>t.isEqual(e))}class iI{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Iy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cW extends iI{data(){return super.data()}}function Iy(n,e){return"string"==typeof e?My(n,e):e instanceof Kh?e._internalPath:e._delegate._internalPath}function uW(n,...e){for(const t of e)n=t._apply(n);return n}class hW extends class lW{}{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=Yh(e.firestore),r=function(i,s,c,h,p,v,b){let M;if(p.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ie(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){LP(b,v);const N=[];for(const R of b)N.push(RP(h,i,R));M={arrayValue:{values:N}}}else M=RP(h,i,b)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||LP(b,v),M=function EP(n,e,t,r=!1){return t0(t,n.da(r?4:3,e))}(c,"where",b,"in"===v||"not-in"===v);const T=oi.create(p,v,M);return function(N,R){if(R.dt()){const $=mM(N);if(null!==$&&!$.isEqual(R.field))throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${$.toString()}' and '${R.field.toString()}'`);const fe=pM(N);null!==fe&&function PP(n,e,t){if(!t.isEqual(e))throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,R.field,fe)}const V=function($,fe){for(const xe of $.filters)if(fe.indexOf(xe.op)>=0)return xe.op;return null}(N,function($){switch($){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(R.op));if(null!==V)throw new Ie(ae.INVALID_ARGUMENT,V===R.op?`Invalid query. You cannot use more than one '${R.op.toString()}' filter.`:`Invalid query. You cannot use '${R.op.toString()}' filters with '${V.toString()}' filters.`)}(i,T),T}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Ci(e.firestore,e.converter,function(i,s){const c=i.filters.concat([s]);return new Cc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function dW(n,e,t){const r=e,i=Iy("where",n);return new hW(i,r,t)}function RP(n,e,t){if("string"==typeof(t=(0,j.m9)(t))){if(""===t)throw new Ie(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gM(e)&&-1!==t.indexOf("/"))throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Jt.fromString(t));if(!Ge.isDocumentKey(r))throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return U4(n,new Ge(r))}if(t instanceof mr)return U4(n,t._key);throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cy(t)}.`)}function LP(n,e){if(!Array.isArray(n)||0===n.length)throw new Ie(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ie(ae.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}class n0{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qh extends iI{constructor(e,t,r,i,s,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ty(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Iy("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ty extends Qh{data(e={}){return super.data(e)}}class Xh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new n0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ty(this._firestore,this._userDataWriter,r.key,r,new n0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Ty(r._firestore,r._userDataWriter,c.doc.key,c.doc,new n0(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const h=new Ty(r._firestore,r._userDataWriter,c.doc.key,c.doc,new n0(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,v=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),v=s.indexOf(c.doc.key)),{type:mW(c.type),doc:h,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function mW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function gW(n){n=qt(n,mr);const e=qt(n.firestore,Rn);return function pP(n,e,t={}){const r=new Dr;return n.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(i,s,c,h,p){const v=new Ay({next:M=>{s.enqueueAndForget(()=>dS(i,b));const T=M.docs.has(c);!T&&M.fromCache?p.reject(new Ie(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&M.fromCache&&h&&"server"===h.source?p.reject(new Ie(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(M)},error:M=>p.reject(M)}),b=new mS(xh(c.path),v,{includeMetadataChanges:!0,Nu:!0});return uS(i,b)}(yield Zh(n),n.asyncQueue,e,t,r)})),r.promise}(br(e),n._key).then(t=>function oI(n,e,t){const r=t.docs.get(e._key),i=new wl(n);return new Qh(n,i,e._key,r,new n0(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class wl extends class pW{convertValue(e,t="none"){switch(B4(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(V4(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return F4(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new JS(lr(e.latitude),lr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Yk(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ap(e));default:return null}}convertTimestamp(e){const t=pl(e);return new Yn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Jt.fromString(e);At(ZR(r));const i=new H4(r.get(1),r.get(3)),s=new Ge(r.popFirst(5));return i.isEqual(t)||fr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new e0(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mr(this.firestore,null,t)}}function vW(n){n=qt(n,Ci);const e=qt(n.firestore,Rn),t=br(e),r=new wl(e);return function TP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ie(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function mP(n,e,t={}){const r=new Dr;return n.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(i,s,c,h,p){const v=new Ay({next:M=>{s.enqueueAndForget(()=>dS(i,b)),M.fromCache&&"server"===h.source?p.reject(new Ie(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(M)},error:M=>p.reject(M)}),b=new mS(c,v,{includeMetadataChanges:!0,Nu:!0});return uS(i,b)}(yield Zh(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new Xh(e,r,n,i))}function _W(n,e,t,...r){n=qt(n,mr);const i=qt(n.firestore,Rn),s=Yh(i);let c;return c="string"==typeof(e=(0,j.m9)(e))||e instanceof Kh?function wP(n,e,t,r,i,s){const c=n.da(1,e,t),h=[rI(e,r,t)],p=[i];if(s.length%2!=0)throw new Ie(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<s.length;T+=2)h.push(rI(e,s[T])),p.push(s[T+1]);const v=[],b=si.empty();for(let T=h.length-1;T>=0;--T)if(!IP(v,h[T])){const N=h[T];let R=p[T];R=(0,j.m9)(R);const V=c.ca(N);if(R instanceof Qp)v.push(N);else{const $=t0(R,V);null!=$&&(v.push(N),b.set(N,$))}}const M=new Ms(v);return new yP(b,M,c.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function bP(n,e,t,r){const i=n.da(1,e,t);nI("Data must be an object, but it was:",i,r);const s=[],c=si.empty();F4(r,(p,v)=>{const b=My(e,p,t);v=(0,j.m9)(v);const M=i.ca(b);if(v instanceof Qp)s.push(b);else{const T=t0(v,M);null!=T&&(s.push(b),c.set(b,T))}});const h=new Ms(s);return new yP(c,h,i.fieldTransforms)}(s,"updateDoc",n._key,e),Xp(i,[c.toMutation(n._key,Bn.exists(!0))])}function yW(n){return Xp(qt(n.firestore,Rn),[new Lh(n._key,Bn.none())])}function CW(n,e){const t=qt(n.firestore,Rn),r=aP(n),i=function sI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return Xp(t,[eI(Yh(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}function Xp(n,e){return function(t,r){const i=new Dr;return t.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function v$(n,e,t){return CS.apply(this,arguments)}(yield function KS(n){return by(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(br(n),e)}!function(n,e=!0){wh=mt.SDK_VERSION,(0,mt._registerComponent)(new Pi.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),c=new Rn(new WU(t.getProvider("auth-internal")),new KU(t.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ie(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new H4(h.options.projectId,p)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,mt.registerVersion)(Fk,"3.7.3",n),(0,mt.registerVersion)(Fk,"3.7.3","esm2017")}();class El{constructor(e){return e}}const zP="firestore",aI=new u.OlP("angularfire2.firestore-instances");function SW(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new El(r)}}const IW={provide:class EW{constructor(){return Q2(zP)}},deps:[[new u.FiY,aI]]},TW={provide:El,useFactory:function MW(n,e){const t=Y2(zP,n,e);return t&&new El(t)},deps:[[new u.FiY,aI],gc]};let FP=(()=>{class n{constructor(){(0,mt.registerVersion)("angularfire",pc.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[TW,IW]}),n})();function xW(n,...e){return{ngModule:FP,providers:[{provide:aI,useFactory:SW(n),multi:!0,deps:[u.R0b,u.zs3,X2,Za,[new u.FiY,J5],[new u.FiY,ol],...e]}]}}const Jp=Or(CW,!0),e7=Or(F$,!0),t7=Or(yW,!0),is=Or(aP,!0),Dy=Or(gW,!0),r0=Or(vW,!0),DW=Or(eW,!0),s0=Or(uW,!0),n7=Or(_W,!0),cI=Or(dW,!0);let VP=(()=>{class n{constructor(t){this.db=t,this.collecti=e7(this.db,"department"),this.queryDate=s0(this.collecti)}get_all_department(){let t=[];return r0(this.queryDate).then(r=>{r.docs.forEach(i=>{t.push(N4.fromFirebase(i))})}).catch(r=>{console.log("Error getting document:",r)}),t}create_department(t){Jp(this.collecti,N4.transformToMap(t))}update_department(t){let r=is(this.db,"department",t.id);n7(r,N4.transformToMap(t))}get_department_by_id(t){var r=this;return(0,oe.Z)(function*(){let i,s=is(r.db,"department",t);return yield Dy(s).then(c=>(i=N4.fromFirebase(c),i)).catch(c=>{console.log("Error getting document:",c)}),i})()}delete_department(t){let r=is(this.db,"department",t.id);t7(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(El))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NW(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"div",4),u.NdJ("mousedown",function(i){u.CHM(t);const s=u.oxw();return u.KtG(s.movingFromElement(i))}),u.TgZ(2,"p",5),u._uU(3),u.qZA(),u.TgZ(4,"span",6),u.O4$(),u.TgZ(5,"svg",7),u._UZ(6,"path",8),u.qZA()(),u.kcU(),u.TgZ(7,"div",9),u.NdJ("mousedown",function(i){u.CHM(t);const s=u.oxw();return u.KtG(s.resizeFromElement(i))}),u.qZA()(),u.BQk()}if(2&n){const t=e.$implicit,r=u.oxw();u.xp6(1),u.Akn("width: "+t.width+"px; height: "+t.height+"px; left: "+t.left+"px; top: "+t.top+"px; background-color: "+t.color+";"),u.Q6J("id",t.id),u.xp6(1),u.Akn(t.idDepartmentType==r.departmentType&&""!==r.departmentType?"font-weight: bold ; min-width : "+t.height+"; ":"min-width : "+t.height+";"),u.Q6J("className",t.height>t.width?"department--rotate":""),u.xp6(1),u.Oqu(t.name),u.xp6(1),u.Q6J("routerLink","/department/"+t.id)}}let HP=(()=>{class n{constructor(t,r,i){this._activatedRouter=t,this._departmentService=r,this._router=i,this.departmentType=null,this.departments=[],this.movingElement=null,this.resizeElement=null,this.savePositionResizeX=null,this.savePositionResizeY=null}ngOnInit(){this._activatedRouter.params.subscribe(r=>{this.departmentType=r.departmentType});const t=this;document.addEventListener("mouseup",()=>{t.movingElement=null,t.resizeElement=null}),this.departments=this._departmentService.get_all_department(),document.addEventListener("mousemove",function(r){t.movingElement?t.move(r):t.resizeElement&&t.resize(r)})}movingFromElement(t){t.stopPropagation(),this.movingElement=t.target}resizeFromElement(t){t.stopPropagation(),this.savePositionResizeX=t.clientX,this.savePositionResizeY=t.clientY,this.resizeElement=t.target.parentElement}createNewDepartment(){let t=new N4("","","","1",100,100,400,200);this._departmentService.create_department(t),this.departments=this._departmentService.get_all_department()}resize(t){if(t.clientX-this.savePositionResizeX<-5||t.clientX-this.savePositionResizeX>5||t.clientY-this.savePositionResizeY<-5||t.clientY-this.savePositionResizeY>5){const r=this.resizeElement.offsetWidth+t.clientX-this.savePositionResizeX,i=this.resizeElement.offsetHeight+t.clientY-this.savePositionResizeY,s=this.departments.filter(c=>c.id===this.resizeElement.id)[0];i>50&&i<300&&(s.height=i),r>50&&r<300&&(s.width=r),this._departmentService.update_department(s),this.savePositionResizeX=t.clientX,this.savePositionResizeY=t.clientY}}move(t){const r=document.querySelector("#container").getBoundingClientRect(),i=t.clientX<r.right-this.movingElement.offsetWidth/2,s=t.clientX>r.x+this.movingElement.offsetWidth/2,c=t.clientY>r.y+this.movingElement.offsetHeight/2,h=t.clientY<r.bottom-this.movingElement.offsetHeight/2,p=this.departments.filter(v=>v.id===this.movingElement.id)[0];p.left=s&&i?t.clientX-this.movingElement.offsetWidth/2:i?r.x:r.right-this.movingElement.offsetWidth,p.top=c&&h?t.clientY-this.movingElement.offsetHeight/2:h?r.y:r.bottom-this.movingElement.offsetHeight,this._departmentService.update_department(p)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qr),u.Y36(VP),u.Y36(sn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-administration"]],decls:5,vars:1,consts:[[1,"admin"],["id","container"],[4,"ngFor","ngForOf"],["title","Ajout d'un rayon",1,"admin__button",3,"click"],[1,"department",3,"id","mousedown"],[3,"className"],[1,"department__update",3,"routerLink"],["width","20","height","20","viewBox","0 0 24 24",2,"fill","white","margin","10px"],["d","M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z"],[1,"resize",3,"mousedown"]],template:function(t,r){1&t&&(u.TgZ(0,"main",0)(1,"section",1),u.YNc(2,NW,8,8,"ng-container",2),u.qZA(),u.TgZ(3,"button",3),u.NdJ("click",function(){return r.createNewDepartment()}),u._uU(4,"AJOUTER UN RAYON "),u.qZA()()),2&t&&(u.xp6(2),u.Q6J("ngForOf",r.departments))},dependencies:[Rr,za],styles:[".department[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;border-radius:5px}.department--rotate[_ngcontent-%COMP%]{transform:rotate(90deg)}.department__update[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:0;top:0}#container[_ngcontent-%COMP%]{margin:20px;width:1000px;height:480px;background-color:#fff;border-radius:10px;box-shadow:0 0 10px #00000080}.resize[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;background-color:#cdcdcd;right:0;bottom:0;border-radius:5px;cursor:e-resize}.admin[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start}.admin__button[_ngcontent-%COMP%]{align-self:flex-end;background-color:#2e343e;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.admin__button[_ngcontent-%COMP%]:hover{background-color:#181b21}"]}),n})(),o0=(()=>{class n{constructor(t,r){this._router=t,this.authentificationService=r}canActivate(t,r){return!!this.authentificationService.utilisateurEstConnecte||(this._router.navigate(["/connexion"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sn),u.LFG(cl))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ec{constructor(e,t,r=!1){this.favorite=!1,this.id=e,this.name=t,this.favorite=r}static fromFirebase(e){let t=e.data();return new Ec(e.id,t.Titre,t.favori)}static transformToMap(e){return{Titre:e.name,favori:e.favorite}}}let Ny=(()=>{class n{constructor(t){this.db=t,this.collecti=e7(this.db,"TypeRayon"),this.queryALL=s0(this.collecti),this.queryFavorite=s0(this.collecti,cI("favori","==",!0))}get_all_department_type(){let t=[];return r0(this.queryALL).then(r=>{r.docs.forEach(i=>{t.push(Ec.fromFirebase(i))})}),t}get_favorite_department_type(){let t=[];return r0(this.queryFavorite).then(r=>{r.docs.forEach(i=>{t.push(Ec.fromFirebase(i))})}),t}deleteDepartementType(t){let r=is(this.db,"TypeRayon",t);t7(r)}get_department_type_by_id(t){var r=this;return(0,oe.Z)(function*(){let i,s=is(r.db,"TypeRayon",t);return yield Dy(s).then(c=>(i=Ec.fromFirebase(c),i)).catch(c=>{console.log("Error getting document:",c)}),i})()}update_department_type(t){let r=is(this.db,"TypeRayon",t.id);n7(r,Ec.transformToMap(t))}add_department_type(t){console.log(Ec.transformToMap(t)),Jp(this.collecti,Ec.transformToMap(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(El))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Mc{constructor(e,t,r,i,s,c,h=""){this.image="",this.id=e,this.name=t,this.description=r,this.price=i,this.barcode=s,this.idDepartment=c,this.image=h}static fromFirebase(e){let t=e.data();return new Mc(e.id,t.name,t.description,t.price,t.barcode,t.idDepartment,t.image)}static transformToMap(e){return{name:e.name,description:e.description,price:e.price,barcode:e.barcode,idDepartment:e.idDepartment,image:e.image}}}let lI=(()=>{class n{constructor(t){this.db=t,this._product=new Lr([]),this.collecti=e7(this.db,"product")}get ProductFromDepartmentObservable(){return this._product.asObservable()}get_product_without_department(){let t=s0(this.collecti,cI("idDepartment","==","")),r=[];return r0(t).then(i=>{i.docs.forEach(s=>{r.push(Mc.fromFirebase(s))})}).catch(i=>{console.log("Error getting document:",i)}),r}get_product_form_department(t){let r=s0(this.collecti,cI("idDepartment","==",t)),i=[];return r0(r).then(s=>{s.docs.forEach(c=>{i.push(Mc.fromFirebase(c))})}).catch(s=>{console.log("Error getting document:",s)}),this._product.next(i),!0}delete_product(t){t7(is(this.db,"product",t))}create_product(t){Jp(this.collecti,Mc.transformToMap(t))}update_product(t,r="0"){n7(is(this.db,"product",t.id),Mc.transformToMap(t)),"0"!==r&&setTimeout(()=>{this.get_product_form_department(r)},1e3)}detached_product(t,r){this.get_product_by_id(t).then(i=>{void 0!==i&&(i.idDepartment="",n7(is(this.db,"product",i.id),Mc.transformToMap(i))),this.get_product_form_department(r)}).catch(i=>{console.log("Error getting document:",i)})}get_product_by_id(t){var r=this;return(0,oe.Z)(function*(){let i,s=is(r.db,"product",t);return yield Dy(s).then(c=>{i=Mc.fromFirebase(c)}).catch(c=>{console.log("Error getting document:",c)}),i})()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(El))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BP(n){return null!=n&&"false"!=`${n}`}function ky(n){return Array.isArray(n)?n:[n]}function wr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Jh(n){return n instanceof u.SBq?n.nativeElement:n}var RW=P(1144);const LW=["addListener","removeListener"],PW=["addEventListener","removeEventListener"],OW=["on","off"];function uI(n,e,t,r){if((0,Zn.m)(t)&&(r=t,t=void 0),r)return uI(n,e,t).pipe(xo(r));const[i,s]=function VW(n){return(0,Zn.m)(n.addEventListener)&&(0,Zn.m)(n.removeEventListener)}(n)?PW.map(c=>h=>n[c](e,h,t)):function zW(n){return(0,Zn.m)(n.addListener)&&(0,Zn.m)(n.removeListener)}(n)?LW.map(UP(n,e)):function FW(n){return(0,Zn.m)(n.on)&&(0,Zn.m)(n.off)}(n)?OW.map(UP(n,e)):[];if(!i&&(0,RW.z)(n))return(0,Xt.z)(c=>uI(c,e,t))((0,Do.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Ir.y(c=>{const h=(...p)=>c.next(1<p.length?p:p[0]);return i(h),()=>s(h)})}function UP(n,e){return t=>r=>n[t](e,r)}const r7={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=r7;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new No.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=r7;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=r7;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class BW extends Ko{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class HW extends I5{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=r7.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(r7.cancelAnimationFrame(t),e._scheduled=void 0)}});let hI,jW=1;const Ry={};function jP(n){return n in Ry&&(delete Ry[n],!0)}const GW={setImmediate(n){const e=jW++;return Ry[e]=!0,hI||(hI=Promise.resolve()),hI.then(()=>jP(e)&&n()),e},clearImmediate(n){jP(n)}},{setImmediate:$W,clearImmediate:WW}=GW,Ly={setImmediate(...n){const{delegate:e}=Ly;return(e?.setImmediate||$W)(...n)},clearImmediate(n){const{delegate:e}=Ly;return(e?.clearImmediate||WW)(n)},delegate:void 0};new class ZW extends Ko{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class qW extends I5{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ly.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Ly.clearImmediate(t),e._scheduled=void 0)}});var QW=P(3532);function GP(n,e=x5){return function YW(n){return(0,bn.e)((e,t)=>{let r=!1,i=null,s=null,c=!1;const h=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const v=i;i=null,t.next(v)}c&&t.complete()},p=()=>{s=null,c&&t.complete()};e.subscribe((0,pn.x)(t,v=>{r=!0,i=v,s||(0,Do.Xf)(n(v)).subscribe(s=(0,pn.x)(t,h,p))},()=>{c=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function JW(n=0,e,t=Zw){let r=-1;return null!=e&&((0,QW.K)(e)?t=e:r=e),new Ir.y(i=>{let s=function XW(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}let dI;try{dI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{dI=!1}let i7,a0,pI,Jo,Xo=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function fi(n){return n===_o}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!dI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function fI(n){return function eq(){if(null==i7&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>i7=!0}))}finally{i7=i7||!1}return i7}()?n:!!n.capture}function tq(){if(null==a0){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return a0=!1,a0;if("scrollBehavior"in document.documentElement.style)a0=!0;else{const n=Element.prototype.scrollTo;a0=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return a0}function c0(n){return n.composedPath?n.composedPath()[0]:n.target}function mI(){return typeof Jo.__karma__<"u"&&!!Jo.__karma__||typeof Jo.jasmine<"u"&&!!Jo.jasmine||typeof Jo.jest<"u"&&!!Jo.jest||typeof Jo.Mocha<"u"&&!!Jo.Mocha}Jo=typeof global<"u"?global:typeof window<"u"?window:{};const iq=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function sq(){return(0,u.f3M)(pe)}});let oq=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const i=t.documentElement?t.documentElement.dir:null,s=(t.body?t.body.dir:null)||i;this.value="ltr"===s||"rtl"===s?s:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(iq,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),cq=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Cn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ir.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(GP(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):nt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Zr(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Jh(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>uI(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Xo),u.LFG(pe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qP=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Cn.x,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(GP(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Xo),u.LFG(u.R0b),u.LFG(pe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),KP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[s7,$P,ZP],s7,ZP]}),n})();var gI=P(655);class vI{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class _I extends vI{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class YP extends vI{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class uq extends vI{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class yI{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof _I?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof YP?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof uq?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class hq extends yI{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=c=>{const h=c.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let QP=(()=>{class n extends yI{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=s=>{const c=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(h,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=r.createComponent(s,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(pe))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),n})(),XP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var JP=P(6451),dq=P(5032);function Oy(n){return(0,bn.e)((e,t)=>{(0,Do.Xf)(n).subscribe((0,pn.x)(t,()=>t.complete(),dq.Z)),!t.closed&&e.subscribe(t)})}const eO=tq();class fq{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=wr(-this._previousScrollPosition.left),e.style.top=wr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",c=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),eO&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),eO&&(r.scrollBehavior=s,i.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class pq{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class tO{enable(){}disable(){}attach(){}}function CI(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function nO(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class mq{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();CI(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let gq=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new tO,this.close=c=>new pq(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new fq(this._viewportRuler,this._document),this.reposition=c=>new mq(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(cq),u.LFG(qP),u.LFG(u.R0b),u.LFG(pe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rO{constructor(e){if(this.scrollStrategy=new tO,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class vq{constructor(e,t,r,i,s){this.offsetX=r,this.offsetY=i,this.panelClass=s,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class _q{}let yq=(()=>{let n=class{constructor(t,r){this.connectionPair=t,this.scrollableViewProperties=r}};return n=(0,gI.gn)([(0,gI.fM)(1,(0,u.FiY)()),(0,gI.w6)("design:paramtypes",[vq,_q])],n),n})(),iO=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cq=(()=>{class n extends iO{constructor(t){super(t),this._keydownListener=r=>{const i=this._attachedOverlays;for(let s=i.length-1;s>-1;s--)if(i[s]._keydownEvents.observers.length>0){i[s]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Aq=(()=>{class n extends iO{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=c0(i)},this._clickListener=i=>{const s=c0(i),c="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let p=h.length-1;p>-1;p--){const v=h[p];if(!(v._outsidePointerEvents.observers.length<1)&&v.hasAttached()){if(v.overlayElement.contains(s)||v.overlayElement.contains(c))break;v._outsidePointerEvents.next(i)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe),u.LFG(Xo))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sO=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||mI()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),mI()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe),u.LFG(Xo))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class bq{constructor(e,t,r,i,s,c,h,p,v){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=c,this._document=h,this._location=p,this._outsideClickDispatcher=v,this._backdropElement=null,this._backdropClick=new Cn.x,this._attachments=new Cn.x,this._detachments=new Cn.x,this._locationChanges=No.w0.EMPTY,this._backdropClickHandler=b=>this._backdropClick.next(b),this._keydownEvents=new Cn.x,this._outsidePointerEvents=new Cn.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Us(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=wr(this._config.width),e.height=wr(this._config.height),e.minWidth=wr(this._config.minWidth),e.minHeight=wr(this._config.minHeight),e.maxWidth=wr(this._config.maxWidth),e.maxHeight=wr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=ky(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Oy((0,JP.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}const oO="cdk-overlay-connected-position-bounding-box",wq=/([A-Za-z%]+)$/;class Eq{constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Cn.x,this._resizeSubscription=No.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(oO),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=[];let s;for(let c of this._preferredPositions){let h=this._getOriginPoint(e,c),p=this._getOverlayPoint(h,t,c),v=this._getOverlayFit(p,t,r,c);if(v.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,h);this._canFitWithFlexibleDimensions(v,p,r)?i.push({position:c,origin:h,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(h,c)}):(!s||s.overlayFit.visibleArea<v.visibleArea)&&(s={overlayFit:v,overlayPoint:p,originPoint:h,position:c,overlayRect:t})}if(i.length){let c=null,h=-1;for(const p of i){const v=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);v>h&&(h=v,c=p)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&l0(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(oO),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,i;if("center"==t.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;r="start"==t.originX?s:c}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:i}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=cO(t);let{x:c,y:h}=e,p=this._getOffset(i,"x"),v=this._getOffset(i,"y");p&&(c+=p),v&&(h+=v);let T=0-h,N=h+s.height-r.height,R=this._subtractOverflows(s.width,0-c,c+s.width-r.width),V=this._subtractOverflows(s.height,T,N),$=R*V;return{visibleArea:$,isCompletelyWithinViewport:s.width*s.height===$,fitsInViewportVertically:V===s.height,fitsInViewportHorizontally:R==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,c=aO(this._overlayRef.getConfig().minHeight),h=aO(this._overlayRef.getConfig().minWidth),v=e.fitsInViewportHorizontally||null!=h&&h<=s;return(e.fitsInViewportVertically||null!=c&&c<=i)&&v}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=cO(t),s=this._viewportRect,c=Math.max(e.x+i.width-s.width,0),h=Math.max(e.y+i.height-s.height,0),p=Math.max(s.top-r.top-e.y,0),v=Math.max(s.left-r.left-e.x,0);let b=0,M=0;return b=i.width<=s.width?v||-c:e.x<this._viewportMargin?s.left-r.left-e.x:0,M=i.height<=s.height?p||-h:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:b,y:M},{x:e.x+b,y:e.y+M}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new yq(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,c,h,b,M,T;if("top"===t.overlayY)c=e.y,s=r.height-c+this._viewportMargin;else if("bottom"===t.overlayY)h=r.height-e.y+2*this._viewportMargin,s=r.height-h+this._viewportMargin;else{const N=Math.min(r.bottom-e.y+r.top,e.y),R=this._lastBoundingBoxSize.height;s=2*N,c=e.y-N,s>R&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-R/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)T=r.width-e.x+this._viewportMargin,b=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)M=e.x,b=r.right-e.x;else{const N=Math.min(r.right-e.x+r.left,e.x),R=this._lastBoundingBoxSize.width;b=2*N,M=e.x-N,b>R&&!this._isInitialRender&&!this._growAfterOpen&&(M=e.x-R/2)}return{top:c,left:M,bottom:h,right:T,width:b,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;i.height=wr(r.height),i.top=wr(r.top),i.bottom=wr(r.bottom),i.width=wr(r.width),i.left=wr(r.left),i.right=wr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=wr(s)),c&&(i.maxWidth=wr(c))}this._lastBoundingBoxSize=r,l0(this._boundingBox.style,i)}_resetBoundingBoxStyles(){l0(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){l0(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(i){const b=this._viewportRuler.getViewportScrollPosition();l0(r,this._getExactOverlayY(t,e,b)),l0(r,this._getExactOverlayX(t,e,b))}else r.position="static";let h="",p=this._getOffset(t,"x"),v=this._getOffset(t,"y");p&&(h+=`translateX(${p}px) `),v&&(h+=`translateY(${v}px)`),r.transform=h.trim(),c.maxHeight&&(i?r.maxHeight=wr(c.maxHeight):s&&(r.maxHeight="")),c.maxWidth&&(i?r.maxWidth=wr(c.maxWidth):s&&(r.maxWidth="")),l0(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r));let c=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=c,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=wr(s.y),i}_getExactOverlayX(e,t,r){let c,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=wr(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:nO(e,r),isOriginOutsideView:CI(e,r),isOverlayClipped:nO(t,r),isOverlayOutsideView:CI(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ky(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function l0(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function aO(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(wq);return t&&"px"!==t?null:parseFloat(e)}return n||null}function cO(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const lO="cdk-global-overlay-wrapper";class Mq{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(lO),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:c,maxHeight:h}=r,p=!("100%"!==i&&"100vw"!==i||c&&"100%"!==c&&"100vw"!==c),v=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h);e.position=this._cssPosition,e.marginLeft=p?"0":this._leftOffset,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,p?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(lO),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Sq=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new Mq}flexibleConnectedTo(t){return new Eq(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(qP),u.LFG(pe),u.LFG(Xo),u.LFG(sO))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Iq=0,AI=(()=>{class n{constructor(t,r,i,s,c,h,p,v,b,M,T){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=h,this._ngZone=p,this._document=v,this._directionality=b,this._location=M,this._outsideClickDispatcher=T}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),c=new rO(t);return c.direction=c.direction||this._directionality.value,new bq(s,r,i,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Iq++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new hq(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gq),u.LFG(sO),u.LFG(u._Vd),u.LFG(Sq),u.LFG(Cq),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(pe),u.LFG(oq),u.LFG(Se),u.LFG(Aq))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Dq={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[AI],useFactory:function xq(n){return()=>n.scrollStrategies.reposition()}};let Nq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[AI,Dq],imports:[[s7,XP,KP],KP]}),n})();function uO(n){return Zr((e,t)=>n<=t)}function Fq(n,e){return n===e}function pO(n){return 0===n.offsetX&&0===n.offsetY}function mO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Wq=new u.OlP("cdk-input-modality-detector-options"),qq={ignoreKeys:[18,17,224,91,16]},td=fI({passive:!0,capture:!0});let Zq=(()=>{class n{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Lr(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(h=>h===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=c0(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(pO(c)?"keyboard":"mouse"),this._mostRecentTarget=c0(c))},this._onTouchstart=c=>{mO(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=c0(c))},this._options={...qq,...s},this.modalityDetected=this._modality.pipe(uO(1)),this.modalityChanged=this.modalityDetected.pipe(function zq(n,e=V1.y){return n=n??Fq,(0,bn.e)((t,r)=>{let i,s=!0;t.subscribe((0,pn.x)(r,c=>{const h=e(c);(s||!n(i,h))&&(s=!1,i=h,r.next(c))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,td),i.addEventListener("mousedown",this._onMousedown,td),i.addEventListener("touchstart",this._onTouchstart,td)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,td),document.removeEventListener("mousedown",this._onMousedown,td),document.removeEventListener("touchstart",this._onTouchstart,td))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Xo),u.LFG(u.R0b),u.LFG(pe),u.LFG(Wq,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kq=new u.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Yq(){return null}}),Qq=new u.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Xq=(()=>{class n{constructor(t,r,i,s){this._ngZone=r,this._defaultOptions=s,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let s,c;return 1===r.length&&"number"==typeof r[0]?c=r[0]:[s,c]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=i&&i.politeness?i.politeness:"polite"),null==c&&i&&(c=i.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(h=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,h(),"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Kq,8),u.LFG(u.R0b),u.LFG(pe),u.LFG(Qq,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jq=new u.OlP("cdk-focus-monitor-default-options"),zy=fI({passive:!0,capture:!0});let eZ=(()=>{class n{constructor(t,r,i,s,c){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Cn.x,this._rootNodeFocusAndBlurListener=h=>{const p=c0(h),v="focus"===h.type?this._onFocus:this._onBlur;for(let b=p;b;b=b.parentElement)v.call(this,h,b)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(t,r=!1){const i=Jh(t);if(!this._platform.isBrowser||1!==i.nodeType)return nt(null);const s=function rq(n){if(function nq(){if(null==pI){const n=typeof document<"u"?document.head:null;pI=!(!n||!n.createShadowRoot&&!n.attachShadow)}return pI}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const h={checkChildren:r,subject:new Cn.x,rootNode:s};return this._elementInfo.set(i,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const r=Jh(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=Jh(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,p])=>this._originChanged(h,r,p)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=c0(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,zy),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,zy)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Oy(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,zy),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,zy),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Xo),u.LFG(Zq),u.LFG(pe,8),u.LFG(Jq,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vO="cdk-high-contrast-black-on-white",_O="cdk-high-contrast-white-on-black",bI="cdk-high-contrast-active";let tZ=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(bI),t.remove(vO),t.remove(_O),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(bI),t.add(vO)):2===r&&(t.add(bI),t.add(_O))}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Xo),u.LFG(pe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yO=new u.GfV("13.0.0"),CO=new u.GfV("13.0.0"),rZ=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function nZ(){return!0}});let nd=(()=>{class n{constructor(t,r,i){this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!(0,u.X6Q)()||mI())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&CO.full!==yO.full&&console.warn("The Angular Material version ("+CO.full+") does not match the Angular CDK version ("+yO.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(tZ),u.LFG(rZ,8),u.LFG(pe))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[s7],s7]}),n})();function iZ(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=BP(e)}}}function sZ(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function oZ(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=BP(e)}}}class cZ{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const AO={enterDuration:225,exitDuration:150},wI=fI({passive:!0}),bO=["mousedown","touchstart"],wO=["mouseup","mouseleave","touchend","touchcancel"];class uZ{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Jh(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...AO,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const c=r.radius||function dZ(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),h=e-i.left,p=t-i.top,v=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=h-c+"px",b.style.top=p-c+"px",b.style.height=2*c+"px",b.style.width=2*c+"px",null!=r.color&&(b.style.backgroundColor=r.color),b.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(b),function hZ(n){window.getComputedStyle(n).getPropertyValue("opacity")}(b),b.style.transform="scale(1)";const M=new cZ(this,b,r);return M.state=0,this._activeRipples.add(M),r.persistent||(this._mostRecentTransientRipple=M),this._runTimeoutOutsideZone(()=>{const T=M===this._mostRecentTransientRipple;M.state=1,!r.persistent&&(!T||!this._isPointerDown)&&M.fadeOut()},v),M}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i={...AO,...e.config.animation};r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Jh(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(bO))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(wO),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=pO(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!mO(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,wI)})})}_removeTriggerEvents(){this._triggerElement&&(bO.forEach(e=>{this._triggerElement.removeEventListener(e,this,wI)}),this._pointerUpEventsRegistered&&wO.forEach(e=>{this._triggerElement.removeEventListener(e,this,wI)}))}}const fZ=new u.OlP("mat-ripple-global-options");let EO=(()=>{class n{constructor(t,r,i,s,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new uZ(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Xo),u.Y36(fZ,8),u.Y36(u.QbO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),pZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[nd,$P],nd]}),n})();const mZ=["mat-button",""],gZ=["*"],_Z=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],yZ=sZ(iZ(oZ(class{constructor(n){this._elementRef=n}})));let CZ=(()=>{class n extends yZ{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of _Z)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(eZ),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&u.Gf(EO,5),2&t){let i;u.iGM(i=u.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(u.uIk("disabled",r.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:mZ,ngContentSelectors:gZ,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1)(3,"span",2)),2&t&&(u.xp6(2),u.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[EO],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),AZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[pZ,nd],nd]}),n})();class MO{}const Sc="*";function wZ(n,e){return{type:7,name:n,definitions:e,options:{}}}function SO(n,e=null){return{type:4,styles:e,timings:n}}function IO(n,e=null){return{type:2,steps:n,options:e}}function a7(n){return{type:6,styles:n,offset:null}}function TO(n,e,t){return{type:0,name:n,styles:e,options:t}}function xO(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function DO(n){Promise.resolve().then(n)}class c7{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){DO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class NO{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?DO(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++r==s&&this._onDestroy()}),c.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const kO=new Set;let rd,MZ=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):IZ}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function SZ(n){if(!kO.has(n))try{rd||(rd=document.createElement("style"),rd.setAttribute("type","text/css"),document.head.appendChild(rd)),rd.sheet&&(rd.sheet.insertRule(`@media ${n} {body{ }}`,0),kO.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Xo))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IZ(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let TZ=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Cn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return RO(ky(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=H1(RO(ky(t)).map(c=>this._registerQuery(c).observable));return s=vu(s.pipe(Us(1)),s.pipe(uO(1),function EZ(n,e=x5){return(0,bn.e)((t,r)=>{let i=null,s=null,c=null;const h=()=>{if(i){i.unsubscribe(),i=null;const v=s;s=null,r.next(v)}};function p(){const v=c+n,b=e.now();if(b<v)return i=this.schedule(void 0,v-b),void r.add(i);h()}t.subscribe((0,pn.x)(r,v=>{s=v,c=e.now(),i||(i=e.schedule(p,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe((0,St.U)(c=>{const h={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:v})=>{h.matches=h.matches||p,h.breakpoints[v]=p}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new Ir.y(c=>{const h=p=>this._zone.run(()=>c.next(p));return r.addListener(h),()=>{r.removeListener(h)}}).pipe(v2(r),(0,St.U)(({matches:c})=>({query:t,matches:c})),Oy(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(MZ),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function RO(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function DZ(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",1)(1,"button",2),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.action())}),u._uU(2),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(2),u.Oqu(t.data.action)}}function NZ(n,e){}const LO=new u.OlP("MatSnackBarData");class Fy{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const kZ=Math.pow(2,31)-1;class MI{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Cn.x,this._afterOpened=new Cn.x,this._onAction=new Cn.x,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe(()=>this.dismiss()),e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,kZ))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let RZ=(()=>{class n{constructor(t,r){this.snackBarRef=t,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(MI),u.Y36(LO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"span"),u._uU(1),u.qZA(),u.YNc(2,DZ,3,1,"div",0)),2&t&&(u.xp6(1),u.Oqu(r.data.message),u.xp6(1),u.Q6J("ngIf",r.hasAction))},dependencies:[CZ,rn],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),n})();const LZ={snackBarState:wZ("state",[TO("void, hidden",a7({transform:"scale(0.8)",opacity:0})),TO("visible",a7({transform:"scale(1)",opacity:1})),xO("* => visible",SO("150ms cubic-bezier(0, 0, 0.2, 1)")),xO("* => void, * => hidden",SO("75ms cubic-bezier(0.4, 0.0, 1, 1)",a7({opacity:0})))])};let PZ=(()=>{class n extends yI{constructor(t,r,i,s,c){super(),this._ngZone=t,this._elementRef=r,this._changeDetectorRef=i,this._platform=s,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Cn.x,this._onExit=new Cn.x,this._onEnter=new Cn.x,this._animationState="void",this.attachDomPortal=h=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(h)),this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:r,toState:i}=t;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Us(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(i=>t.classList.add(i)):t.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(i=document.activeElement),t.removeAttribute("aria-hidden"),r.appendChild(t),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Xo),u.Y36(Fy))},n.\u0275cmp=u.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(t,r){if(1&t&&u.Gf(QP,7),2&t){let i;u.iGM(i=u.CRH())&&(r._portalOutlet=i.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,r){1&t&&u.WFA("@state.done",function(s){return r.onAnimationEnd(s)}),2&t&&u.d8E("@state",r._animationState)},features:[u.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.YNc(1,NZ,0,0,"ng-template",1),u.qZA(),u._UZ(2,"div")),2&t&&(u.xp6(2),u.uIk("aria-live",r._live)("role",r._role))},dependencies:[QP],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[LZ.snackBarState]}}),n})(),PO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Nq,XP,O0,AZ,nd],nd]}),n})();const OZ=new u.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function zZ(){return new Fy}});let SI=(()=>{class n{constructor(t,r,i,s,c,h){this._overlay=t,this._live=r,this._injector=i,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=h,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=RZ,this.snackBarContainerComponent=PZ,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){const s={...this._defaultConfig,...i};return s.data={message:t,action:r},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){const s=u.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:Fy,useValue:r}]}),c=new _I(this.snackBarContainerComponent,r.viewContainerRef,s),h=t.attach(c);return h.instance.snackBarConfig=r,h.instance}_attach(t,r){const i={...new Fy,...this._defaultConfig,...r},s=this._createOverlay(i),c=this._attachSnackBarContainer(s,i),h=new MI(c,s);if(t instanceof u.Rgc){const p=new YP(t,null,{$implicit:i.data,snackBarRef:h});h.instance=c.attachTemplatePortal(p)}else{const p=this._createInjector(i,h),v=new _I(t,void 0,p),b=c.attachComponentPortal(v);h.instance=b.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Oy(s.detachments())).subscribe(p=>{s.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),i.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(h,i),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration))}_createOverlay(t){const r=new rO;r.direction=t.direction;let i=this._overlay.position().global();const s="rtl"===t.direction,c="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,h=!c&&"center"!==t.horizontalPosition;return c?i.left("0"):h?i.right("0"):i.centerHorizontally(),"top"===t.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){return u.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:MI,useValue:r},{provide:LO,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(AI),u.LFG(Xq),u.LFG(u.zs3),u.LFG(TZ),u.LFG(n,12),u.LFG(OZ))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:PO}),n})();function FZ(n,e){1&n&&(u.O4$(),u.kcU(),u.ynx(0),u._uU(1,"s"),u.BQk())}const OO=function(n){return{"item--cache-mobile":n}},zO=function(n){return{width:n}};function VZ(n,e){if(1&n&&(u.TgZ(0,"th",13),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("ngClass",u.VKq(3,OO,!1===t.visibleMobile))("ngStyle",u.VKq(5,zO,t.width)),u.xp6(1),u.Oqu(t.nom)}}function HZ(n,e){if(1&n&&(u.TgZ(0,"p"),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit,r=u.oxw().$implicit;u.xp6(1),u.Oqu(1==r[t.nameAttribut]?"Oui":"Non")}}function BZ(n,e){if(1&n&&(u.TgZ(0,"p"),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit,r=u.oxw().$implicit;u.xp6(1),u.Oqu(r[t.nameAttribut])}}function UZ(n,e){if(1&n&&u._UZ(0,"img",19),2&n){const t=u.oxw().$implicit,r=u.oxw().$implicit;u.Q6J("src",r[t.nameAttribut],u.LSH)}}function jZ(n,e){if(1&n&&(u.TgZ(0,"td",17),u.YNc(1,HZ,2,1,"p",4),u.YNc(2,BZ,2,1,"p",4),u.YNc(3,UZ,1,1,"img",18),u.qZA()),2&n){const t=e.$implicit;u.Q6J("ngClass",u.VKq(5,OO,!1===t.visibleMobile))("ngStyle",u.VKq(7,zO,t.width)),u.xp6(1),u.Q6J("ngIf","boolean"===t.type),u.xp6(1),u.Q6J("ngIf","boolean"!==t.type&&"image"!==t.type),u.xp6(1),u.Q6J("ngIf","image"===t.type)}}function GZ(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr",14)(1,"td",9)(2,"input",15),u.NdJ("click",function(i){const c=u.CHM(t).$implicit,h=u.oxw();return u.KtG(h.onChecked(i,c.id))}),u.qZA()(),u.YNc(3,jZ,4,9,"td",16),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw();u.Q6J("routerLink",r.linkForForm+"/"+t.id),u.xp6(3),u.Q6J("ngForOf",r.columns)}}const $Z=function(n){return{"ligne-action__supprimer--red":n}},WZ=function(n){return{"ligne-action__poubelle--red":n}};let II=(()=>{class n{constructor(){this.columns=[],this.data=[],this.linkForForm="",this.titleAjouter="Ajouter",this.elementSupprimer=new u.vpe,this.tabSelected=new Set}ngOnInit(){}onChecked(t,r){t.stopPropagation(),this.tabSelected.has(r)?this.tabSelected.delete(r):this.tabSelected.add(r)}onDelete(){this.elementSupprimer.emit(this.tabSelected),this.tabSelected.clear()}isPhoto(t){return console.log(t),!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-datatable"]],inputs:{columns:"columns",data:"data",linkForForm:"linkForForm",titleAjouter:"titleAjouter"},outputs:{elementSupprimer:"elementSupprimer"},decls:16,vars:12,consts:[[1,"ligne-action"],[1,"ligne-action__supprimer",3,"ngClass","click"],["width","24","height","24","xmlns","http://www.w3.org/2000/svg","fill-rule","evenodd","clip-rule","evenodd",1,"ligne-action__poubelle",3,"ngClass"],["d","M9 3h6v-1.75c0-.066-.026-.13-.073-.177-.047-.047-.111-.073-.177-.073h-5.5c-.066 0-.13.026-.177.073-.047.047-.073.111-.073.177v1.75zm11 1h-16v18c0 .552.448 1 1 1h14c.552 0 1-.448 1-1v-18zm-10 3.5c0-.276-.224-.5-.5-.5s-.5.224-.5.5v12c0 .276.224.5.5.5s.5-.224.5-.5v-12zm5 0c0-.276-.224-.5-.5-.5s-.5.224-.5.5v12c0 .276.224.5.5.5s.5-.224.5-.5v-12zm8-4.5v1h-2v18c0 1.105-.895 2-2 2h-14c-1.105 0-2-.895-2-2v-18h-2v-1h7v-2c0-.552.448-1 1-1h6c.552 0 1 .448 1 1v2h7z"],[4,"ngIf"],[1,"ligne-action__ajouter",3,"routerLink","title"],[1,"table"],[1,"table__head"],[1,"table__ligne","table__ligne--header"],[1,"item__checkbox"],["class","item--head",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"table__body"],["class","table__ligne table__ligne--body",3,"routerLink",4,"ngFor","ngForOf"],[1,"item--head",3,"ngClass","ngStyle"],[1,"table__ligne","table__ligne--body",3,"routerLink"],["type","checkbox",1,"table__checkbox",3,"click"],["class","item--body",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"item--body",3,"ngClass","ngStyle"],["class","item__image",3,"src",4,"ngIf"],[1,"item__image",3,"src"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"p",1),u.NdJ("click",function(){return r.onDelete()}),u.O4$(),u.TgZ(2,"svg",2),u._UZ(3,"path",3),u.qZA(),u._uU(4),u.YNc(5,FZ,2,0,"ng-container",4),u._uU(6," \xe0 supprimer"),u.qZA(),u.kcU(),u.TgZ(7,"a",5),u._uU(8,"+"),u.qZA()(),u.TgZ(9,"table",6)(10,"thead",7)(11,"tr",8),u._UZ(12,"th",9),u.YNc(13,VZ,2,7,"th",10),u.qZA()(),u.TgZ(14,"tbody",11),u.YNc(15,GZ,4,2,"tr",12),u.qZA()()),2&t&&(u.xp6(1),u.Q6J("ngClass",u.VKq(8,$Z,r.tabSelected.size>0)),u.xp6(1),u.Q6J("ngClass",u.VKq(10,WZ,r.tabSelected.size>0)),u.xp6(2),u.hij(" ",r.tabSelected.size," \xe9l\xe9ment"),u.xp6(1),u.Q6J("ngIf",r.tabSelected.size>1),u.xp6(2),u.Q6J("routerLink",r.linkForForm+"/nouveau")("title",r.titleAjouter),u.xp6(6),u.Q6J("ngForOf",r.columns),u.xp6(2),u.Q6J("ngForOf",r.data))},dependencies:[nn,Rr,rn,Uc,za,L6],styles:[".table[_ngcontent-%COMP%]{width:90%;margin-left:5%;display:flex;position:relative;padding:35px 0}.table__ligne[_ngcontent-%COMP%]{border-bottom:1px solid #989898}.table__ligne--header[_ngcontent-%COMP%]{position:absolute;top:-15px}.table__ligne--body[_ngcontent-%COMP%]:hover{background-color:#e7e7e7}.table__checkbox[_ngcontent-%COMP%]{display:none}.table__checkbox[_ngcontent-%COMP%]:checked{filter:hue-rotate(-71deg);display:block}.table__ligne--body[_ngcontent-%COMP%]:hover > .item__checkbox[_ngcontent-%COMP%] > .table__checkbox[_ngcontent-%COMP%]{display:block;line-height:20px}.table__body[_ngcontent-%COMP%]{display:block;overflow:scroll;height:50vh}.item[_ngcontent-%COMP%], .item--head[_ngcontent-%COMP%], .item--body[_ngcontent-%COMP%]{height:50px;min-width:120px;max-width:200px;line-height:22px;text-align:center;vertical-align:middle;color:#161616}.item__image[_ngcontent-%COMP%]{margin-top:10px;height:50px;object-fit:contain}.item--head[_ngcontent-%COMP%]{font-weight:700}.item__checkbox[_ngcontent-%COMP%]{width:21px;text-align:center;vertical-align:middle}.item--cache-mobile[_ngcontent-%COMP%]{display:none}@media (min-width: 740px){.item--cache-mobile[_ngcontent-%COMP%]{display:table-cell}}.ligne-action[_ngcontent-%COMP%]{display:none}@media (min-width: 740px){.ligne-action[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:90%;margin-left:5%;align-items:center}}.ligne-action__ajouter[_ngcontent-%COMP%]{background-color:#1ba8a8;color:#fcfcfd;font-size:25px;border-radius:5px;height:40px;padding-bottom:2px;width:40px;display:flex;justify-content:center;align-items:center}.ligne-action__poubelle[_ngcontent-%COMP%]{font-size:18px;margin-right:20px;fill:#cdcdcd}.ligne-action__poubelle--red[_ngcontent-%COMP%]{fill:#d90033}.ligne-action__supprimer[_ngcontent-%COMP%]{color:#cdcdcd;display:flex;align-items:center}.ligne-action__supprimer--red[_ngcontent-%COMP%]{color:#d90033;display:flex;align-items:center}"]}),n})(),id=(()=>{class n{constructor(t){this._location=t}ngOnInit(){}goBack(){this._location.back()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Se))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-go-back"]],decls:2,vars:0,consts:[[1,"go-back",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"p",0),u.NdJ("click",function(){return r.goBack()}),u._uU(1," < Retour"),u.qZA())},styles:[".go-back[_ngcontent-%COMP%]{align-self:flex-end;background-color:#dedede;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out;position:fixed;color:#262626}.go-back[_ngcontent-%COMP%]:hover{background-color:#c5c5c5}"]}),n})();function qZ(n,e){if(1&n&&(u.TgZ(0,"h1",2),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.hij("Rayon : ",t.department.name," ")}}function ZZ(n,e){1&n&&(u.TgZ(0,"p",16),u._uU(1,"Vous devez rensigner le nom"),u.qZA())}function KZ(n,e){1&n&&(u.TgZ(0,"p",16),u._uU(1,"Vous devez rensigner la description"),u.qZA())}function YZ(n,e){if(1&n&&(u.TgZ(0,"option",19),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t.id),u.xp6(1),u.hij(" ",t.name," ")}}function QZ(n,e){1&n&&(u.TgZ(0,"p",16),u._uU(1,"Vous devez rensigner le type de rayon"),u.qZA())}function XZ(n,e){if(1&n&&(u.TgZ(0,"label",5)(1,"span",6),u._uU(2,"Type de Rayon*"),u.qZA(),u.TgZ(3,"select",17),u.YNc(4,YZ,2,2,"option",18),u.YNc(5,QZ,2,0,"p",8),u.qZA()()),2&n){const t=u.oxw(2);let r;u.xp6(4),u.Q6J("ngForOf",t.departmentTypes),u.xp6(1),u.Q6J("ngIf",(null==(r=t.form.get("idDepartmentType"))?null:r.hasError("required"))&&t.isSubmited)}}function JZ(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"main",3)(1,"form",4),u.NdJ("ngSubmit",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.onSend())}),u.TgZ(2,"label",5)(3,"span",6),u._uU(4,"Nom*"),u.qZA(),u._UZ(5,"input",7),u.YNc(6,ZZ,2,0,"p",8),u.qZA(),u.TgZ(7,"label",5)(8,"span",6),u._uU(9,"Description*"),u.qZA(),u._UZ(10,"input",9),u.YNc(11,KZ,2,0,"p",8),u.qZA(),u.YNc(12,XZ,6,2,"label",10),u.TgZ(13,"label",5)(14,"span",6),u._uU(15,"Couleur*"),u.qZA(),u._UZ(16,"input",11),u.qZA(),u.TgZ(17,"div",12)(18,"button",13),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.deleteDepartment())}),u._uU(19,"Supprimer"),u.qZA(),u.TgZ(20,"button",14),u._uU(21,"Valider"),u.qZA()()(),u.TgZ(22,"app-datatable",15),u.NdJ("elementSupprimer",function(i){u.CHM(t);const s=u.oxw();return u.KtG(s.onDelete(i))}),u.qZA()()}if(2&n){const t=u.oxw();let r,i;u.xp6(1),u.Q6J("formGroup",t.form),u.xp6(5),u.Q6J("ngIf",(null==(r=t.form.get("name"))?null:r.hasError("required"))&&t.isSubmited),u.xp6(5),u.Q6J("ngIf",(null==(i=t.form.get("description"))?null:i.hasError("required"))&&t.isSubmited),u.xp6(1),u.Q6J("ngIf",t.departmentTypes),u.xp6(10),u.Q6J("columns",t.columns)("data",t.data)("linkForForm","/department/"+t.department.id+"/product")}}let eK=(()=>{class n{constructor(t,r,i,s,c,h,p){this._activatedRouter=t,this._departmentService=r,this._departmentTypeService=i,this._productService=s,this._snackBar=c,this._router=h,this.fb=p,this.idDepartment=null,this.departmentTypes=[],this.isSubmited=!1,this.data=[],this.columns=[{nom:"Photo",visibleMobile:!0,nameAttribut:"image",type:"image",width:"50px"},{nom:"Nom",visibleMobile:!0,nameAttribut:"name",type:"texte",width:"200px"},{nom:"Prix",visibleMobile:!1,nameAttribut:"price",type:"texte",width:"100px"},{nom:"Code barre",visibleMobile:!1,nameAttribut:"barcode",type:"texte",width:"100px"}]}ngOnInit(){var t=this;return(0,oe.Z)(function*(){t._activatedRouter.params.subscribe(r=>{t.idDepartment=r.idDepartment}),t.initForm(),t.departmentTypes=t._departmentTypeService.get_all_department_type(),null!==t.idDepartment&&(t._productService.get_product_form_department(t.idDepartment)&&(t.subscription_data=t._productService.ProductFromDepartmentObservable.subscribe(r=>t.data=r)),t.department=yield t._departmentService.get_department_by_id(t.idDepartment),t.form&&t.department&&t.form.patchValue({id:t.department.id,name:t.department.name,description:t.department.description,idDepartmentType:t.department.idDepartmentType,color:t.department.color}))})()}initForm(){this.form=this.fb.group({id:[""],name:["",Kn.required],description:["",Kn.required],idDepartmentType:["",Kn.required],color:["",Kn.required]})}onSend(){if(this.isSubmited=!0,this.form?.valid){console.log(this.form?.value);let t=this.department;t?(t.color=this.form?.value.color,t.description=this.form?.value.description,t.idDepartmentType=this.form?.value.idDepartmentType,t.name=this.form?.value.name,this._departmentService.update_department(t)):this._snackBar.open("la modification du rayon \xe0 \xe9chou\xe9 veuillez r\xe9\xe9ssayer plus tard ! ","Ok "),this._router.navigate(["/admin"]),this.isSubmited=!1}}deleteDepartment(){this.department&&this._departmentService.delete_department(this.department),this._router.navigate(["/admin"])}onDelete(t){this.idDepartment&&t.forEach(r=>{this._productService.detached_product(r,this.idDepartment)})}ngOnDestroy(){this.subscription_data&&this.subscription_data.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qr),u.Y36(VP),u.Y36(Ny),u.Y36(lI),u.Y36(SI),u.Y36(sn),u.Y36(Ga))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-department-form"]],decls:3,vars:2,consts:[["class","titre",4,"ngIf"],["class","main",4,"ngIf"],[1,"titre"],[1,"main"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-input"],[1,"form-input__label"],["value","","name","name","formControlName","name","id","name","type","text","placeholder","Nom*",1,"form-input__input"],["class","form-input__error",4,"ngIf"],["value","","name","description","formControlName","description","id","description","type","text","placeholder","Description*",1,"form-input__input"],["class","form-input",4,"ngIf"],["value","","name","color","formControlName","color","id","color","type","color","placeholder","color*",1,"form-input__color"],[1,"form__action"],[1,"form__supprimer",3,"click"],["type","submit",1,"form__valider"],["titleAjouter","Selectionner un produit",1,"main__tab",3,"columns","data","linkForForm","elementSupprimer"],[1,"form-input__error"],["formControlName","idDepartmentType",1,"form-input__input"],["size","5","class","form-input__option",3,"value",4,"ngFor","ngForOf"],["size","5",1,"form-input__option",3,"value"]],template:function(t,r){1&t&&(u._UZ(0,"app-go-back"),u.YNc(1,qZ,2,1,"h1",0),u.YNc(2,JZ,23,7,"main",1)),2&t&&(u.xp6(1),u.Q6J("ngIf",r.department),u.xp6(1),u.Q6J("ngIf",r.form&&r.department))},dependencies:[Rr,rn,Ba,ac,A8,Ho,Go,Uo,_s,hr,Li,II,id],styles:[".titre[_ngcontent-%COMP%]{font-size:35px;margin:40px 60px 25px 150px;font-weight:700}.form[_ngcontent-%COMP%]{width:40%;height:70vh;display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:20px;padding:0 5vw}.form__submit[_ngcontent-%COMP%]{background-color:#1ba8a8;border:1px solid #1BA8A8;color:#fff;font-size:1.2rem;padding:0 1rem;height:8vh;width:100%;max-width:400px}.form__error[_ngcontent-%COMP%]{color:red;text-align:center}.form__action[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0}.form__valider[_ngcontent-%COMP%]{align-self:flex-end;background-color:#0f550e;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.form__valider[_ngcontent-%COMP%]:hover{background-color:#072907}.form__supprimer[_ngcontent-%COMP%]{align-self:flex-end;background-color:#82291d;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.form__supprimer[_ngcontent-%COMP%]:hover{background-color:#581c14}.form-input[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-between;row-gap:5px;padding:10px 0}.form-input__label[_ngcontent-%COMP%]{font-weight:700;font-size:18px;margin-bottom:2px}.form-input__input[_ngcontent-%COMP%]{padding:0 1rem;background-color:#fcfcfd;height:6vh;color:#1ba8a8;border:1px solid #1BA8A8;width:70%;max-width:400px}.form-input__color[_ngcontent-%COMP%]{height:6vh;width:6vh;border:1px solid black;margin:0;padding:0}.form-input__error[_ngcontent-%COMP%]{color:red;text-align:center}.main[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.main__tab[_ngcontent-%COMP%]{width:50%;margin-right:20px}"]}),n})(),tK=(()=>{class n{constructor(t){this._departmentTypeService=t,this.columns=[{nom:"Nom",visibleMobile:!0,nameAttribut:"name",type:"texte",width:"200px"},{nom:"Favoris",visibleMobile:!1,nameAttribut:"favorite",type:"boolean",width:"100px"}],this.data=[]}ngOnInit(){this.data=this._departmentTypeService.get_all_department_type()}onDelete(t){t.forEach(r=>{this._departmentTypeService.deleteDepartementType(r)}),this.data=this._departmentTypeService.get_all_department_type()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ny))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-departments-types"]],decls:3,vars:2,consts:[[1,"titre"],["titleAjouter","Ajouter un type de rayon","linkForForm","/departmentsTypes",3,"columns","data","elementSupprimer"]],template:function(t,r){1&t&&(u.TgZ(0,"h1",0),u._uU(1,"Type de Rayons "),u.qZA(),u.TgZ(2,"app-datatable",1),u.NdJ("elementSupprimer",function(s){return r.onDelete(s)}),u.qZA()),2&t&&(u.xp6(2),u.Q6J("columns",r.columns)("data",r.data))},dependencies:[II],styles:[".titre[_ngcontent-%COMP%]{font-size:35px;margin:40px 60px 25px 150px;font-weight:700}"]}),n})();function nK(n,e){if(1&n&&(u.TgZ(0,"h1",2),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.hij("Type de rayon : ",t.departmentType.name," ")}}function rK(n,e){1&n&&(u.TgZ(0,"p",12),u._uU(1,"Vous devez rensigner le nom"),u.qZA())}function iK(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"main")(1,"form",3),u.NdJ("ngSubmit",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.onSend())}),u.TgZ(2,"label",4)(3,"span",5),u._uU(4,"Nom*"),u.qZA(),u._UZ(5,"input",6),u.YNc(6,rK,2,0,"p",7),u.qZA(),u.TgZ(7,"label",4)(8,"span",5),u._uU(9,"Favori*"),u.qZA(),u._UZ(10,"input",8),u.qZA(),u.TgZ(11,"div",9)(12,"button",10),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.deleteDepartment())}),u._uU(13,"Supprimer"),u.qZA(),u.TgZ(14,"button",11),u._uU(15,"Valider"),u.qZA()()()()}if(2&n){const t=u.oxw();let r;u.xp6(1),u.Q6J("formGroup",t.form),u.xp6(5),u.Q6J("ngIf",(null==(r=t.form.get("name"))?null:r.hasError("required"))&&t.isSubmited)}}let FO=(()=>{class n{constructor(t,r,i,s,c){this._activatedRouter=t,this._departmentTypeService=r,this._snackBar=i,this._router=s,this.fb=c,this.idDepartmentType=null,this.isSubmited=!1}ngOnInit(){var t=this;return(0,oe.Z)(function*(){t._activatedRouter.params.subscribe(r=>{void 0!==r.id&&(t.idDepartmentType=r.id)}),t.initForm(),null!==t.idDepartmentType&&(t.departmentType=yield t._departmentTypeService.get_department_type_by_id(t.idDepartmentType),t.form&&t.departmentType&&t.form.patchValue({id:t.departmentType.id,name:t.departmentType.name,favorite:t.departmentType.favorite}))})()}initForm(){this.form=this.fb.group({id:[""],name:["",Kn.required],favorite:[!1,Kn.required]})}onSend(){if(this.isSubmited=!0,this.form?.valid){if(console.log(this.form?.value),null===this.idDepartmentType){let t=new Ec("",this.form?.value.name,this.form?.value.favorite);this._departmentTypeService.add_department_type(t),this._router.navigate(["/departmentsTypes"])}else{let t=this.departmentType;t?(t.name=this.form?.value.name,t.favorite=this.form?.value.favorite,this._departmentTypeService.update_department_type(t)):this._snackBar.open("la modification du rayon \xe0 \xe9chou\xe9 veuillez r\xe9\xe9ssayer plus tard ! ","Ok "),this._router.navigate(["/departmentsTypes"])}this.isSubmited=!1}}deleteDepartment(){this.departmentType&&this._departmentTypeService.deleteDepartementType(this.departmentType.id),this._router.navigate(["/departmentsTypes"])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qr),u.Y36(Ny),u.Y36(SI),u.Y36(sn),u.Y36(Ga))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-department-type-form"]],decls:3,vars:2,consts:[["class","titre",4,"ngIf"],[4,"ngIf"],[1,"titre"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-input"],[1,"form-input__label"],["value","","name","name","formControlName","name","id","name","type","text","placeholder","Nom*",1,"form-input__input"],["class","form-input__error",4,"ngIf"],["value","","name","favorite","formControlName","favorite","id","favorite","type","checkbox","placeholder","favorite*"],[1,"form__action"],[1,"form__supprimer",3,"click"],["type","submit",1,"form__valider"],[1,"form-input__error"]],template:function(t,r){1&t&&(u._UZ(0,"app-go-back"),u.YNc(1,nK,2,1,"h1",0),u.YNc(2,iK,16,2,"main",1)),2&t&&(u.xp6(1),u.Q6J("ngIf",r.departmentType),u.xp6(1),u.Q6J("ngIf",r.form))},dependencies:[rn,Ba,Ho,Hu,Uo,_s,hr,Li,id],styles:['.titre[_ngcontent-%COMP%]{font-size:35px;margin:40px 60px 25px 150px;font-weight:700}.form[_ngcontent-%COMP%]{width:40%;height:70vh;display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:20px;padding:0 5vw}.form__submit[_ngcontent-%COMP%]{background-color:#1ba8a8;border:1px solid #1BA8A8;color:#fff;font-size:1.2rem;padding:0 1rem;height:8vh;width:100%;max-width:400px}.form__error[_ngcontent-%COMP%]{color:red;text-align:center}.form__action[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0}.form__valider[_ngcontent-%COMP%]{align-self:flex-end;background-color:#0f550e;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.form__valider[_ngcontent-%COMP%]:hover{background-color:#072907}.form__supprimer[_ngcontent-%COMP%]{align-self:flex-end;background-color:#82291d;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.form__supprimer[_ngcontent-%COMP%]:hover{background-color:#581c14}.form-input[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-between;row-gap:5px;padding:10px 0}.form-input__label[_ngcontent-%COMP%]{font-weight:700;font-size:18px;margin-bottom:2px}.form-input__input[_ngcontent-%COMP%]{padding:0 1rem;background-color:#fcfcfd;height:6vh;color:#1ba8a8;border:1px solid #1BA8A8;width:70%;max-width:400px}.form-input__color[_ngcontent-%COMP%]{height:6vh;width:6vh;border:1px solid black;margin:0;padding:0}.form-input__error[_ngcontent-%COMP%]{color:red;text-align:center}input[type=checkbox][_ngcontent-%COMP%]{position:relative;width:40px;height:20px;-webkit-appearance:none;appearance:none;background:red;outline:none;border-radius:2rem;cursor:pointer;box-shadow:inset 0 0 5px #00000080}input[type=checkbox][_ngcontent-%COMP%]:before{content:"";width:20px;height:20px;border-radius:50%;background:#fff;position:absolute;top:0;left:0;transition:.5s}input[type=checkbox][_ngcontent-%COMP%]:checked:before{transform:translate(100%);background:#fff}input[type=checkbox][_ngcontent-%COMP%]:checked{background:#00ed64}']}),n})();function sK(n,e){1&n&&(u.TgZ(0,"p",3),u._uU(1," Il n'y a pas de produits \xe0 assigner \xe0 un rayon. "),u.qZA())}function oK(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",8)(1,"input",9),u.NdJ("click",function(i){const c=u.CHM(t).$implicit,h=u.oxw();return u.KtG(h.onChecked(i,c.id))}),u.qZA(),u._UZ(2,"img",10),u.TgZ(3,"p",11),u._uU(4),u.qZA()()}if(2&n){const t=e.$implicit,r=u.oxw();u.xp6(2),u.s9C("alt",t.name),u.Q6J("src",t.image,u.LSH)("routerLink","/department/"+r.id_department+"/product/"+t.id),u.xp6(1),u.Q6J("routerLink","/department/"+r.id_department+"/product/"+t.id),u.xp6(1),u.AsE("",t.name," - ",t.price," \u20ac ")}}let aK=(()=>{class n{constructor(t,r,i,s){this._activatedRouter=t,this._productService=r,this._router=i,this._location=s,this.products=[],this.id_department=null,this.selectedId=new Set}ngOnInit(){this._activatedRouter.params.subscribe(t=>{this.id_department=t.idDepartment}),this.products=this._productService.get_product_without_department()}onChecked(t,r){t.stopPropagation(),this.selectedId.has(r)?this.selectedId.delete(r):this.selectedId.add(r)}goBack(){this._location.back()}confirm(){0!=this.selectedId.size?(this.selectedId.forEach(t=>{let r=this.products.find(i=>i.id==t);void 0!==r&&null!==this.id_department&&(r.idDepartment=this.id_department,this._productService.update_product(r,this.id_department))}),this._location.back()):alert("Vous devez s\xe9lectionner au moins un produit")}create(){this._router.navigate(["department/"+this.id_department+"/product/create"])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qr),u.Y36(lI),u.Y36(sn),u.Y36(Se))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-products"]],decls:13,vars:2,consts:[[1,"titre"],[1,"btn__creer",3,"click"],["class","product",4,"ngIf"],[1,"product"],["class","product-item",4,"ngFor","ngForOf"],[1,"btn"],[1,"btn__annuler",3,"click"],[1,"btn__valider",3,"click"],[1,"product-item"],["type","checkbox","name","product","id","product",1,"product-item__checkbox",3,"click"],[1,"product-item__image",3,"src","alt","routerLink"],[1,"product-item__name",3,"routerLink"]],template:function(t,r){1&t&&(u._UZ(0,"app-go-back"),u.TgZ(1,"h1",0),u._uU(2," Ajout de produit "),u.qZA(),u.TgZ(3,"button",1),u.NdJ("click",function(){return r.create()}),u._uU(4,"Cr\xe9er un nouveau porduit"),u.qZA(),u.YNc(5,sK,2,0,"p",2),u.TgZ(6,"ul",3),u.YNc(7,oK,5,6,"li",4),u.qZA(),u.TgZ(8,"div",5)(9,"button",6),u.NdJ("click",function(){return r.goBack()}),u._uU(10,"Annuler"),u.qZA(),u.TgZ(11,"button",7),u.NdJ("click",function(){return r.confirm()}),u._uU(12,"Valider"),u.qZA()()),2&t&&(u.xp6(5),u.Q6J("ngIf",0==r.products.length),u.xp6(2),u.Q6J("ngForOf",r.products))},dependencies:[Rr,rn,za,id],styles:[".titre[_ngcontent-%COMP%]{font-size:35px;margin:40px 60px 25px 150px;font-weight:700}.product[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;align-items:center;padding:50px}.product-item[_ngcontent-%COMP%]{border:1px solid #1BA8A8;border-radius:20px;width:100px;height:150px;position:relative;display:flex;flex-direction:column;justify-content:space-between;align-items:center;padding:25px}.product-item__checkbox[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px}.product-item__image[_ngcontent-%COMP%]{margin-top:30px;width:100%;border-radius:20px;max-height:60px}.product-item__name[_ngcontent-%COMP%]{text-align:center;font-size:1rem;font-weight:700;color:#1ba8a8}.btn[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;position:fixed;bottom:0;right:0}.btn__valider[_ngcontent-%COMP%]{align-self:flex-end;background-color:#0f550e;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.btn__valider[_ngcontent-%COMP%]:hover{background-color:#072907}.btn__annuler[_ngcontent-%COMP%]{align-self:flex-end;background-color:#cacaca;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.btn__annuler[_ngcontent-%COMP%]:hover{background-color:#b1b1b1}.btn__creer[_ngcontent-%COMP%]{align-self:flex-end;background-color:#2e343e;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out;position:fixed;right:40px;top:80px;font-size:15px}.btn__creer[_ngcontent-%COMP%]:hover{background-color:#181b21}"]}),n})();const VO="firebasestorage.googleapis.com",HO="storageBucket";class Qn extends j.ZR{constructor(e,t,r=0){super(TI(e),`Firebase Storage: ${t} (${TI(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return TI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function TI(n){return"storage/"+n}function xI(){return new Qn("unknown","An unknown error occurred, please check the error payload for server response.")}function BO(){return new Qn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function UO(){return new Qn("canceled","User canceled the upload/download.")}function jO(){return new Qn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function DI(n){return new Qn("invalid-argument",n)}function GO(){return new Qn("app-deleted","The Firebase app was deleted.")}function l7(n,e){return new Qn("invalid-format","String does not match format '"+n+"': "+e)}function u7(n){throw new Qn("internal-error","Internal error: "+n)}class Hi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Hi.makeFromUrl(e,t)}catch{return new Hi(e,"")}if(""===r.path)return r;throw function vK(n){return new Qn("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function v(Te){Te.path_=decodeURIComponent(Te.path)}const M=t.replace(/[.]/g,"\\."),Oe=[{regex:h,indices:{bucket:1,path:3},postModify:function s(Te){"/"===Te.path.charAt(Te.path.length-1)&&(Te.path_=Te.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===VO?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let Te=0;Te<Oe.length;Te++){const Je=Oe[Te],Qe=Je.regex.exec(e);if(Qe){let Jn=Qe[Je.indices.path];Jn||(Jn=""),r=new Hi(Qe[Je.indices.bucket],Jn),Je.postModify(r);break}}if(null==r)throw function gK(n){return new Qn("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class wK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Vy(n){return"string"==typeof n||n instanceof String}function $O(n){return NI()&&n instanceof Blob}function NI(){return typeof Blob<"u"&&!(0,j.UG)()}function kI(n,e,t,r){if(r<e)throw DI(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw DI(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ic(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function WO(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Ml=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Ml||(Ml={})),Ml))();function qO(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}class xK{constructor(e,t,r,i,s,c,h,p,v,b,M,T=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=b,this.connectionFactory_=M,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,R)=>{this.resolve_=N,this.reject_=R,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,c=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function SK(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==h){const p=xI();p.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,p):p)}else c(i.canceled?this.appDelete_?GO():UO():BO())};this.canceled_?t(0,new Hy(!1,null,!0)):this.backoffId_=function EK(n,e,t){let r=1,i=null,s=null,c=!1,h=0;function p(){return 2===h}let v=!1;function b(...$){v||(v=!0,e.apply(null,$))}function M($){i=setTimeout(()=>{i=null,n(N,p())},$)}function T(){s&&clearTimeout(s)}function N($,...fe){if(v)return void T();if($)return T(),void b.call(null,$,...fe);if(p()||c)return T(),void b.call(null,$,...fe);let Oe;r<64&&(r*=2),1===h?(h=2,Oe=0):Oe=1e3*(r+Math.random()),M(Oe)}let R=!1;function V($){R||(R=!0,T(),!v&&(null!==i?($||(h=2),clearTimeout(i),M(0)):$||(h=1)))}return M(0),s=setTimeout(()=>{c=!0,V(!0)},t),V}((r,i)=>{if(i)return void r(!1,new Hy(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const h=s.getErrorCode()===Ml.NO_ERROR,p=s.getStatus();if((!h||qO(p,this.additionalRetryCodes_))&&this.retry){const b=s.getErrorCode()===Ml.ABORT;return void r(!1,new Hy(!1,null,b))}const v=-1!==this.successCodes_.indexOf(p);r(!0,new Hy(v,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function MK(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Hy{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function OK(...n){const e=function PK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(NI())return new Blob(n);throw new Qn("unsupported-environment","This browser doesn't seem to support creating Blobs")}class RI{constructor(e,t){this.data=e,this.contentType=t||null}}function KO(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function YO(n,e){switch(n){case"base64":{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw l7(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw l7(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function FK(n){if(typeof atob>"u")throw function AK(n){return new Qn("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:l7(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class QO{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw l7("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function UK(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Tc{constructor(e,t){let r=0,i="";$O(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if($O(this.data_)){const i=function zK(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Tc(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Tc(r,!0)}}static getBlob(...e){if(NI()){const t=e.map(r=>r instanceof Tc?r.data_:r);return new Tc(OK.apply(null,t))}{const t=e.map(c=>Vy(c)?function ZO(n,e){switch(n){case"raw":return new RI(KO(e));case"base64":case"base64url":return new RI(YO(n,e));case"data_url":return new RI(function HK(n){const e=new QO(n);return e.base64?YO("base64",e.rest):function VK(n){let e;try{e=decodeURIComponent(n)}catch{throw l7("data_url","Malformed data URL.")}return KO(e)}(e.rest)}(e),function BK(n){return new QO(n).contentType}(e))}throw xI()}("raw",c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)i[s++]=c[h]}),new Tc(i,!0)}}uploadData(){return this.data_}}function LI(n){let e;try{e=JSON.parse(n)}catch{return null}return function TK(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function XO(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function $K(n,e){return e}class Bi{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||$K}}let By=null;function h7(){if(By)return By;const n=[];n.push(new Bi("bucket")),n.push(new Bi("generation")),n.push(new Bi("metageneration")),n.push(new Bi("name","fullPath",!0));const t=new Bi("name");t.xform=function e(s,c){return function WK(n){return!Vy(n)||n.length<2?n:XO(n)}(c)},n.push(t);const i=new Bi("size");return i.xform=function r(s,c){return void 0!==c?Number(c):c},n.push(i),n.push(new Bi("timeCreated")),n.push(new Bi("updated")),n.push(new Bi("md5Hash",null,!0)),n.push(new Bi("cacheControl",null,!0)),n.push(new Bi("contentDisposition",null,!0)),n.push(new Bi("contentEncoding",null,!0)),n.push(new Bi("contentLanguage",null,!0)),n.push(new Bi("contentType",null,!0)),n.push(new Bi("metadata","customMetadata",!0)),By=n,By}function JO(n,e,t){const r=LI(e);return null===r?null:function ZK(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const c=t[s];r[c.local]=c.xform(r,e[c.server])}return function qK(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Hi(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function PI(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}class r1{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function s1(n){if(!n)throw xI()}function Uy(n,e){return function t(r,i){const s=JO(n,i,e);return s1(null!==s),s}}function sd(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function pK(){return new Qn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function fK(){return new Qn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function dK(n){return new Qn("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function mK(n){return new Qn("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function d7(n){const e=sd(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function hK(n){return new Qn("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function iz(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function iY(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class jy{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function OI(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{s1(!1)}return s1(!!t&&-1!==(e||["active"]).indexOf(t)),t}function zI(n){switch(n){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";default:return"error"}}class cY{constructor(e,t,r){if(function IK(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function od(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class uY extends class lY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ml.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ml.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ml.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw u7("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw u7("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw u7("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw u7("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw u7("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ta(){return new uY}class mY{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=h7(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(qO(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=BO()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function sY(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),c=iz(e,r,i),h={name:c.fullPath},p=Ic(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},M=PI(c,t),R=new r1(p,"POST",function N(V){let $;OI(V);try{$=V.getResponseHeader("X-Goog-Upload-URL")}catch{s1(!1)}return s1(Vy($)),$},n.maxUploadRetryTime);return R.urlParams=h,R.headers=b,R.body=M,R.errorHandler=sd(e),R}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ta,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function oY(n,e,t,r){const p=new r1(t,"POST",function s(v){const b=OI(v,["active","final"]);let M=null;try{M=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{s1(!1)}M||s1(!1);const T=Number(M);return s1(!isNaN(T)),new jy(T,r.size(),"final"===b)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=sd(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ta,t,r);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new jy(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let c;try{c=function aY(n,e,t,r,i,s,c,h){const p=new jy(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=r.size()),r.size()!==p.total)throw function yK(){return new Qn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const v=p.total-p.current;let b=v;i>0&&(b=Math.min(b,i));const M=p.current;let N="";N=0===b?"finalize":v===b?"upload, finalize":"upload";const R={"X-Goog-Upload-Command":N,"X-Goog-Upload-Offset":`${p.current}`},V=r.slice(M,M+b);if(null===V)throw jO();const Oe=new r1(t,"POST",function $(Te,Je){const Qe=OI(Te,["active","final"]),zt=p.current+b,Jn=r.size();let ji;return ji="final"===Qe?Uy(e,s)(Te,Je):null,new jy(zt,Jn,"final"===Qe,ji)},e.maxUploadRetryTime);return Oe.headers=R,Oe.body=V.uploadData(),Oe.progressCallback=h||null,Oe.errorHandler=sd(n),Oe}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const h=this._ref.storage._makeRequest(c,ta,i,s,!1);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=function nz(n,e,t){const i=Ic(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new r1(i,"GET",Uy(n,t),c);return h.errorHandler=d7(e),h}(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ta,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function sz(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let Oe="";for(let Te=0;Te<2;Te++)Oe+=Math.random().toString().slice(2);return Oe}();c["Content-Type"]="multipart/related; boundary="+p;const v=iz(e,r,i),b=PI(v,t),N=Tc.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+p+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+p+"--");if(null===N)throw jO();const R={name:v.fullPath},V=Ic(s,n.host,n._protocol),fe=n.maxUploadRetryTime,xe=new r1(V,"POST",Uy(n,t),fe);return xe.urlParams=R,xe.headers=c,xe.body=N.uploadData(),xe.errorHandler=sd(e),xe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ta,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=UO(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=zI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new cY(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(zI(this._state)){case"success":od(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":od(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(zI(this._state)){case"running":case"paused":e.next&&od(e.next.bind(e,this.snapshot))();break;case"success":e.complete&&od(e.complete.bind(e))();break;default:e.error&&od(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class u0{constructor(e,t){this._service=e,this._location=t instanceof Hi?t:Hi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new u0(e,t)}get root(){const e=new Hi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return XO(this._location.path)}get storage(){return this._service}get parent(){const e=function jK(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Hi(this._location.bucket,e);return new u0(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function bK(n){return new Qn("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function wY(n){n._throwIfRoot("getDownloadURL");const e=function tY(n,e,t){const i=Ic(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new r1(i,"GET",function JK(n,e){return function t(r,i){const s=JO(n,i,e);return s1(null!==s),function KK(n,e,t,r){const i=LI(e);if(null===i||!Vy(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(v=>{const M=n.fullPath;return Ic("/b/"+c(n.bucket)+"/o/"+c(M),t,r)+WO({alt:"media",token:v})})[0]}(s,i,n.host,n._protocol)}}(n,t),c);return h.errorHandler=d7(e),h}(n.storage,n._location,h7());return n.storage.makeRequestWithTokens(e,ta).then(t=>{if(null===t)throw function CK(){return new Qn("no-download-url","The given file does not have any download URLs.")}();return t})}function dz(n,e){if(n instanceof VI){const t=n;if(null==t._bucket)throw function _K(){return new Qn("no-default-bucket","No default bucket found. Did you set the '"+HO+"' property when initializing the app?")}();const r=new u0(t,t._bucket);return null!=e?dz(r,e):r}return void 0!==e?function hz(n,e){const t=function GK(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Hi(n._location.bucket,t);return new u0(n.storage,r)}(n,e):n}function fz(n,e){const t=e?.[HO];return null==t?null:Hi.makeFromBucketSpec(t,n)}class VI{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=VO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Hi.makeFromBucketSpec(i,this._host):fz(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Hi.makeFromBucketSpec(this._url,e):fz(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){kI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){kI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,oe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,oe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new u0(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new wK(GO());{const c=function LK(n,e,t,r,i,s,c=!0){const h=WO(n.urlParams),p=n.url+h,v=Object.assign({},n.headers);return function kK(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function DK(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function NK(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,s),function RK(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new xK(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,c)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var r=this;return(0,oe.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const pz="@firebase/storage",gz="storage";function xY(n,e,t){return function _Y(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new mY(n,new Tc(e),t)}(n=(0,j.m9)(n),e,t)}function DY(n){return wY(n=(0,j.m9)(n))}function NY(n,e){return function IY(n,e){if(e&&function MY(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof VI)return function SY(n,e){return new u0(n,e)}(n,e);throw DI("To use ref(service, url), the first argument must be a Storage instance.")}return dz(n,e)}(n=(0,j.m9)(n),e)}function kY(n=(0,mt.getApp)(),e){n=(0,j.m9)(n);const r=(0,mt._getProvider)(n,gz).getImmediate({identifier:e}),i=(0,j.P0)("storage");return i&&function RY(n,e,t,r={}){!function TY(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,j.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function LY(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new VI(t,r,i,e,mt.SDK_VERSION)}!function PY(){(0,mt._registerComponent)(new Pi.wA(gz,LY,"PUBLIC").setMultipleInstances(!0)),(0,mt.registerVersion)(pz,"0.9.14",""),(0,mt.registerVersion)(pz,"0.9.14","esm2017")}();class f7{constructor(e){return e}}const vz="storage",HI=new u.OlP("angularfire2.storage-instances");function FY(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new f7(r)}}const VY={provide:class OY{constructor(){return Q2(vz)}},deps:[[new u.FiY,HI]]},HY={provide:f7,useFactory:function zY(n,e){const t=Y2(vz,n,e);return t&&new f7(t)},deps:[[new u.FiY,HI],gc]};let BY=(()=>{class n{constructor(){(0,mt.registerVersion)("angularfire",pc.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[HY,VY]}),n})();function UY(n,...e){return{ngModule:BY,providers:[{provide:HI,useFactory:FY(n),multi:!0,deps:[u.R0b,u.zs3,X2,Za,[new u.FiY,J5],[new u.FiY,ol],...e]}]}}const Gy=Or(DY,!0),jY=Or(kY,!0),_z=Or(NY,!0),yz=Or(xY,!0);function GY(n,e){1&n&&(u.TgZ(0,"p",15),u._uU(1,"Vous devez rensigner le nom"),u.qZA())}function $Y(n,e){1&n&&(u.TgZ(0,"p",15),u._uU(1,"Vous devez rensigner la description"),u.qZA())}function WY(n,e){1&n&&(u.TgZ(0,"p",15),u._uU(1,"Vous devez rensigner le prix"),u.qZA())}function qY(n,e){1&n&&(u.TgZ(0,"p",15),u._uU(1,"Vous devez rensigner le code barre"),u.qZA())}function ZY(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"form",4),u.NdJ("ngSubmit",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.onSend())}),u.TgZ(1,"label",5)(2,"span",6),u._uU(3,"Nom*"),u.qZA(),u._UZ(4,"input",7),u.YNc(5,GY,2,0,"p",8),u.qZA(),u.TgZ(6,"label",5)(7,"span",6),u._uU(8,"Description*"),u.qZA(),u._UZ(9,"input",9),u.YNc(10,$Y,2,0,"p",8),u.qZA(),u.TgZ(11,"label",5)(12,"span",6),u._uU(13,"Prix*"),u.qZA(),u._UZ(14,"input",10),u.YNc(15,WY,2,0,"p",8),u.qZA(),u.TgZ(16,"label",5)(17,"span",6),u._uU(18,"Code barre*"),u.qZA(),u._UZ(19,"input",11),u.YNc(20,qY,2,0,"p",8),u.qZA(),u.TgZ(21,"div",12)(22,"button",13),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.deleteProduct())}),u._uU(23,"Supprimer"),u.qZA(),u.TgZ(24,"button",14),u._uU(25,"Valider"),u.qZA()()()}if(2&n){const t=u.oxw();let r,i,s,c;u.Q6J("formGroup",t.form),u.xp6(5),u.Q6J("ngIf",(null==(r=t.form.get("name"))?null:r.hasError("required"))&&t.isSubmited),u.xp6(5),u.Q6J("ngIf",(null==(i=t.form.get("description"))?null:i.hasError("required"))&&t.isSubmited),u.xp6(5),u.Q6J("ngIf",(null==(s=t.form.get("price"))?null:s.hasError("required"))&&t.isSubmited),u.xp6(5),u.Q6J("ngIf",(null==(c=t.form.get("barcode"))?null:c.hasError("required"))&&t.isSubmited)}}function KY(n,e){if(1&n&&u._UZ(0,"img",19),2&n){const t=u.oxw(2);let r;u.Q6J("src",null==(r=t.form.get("image"))?null:r.value,u.LSH)}}function YY(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",20),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.deleteImg())}),u._uU(1," Supprimer l'image"),u.qZA()}}function QY(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",21),u.NdJ("change",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.onFileChange(i))}),u.qZA()}}function XY(n,e){1&n&&(u.TgZ(0,"p",15),u._uU(1,"Vous devez rensigner l'image"),u.qZA())}function JY(n,e){if(1&n&&(u.TgZ(0,"section")(1,"label",5)(2,"span",6),u._uU(3,"Image*"),u.qZA(),u.YNc(4,KY,1,1,"img",16),u.YNc(5,YY,2,0,"button",17),u.YNc(6,QY,1,0,"input",18),u.YNc(7,XY,2,0,"p",8),u.qZA()()),2&n){const t=u.oxw();let r,i,s,c;u.xp6(4),u.Q6J("ngIf",null==(r=t.form.get("image"))?null:r.value),u.xp6(1),u.Q6J("ngIf",null==(i=t.form.get("image"))?null:i.value),u.xp6(1),u.Q6J("ngIf",!(null!=(s=t.form.get("image"))&&s.value)),u.xp6(1),u.Q6J("ngIf",(null==(c=t.form.get("image"))?null:c.hasError("required"))&&t.isSubmited)}}let Cz=(()=>{class n{constructor(t,r,i,s){this._activatedRouter=t,this._productService=r,this.fb=i,this._location=s,this.idProduct=null,this.isSubmited=!1,this.storage=(0,u.f3M)(f7)}ngOnInit(){var t=this;return(0,oe.Z)(function*(){t._activatedRouter.params.subscribe(r=>{t.idProduct=r.idProduct}),t.initForm(),null!=t.idProduct&&(t.product=yield t._productService.get_product_by_id(t.idProduct),t.form&&t.product&&t.form.patchValue({id:t.product.id,name:t.product.name,description:t.product.description,price:t.product.price,barcode:t.product.barcode,image:t.product.image}))})()}initForm(){this.form=this.fb.group({id:[""],name:["",Kn.required],description:["",Kn.required],price:["",Kn.required],barcode:["",Kn.required],image:["",Kn.required]})}onSend(){if(this.isSubmited=!0,this.form?.valid){console.log(this.form?.value);let t=this.product;if(t)t.barcode=this.form?.value.barcode,t.price=this.form?.value.price,t.image=this.form?.value.image,t.description=this.form?.value.description,t.name=this.form?.value.name,this._productService.update_product(t);else{let r=new Mc("",this.form?.value.name,this.form?.value.description,this.form?.value.price,this.form?.value.barcode,"",this.form?.value.image);this._productService.create_product(r)}this._location.back(),this.isSubmited=!1}}deleteProduct(){this.idProduct&&this._productService.delete_product(this.idProduct),this._location.back()}onFileChange(t){var r=this;return(0,oe.Z)(function*(){if(t.target.files.length>0){let i=t.target.files;for(let s=0;s<i.length;s++){const c=i.item(s);if(c){const h=_z(r.storage,`${(new Date).getTime()}_${c.name}`);let p=yz(h,c);yield p,r.form?.get("image")?.setValue(yield Gy(p.snapshot.ref)),r.form.value.image=yield Gy(p.snapshot.ref)}}}})()}deleteImg(){this.form?.get("image")?.setValue("")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qr),u.Y36(lI),u.Y36(Ga),u.Y36(Se))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-product-form"]],decls:6,vars:2,consts:[[1,"titre"],[1,"product"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-input"],[1,"form-input__label"],["value","","name","name","formControlName","name","id","name","type","text","placeholder","Nom*",1,"form-input__input"],["class","form-input__error",4,"ngIf"],["value","","name","description","formControlName","description","id","description","type","text","placeholder","Description*",1,"form-input__input"],["value","","name","price","formControlName","price","id","price","type","number","placeholder","Prix*",1,"form-input__input"],["value","","name","barcode","formControlName","barcode","id","barcode","type","text","placeholder","Code barre*",1,"form-input__input"],[1,"form__action"],[1,"form__supprimer",3,"click"],["type","submit",1,"form__valider"],[1,"form-input__error"],["alt","image","class","product-image",3,"src",4,"ngIf"],["class","product-image__delete",3,"click",4,"ngIf"],["type","file",3,"change",4,"ngIf"],["alt","image",1,"product-image",3,"src"],[1,"product-image__delete",3,"click"],["type","file",3,"change"]],template:function(t,r){1&t&&(u._UZ(0,"app-go-back"),u.TgZ(1,"h1",0),u._uU(2," Ajout de produit "),u.qZA(),u.TgZ(3,"main",1),u.YNc(4,ZY,26,5,"form",2),u.YNc(5,JY,8,4,"section",3),u.qZA()),2&t&&(u.xp6(4),u.Q6J("ngIf",r.form),u.xp6(1),u.Q6J("ngIf",r.form))},dependencies:[rn,Ba,Ho,_8,Uo,_s,hr,Li,id],styles:[".titre[_ngcontent-%COMP%]{font-size:35px;margin:40px 60px 25px 150px;font-weight:700}.form[_ngcontent-%COMP%]{width:40%;height:70vh;display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:20px;padding:0 5vw}.form__submit[_ngcontent-%COMP%]{background-color:#1ba8a8;border:1px solid #1BA8A8;color:#fff;font-size:1.2rem;padding:0 1rem;height:8vh;width:100%;max-width:400px}.form__error[_ngcontent-%COMP%]{color:red;text-align:center}.form__action[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0}.form__valider[_ngcontent-%COMP%]{align-self:flex-end;background-color:#0f550e;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.form__valider[_ngcontent-%COMP%]:hover{background-color:#072907}.form__supprimer[_ngcontent-%COMP%]{align-self:flex-end;background-color:#82291d;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.form__supprimer[_ngcontent-%COMP%]:hover{background-color:#581c14}.form-input[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-between;row-gap:5px;padding:10px 0}.form-input__label[_ngcontent-%COMP%]{font-weight:700;font-size:18px;margin-bottom:2px}.form-input__input[_ngcontent-%COMP%]{padding:0 1rem;background-color:#fcfcfd;height:6vh;color:#1ba8a8;border:1px solid #1BA8A8;width:70%;max-width:400px}.form-input__color[_ngcontent-%COMP%]{height:6vh;width:6vh;border:1px solid black;margin:0;padding:0}.form-input__error[_ngcontent-%COMP%]{color:red;text-align:center}.product[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;align-items:center}.product-image[_ngcontent-%COMP%]{max-width:400px;border-radius:20px}.product-image__delete[_ngcontent-%COMP%]{align-self:flex-end;background-color:#82291d;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out;align-self:center}.product-image__delete[_ngcontent-%COMP%]:hover{background-color:#581c14}"]}),n})();class h0{constructor(e,t,r,i){this.id=e,this.firstName=t,this.name=r,this.numBarCode=i}static fromFirebase(e){let t=e.data();return new h0(e.id,t.firstName,t.name,t.numBarCode)}static transformToMap(e){return{id:e.id,firstName:e.firstName,name:e.name,numBarCode:e.numBarCode}}}let Az=(()=>{class n{constructor(t){this.db=t,this.collecti=e7(this.db,"client"),this.queryDate=s0(this.collecti)}get_all_customer(){let t=[];return r0(this.queryDate).then(r=>{r.docs.forEach(i=>{t.push(h0.fromFirebase(i))})}).catch(r=>{console.log("Error getting document:",r)}),t}create_customer(t){Jp(this.collecti,h0.transformToMap(t))}deleteCustomer(t){t7(is(this.db,"client",t))}update_customer(t){n7(is(this.db,"client",t.id),h0.transformToMap(t))}get_customer_by_id(t){var r=this;return(0,oe.Z)(function*(){let i,s=is(r.db,"client",t);return yield Dy(s).then(c=>(i=h0.fromFirebase(c),i)).catch(c=>{console.log("Error getting document:",c)}),i})()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(El))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eQ=(()=>{class n{constructor(t){this._CustomerService=t,this.columns=[{nom:"Nom",visibleMobile:!0,nameAttribut:"name",type:"texte",width:"200px"},{nom:"Pr\xe9nom",visibleMobile:!1,nameAttribut:"firstName",type:"texte",width:"200px"},{nom:"Code barre",visibleMobile:!0,nameAttribut:"numBarCode",type:"texte",width:"200px"}],this.data=[]}ngOnInit(){this.data=this._CustomerService.get_all_customer()}onDelete(t){t.forEach(r=>{this._CustomerService.deleteCustomer(r)}),this.data=this._CustomerService.get_all_customer()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Az))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-customer"]],decls:3,vars:2,consts:[[1,"titre"],["titleAjouter","Ajouter un client","linkForForm","/customer",3,"columns","data","elementSupprimer"]],template:function(t,r){1&t&&(u.TgZ(0,"h1",0),u._uU(1,"Clients "),u.qZA(),u.TgZ(2,"app-datatable",1),u.NdJ("elementSupprimer",function(s){return r.onDelete(s)}),u.qZA()),2&t&&(u.xp6(2),u.Q6J("columns",r.columns)("data",r.data))},dependencies:[II],styles:[".titre[_ngcontent-%COMP%]{font-size:35px;margin:40px 60px 25px 150px;font-weight:700}"]}),n})();function tQ(n,e){if(1&n&&(u.TgZ(0,"h1",2),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.hij("Client : ",t.customer.name," ")}}function nQ(n,e){1&n&&(u.TgZ(0,"p",13),u._uU(1,"Vous devez rensigner le nom"),u.qZA())}function rQ(n,e){1&n&&(u.TgZ(0,"p",13),u._uU(1,"Vous devez rensigner le pr\xe9nom"),u.qZA())}function iQ(n,e){1&n&&(u.TgZ(0,"p",13),u._uU(1,"Vous devez rensigner le num\xe9ro de carte de fid\xe9lit\xe9"),u.qZA())}function sQ(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"main")(1,"form",3),u.NdJ("ngSubmit",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.onSend())}),u.TgZ(2,"label",4)(3,"span",5),u._uU(4,"Nom*"),u.qZA(),u._UZ(5,"input",6),u.YNc(6,nQ,2,0,"p",7),u.qZA(),u.TgZ(7,"label",4)(8,"span",5),u._uU(9,"Pr\xe9nom*"),u.qZA(),u._UZ(10,"input",8),u.YNc(11,rQ,2,0,"p",7),u.qZA(),u.TgZ(12,"label",4)(13,"span",5),u._uU(14,"Num\xe9ro de carte de fid\xe9lit\xe9*"),u.qZA(),u._UZ(15,"input",9),u.YNc(16,iQ,2,0,"p",7),u.qZA(),u.TgZ(17,"div",10)(18,"button",11),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.deleteDepartment())}),u._uU(19,"Supprimer"),u.qZA(),u.TgZ(20,"button",12),u._uU(21,"Valider"),u.qZA()()()()}if(2&n){const t=u.oxw();let r,i,s;u.xp6(1),u.Q6J("formGroup",t.form),u.xp6(5),u.Q6J("ngIf",(null==(r=t.form.get("name"))?null:r.hasError("required"))&&t.isSubmited),u.xp6(5),u.Q6J("ngIf",(null==(i=t.form.get("firstName"))?null:i.hasError("required"))&&t.isSubmited),u.xp6(5),u.Q6J("ngIf",(null==(s=t.form.get("numBarCode"))?null:s.hasError("required"))&&t.isSubmited)}}let bz=(()=>{class n{constructor(t,r,i,s,c){this._activatedRouter=t,this._customerService=r,this._snackBar=i,this._router=s,this.fb=c,this.idCustomer=null,this.isSubmited=!1}ngOnInit(){var t=this;return(0,oe.Z)(function*(){t._activatedRouter.params.subscribe(r=>{void 0!==r.idCustomer&&(t.idCustomer=r.idCustomer)}),t.initForm(),null!==t.idCustomer&&(t.customer=yield t._customerService.get_customer_by_id(t.idCustomer),console.log(t.customer),t.form&&t.customer&&t.form.patchValue({id:t.customer.id,name:t.customer.name,firstName:t.customer.firstName,numBarCode:t.customer.numBarCode}))})()}initForm(){this.form=this.fb.group({id:[""],name:["",Kn.required],firstName:["",Kn.required],numBarCode:["",Kn.required]})}onSend(){if(this.isSubmited=!0,this.form?.valid){if(console.log(this.form?.value),null===this.idCustomer){let t=new h0("",this.form?.value.name,this.form?.value.firstName,this.form?.value.numBarCode);this._customerService.create_customer(t),this._router.navigate(["/customer"])}else{let t=this.customer;t?(t.name=this.form?.value.name,t.firstName=this.form?.value.firstName,t.numBarCode=this.form?.value.numBarCode,this._customerService.update_customer(t)):this._snackBar.open("la modification du rayon \xe0 \xe9chou\xe9 veuillez r\xe9\xe9ssayer plus tard ! ","Ok "),this._router.navigate(["/customer"])}this.isSubmited=!1}}deleteDepartment(){this.customer&&this._customerService.deleteCustomer(this.customer.id),this._router.navigate(["/customer"])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qr),u.Y36(Az),u.Y36(SI),u.Y36(sn),u.Y36(Ga))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-customer-form"]],decls:3,vars:2,consts:[["class","titre",4,"ngIf"],[4,"ngIf"],[1,"titre"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-input"],[1,"form-input__label"],["value","","name","name","formControlName","name","id","name","type","text","placeholder","Nom*",1,"form-input__input"],["class","form-input__error",4,"ngIf"],["value","","name","firstName","formControlName","firstName","id","firstName","type","text","placeholder","Pr\xe9nom*",1,"form-input__input"],["value","","name","numBarCode","formControlName","numBarCode","id","numBarCode","type","text","placeholder","Num\xe9ro de carte de fid\xe9lit\xe9*",1,"form-input__input"],[1,"form__action"],[1,"form__supprimer",3,"click"],["type","submit",1,"form__valider"],[1,"form-input__error"]],template:function(t,r){1&t&&(u._UZ(0,"app-go-back"),u.YNc(1,tQ,2,1,"h1",0),u.YNc(2,sQ,22,4,"main",1)),2&t&&(u.xp6(1),u.Q6J("ngIf",r.customer),u.xp6(1),u.Q6J("ngIf",r.form))},dependencies:[rn,Ba,Ho,Uo,_s,hr,Li,id],styles:[".titre[_ngcontent-%COMP%]{font-size:35px;margin:40px 60px 25px 150px;font-weight:700}.form[_ngcontent-%COMP%]{width:40%;height:70vh;display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:20px;padding:0 5vw}.form__submit[_ngcontent-%COMP%]{background-color:#1ba8a8;border:1px solid #1BA8A8;color:#fff;font-size:1.2rem;padding:0 1rem;height:8vh;width:100%;max-width:400px}.form__error[_ngcontent-%COMP%]{color:red;text-align:center}.form__action[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0}.form__valider[_ngcontent-%COMP%]{align-self:flex-end;background-color:#0f550e;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.form__valider[_ngcontent-%COMP%]:hover{background-color:#072907}.form__supprimer[_ngcontent-%COMP%]{align-self:flex-end;background-color:#82291d;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.form__supprimer[_ngcontent-%COMP%]:hover{background-color:#581c14}.form-input[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-between;row-gap:5px;padding:10px 0}.form-input__label[_ngcontent-%COMP%]{font-weight:700;font-size:18px;margin-bottom:2px}.form-input__input[_ngcontent-%COMP%]{padding:0 1rem;background-color:#fcfcfd;height:6vh;color:#1ba8a8;border:1px solid #1BA8A8;width:70%;max-width:400px}.form-input__color[_ngcontent-%COMP%]{height:6vh;width:6vh;border:1px solid black;margin:0;padding:0}.form-input__error[_ngcontent-%COMP%]{color:red;text-align:center}"]}),n})();class p7{constructor(e,t){this.id=e,this.image=t}static fromFirebase(e){let t=e.data();return new p7(e.id,t.image)}static transformToMap(e){return{id:e.id,image:e.image}}}let wz=(()=>{class n{constructor(t){this.db=t,this.collecti=e7(this.db,"add"),this.queryDate=s0(this.collecti)}get_add_all(){let t=[];return r0(this.queryDate).then(r=>{r.docs.forEach(i=>{t.push(p7.fromFirebase(i))})}).catch(r=>{console.log("Error getting document:",r)}),t}delete_add(t){t7(is(this.db,"add",t))}create_add(t){Jp(this.collecti,p7.transformToMap(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(El))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oQ(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",3),u._UZ(1,"img",4),u.TgZ(2,"a",5),u.NdJ("click",function(){const s=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.delete(s.id))}),u._uU(3,"Supprimer"),u.qZA()()}if(2&n){const t=e.$implicit;u.xp6(1),u.Q6J("src",t.image,u.LSH)}}let aQ=(()=>{class n{constructor(t){this._addService=t,this.adds=[]}ngOnInit(){this.adds=this._addService.get_add_all()}delete(t){console.log("ccc"),console.log(t),this._addService.delete_add(t),this.adds=this._addService.get_add_all()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wz))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-add"]],decls:4,vars:1,consts:[[1,"add"],["class","add__item",4,"ngFor","ngForOf"],["routerLink","/add/create",1,"add__btn"],[1,"add__item"],["alt","ajout de produit",1,"add__image",3,"src"],[3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"ul",0),u.YNc(1,oQ,4,1,"li",1),u.qZA(),u.TgZ(2,"button",2),u._uU(3," Creer une promotion "),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngForOf",r.adds))},dependencies:[Rr,za],styles:[".add[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.add__item[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;align-items:center}.add__image[_ngcontent-%COMP%]{width:80vw;max-width:200px;border-radius:20px}.add__btn[_ngcontent-%COMP%]{align-self:flex-end;background-color:#1ba8a8;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.add__btn[_ngcontent-%COMP%]:hover{background-color:#147c7c}"]}),n})();function cQ(n,e){if(1&n&&u._UZ(0,"img",12),2&n){const t=u.oxw(2);let r;u.Q6J("src",null==(r=t.form.get("image"))?null:r.value,u.LSH)}}function lQ(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",13),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.deleteImg())}),u._uU(1," Supprimer l'image"),u.qZA()}}function uQ(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",14),u.NdJ("change",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.onFileChange(i))}),u.qZA()}}function hQ(n,e){1&n&&(u.TgZ(0,"p",15),u._uU(1,"Vous devez rensigner l'image"),u.qZA())}function dQ(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"form",3),u.NdJ("ngSubmit",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.onSend())}),u.TgZ(1,"label",4)(2,"span",5),u._uU(3,"Image*"),u.qZA(),u.YNc(4,cQ,1,1,"img",6),u.YNc(5,lQ,2,0,"button",7),u.YNc(6,uQ,1,0,"input",8),u.YNc(7,hQ,2,0,"p",9),u.qZA(),u.TgZ(8,"div",10)(9,"button",11),u._uU(10,"Valider"),u.qZA()()()}if(2&n){const t=u.oxw();let r,i,s,c;u.Q6J("formGroup",t.form),u.xp6(4),u.Q6J("ngIf",null==(r=t.form.get("image"))?null:r.value),u.xp6(1),u.Q6J("ngIf",null==(i=t.form.get("image"))?null:i.value),u.xp6(1),u.Q6J("ngIf",!(null!=(s=t.form.get("image"))&&s.value)),u.xp6(1),u.Q6J("ngIf",(null==(c=t.form.get("image"))?null:c.hasError("required"))&&t.isSubmited)}}const fQ=[{path:"",component:BB},{path:"login",component:OB},{path:"forgot-password",component:VB},{path:"home",component:HB,canActivate:[o0]},{path:"admin/:departmentType",component:HP,canActivate:[o0]},{path:"admin",component:HP,canActivate:[o0]},{path:"department/:idDepartment",canActivate:[o0],children:[{path:"",component:eK},{path:"product",children:[{path:"create",component:Cz},{path:"nouveau",component:aK},{path:":idProduct",component:Cz}]}]},{path:"customer",canActivate:[o0],children:[{path:"",component:eQ},{path:"nouveau",component:bz},{path:":idCustomer",component:bz}]},{path:"add",canActivate:[o0],children:[{path:"",component:aQ},{path:"create",component:(()=>{class n{constructor(t,r,i,s){this._activatedRouter=t,this._addService=r,this.fb=i,this._location=s,this.isSubmited=!1,this.storage=(0,u.f3M)(f7)}ngOnInit(){var t=this;return(0,oe.Z)(function*(){t.initForm()})()}initForm(){this.form=this.fb.group({id:[""],image:["",Kn.required]})}onSend(){if(this.isSubmited=!0,this.form?.valid){let t=new p7("",this.form?.value.image);this._addService.create_add(t),this._location.back(),this.isSubmited=!1}}onFileChange(t){var r=this;return(0,oe.Z)(function*(){if(t.target.files.length>0){let i=t.target.files;for(let s=0;s<i.length;s++){const c=i.item(s);if(c){const h=_z(r.storage,`${(new Date).getTime()}_${c.name}`);let p=yz(h,c);yield p,r.form?.get("image")?.setValue(yield Gy(p.snapshot.ref)),r.form.value.image=yield Gy(p.snapshot.ref)}}}})()}deleteImg(){this.form?.get("image")?.setValue("")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qr),u.Y36(wz),u.Y36(Ga),u.Y36(Se))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-add-form"]],decls:5,vars:1,consts:[[1,"titre"],[1,"product"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-input"],[1,"form-input__label"],["alt","image","class","product-image",3,"src",4,"ngIf"],["class","product-image__delete",3,"click",4,"ngIf"],["type","file",3,"change",4,"ngIf"],["class","form-input__error",4,"ngIf"],[1,"form__action"],["type","submit",1,"form__valider"],["alt","image",1,"product-image",3,"src"],[1,"product-image__delete",3,"click"],["type","file",3,"change"],[1,"form-input__error"]],template:function(t,r){1&t&&(u._UZ(0,"app-go-back"),u.TgZ(1,"h1",0),u._uU(2," Ajout de produit "),u.qZA(),u.TgZ(3,"main",1),u.YNc(4,dQ,11,5,"form",2),u.qZA()),2&t&&(u.xp6(4),u.Q6J("ngIf",r.form))},dependencies:[rn,Ba,_s,hr,id],styles:[".titre[_ngcontent-%COMP%]{font-size:35px;margin:40px 60px 25px 150px;font-weight:700}.form[_ngcontent-%COMP%]{width:40%;height:70vh;display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:20px;padding:0 5vw}.form__submit[_ngcontent-%COMP%]{background-color:#1ba8a8;border:1px solid #1BA8A8;color:#fff;font-size:1.2rem;padding:0 1rem;height:8vh;width:100%;max-width:400px}.form__error[_ngcontent-%COMP%]{color:red;text-align:center}.form__action[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0}.form__valider[_ngcontent-%COMP%]{align-self:flex-end;background-color:#0f550e;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.form__valider[_ngcontent-%COMP%]:hover{background-color:#072907}.form__supprimer[_ngcontent-%COMP%]{align-self:flex-end;background-color:#82291d;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out}.form__supprimer[_ngcontent-%COMP%]:hover{background-color:#581c14}.form-input[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-between;row-gap:5px;padding:10px 0}.form-input__label[_ngcontent-%COMP%]{font-weight:700;font-size:18px;margin-bottom:2px}.form-input__input[_ngcontent-%COMP%]{padding:0 1rem;background-color:#fcfcfd;height:6vh;color:#1ba8a8;border:1px solid #1BA8A8;width:70%;max-width:400px}.form-input__color[_ngcontent-%COMP%]{height:6vh;width:6vh;border:1px solid black;margin:0;padding:0}.form-input__error[_ngcontent-%COMP%]{color:red;text-align:center}.main[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.main__tab[_ngcontent-%COMP%]{width:50%;margin-right:20px}.product-image[_ngcontent-%COMP%]{max-width:400px;border-radius:20px}.product-image__delete[_ngcontent-%COMP%]{align-self:flex-end;background-color:#82291d;margin:40px;color:#fcfcfd;border:none;border-radius:20px;padding:8px 16px;cursor:pointer;transition:all .3s ease-in-out;align-self:center}.product-image__delete[_ngcontent-%COMP%]:hover{background-color:#581c14}"]}),n})()}]},{path:"departmentsTypes",canActivate:[o0],children:[{path:"",component:tK},{path:"nouveau",component:FO},{path:":id",component:FO}]},{path:"**",redirectTo:"login"}];let pQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Vu.forRoot(fQ,{scrollPositionRestoration:"enabled"}),Vu]}),n})();var Ez={prefix:"fas",iconName:"bars",icon:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"]},Mz={prefix:"fas",iconName:"x-ray",icon:[640,512,[],"f497","M240 384c-8.8 0-16 7.2-16 16s7.2 16 16 16 16-7.2 16-16-7.2-16-16-16zm160 32c8.8 0 16-7.2 16-16s-7.2-16-16-16-16 7.2-16 16 7.2 16 16 16zM624 0H16C7.2 0 0 7.2 0 16v32c0 8.8 7.2 16 16 16h608c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16zm0 448h-48V96H64v352H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h608c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM480 248c0 4.4-3.6 8-8 8H336v32h104c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H336v32h64c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48v-16h-64v16c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48h64v-32H200c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h104v-32H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h136v-32H200c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h104v-24c0-4.4 3.6-8 8-8h16c4.4 0 8 3.6 8 8v24h104c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H336v32h136c4.4 0 8 3.6 8 8v16z"]};function j6e(n,e){if(1&n&&(u.TgZ(0,"li",21)(1,"a",13),u._uU(2),u.qZA()()),2&n){const t=e.$implicit;u.Q6J("routerLink","/admin/"+t.id),u.xp6(2),u.Oqu(t.name)}}let G6e=(()=>{class n{constructor(t,r,i){this._router=t,this.authentificationService=r,this.departementTypeService=i,this.burger=Ez,this.cross=Mz,this.menuIsOpen=!1,this.email=null,this.departementsTypes=[]}ngOnInit(){this.menuIsOpen=window.innerWidth>740,this.email=this.authentificationService.getEmail(),this.departementsTypes=this.departementTypeService.get_favorite_department_type()}toogleMenu(t){t.stopPropagation(),this.menuIsOpen=!this.menuIsOpen}onCloseMenu(){window.innerWidth<=740&&(this.menuIsOpen=!1)}signOut(){this.authentificationService.signOut(),this._router.navigate(["/login"])}help(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(sn),u.Y36(cl),u.Y36(Ny))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-nav"]],decls:39,vars:2,consts:[[1,"header"],["src","assets/logo_blanc.png","alt","Logo",1,"header__logo"],[1,"header__info"],["src","assets/help.png","alt","Logo",1,"header__img",3,"click"],["src","assets/logout.png","alt","Logo",1,"header__img",3,"click"],[1,"nav"],[1,"menu"],["routerLinkActive","nav__titre--active","routerLink","/home",1,"nav__titre"],["width","33","height","18","viewBox","0 0 33 18","fill","none","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"nav__svg"],["width","32.6038","height","18","fill","url(#pattern0)"],["id","pattern0","patternContentUnits","objectBoundingBox","width","1","height","1"],[0,"xlink","href","#image0_1_20","transform","matrix(0.00195312 0 0 0.00353774 0 -0.40566)"],["id","image0_1_20","width","512","height","512",0,"xlink","href","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAgAElEQVR4nO3de9yvU53/8dk223Y+JOdUzmciNQkVJploUhkqOZQwTSUZya+TFDoKRYnM0GnSFNVUJKTUEJGGhOgkOZbzIenze6/WfbNn24fvfd/fz/W+ruv7ej4en396aN/fz+f6rHV9D9da6+/+DgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQchGxmGIZxZMVq4/FhorNx2I7xfaKHRW7jsWOY//bdrP8dxvO8v9/8ti/uZg7PwAAek833GmKlRXPGrtJv0bxFsX7FCcqzlCcr7hScZPiwcj34NjfunLsb39p7LUcoThQscfYa33W2Guf5q4jAACtM/bJunziLp/ED1UcN3Zjv0xxXwM39GwPK25QnKs4SXG4Yr+o3ziUbxcWcF8DAABS6CY3XbFO1Jt8+fR+puJqxQOGG3LblBqUWpSalG8RXqFYWzHdfd0AABiYblxLK7aK+im3fJq/KPrxSb5p5ZuD8sbg9KjfjOysWNF9fQEAKDf7RRTbKA5TfENxs+tuOUJ+H7XWpeZbKxZx9wEAoOd0s1kh6ifRD0T9ZP+Q7TaIcY9EfV6ifNuyp2I1d58AADpON5O1FPsrTlP80nePwwRdr/gPxesVa7j7CADQclG/0i9Pp5dP+Fcbb2AYrrIKoaxAKA9hLuHuMwBAC0RdilYe2CtL7+413qTQjLKPQVmSWB4s3NzdfwCAhmjSn6nYKermNTcab0Roh/LtwAmKFysWdvcnAGCIoq7DL0vzytfAdxlvNmi30htl2WF50HOGu28BAJMQj9/0y9PhtxlvKuimP8XjbwYWcvczAGAeNFEvEI/f9G8x3jzQL3cGbwYAoH00KW+gOFZxq/MugZFQ3lgeo1jf3fcAMJKiPsxXlnWVJ7r/6rwjYGSVDYjKChKOSQaAbJps14+6Tv9O69QPPO7uqA+YbuYeHwDQK5pYl4j6Sesi6zQPzF/5VuBAxbLucQMAnRX1CN1PBafpoXvKplKfVKztHkcA0BlRn+QvO/P9xTqFA1P3aNTTC7d3jysAaKWoS/jKMqsfWadrIM9Pop5YuKB7vAGAnSbDxaP+vn+tdWoGmvOrqGcRLOUefwDQOE1+K0V9mv9Pzpm4g8pvy79WXKr4tuJzUTc+erfiXxW7RT3RsPyMsvlYrB310KOnK5YZi8VmuRaLzfK/P33sv117lv//1mP/5u5jf+PdY3/zc2Ov4dKx18RhShPzR8XRihWcYxEAGqHJ7smKjyjut0697XWz4oeKzyuOVOwb9ea7ZnTgsJryGsde6z8oXj+WQ8nlR2O54YnKWPiQYjn39QOAodPktmzUmwGfEiMeiLpc7FTFQYoXKdZVzHRfp2xRN3Badyzng8ZqUGrxoOVKtMs9ivcplnFfJwCYsqi/8ZffO0f1q/7yqbfsVli+Mi8PgJVti6e7r0vbRD28qfz0UB4EPTzqKpCroz5FP2rKG4Hy89jS7usCABMW9cZ/WIzWjn1lR7izo/5Gvp1iSfd16LpSw6g/gbxHcc5YjUfFHYq3B1sNA+iCqL8BvzVG4wjeX0V9EO4Nio2DT/bpon5TsEnUhxHLswW/dl38BpVDrsrPJa1/BgTAiNIE9TLFDd65MtXvFCcr/lmxsrveqHQtVom6+uEzit8b+yPb9YqXuusNAI/RpLRe1OVgfVN2IiwPqJXfpMtyuGnuWmP+oj5LUPbjL89ePOxrnzTnKzZ21xnACIv6ZH95uK1PW/b+QXF61KOG2ail46LucVCeISh92qefC8rDkaVPl3fXGMAI0aSzUNTf+fvyZP91UZdf8amq56I+P1CWo15v7bjhKZsJvUWxkLu2AHou6qepq7xz3lD8JuqnwrJjHl/tj6CoSzLLzzvXORtxSMpW2ru6awqghzS5rKr4unmSm6py0/+wYgt3PdEe6odpimcrPqr4rbNBh+AsxSrumgLogain9JVlbl1df112HixP7m8ZfNLHfER9M/DcqCsK7jP27VTcpTgg6HcAkxV1T/fzvXPZpJWn98spg0u464huKr0TdffGc62dPHkXKdZz1xFAh0R9yK9s3/uQd/6asPItxUmKZ7hriH5RT60fdXveO6wdPnF/jvq6Z7hrCKDlov4W+r/eOWvCyiedvRSLuuuHfis9ptg76omNXXKl4lnu+gFooah79x8b3VnT/0jUrWA3c9cOoynq5lBfHOvFLihj+5jgbAEA4zQhbBF1GVEXlJPSyvK9p7rrBhTqxZWiLifsyr4YNyq2dNcNgFHUJ/zLlqld2C617NBXJlnOSkcrRX1osIyn31hHymDKtxZlPHGAFTBqNPBXU1zonYMG8tOoT2Kz0xk6IepDtGUr6UusI2cwP1Ks7q4ZgIZEnZz+aJ545qc8iFheJ2uZ0VlRd868zDuU5qusntnDXSsAiTTIl4y6TK7Nrg5u/OiRqJsL7ay4wjqy5u8MxdLuegEYsqjL+35pnmDmpTyYVDbu4TdJ9FLUZ27Km9tfWEfavJUTE7d21wrAEET99HFYtHd53w1R1/Bz48dIUK8vqNgn6pveNioPCB4SfAsHdFfUr/zP9M4lc3VL1E/8PNyHkRT1YcF/UdxqHYlz9+VgK22gezRw14n6e3rblK1Jyzr+pdw1Atog6iZcZUleG7feLvuDbOCuEYABacD+U9QTwdqmHKrC4STAHEQ9fOsM8xidk3Ki5q7u+gCYBw3S6VEP/vird754gmsUO7rrA3SBxsq2ip+Zx+zsypxSvrnjJzugbTQwl4v2HVt6Z9Sd0RZ01wfokqgPCpZnZG6zjuAn+p5iBXd9AIzRgHyW4rfmiWFW5dPCicG2vcCUaAwtq/h0tOtbvbLV8TPdtQFGngbiLor7zRPCrK5XbOuuC9AnGlNbRf0prS0eVOzmrgswsqJ+vf6oeSIYV9YOl+cPZrrrAvRRGVtRVwu05fCu8q3E4e66ACMl6sN+nzAP/lldrtjMXRdgFGisbRTtOmio/ETBcz5ANg20xRTfMA/4ceWnh0ODXfyARkXdVrg8JHivdQZ43NmKJd11AXpLA2zlqJ+226CsOHiauybAKNMYfLriPPNcMK6ceriSuyZA72hgbRj16Vu3spNf+R1yAXdNADx23kd5HqgNOwnepNjUXROgNzSgXhj1zG63qxSbuOsB4Ik0Np+h+Ll5jijKLqTbu+sBdJ4G0kuiHe/sT1cs5q4HgLmLulKg7Njn3jegrFR4ubseQGdpAL0q6vI6p7IT2c7uWgAYnMbsDoqbzXNHOYJ8b3ctgM6J+oSve43/OcFDPUAnaewuH/4VQ+WbiDe5awF0hgbMweH9Cq986/AWxTR3LQBMXtQHBP8tvN8klrnsIHctgNaLuq7eqXzlz1a+QI9oTG+j+IN5bvmAuw5Aa2mAHGEeoJcqVnPXAcDwaWyvoviReY75oLsOQKtE/ZruWPPAPEkxw10LAHk0xheOukrA6ZPBPiLAYzf/k42D8QHFnu46AGiOxvw+UU/0cynnB/CMEUabBsGHjYPwt4ot3DUA0LyoGwfdaJx/jnfXALDRADjKOPguUCzrrgEAH80Byym+b5yH3u+uAdA4Nf47jIPuS4qZ7hoA8NNcMEPxWeN8dJi7BkBj1PBvMg628gAQv70BeEzUZ5EON85LB7trAKRTo+8dnk1+ykYg+7nzB9BeY/PTnw3z01+Zn9BravBXRN0fu2n3KF7kzh9A+2mu2C7qiX5NK1ufv9KdPzB0auyXhmc7znI+N0f4AhiY5owNFL82zFflA9Ir3PkDQxN1G07Hkb6XKVZ05w+gezR3rKy4wjBvlf0JnuvOH5gyNfIaUffXb9pFiqXc+QPoLs0hSyt+aJi/7lCs7c4fmLSoa2yvMwye7ymWcOcPoPs0lyymONcwj92gWN6dPzBhatxFwvPO+Zvlb7vzB9AfUc8QONMwn12iWNSdPzCwqGtqv2AYLGWDn4Xc+QPon6gbBn3ZMK+dERwehK4Iz/7+n1Ms6M4dQH9pjpmuONUwvx3lzh2YLzXq6w2Dg+M1ATQifMeXv8GdOzBXatB/jObX+n8s2NoXQIPC8yagzK07uHMHnkCNuX7UHfeadFJw8wdgEPVNwKcbnvPuVqzrzh14jBpyCcXPGx4I5fQuvvYHYFPmoKjPHzXpF4ol3bkD4++C/6vhAVCW4/DAHwC7qA8GntHwHHhW8O0n3NSE/6/hxv+OYmF33gAwLuoSwW82PBce4s4bIyzqqVlNnu5XtvddzJ03AMwu6uZnFzQ4H5a594XuvDGC1HirKW5vsNkvDrb3BdBimqOWjLp7X1PKmQFPc+eNEaKGmxn1pL2m/EyxtDtvAJgfzVXLKq5ucH4sbzj4WRTNULN9psHmvlmxmjtnABiU5qynKf7Q4Dx5kjtnjAA12n4NNvW9is3cOQPARGnu2kJxf4Pz5T7unNFjarD1Gmzo8oDLP7lzBoDJ0hz24mjuQen7FOu4c0YPRT0O84qGGrl4oztnAJgqzWX7Nzhv/kQxw50zekZN9ZEGm/gj7nwBYFg0px3X4PzJyYEYHjXU8xSPNtS831BMd+cMAMMSdcvgrzY0h5a5elt3zugBNdKTFDc11Lhlrf8i7pwBYNg0ty2quLShufS3imXcOaPj1ERfaqhhb1Gs4s4XALJojnuK4taG5tSvuPNFh6mB9m2oUcs5189z5wsA2TTXvWBszmvC3u580UFqnDUU9zTUpAe68wWApmjOO6ShubUsDVzbnS86JOrxlk3tZ/0Fd74A0KSox6h/uaE59kfBg9UYlJrl4IYas+zxz+l+AEaO5r7FFVc1NNfyLSvmT43y1Khb8GYrPy+s684XAFw0B66tuKuB+bbs4Lq6O1+0nJrknAaa8a+KXdy5AoCb5sKXjM2J2b7tzhUtpgbZq4EmLI505woAbaE58UMNzb2vdueKFlJjLKe4rYEGvEyxkDtfAGiLMidGMw9e36FY3p0vWkZN8Z8NNB9LUgBgDjQ3rhnNPH91ujtXtIga4h8baLrite5cAaCtNEce0NBcvIM7V7SAGmGJqPtGZ/uqO1cAaLtoZn+AXysWd+cKMzXB8Q00WzlMaFl3rgDQdlGfx7q5gXmZY9dHmRpg/cjfk7ocTbmdO1cA6ArNmf8Q+UsDy9y/gTtXmEQza/4/6M4TALpGc+fHGpifv+nOEwZRN5/IVrb6neHOFQC6RnPnwoqrG5ind3TnigaVm7Li2uSmKl/9P8edKwB0lebQZyv+kjxXXxPszTI6opmjKI9x5wkAXae59OMNzNccFjQKdKGXj/zDJ1hiAgBDoLl0McWNyXP2HxXLuXNFMl3kk5MbqWCTCQAYEs2pOzYwb5/gzhOJdIE3jfzfk05z5wkAfaO59YvJc3e5N2zszhNJdHG/l9xAtwZfIwHA0EX9+faO5Dn8u+48kSCa2e//Ve48MXe6PgsqdlGcEnWJZnkW5E9Rd2r8tuJtitXcrxPAnGl87tnAPP5Cd54YIl3QaVGP4c30LXeemLuoE8evB7iO5WvAf1esopjmft0A/i+Ny3PzpvG/udidI4ZIF/SlyQ3zsGIdd554Il2XRRVnTuKa3h71m4JV3TkAeFw0s4X7Tu48MQS6kAsorkxulo+688QTRd3w6cIpXtvyRuDF7lwAPC7yD3H7SfANYPfpIu6W3Ci3KZZ254kn0nU5YUjXuBxK8uFgtzCgFTQWl1XcOaTxPTcvc+eJKdAFnK74eXKT7OfOE0+k67JJ1O2Yh+lSxeru3AD8bYy/ccjje3ZXKRZw54lJ0sV7TXKDlJ8WprvzxBNF3prhsmPYLu78gFEXdVXPVUnjfNzu7jwxCWPNcX1yc7zAnSeeKOrWoQ8kXvfyk0D5DXJhd67AKNMYfGHiOC9+EXzI6x5dtH2TG+Mr7hwxZ7o2WyZf+3HlQaE13fkCo0xj8OvJ43xPd46YAF2whWKwNd+T9VDwW3Br6drskXjtZ3d38DUhYKPxt1bUpdhZfhl8C9AdulivTmyG4mPuHDF3uj6vS77+c3KSYhF37sAoivwjg//ZnSMGFPWr2Sz3KVZw54i50/XZNfH6z0vZXnhdd/7AqNG4Wylyn/u5xJ0jBqALtW1iExQfcOeIedM1OiK5B+bl3uA3Q6BxGncfTR7b27hzxHzoIn0rsQHK5P5kd46YN12jNyX2wKBOVyzurgUwKjTellPckzimv+bOEfMQdY/ovyY2wBHuHDF/kb80aFBlE6r13fUARoXG29GJ47lsLMaZL22li/OZxItfjo1dxp0j5k/X6emJfTBR5XfJ17prAowCjbWlo87VWT7lzhFzoAuzvOLBxAv/DneOGEzUA6Aye2EyyioBNg4CkmmcvTdxHJcl4Cu6c8RsdFHen3jR71As4c4Rg4v8LUIno6xOebq7NkCfaYwtFbkHBR3uzhGziHrm+x2JF/xt7hwxMbpmX0nsh6kofbqjuz5An2mMvSNxDJcTYNnzoy10MQ5IvNjl9yQ+/XdM5D4MNFXlYaKyVJHdxYAEUZ8FyFwRwCmwbaGLcXnihWbdfwfpur02sSeG5YLg90QghcbWMYlj9zJ3fvi7v13kZyZe5D8rnuLOEROn67ZVYl8M002KLd31AvpG42rVqHN4ls3cOY68qE9XZznNnR8mJ+qqkK54RHGoYpq7bkCfaEx9IXHcnuDOb6TpAiwe9TS2LJu6c8TkRe564AxnKZZ21w3oC42nzRPH612KRd05jiwVf9/Ei/sdd36YGl3DSxL7I8u1io3ctQP6QuPp/MTxupc7v5Gl4l+ceGFf5M4PU6Nr+NnE/shUTpzcw10/oA80ll6cOFYvcuc3klT4jRIv6v8Gv8d2nq7huxN7pAnl+ZYZ7joCXaYxNC1yNwbbwJ3jyFHRj0+8oPu488PU6TrultgjTblQsYK7lkCXaQy9LnGMHuPOb6So4Iso/ph0McuDYzzY0QO6jpsl9UjTylLBv3fXE+iqyL1nlN09OeejKSr2HkkXsjjenR+GI+oqkczjoZtUDiHZ111ToKs0fk5IHJ+7ufMbGSr2txIvJEv/ekTX8/eJveLAcwHAJGjcbJw4Ls9y5zcSVOhlFQ8nXcSL3flhuCJ3CZDLDxUru2sLdI3GzY+TxmT5hm4pd369F7lr/1/rzg/DFblf+zmVE8le4K4v0CUaM/sljsk93fn1nor8naSLd29w6l/v6Jr+a1K/tMHfthB21xjoiqjPBWWdEvjf7vx6TQVebmzSy3CSOz8Mn67r85P6pbg/8d+eiM8oZrprDXSBxsopSeOw/DS9jDu/3lJx90+6cMXm7vwwfJF7KNDeinMT//2JKEdiP81db6DtNE7+PnEc8jNyFhX3vKSLdrk7N+SJ+nt5hrcrFlR8KNqx3PBWxTbuegNtp3Hys6QxeLY7t15SYVdQ/CXpor3FnR/y6Pp+L6lvPjvL39g52nH6YPmJ7I3OegNtpzFySOL4W96dX+9E3sNc5ZPbau78kCfyVgJcMdvfWSvyPllMVNkvYCFXzYE209h4SuR9a7efO7/eiboneobvu3NDrsh781jW/i4429+aGfWhvDYoK2Z4KAmYA42N/0kad99159YrUZ/+z/r6/03u/JArclcCrDuXv1nedGRtWDUR18VcXiMwyjQuDkoac+VnAN54D4uK+aqkC/VosKNa70XuSoCXz+Pvbq74VeLfHlRZ97xzkzUH2k5jYtWo94AMu7rz6w0V87NJF+l8d25oRuStBHjPfP5u+fbqnKS/PRHlGzQ2DQJmoTHxg6Txdqo7t15QIReIurwpwwHu/NCMyFsJcMYAf3ua4tDI+7QxEZ9XLNJEzYG201h4U9I4+4Nimju/zlMRn5l0gconIpZrjIjIWwlwzQRew0sUdyW9jom4KOh9oIzJlSLvjTkny06ViviupIvzHXduaE7krQQoD/wsPIHXUZYKXpX0WibipmD3S6CMyQuSxtjb3bl1XtSjTzPw9f8IidyVAJtM8LUsqTgr8fUM6j7FLlk1B7pAY+CNSePrQndunaYCLhN5h/881Z0fmhO5KwFeNYnX05bnAspmKIcnlBzoBPX/05PGVrl3LeXOr7NUvN2SLszV7tzQPF3325P66cgpvKZ/jHZsIXxysHMgRlTU/TIyvMydW2epeP+edFE+4s4NzYu8lQBfn+LrWkdxTdJrm4izFUsOq95AV6jvj0saUye7c+ukqF+R3px0UbZ354fm6bofn9RPvxnCa2vLcwHlLAPOxsBIUc/vmDSefufOrZNUuLWTLkh58Gngp7bRH7rur0vqqWK5Iby+tjwXUNYwbzGMmgNdoH5fRHF/0nha3Z1f56ho+yRdjCl9XYvuirw9JYpth/g62/BcwIOK3YaVE9B26vdvJ42l17hz65yoDyVleIM7N3hEfZeftarkrUN+reW5gGuTXuugHh12XkBbqdcPTBpHn3Ln1jmR91AUX8eMMF3/q5P66vSE11qeC/hG0uudCFYIoPeivunO8L/u3DpFBXtS1PXJw/YLd27wiroXfoafJb3eBSPvCeWJKF+PLp6RI9AW6vEbEsZO+SZtaXdunaFi7ZxwEYoT3LnBSz3wtqTeKj8tzEx83fsqHk567YO6UrFKVo6AW+T99LyjO7fOULE+kHQRXu3ODV7qgR2SeqtI3Vtf//5zFbckvv5B3KhYJzNPwEW9vXfSuHm/O7fOiLwzmp/mzg1e6oEVk3qreF0Dr39VxU8ScxjEnYots3MFmhb1sK4MF7hz6wQVaobigYQL8Ht3bmiHyPsU/fGGXv/iiq8m5TCosp/GTk3kCzQp6j4Yw1buaTPcubWeivSchOIXZ7hzQzuoF85J6rEfNJhD2TTo8Mh5WHZQf1Hs31TOQBMi7831s9y5tZ6KdFBS8d/izg3toF74UFKP3aNYoOFcXhl10x6X8gbkXU3mDGRSPx+cNFYOdOfWeirSaUnFf6Y7N7SDeuHVST1WrGnI5+/D/3DgqYoFm84dGLax8ZQyRty5tZ6KdHlC4csez2xkgr9RL2yY0GPjdjXlVM40/3liXoMohxkt4sgfGJbIew7tMndurRZ105OHEgp/vjs3tMdYn2V9bf5BY15LKL6VlNegLlQs5aoBMAxjfTxsZc6Z7s6ttVSc9ROKXrAGE/9H5C2lO8+c10KRt5nJoC5TPNlZB2Aq1L9HJY2Ndd25tZaKs3tS0V/mzg3top44JanX7lJMa0F+ZcdD57HC5SyPp7jrAEyGenfXpHHxz+7cWivy3nU1/mAW2k09cUBSrxVru/Mr9Dp2ibwzzgfxm2DXQHRQ5B0M9D53bq2l4vx3QsHLhiWNLs1C+6knNk/otXGt2XJar2VTxe8Sc52fWxXPcNcBmAj17PTIefN8lju31or6iWHYLnbnhfaJ+qRvxgOnxcfc+c1Kr+epkXcM8iDKzyJbu+sATIR69tKEsXCjO69WUmGWjpxdzT7tzg3tpN74cUK/FY3tCDioqOPre0n5DqK82Xqpuw7AoNSvn0kYB+Uet6Q7t9ZRUbZOKHbxJnduaCf1xolJPVd+dmrdch+9poUVX0rKeRB/VrzcXQdgEOrVtySNAw7Smp2K8i9JxX6+Oze0k3pjn6SeKzZy5zcnel0LKD6amPf8PKJ4pbsOwPyoT7dNGgP7uXNrHRXlI0nFfpI7N7STemOjpJ4r9nHnNy96fW8O3zLBcojQ3u4aAPOiHl0uqf8/4M6tdVSU/0oo9G/deaG9oj7pe19C3xUnuPObn6jLBDO2PB1E+S30X901AOZFPXpzQu//pzuv1om6e9iwfcudF9pNPXJRQt8Vl7hzG4Re51aKO5NqMD/lTcAb3DUA5iZyjg7vxNzQKBXljoRCH+/OC+2mHjk2oe+KhxUz3fkNQq9zvchZgjuI8iaAo7rRSurNTyT0/G3uvFpFBVkyocjFQe7c0G7qkT2Seq/ozNO+eq2rhnevgLe5awDMTn35b0n9vrg7t9ZQMTZJKvIu7tzQbuqRdZN6rzjYnd9E6PUuo/hhYj3m5+3uGgCzUk++IqnXN3Dn1hoqxj8lFXlTd25oN/XINMWfkvrvv9z5TZRe82LhPVL4EHcNgHHqx2cm9flO7txaQ8U4MKnIS7tzQ/upT85P6r/fu3ObjKjbJH8hqSbzU54J+Bd3DYBCvfikpD5ng7pxKsbHEgp8lzsvdIN65eiE/hv3VHd+kxH1m5GsvTnmp7wJOMBdA6BQL96T0OMfcefVGirGWQkFvsKdF7pBvfKShP4bt7s7v6nQ639XYm3mpWxStLc7f0B9eGVCf3/FnVdrqBhXJBT4THde6Ab1ypMj5yCq4jh3flMVddfArPrMS9kxkG2DYaUe/FpCb//EnVdrqBi3JBT4o+680B3ql+sSerD4sTu3YYi6XPKRpBrNSzlA6MXu/DG61H/HJfR1J58PGrqovzU+nFDgN7tzQ3eoX05L6MGi9PYi7vyGQXnsHvWG3LSyXfHW7vwxmiLnVMCH3Hm1ggqxVEJxi1e4c0N3qF8OSOrDYit3fsOiXF6seDCxVnNzt2Jzd/4YPeq73ZJ6ms2AVITVk4r7fHdu6A71y8ZJfVgc6s5vmMrYipwno+fndiyJ6LsAAA82SURBVMV67vwxWtRz2yX1cydXCA2VirBFUnE3dueG7oh6MuDdSb34TXd+w6acnptYr3kpZxas4s4fo0P9tmlSL/ONloqwY1JxV3Lnhm5Rz3wnqRfvUkx35zdsymnz8JwkeFWwyRcaEvWcjAwvdOdmpyK8Jqm4C7tzQ7eoZ96b1IvFM9z5ZVBem4XnTcAFwRhHA9RniyT18KvcudlFzhOW97jzQveob16U0IvjDnTnl0W5PSNyjvOeny8qprnzR/+pz+5P6F+2A1YRjkgo7K/ceaF71DdLR92BLkOvd/4K3zcBR7pzR/9FffZk2A5352WnIpyYUNjL3Hmhm6L+vpzh1uj5p9Wo3wQ43gTs6c4d/aYeuzyhbz/hzstORfhSQmHPdueFblLvfCqhH8f1fglb1FU9Ta8OeEixpTt39FfkPCD8RXdedirCtxMK+3l3Xugm9c4rE/px3P7u/JqgPLeJnN9M56VsJ866aqSI+rzJsH3LnZdd5JzFfoI7L3STemeVhH4c9zl3fk1RrjtE/WTepPI17Ux37ugf9dUnE/r1u+687FSEixIKe4w7L3RX5B0MdJM7tyYp312i+QOETnLnjf5RXx2b0Ks/cOdlpyJcmlDYo915obvUP6ck9OS4ddz5NSnqKYJZKyvmZi933ugX9dSHEvr0EndedirCzxIK+153XuiuyNucqniDO7+mKed9FH9NrOns7lNs4M4b/aF+el9Cn/7UnZedivCLhMK+050Xukv985SEnhzX6/0A5kZ5vzWxpnPyc8Vi7rzRD+qld2X0qDsvOxXhVwmFPcSdF7pNPXRjQl8Wf4oengswCOX9nqSazg0PA2Mo1EuHJvTnDe687FSEmxIK29ttV9EM9dCpCX05bmRPAVPuxyfWdXblZ4dt3Dmj+yJny/qReih4jqKe8T1sB7jzQreph/ZK6MtxI/sNlXJfQPHVxNrO7sfR8x0YkU899IaE3rzNnZedinBPQmFf684L3aYeelpCX44b6Z0qo56u9j+J9Z3dru6c0W3qodcl9OXd7rzsImezkD3ceaH7Iuf5lKLskjfDnZ+T8l8h8p6zmN21ioXcOaO7oi5nHbYH3XnZRc4a4d3ceaH7Inc/gBe483NTDdZT/DGxxrPiZ0FMmvpnt4SefNSdl52K8HBCYV/jzgvdFzmDftwH3fm1gerwvGhmy+DysPGC7nzRTZGzN8jD7rzsVIR7Ewo7EoeuIJf6aLnI28XuSnd+bRF1o6AmvNydK7pJvbN/Qj/e487LLnLODz/InRf6Qb10WUJ/FmWJ2iru/NpCtTgxqc6z4vAVTIp65+CEfrzdnZedinBzQmHf4c4L/aBeOjqhP8exWmWMarGQ4vuJtS7Km66ROosBwxE5OwGyD0DkPAl8pDsv9IN6aduE/hx3hju/Nol6FPMtifUuOCkUE6a+OSqhF9kJUEW4JqGwH3fnhX5QLy0cddlehrItMA+mzUL12CFyDw66LUZ0K2ZMnnrmEwm9yFkAKsJPEwr7OXde6A/107cTenTcVu782kY1+Y/EehfPceeIblHPfD6hD69w52UXdavOYfumOy/0R+SeZHe0O7+2ifpTQNa3LsX73TmiW9QzZyf04f+487JTEX6QUNgfufNCf6ifNkzo0XFXu/NrI9Xlw4k1v9ydH7pFPXNxQh9e6M7LTkU4L6Gw17jzQr+op36d0Kfj1nLn1zaqyUqKPyfVuzxjsKo7R3SH+uX6hD48x52XnYrwtYTClq8PzyCGHuVBmHcoto4Re5BK+X5y0OabBPatmAPV5cuJNX+1O79hUS7TFdtEHZtljLrniT7GA4M21gSc6e4du8g9dx15blW8TbGIu4eaoDx3SqzlBe782kh12S6x5h925zdVUU9VPDTqygZ0zynuHrKL3N/6kO8GxUbuPsoWdbLN+BRQPKJY1p1j20T9ZHt7Us2/485vKvT6N4nmTlNEjg+5+8hORXi7+ypgysp5Dr0/3U45fiOxhhxhPQeqy2eT6n2rO7fJiro5VcYZKmjWoe5eslMRXu++ChiKcqbDmu5+yqT8Dkis31nu/NpIdXllYs1Xcuc3UXrNa0VzRygj177ufrJTEV7mvgoYmh+4+ymT8ntK5O1S96BiKXeObaOarJFU7+L57vwmSq/5osR6oFm7uPvJLup54OiPnd09lSlydq4ct6c7v7ZRTaYp7kqq967u/CZCr/clSXWAxzbunrKL3E1W0LyvuXsqk/J7f2Lt/tudXxtF3imBB7hzmwi93q8n1QEeG7h7yi7qhh/oj/KkfG+XBiq3ZybW7mHFMu4c20Y1+WJSvd/pzm1Qeq2LRt4qFHis6O4ru6jngGee/oXm9XpZYOQuv3qtO7+2UU2OT6r1se7cBhV12R/6ZYa7r1ohcg/+QPN2cPdUJuV3TGLt2B50NqrJu5Nqfao7t0Hptb4oqQbwuN/dU60R9Qlo9Eff3wBslVi7sinQcu4c20T1eGdSrU9y5zao4A1A3zzo7qnWiNyDVtC8Dd09lUn5LaC4ObF++7tzbBPV471Jdf64O7dB6bVunFQDeNzo7qnWUDEucF8NDE35Oae3DwGOU44nJtbwPHd+baJ6HJVU52PcuQ0qeAiwb85391RrRD1UBv0wEjvaKc/tE2v4l+AJ4ceoFqck1fkD7twmIlgG2CeHuPupNaLu9vUX9xXBUOzk7qcmKM8FI/cUtre5c2wL1eK7STV+lzu3idDr3TmpDmhWudet4e6nVlFBTnZfFUzZhe4+apLyPSGxltcpprlzbAPV4fqkGu/lzm2iIm9TJDTn0+4+ah0VZUXF791XBpN2R4zYu9rIXQ1QPM+do5tqsJTiUepb6TWvGfXgLXRTucfx896cqDDPCh506aJ7ooOT6VRF3ac+cwXLZ905uqkGOyTW96nu/CZDr/v5UcccuqXc257t7p9Wi/omIHOJFYarfD3b62V/86Lcj06sbZkwRnprYOV/RFJty34LC7rzmyy99o0Uv0yqDYav3NO4+Q8i6s8B5ZkAHgxsr1sUBytmuvvFKepEnOmN7hydlP/lSXW9zp3bVCmHmYpDoo5FtFO5h5V7GV/7T5SKtnrUJYLnR/2q9aEBCn634o9DivJ7zQ1DimsVlw0xzlOcO6T4muKMAeLjisMUz1Us4O6PtlAtfjZAX07WT935uSj3dRLrero7v2FRLtOjPo/y/6KO0UHGchnzw5o/yiqNYc5tZa4cxpxbVukM4z7wyMBdFfFnxe+i7m1zqGJNd38ASKRB/tYJTBCTsbU7Rwfl/Z7EmnbqKGAAQAvpZrJ81Hf+WUZic6VZRT0l9DeJNe31iZUAgIbohvLVxJtVOS57XXeOTVK+eybWs/xMON2dIwCgB3RD2SnxhlWc6M6xKVGXV16ZWMuvu3MEAPRE1K2BMzeyKksCV3Ln2QTluVdiHYs93TkCAHok8tasj/uUO8dsynFJxR8Sa1hWEi3lzhMA0CO6sawSE1syNFHlWYAd3HlmUn7HJtavGLkHKgEADdAN5svJN7BbFSu488ygvF4Yefv+j3ulO08AQA/pBvOC5BtYcaY7z2FTTitE/o525RCdxdy5AgB6KvK2r53VEe48h0W5LKK4qIGaHenOFQDQY7rR7NbAzaz4N3euUxV1G9uvNFCr8vDfSKyiAACYjN3UrmvgplYeCtzLne9kjdXp1AbqVJzqzhcAMAJ0w3l9Qze2ctrYm935TpRe88LRzCf/orxRGtkjqwEADRq7wWVuDDS7TytmuPMehF7nclFP+GzKae6cAQAjRDeeNzd4kysujJYvEYx6bO3vGqzJvYqV3XkDAEaIbjwzFNc3eLMrylK3fRTT3PnPSq9npuLwyN0oaU4Oc+cOABhBugFtF/U36KZ9X7GeO/9irAbXGGpwg2KmO38AwIjSTegEw82vKEvfyrMBa5ny3iGa/a1/VuVN146OvAEA+BvdiBZT/NJ0IyzK9rpnKLZoINeFFLsrrjDmWxyXnSsAAPOlG9KWUZfsuf1KcVzUh/GG8pxA1BUP24/9u7f6UnvMVYpFhpEbAABTppvSUe4742x+q/iS4u1Rv65ffoAcpinWULxCcaTim4p7XAnMwQOKDZq4ngAADEQ3pgUUXzffIOfn/qj7F5RP0WV//nMVFyt+EfWwnod8L20gr3dfZwAAnkA3qMUVP3XfJXvqKPf1BQBgrnSjWllxk/tu2TNfjJbtfQAAwBPoZvVsxX3mm2ZfnBcd2QYZAIDxbXHvNt88u+4SxVLuawkAwITo5rW54g7zTbSrvqdY0n0NAQCYFN3ENlXcbr6Zdk1ZTcFafwBAt+lmtqHiRvNNtStOUyzovmYAAAyFbmrLKs4x31zbrJwkWDYt4ml/AEC/RN1p79Co+/fjcWWL4e3d1wcAgFS62b1c8SfzTbctyjK/FdzXBACARuimt5Liq+abr1PZ1/8wxXT3tQAAoHG6Ae4co7dzYPnUv4679gAAWEV9QPCkqA/C9dnvFC931xsAgFbRzXEtxReifw8J3ql4t2IJd40BAGgt3SjXV5yh+Kv1tj11tykOD7bzBQBgcLpxrqc4Lrq3YuCXijcrFnXXEACAzio3UsU+UQ/Haau7FCcrtg428wEAYLh0c11DcZDi/PA/NFhOOzxL8apg734AAJoRdfXAqxWnKK6M/DcEDykuULxT8Zxgz34AAPyi/lSwpeLAsTcFZyuuVtw7wRt9+e+vVXxF8X7F7opNFAu7cwQAABOgm/fSUU8l3HwstlJsPxbPjfrA4YqKGe7XCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYm/8PlvydiM/bcq8AAAAASUVORK5CYII="],[1,"nav__link"],["routerLinkActive","nav__titre--active","routerLink","/admin",1,"nav__titre"],["width","18","height","2","viewBox","0 0 18 2","fill","none","xmlns","http://www.w3.org/2000/svg",1,"nav__svg"],["y1","1.24896","x2","18","y2","1.24896","stroke","white"],["class","nav__item",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","nav__titre--active","routerLink","/departmentsTypes",1,"nav__titre"],["routerLinkActive","nav__titre--active","routerLink","/customer",1,"nav__titre"],["routerLinkActive","nav__titre--active","routerLink","/add",1,"nav__titre"],[1,"nav__item",3,"routerLink"]],template:function(t,r){1&t&&(u.TgZ(0,"header",0),u._UZ(1,"img",1),u.TgZ(2,"p",2),u._uU(3),u.qZA(),u.TgZ(4,"div")(5,"img",3),u.NdJ("click",function(){return r.help()}),u.qZA(),u.TgZ(6,"img",4),u.NdJ("click",function(){return r.signOut()}),u.qZA()()(),u.TgZ(7,"nav",5)(8,"ul",6)(9,"li",7),u.O4$(),u.TgZ(10,"svg",8),u._UZ(11,"rect",9),u.TgZ(12,"defs")(13,"pattern",10),u._UZ(14,"use",11),u.qZA(),u._UZ(15,"image",12),u.qZA()(),u.kcU(),u.TgZ(16,"a",13),u._uU(17,"Tableau de bord"),u.qZA()(),u.TgZ(18,"li",14),u.O4$(),u.TgZ(19,"svg",15),u._UZ(20,"line",16),u.qZA(),u.kcU(),u.TgZ(21,"a",13),u._uU(22,"Administration des rayons"),u.qZA()(),u.YNc(23,j6e,3,2,"li",17),u.TgZ(24,"li",18),u.O4$(),u.TgZ(25,"svg",15),u._UZ(26,"line",16),u.qZA(),u.kcU(),u.TgZ(27,"a",13),u._uU(28,"Types de rayons"),u.qZA()(),u.TgZ(29,"li",19),u.O4$(),u.TgZ(30,"svg",15),u._UZ(31,"line",16),u.qZA(),u.kcU(),u.TgZ(32,"a",13),u._uU(33,"Clients"),u.qZA()(),u.TgZ(34,"li",20),u.O4$(),u.TgZ(35,"svg",15),u._UZ(36,"line",16),u.qZA(),u.kcU(),u.TgZ(37,"a",13),u._uU(38,"Promotions"),u.qZA()()()()),2&t&&(u.xp6(3),u.hij("Bonjour, ",r.email," "),u.xp6(20),u.Q6J("ngForOf",r.departementsTypes))},dependencies:[Rr,za,XA],styles:[".header[_ngcontent-%COMP%]{z-index:2;width:96vw;height:10vh;background-color:#3c4452;position:fixed;top:0;left:0;text-align:left;display:flex;align-items:center;justify-content:space-between;padding:0px 2vw}.header__img[_ngcontent-%COMP%]{height:5vh;padding:0 10px}.header__info[_ngcontent-%COMP%]{color:#fcfcfd;text-transform:capitalize}.header__logo[_ngcontent-%COMP%]{height:5vh}.nav[_ngcontent-%COMP%]{height:100vh;background-color:#1f232b;width:276px;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:start;padding-top:15vh}.nav__link[_ngcontent-%COMP%]{margin-left:10px;color:#fcfcfd}.nav__svg[_ngcontent-%COMP%]{width:20px}.nav__titre[_ngcontent-%COMP%]{color:#fcfcfd;text-transform:uppercase;font-size:18px;padding:10px 0;cursor:pointer;display:flex;align-items:center}.nav__titre--active[_ngcontent-%COMP%], .nav__titre--active[_ngcontent-%COMP%]   .nav__link[_ngcontent-%COMP%]{color:#ffc225}.nav__titre--active[_ngcontent-%COMP%]   .nav__svg[_ngcontent-%COMP%]{fill:#ffc225}.nav__item[_ngcontent-%COMP%]{color:#fcfcfd;text-transform:capitalize;font-size:14px;padding:7px;cursor:pointer;letter-spacing:2px}"]}),n})();function $6e(n,e){1&n&&u._UZ(0,"app-nav")}let W6e=(()=>{class n{constructor(t,r){this._router=t,this.authentificationService=r}ngOnInit(){this._estConnecteSubscription=this.authentificationService.utilisateurEstConnecteObservable.subscribe(t=>{this.isConnecte=t,console.log(t)}),this.authentificationService.getInfosUser(),this._router.navigate([""])}ngOnDestroy(){this._estConnecteSubscription&&this._estConnecteSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(sn),u.Y36(cl))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf"],[3,"className"]],template:function(t,r){1&t&&(u.YNc(0,$6e,1,0,"app-nav",0),u.TgZ(1,"div",1),u._UZ(2,"router-outlet"),u.qZA()),2&t&&(u.Q6J("ngIf",r.isConnecte),u.xp6(1),u.Q6J("className",r.isConnecte?"margin-nav":"margin-connecte"))},dependencies:[rn,kf,G6e],styles:[".margin-nav[_ngcontent-%COMP%]{padding-top:10vh;padding-left:276px}@media (min-width: 900px){.margin-nav[_ngcontent-%COMP%]{padding:0;padding-top:10vh;padding-left:276px}}"]}),n})();function m7(n){return(m7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Sz(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function K6e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Wt(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){K6e(n,i,t[i])})}return n}function BI(n,e){return function Q6e(n){if(Array.isArray(n))return n}(n)||function J6e(n,e){var t=[],r=!0,i=!1,s=void 0;try{for(var h,c=n[Symbol.iterator]();!(r=(h=c.next()).done)&&(t.push(h.value),!e||t.length!==e);r=!0);}catch(p){i=!0,s=p}finally{try{!r&&null!=c.return&&c.return()}finally{if(i)throw s}}return t}(n,e)||function t3e(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var jI={},Tz={};try{typeof window<"u"&&(jI=window),typeof document<"u"&&(Tz=document),typeof MutationObserver<"u"&&MutationObserver,typeof performance<"u"&&performance}catch{}var Nz=(jI.navigator||{}).userAgent,kz=void 0===Nz?"":Nz,ad=jI,Er=Tz,xc=!!Er.documentElement&&!!Er.head&&"function"==typeof Er.addEventListener&&"function"==typeof Er.createElement,Dc=(~kz.indexOf("MSIE")||kz.indexOf("Trident/"),"___FONT_AWESOME___"),Oz="svg-inline--fa",Hz=[1,2,3,4,5,6,7,8,9,10],d3e=Hz.concat([11,12,13,14,15,16,17,18,19,20]),d0={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Bz=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",d0.GROUP,d0.SWAP_OPACITY,d0.PRIMARY,d0.SECONDARY].concat(Hz.map(function(n){return"".concat(n,"x")})).concat(d3e.map(function(n){return"w-".concat(n)})),ad.FontAwesomeConfig||{});Er&&"function"==typeof Er.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=BI(n,2),r=e[1],i=function g3e(n){return""===n||"false"!==n&&("true"===n||n)}(function m3e(n){var e=Er.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(Bz[r]=i)});var WI=Wt({},{familyPrefix:"fa",replacementClass:Oz,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Bz);WI.autoReplaceSvg||(WI.observeMutations=!1);var Nt=Wt({},WI);ad.FontAwesomeConfig=Nt;var Nc=ad||{};Nc[Dc]||(Nc[Dc]={}),Nc[Dc].styles||(Nc[Dc].styles={}),Nc[Dc].hooks||(Nc[Dc].hooks={}),Nc[Dc].shims||(Nc[Dc].shims=[]);var na=Nc[Dc],Uz=[];xc&&((Er.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Er.readyState)||Er.addEventListener("DOMContentLoaded",function n(){Er.removeEventListener("DOMContentLoaded",n),Uz.map(function(e){return e()})}));var ZI,qI="pending",jz="settled",qy="fulfilled",Zy="rejected",A3e=function(){},Gz=typeof global<"u"&&typeof global.process<"u"&&"function"==typeof global.process.emit,b3e=typeof setImmediate>"u"?setTimeout:setImmediate,g7=[];function w3e(){for(var n=0;n<g7.length;n++)g7[n][0](g7[n][1]);g7=[],ZI=!1}function Ky(n,e){g7.push([n,e]),ZI||(ZI=!0,b3e(w3e,0))}function $z(n){var e=n.owner,t=e._state,r=e._data,i=n[t],s=n.then;if("function"==typeof i){t=qy;try{r=i(r)}catch(c){v7(s,c)}}Wz(s,r)||(t===qy&&KI(s,r),t===Zy&&v7(s,r))}function Wz(n,e){var t;try{if(n===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===m7(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(i){t||(t=!0,e===i?qz(n,i):KI(n,i))},function(i){t||(t=!0,v7(n,i))}),!0}}catch(i){return t||v7(n,i),!0}return!1}function KI(n,e){(n===e||!Wz(n,e))&&qz(n,e)}function qz(n,e){n._state===qI&&(n._state=jz,n._data=e,Ky(M3e,n))}function v7(n,e){n._state===qI&&(n._state=jz,n._data=e,Ky(S3e,n))}function Zz(n){n._then=n._then.forEach($z)}function M3e(n){n._state=qy,Zz(n)}function S3e(n){n._state=Zy,Zz(n),!n._handled&&Gz&&global.process.emit("unhandledRejection",n._data,n)}function I3e(n){global.process.emit("rejectionHandled",n)}function Ss(n){if("function"!=typeof n)throw new TypeError("Promise resolver "+n+" is not a function");if(!(this instanceof Ss))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function E3e(n,e){function r(i){v7(e,i)}try{n(function t(i){KI(e,i)},r)}catch(i){r(i)}}(n,this)}Ss.prototype={constructor:Ss,_state:qI,_then:null,_data:void 0,_handled:!1,then:function(e,t){var r={owner:this,then:new this.constructor(A3e),fulfilled:e,rejected:t};return(t||e)&&!this._handled&&(this._handled=!0,this._state===Zy&&Gz&&Ky(I3e,this)),this._state===qy||this._state===Zy?Ky($z,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}},Ss.all=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.all().");return new Ss(function(e,t){var r=[],i=0;function s(p){return i++,function(v){r[p]=v,--i||e(r)}}for(var h,c=0;c<n.length;c++)(h=n[c])&&"function"==typeof h.then?h.then(s(c),t):r[c]=h;i||e(r)})},Ss.race=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.race().");return new Ss(function(e,t){for(var i,r=0;r<n.length;r++)(i=n[r])&&"function"==typeof i.then?i.then(e,t):e(i)})},Ss.resolve=function(n){return n&&"object"===m7(n)&&n.constructor===Ss?n:new Ss(function(e){e(n)})},Ss.reject=function(n){return new Ss(function(e,t){t(n)})};var nT=function(e,t,r,i){var p,v,b,s=Object.keys(e),c=s.length,h=void 0!==i?function(e,t){return function(r,i,s,c){return e.call(t,r,i,s,c)}}(t,i):t;for(void 0===r?(p=1,b=e[s[0]]):(p=0,b=r);p<c;p++)b=h(b,e[v=s[p]],v,e);return b};function rF(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,i=void 0!==r&&r,s=Object.keys(e).reduce(function(c,h){var p=e[h];return p.icon?c[p.iconName]=p.icon:c[h]=p,c},{});"function"!=typeof na.hooks.addPack||i?na.styles[n]=Wt({},na.styles[n]||{},s):na.hooks.addPack(n,s),"fas"===n&&rF("fa",e)}var iF=na.styles,B3e=na.shims,cF=function(){var e=function(i){return nT(iF,function(s,c,h){return s[h]=nT(c,i,{}),s},{})};e(function(r,i,s){return i[3]&&(r[i[3]]=s),r}),e(function(r,i,s){var c=i[2];return r[s]=s,c.forEach(function(h){r[h]=s}),r});var t="far"in iF;nT(B3e,function(r,i){var c=i[1];return"far"===c&&!t&&(c="fas"),r[i[0]]={prefix:c,iconName:i[2]},r},{})};function C7(n){this.name="MissingIcon",this.message=n||"Icon unavailable",this.stack=(new Error).stack}cF(),(C7.prototype=Object.create(Error.prototype)).constructor=C7;var Jy={fill:"currentColor"},gF={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},oT=(Wt({},Jy,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),Wt({},gF,{attributeName:"opacity"}));Wt({},Jy,{cx:"256",cy:"364",r:"28"}),Wt({},gF,{attributeName:"r",values:"28;14;28;28;14;28;"}),Wt({},oT,{values:"1;0;1;1;0;1;"}),Wt({},Jy,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Wt({},oT,{values:"1;0;0;0;0;1;"}),Wt({},Jy,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Wt({},oT,{values:"0;0;1;1;0;0;"});var ghe=function(){function n(){(function q6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function Z6e(n,e,t){e&&Sz(n.prototype,e),t&&Sz(n,t)}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var c=i.reduce(this._pullDefinitions,{});Object.keys(c).forEach(function(h){t.definitions[h]=Wt({},t.definitions[h]||{},c[h]),rF(h,c[h]),cF()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var c=i[s],h=c.prefix,p=c.iconName,v=c.icon;t[h]||(t[h]={}),t[h][p]=v}),t}}]),n}();new ghe;let The=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function bF(n){return new u.vHH(3e3,!1)}function lde(){return typeof window<"u"&&typeof window.document<"u"}function dT(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Il(n){switch(n.length){case 0:return new c7;case 1:return n[0];default:return new NO(n)}}function wF(n,e,t,r,i=new Map,s=new Map){const c=[],h=[];let p=-1,v=null;if(r.forEach(b=>{const M=b.get("offset"),T=M==p,N=T&&v||new Map;b.forEach((R,V)=>{let $=V,fe=R;if("offset"!==V)switch($=e.normalizePropertyName($,c),fe){case"!":fe=i.get(V);break;case Sc:fe=s.get(V);break;default:fe=e.normalizeStyleValue(V,$,fe,c)}N.set($,fe)}),T||h.push(N),v=N,p=M}),c.length)throw function Qhe(n){return new u.vHH(3502,!1)}();return h}function fT(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&pT(t,"start",n)));break;case"done":n.onDone(()=>r(t&&pT(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&pT(t,"destroy",n)))}}function pT(n,e,t){const s=mT(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function mT(n,e,t,r,i="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!c}}function Is(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function EF(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let gT=(n,e)=>!1,MF=(n,e,t)=>[],SF=null;function vT(n){const e=n.parentNode||n.host;return e===SF?null:e}(dT()||typeof Element<"u")&&(lde()?(SF=(()=>document.documentElement)(),gT=(n,e)=>{for(;e;){if(e===n)return!0;e=vT(e)}return!1}):gT=(n,e)=>n.contains(e),MF=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let f0=null,IF=!1;const TF=gT,xF=MF;let DF=(()=>{class n{validateStyleProperty(t){return function hde(n){f0||(f0=function dde(){return typeof document<"u"?document.body:null}()||{},IF=!!f0.style&&"WebkitAppearance"in f0.style);let e=!0;return f0.style&&!function ude(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in f0.style,!e&&IF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in f0.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return TF(t,r)}getParentElement(t){return vT(t)}query(t,r,i){return xF(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,c,h=[],p){return new c7(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),_T=(()=>{class n{}return n.NOOP=new DF,n})();const yT="ng-enter",nC="ng-leave",rC="ng-trigger",iC=".ng-trigger",kF="ng-animating",CT=".ng-animating";function Rc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:AT(parseFloat(e[1]),e[2])}function AT(n,e){return"s"===e?1e3*n:n}function sC(n,e,t){return n.hasOwnProperty("duration")?n:function mde(n,e,t){let i,s=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(bF()),{duration:0,delay:0,easing:""};i=AT(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=AT(parseFloat(p),h[4]));const v=h[5];v&&(c=v)}else i=n;if(!t){let h=!1,p=e.length;i<0&&(e.push(function xhe(){return new u.vHH(3100,!1)}()),h=!0),s<0&&(e.push(function Dhe(){return new u.vHH(3101,!1)}()),h=!0),h&&e.splice(p,0,bF())}return{duration:i,delay:s,easing:c}}(n,e,t)}function b7(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function RF(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Tl(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function PF(n,e,t){return t?e+":"+t+";":""}function OF(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=PF(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=PF(0,yde(t),n.style[t]));n.setAttribute("style",e)}function o1(n,e,t){n.style&&(e.forEach((r,i)=>{const s=wT(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),dT()&&OF(n))}function p0(n,e){n.style&&(e.forEach((t,r)=>{const i=wT(r);n.style[i]=""}),dT()&&OF(n))}function w7(n){return Array.isArray(n)?1==n.length?n[0]:IO(n):n}const bT=new RegExp("{{\\s*(.+?)\\s*}}","g");function zF(n){let e=[];if("string"==typeof n){let t;for(;t=bT.exec(n);)e.push(t[1]);bT.lastIndex=0}return e}function E7(n,e,t){const r=n.toString(),i=r.replace(bT,(s,c)=>{let h=e[c];return null==h&&(t.push(function khe(n){return new u.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function oC(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const _de=/-+([a-z0-9])/g;function wT(n){return n.replace(_de,(...e)=>e[1].toUpperCase())}function yde(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ts(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Rhe(n){return new u.vHH(3004,!1)}()}}function Mde(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Sde(n,e,t){if(":"==n[0]){const p=function Ide(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function qhe(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Whe(n){return new u.vHH(3015,!1)}()),e;const i=r[1],s=r[2],c=r[3];e.push(VF(i,c));"<"==s[0]&&!("*"==i&&"*"==c)&&e.push(VF(c,i))}(r,t,e)):t.push(n),t}const uC=new Set(["true","1"]),hC=new Set(["false","0"]);function VF(n,e){const t=uC.has(n)||hC.has(n),r=uC.has(e)||hC.has(e);return(i,s)=>{let c="*"==n||n==i,h="*"==e||e==s;return!c&&t&&"boolean"==typeof i&&(c=i?uC.has(n):hC.has(n)),!h&&r&&"boolean"==typeof s&&(h=s?uC.has(e):hC.has(e)),c&&h}}const Tde=new RegExp("s*:selfs*,?","g");function ET(n,e,t,r){return new xde(n).build(e,t,r)}class xde{constructor(e){this._driver=e}build(e,t,r){const i=new kde(t);return this._resetContextStyleTimingState(i),Ts(this,w7(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function Phe(){return new u.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,v=p.name;v.toString().split(/\s*,\s*/).forEach(b=>{p.name=b,s.push(this.visitState(p,t))}),p.name=v}else if(1==h.type){const p=this.visitTransition(h,t);r+=p.queryCount,i+=p.depCount,c.push(p)}else t.errors.push(function Ohe(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,c=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{zF(p).forEach(v=>{c.hasOwnProperty(v)||s.add(v)})})}),s.size&&(oC(s.values()),t.errors.push(function zhe(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ts(this,w7(e.animation),t);return{type:1,matchers:Mde(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:m0(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ts(this,r,t)),options:m0(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(c=>{t.currentTime=r;const h=Ts(this,c,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:s,options:m0(e.options)}}visitAnimate(e,t){const r=function Lde(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return MT(sC(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=MT(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=sC(t,e);return MT(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:a7({});if(5==s.type)i=this.visitKeyframes(s,t);else{let c=e.styles,h=!1;if(!c){h=!0;const v={};r.easing&&(v.easing=r.easing),c=a7(v)}t.currentTime+=r.duration+r.delay;const p=this.visitStyle(c,t);p.isEmptyStep=h,i=p}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===Sc?r.push(h):t.errors.push(new u.vHH(3002,!1)):r.push(RF(h));let s=!1,c=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!s))for(let p of h.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,p)=>{const v=t.collectedStyles.get(t.currentQuerySelector),b=v.get(p);let M=!0;b&&(s!=i&&s>=b.startTime&&i<=b.endTime&&(t.errors.push(function Vhe(n,e,t,r,i){return new u.vHH(3010,!1)}()),M=!1),s=b.startTime),M&&v.set(p,{startTime:s,endTime:i}),t.options&&function vde(n,e,t){const r=e.params||{},i=zF(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function Nhe(n){return new u.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Hhe(){return new u.vHH(3011,!1)}()),r;let s=0;const c=[];let h=!1,p=!1,v=0;const b=e.steps.map(fe=>{const xe=this._makeStyleAst(fe,t);let Oe=null!=xe.offset?xe.offset:function Rde(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(xe.styles),Te=0;return null!=Oe&&(s++,Te=xe.offset=Oe),p=p||Te<0||Te>1,h=h||Te<v,v=Te,c.push(Te),xe});p&&t.errors.push(function Bhe(){return new u.vHH(3012,!1)}()),h&&t.errors.push(function Uhe(){return new u.vHH(3200,!1)}());const M=e.steps.length;let T=0;s>0&&s<M?t.errors.push(function jhe(){return new u.vHH(3202,!1)}()):0==s&&(T=1/(M-1));const N=M-1,R=t.currentTime,V=t.currentAnimateTimings,$=V.duration;return b.forEach((fe,xe)=>{const Oe=T>0?xe==N?1:T*xe:c[xe],Te=Oe*$;t.currentTime=R+V.delay+Te,V.duration=Te,this._validateStyleAst(fe,t),fe.offset=Oe,r.styles.push(fe)}),r}visitReference(e,t){return{type:8,animation:Ts(this,w7(e.animation),t),options:m0(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:m0(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:m0(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function Dde(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Tde,"")),n=n.replace(/@\*/g,iC).replace(/@\w+/g,t=>iC+"-"+t.slice(1)).replace(/:animating/g,CT),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Is(t.collectedStyles,t.currentQuerySelector,new Map);const h=Ts(this,w7(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:m0(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Ghe(){return new u.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:sC(e.timings,t.errors,!0);return{type:12,animation:Ts(this,w7(e.animation),t),timings:r,options:null}}}class kde{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function m0(n){return n?(n=b7(n)).params&&(n.params=function Nde(n){return n?b7(n):null}(n.params)):n={},n}function MT(n,e,t){return{duration:n,delay:e,easing:t}}function ST(n,e,t,r,i,s,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:c,subTimeline:h}}class dC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const zde=new RegExp(":enter","g"),Vde=new RegExp(":leave","g");function IT(n,e,t,r,i,s=new Map,c=new Map,h,p,v=[]){return(new Hde).buildKeyframes(n,e,t,r,i,s,c,h,p,v)}class Hde{buildKeyframes(e,t,r,i,s,c,h,p,v,b=[]){v=v||new dC;const M=new TT(e,t,v,i,s,b,[]);M.options=p;const T=p.delay?Rc(p.delay):0;M.currentTimeline.delayNextStep(T),M.currentTimeline.setStyles([c],null,M.errors,p),Ts(this,r,M);const N=M.timelines.filter(R=>R.containsAnimation());if(N.length&&h.size){let R;for(let V=N.length-1;V>=0;V--){const $=N[V];if($.element===t){R=$;break}}R&&!R.allowOnlyTimelineStyles()&&R.setStyles([h],null,M.errors,p)}return N.length?N.map(R=>R.buildKeyframes()):[ST(t,[],[],[],0,T,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const c="number"==typeof s?s:Rc(E7(s,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const c=null!=r.duration?Rc(r.duration):null,h=null!=r.delay?Rc(r.delay):null;return 0!==c&&e.forEach(p=>{const v=t.appendInstructionToTimeline(p,c,h);s=Math.max(s,v.duration+v.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ts(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=fC);const c=Rc(s.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Ts(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Rc(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),Ts(this,c,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return sC(t.params?E7(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Rc(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=fC);let c=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((v,b)=>{t.currentQueryIndex=b;const M=t.createSubContext(e.options,v);s&&M.delayNextStep(s),v===t.element&&(p=M.currentTimeline),Ts(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),h=c*(t.currentQueryTotal-1);let p=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=r.currentStaggerTime}const b=t.currentTimeline;p&&b.delayNextStep(p);const M=b.currentTime;Ts(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const fC={};class TT{constructor(e,t,r,i,s,c,h,p){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new pC(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Rc(r.duration)),null!=r.delay&&(i.delay=Rc(r.delay));const s=r.params;if(s){let c=i.params;c||(c=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=E7(s[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new TT(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=fC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Bde(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,c){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(zde,"."+this._enterClassName)).replace(Vde,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),h.push(...v)}return!s&&0==h.length&&c.push(function $he(n){return new u.vHH(3014,!1)}()),h}}class pC{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new pC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Sc),this._currentKeyframe.set(t,Sc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},c=function Ude(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Sc)}else Tl(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,p]of c){const v=E7(p,s,r);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Sc),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,p)=>{const v=Tl(h,new Map,this._backFill);v.forEach((b,M)=>{"!"===b?e.add(M):b===Sc&&t.add(M)}),r||v.set("offset",p/this.duration),i.push(v)});const s=e.size?oC(e.values()):[],c=t.size?oC(t.values()):[];if(r){const h=i[0],p=new Map(h);h.set("offset",0),p.set("offset",1),i=[h,p]}return ST(this.element,i,s,c,this.duration,this.startTime,this.easing,!1)}}class Bde extends pC{constructor(e,t,r,i,s,c,h=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=r+t,h=t/c,p=Tl(e[0]);p.set("offset",0),s.push(p);const v=Tl(e[0]);v.set("offset",UF(h)),s.push(v);const b=e.length-1;for(let M=1;M<=b;M++){let T=Tl(e[M]);const N=T.get("offset");T.set("offset",UF((t+N*r)/c)),s.push(T)}r=c,t=0,i="",e=s}return ST(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function UF(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class xT{}const jde=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Gde extends xT{normalizePropertyName(e,t){return wT(e)}normalizeStyleValue(e,t,r,i){let s="";const c=r.toString().trim();if(jde.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function Lhe(n,e){return new u.vHH(3005,!1)}())}return c+s}}function jF(n,e,t,r,i,s,c,h,p,v,b,M,T){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:c,timelines:h,queriedElements:p,preStyleProps:v,postStyleProps:b,totalTime:M,errors:T}}const DT={};class GF{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function $de(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,c,h,p,v,b){const M=[],T=this.ast.options&&this.ast.options.params||DT,R=this.buildStyles(r,h&&h.params||DT,M),V=p&&p.params||DT,$=this.buildStyles(i,V,M),fe=new Set,xe=new Map,Oe=new Map,Te="void"===i,Je={params:Wde(V,T),delay:this.ast.options?.delay},Qe=b?[]:IT(e,t,this.ast.animation,s,c,R,$,Je,v,M);let zt=0;if(Qe.forEach(ji=>{zt=Math.max(ji.duration+ji.delay,zt)}),M.length)return jF(t,this._triggerName,r,i,Te,R,$,[],[],xe,Oe,zt,M);Qe.forEach(ji=>{const as=ji.element,uB=Is(xe,as,new Set);ji.preStyleProps.forEach(S0=>uB.add(S0));const X7=Is(Oe,as,new Set);ji.postStyleProps.forEach(S0=>X7.add(S0)),as!==t&&fe.add(as)});const Jn=oC(fe.values());return jF(t,this._triggerName,r,i,Te,R,$,Qe,Jn,xe,Oe,zt)}}function Wde(n,e){const t=b7(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class qde{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=b7(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!==c&&(i[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,h)=>{c&&(c=E7(c,i,t));const p=this.normalizer.normalizePropertyName(h,t);c=this.normalizer.normalizeStyleValue(h,p,c,t),r.set(p,c)})}),r}}class Kde{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new qde(i.style,i.options&&i.options.params||{},r))}),$F(this.states,"true","1"),$F(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new GF(e,i,this.states))}),this.fallbackTransition=function Yde(n,e,t){return new GF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function $F(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Qde=new dC;class Xde{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=ET(this._driver,t,r,[]);if(r.length)throw function Xhe(n){return new u.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=wF(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let c;const h=new Map;if(s?(c=IT(this._driver,t,s,yT,nC,new Map,new Map,r,Qde,i),c.forEach(b=>{const M=Is(h,b.element,new Map);b.postStyleProps.forEach(T=>M.set(T,null))})):(i.push(function Jhe(){return new u.vHH(3300,!1)}()),c=[]),i.length)throw function ede(n){return new u.vHH(3504,!1)}();h.forEach((b,M)=>{b.forEach((T,N)=>{b.set(N,this._driver.computeStyle(M,N,Sc))})});const v=Il(c.map(b=>{const M=h.get(b.element);return this._buildPlayer(b,new Map,M)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function tde(n){return new u.vHH(3301,!1)}();return t}listen(e,t,r,i){const s=mT(t,"","","");return fT(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const WF="ng-animate-queued",NT="ng-animate-disabled",rfe=[],qF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ife={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xs="__ng_removed";class kT{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function cfe(n){return n??null}(r?e.value:e),r){const s=b7(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const M7="void",RT=new kT(M7);class sfe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Js(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function nde(n,e){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function rde(n){return new u.vHH(3303,!1)}();if(!function lfe(n){return"start"==n||"done"==n}(r))throw function ide(n,e){return new u.vHH(3400,!1)}();const s=Is(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};s.push(c);const h=Is(this._engine.statesByElement,e,new Map);return h.has(t)||(Js(e,rC),Js(e,rC+"-"+t),h.set(t,RT)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function sde(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),c=new LT(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Js(e,rC),Js(e,rC+"-"+t),this._engine.statesByElement.set(e,h=new Map));let p=h.get(t);const v=new kT(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&p&&v.absorbOptions(p.options),h.set(t,v),p||(p=RT),v.value!==M7&&p.value===v.value){if(!function dfe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,v.params)){const V=[],$=s.matchStyles(p.value,p.params,V),fe=s.matchStyles(v.value,v.params,V);V.length?this._engine.reportError(V):this._engine.afterFlush(()=>{p0(e,$),o1(e,fe)})}return}const T=Is(this._engine.playersByElement,e,[]);T.forEach(V=>{V.namespaceId==this.id&&V.triggerName==t&&V.queued&&V.destroy()});let N=s.matchTransition(p.value,v.value,e,v.params),R=!1;if(!N){if(!i)return;N=s.fallbackTransition,R=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:N,fromState:p,toState:v,player:c,isFallbackTransition:R}),R||(Js(e,WF),c.onStart(()=>{hd(e,WF)})),c.onDone(()=>{let V=this.players.indexOf(c);V>=0&&this.players.splice(V,1);const $=this._engine.playersByElement.get(e);if($){let fe=$.indexOf(c);fe>=0&&$.splice(fe,1)}}),this.players.push(c),T.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,iC,!0);r.forEach(i=>{if(i[Xs])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const h=[];if(s.forEach((p,v)=>{if(c.set(v,p.value),this._triggers.has(v)){const b=this.trigger(e,v,M7,i);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Il(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const c=s.name;if(i.has(c))return;i.add(c);const p=this._triggers.get(c).fallbackTransition,v=r.get(c)||RT,b=new kT(M7),M=new LT(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:v,toState:b,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Xs];(!s||s===qF)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Js(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,c=this._elementListeners.get(s);c&&c.forEach(h=>{if(h.name==r.triggerName){const p=mT(s,r.triggerName,r.fromState.value,r.toState.value);p._data=e,fT(r.player,h.phase,p,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class ofe{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new sfe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,h=this.driver.getParentElement(t);for(;h;){const p=i.get(h);if(p){const v=r.indexOf(p);r.splice(v+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(mC(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!mC(t))return;const s=t[Xs];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Js(e,NT)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),hd(e,NT))}removeNode(e,t,r,i){if(mC(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Xs]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return mC(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,iC,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,CT,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Il(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Xs];if(t&&t.setForRemoval){if(e[Xs]=qF,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(NT)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Js(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Il(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function ode(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new dC,i=[],s=new Map,c=[],h=new Map,p=new Map,v=new Map,b=new Set;this.disabledNodes.forEach(it=>{b.add(it);const _t=this.driver.query(it,".ng-animate-queued",!0);for(let Mt=0;Mt<_t.length;Mt++)b.add(_t[Mt])});const M=this.bodyNode,T=Array.from(this.statesByElement.keys()),N=YF(T,this.collectedEnterElements),R=new Map;let V=0;N.forEach((it,_t)=>{const Mt=yT+V++;R.set(_t,Mt),it.forEach(on=>Js(on,Mt))});const $=[],fe=new Set,xe=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const _t=this.collectedLeaveElements[it],Mt=_t[Xs];Mt&&Mt.setForRemoval&&($.push(_t),fe.add(_t),Mt.hasAnimation?this.driver.query(_t,".ng-star-inserted",!0).forEach(on=>fe.add(on)):xe.add(_t))}const Oe=new Map,Te=YF(T,Array.from(fe));Te.forEach((it,_t)=>{const Mt=nC+V++;Oe.set(_t,Mt),it.forEach(on=>Js(on,Mt))}),e.push(()=>{N.forEach((it,_t)=>{const Mt=R.get(_t);it.forEach(on=>hd(on,Mt))}),Te.forEach((it,_t)=>{const Mt=Oe.get(_t);it.forEach(on=>hd(on,Mt))}),$.forEach(it=>{this.processLeaveNode(it)})});const Je=[],Qe=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(t).forEach(Mt=>{const on=Mt.player,$r=Mt.element;if(Je.push(on),this.collectedEnterElements.length){const bi=$r[Xs];if(bi&&bi.setForMove){if(bi.previousTriggersValues&&bi.previousTriggersValues.has(Mt.triggerName)){const I0=bi.previousTriggersValues.get(Mt.triggerName),no=this.statesByElement.get(Mt.element);if(no&&no.has(Mt.triggerName)){const JC=no.get(Mt.triggerName);JC.value=I0,no.set(Mt.triggerName,JC)}}return void on.destroy()}}const d1=!M||!this.driver.containsElement(M,$r),Ns=Oe.get($r),Fl=R.get($r),er=this._buildInstruction(Mt,r,Fl,Ns,d1);if(er.errors&&er.errors.length)return void Qe.push(er);if(d1)return on.onStart(()=>p0($r,er.fromStyles)),on.onDestroy(()=>o1($r,er.toStyles)),void i.push(on);if(Mt.isFallbackTransition)return on.onStart(()=>p0($r,er.fromStyles)),on.onDestroy(()=>o1($r,er.toStyles)),void i.push(on);const fB=[];er.timelines.forEach(bi=>{bi.stretchStartingKeyframe=!0,this.disabledNodes.has(bi.element)||fB.push(bi)}),er.timelines=fB,r.append($r,er.timelines),c.push({instruction:er,player:on,element:$r}),er.queriedElements.forEach(bi=>Is(h,bi,[]).push(on)),er.preStyleProps.forEach((bi,I0)=>{if(bi.size){let no=p.get(I0);no||p.set(I0,no=new Set),bi.forEach((JC,Zx)=>no.add(Zx))}}),er.postStyleProps.forEach((bi,I0)=>{let no=v.get(I0);no||v.set(I0,no=new Set),bi.forEach((JC,Zx)=>no.add(Zx))})});if(Qe.length){const it=[];Qe.forEach(_t=>{it.push(function ade(n,e){return new u.vHH(3505,!1)}())}),Je.forEach(_t=>_t.destroy()),this.reportError(it)}const zt=new Map,Jn=new Map;c.forEach(it=>{const _t=it.element;r.has(_t)&&(Jn.set(_t,_t),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,zt))}),i.forEach(it=>{const _t=it.element;this._getPreviousPlayers(_t,!1,it.namespaceId,it.triggerName,null).forEach(on=>{Is(zt,_t,[]).push(on),on.destroy()})});const ji=$.filter(it=>XF(it,p,v)),as=new Map;KF(as,this.driver,xe,v,Sc).forEach(it=>{XF(it,p,v)&&ji.push(it)});const X7=new Map;N.forEach((it,_t)=>{KF(X7,this.driver,new Set(it),p,"!")}),ji.forEach(it=>{const _t=as.get(it),Mt=X7.get(it);as.set(it,new Map([...Array.from(_t?.entries()??[]),...Array.from(Mt?.entries()??[])]))});const S0=[],hB=[],dB={};c.forEach(it=>{const{element:_t,player:Mt,instruction:on}=it;if(r.has(_t)){if(b.has(_t))return Mt.onDestroy(()=>o1(_t,on.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(on.totalTime),void i.push(Mt);let $r=dB;if(Jn.size>1){let Ns=_t;const Fl=[];for(;Ns=Ns.parentNode;){const er=Jn.get(Ns);if(er){$r=er;break}Fl.push(Ns)}Fl.forEach(er=>Jn.set(er,$r))}const d1=this._buildAnimation(Mt.namespaceId,on,zt,s,X7,as);if(Mt.setRealPlayer(d1),$r===dB)S0.push(Mt);else{const Ns=this.playersByElement.get($r);Ns&&Ns.length&&(Mt.parentPlayer=Il(Ns)),i.push(Mt)}}else p0(_t,on.fromStyles),Mt.onDestroy(()=>o1(_t,on.toStyles)),hB.push(Mt),b.has(_t)&&i.push(Mt)}),hB.forEach(it=>{const _t=s.get(it.element);if(_t&&_t.length){const Mt=Il(_t);it.setRealPlayer(Mt)}}),i.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<$.length;it++){const _t=$[it],Mt=_t[Xs];if(hd(_t,nC),Mt&&Mt.hasAnimation)continue;let on=[];if(h.size){let d1=h.get(_t);d1&&d1.length&&on.push(...d1);let Ns=this.driver.query(_t,CT,!0);for(let Fl=0;Fl<Ns.length;Fl++){let er=h.get(Ns[Fl]);er&&er.length&&on.push(...er)}}const $r=on.filter(d1=>!d1.destroyed);$r.length?ufe(this,_t,$r):this.processLeaveNode(_t)}return $.length=0,S0.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const _t=this.players.indexOf(it);this.players.splice(_t,1)}),it.play()}),S0}elementContainsData(e,t){let r=!1;const i=t[Xs];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const p=!s||s==M7;h.forEach(v=>{v.queued||!p&&v.triggerName!=i||c.push(v)})}}return(r||i)&&(c=c.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),c}_beforeAnimationBuild(e,t,r){const s=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const v=p.element,b=v!==s,M=Is(r,v,[]);this._getPreviousPlayers(v,b,c,h,t.toState).forEach(N=>{const R=N.getRealPlayer();R.beforeDestroy&&R.beforeDestroy(),N.destroy(),M.push(N)})}p0(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,c){const h=t.triggerName,p=t.element,v=[],b=new Set,M=new Set,T=t.timelines.map(R=>{const V=R.element;b.add(V);const $=V[Xs];if($&&$.removedBeforeQueried)return new c7(R.duration,R.delay);const fe=V!==p,xe=function hfe(n){const e=[];return QF(n,e),e}((r.get(V)||rfe).map(zt=>zt.getRealPlayer())).filter(zt=>!!zt.element&&zt.element===V),Oe=s.get(V),Te=c.get(V),Je=wF(0,this._normalizer,0,R.keyframes,Oe,Te),Qe=this._buildPlayer(R,Je,xe);if(R.subTimeline&&i&&M.add(V),fe){const zt=new LT(e,h,V);zt.setRealPlayer(Qe),v.push(zt)}return Qe});v.forEach(R=>{Is(this.playersByQueriedElement,R.element,[]).push(R),R.onDone(()=>function afe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,R.element,R))}),b.forEach(R=>Js(R,kF));const N=Il(T);return N.onDestroy(()=>{b.forEach(R=>hd(R,kF)),o1(p,t.toStyles)}),M.forEach(R=>{Is(i,R,[]).push(N)}),N}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new c7(e.duration,e.delay)}}class LT{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new c7,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>fT(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Is(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function mC(n){return n&&1===n.nodeType}function ZF(n,e){const t=n.style.display;return n.style.display=e??"none",t}function KF(n,e,t,r,i){const s=[];t.forEach(p=>s.push(ZF(p)));const c=[];r.forEach((p,v)=>{const b=new Map;p.forEach(M=>{const T=e.computeStyle(v,M,i);b.set(M,T),(!T||0==T.length)&&(v[Xs]=ife,c.push(v))}),n.set(v,b)});let h=0;return t.forEach(p=>ZF(p,s[h++])),c}function YF(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),s=new Map;function c(h){if(!h)return 1;let p=s.get(h);if(p)return p;const v=h.parentNode;return p=t.has(v)?v:i.has(v)?1:c(v),s.set(h,p),p}return e.forEach(h=>{const p=c(h);1!==p&&t.get(p).push(h)}),t}function Js(n,e){n.classList?.add(e)}function hd(n,e){n.classList?.remove(e)}function ufe(n,e,t){Il(t).onDone(()=>n.processLeaveNode(e))}function QF(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof NO?QF(r.players,e):e.push(r)}}function XF(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class gC{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new ofe(e,t,r),this._timelineEngine=new Xde(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const c=e+"-"+i;let h=this._triggerCache[c];if(!h){const p=[],b=ET(this._driver,s,p,[]);if(p.length)throw function Yhe(n,e){return new u.vHH(3404,!1)}();h=function Zde(n,e,t){return new Kde(n,e,t)}(i,b,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,c]=EF(r);this._timelineEngine.command(s,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[c,h]=EF(r);return this._timelineEngine.listen(c,t,h,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let vfe=(()=>{class n extends MO{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?IO(t):t;return eV(this._renderer,null,r,"register",[i]),new _fe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(pe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class _fe extends class bZ{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new yfe(this._id,e,t||{},this._renderer)}}class yfe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return eV(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function eV(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const tV="@.disabled";let Cfe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,c)=>{const h=c?.parentNode(s);h&&c.removeChild(h,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let b=this._rendererCache.get(s);return b||(b=new nV("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,b)),b}const c=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=b=>{Array.isArray(b)?b.forEach(p):this.engine.registerTrigger(c,h,t,b.name,b)};return r.data.animation.forEach(p),new Afe(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,h]=s;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(gC),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class nV{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==tV?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Afe extends nV{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==tV?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function bfe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function wfe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let Efe=(()=>{class n extends gC{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe),u.LFG(_T),u.LFG(xT),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const rV=[{provide:MO,useClass:vfe},{provide:xT,useFactory:function Mfe(){return new Gde}},{provide:gC,useClass:Efe},{provide:u.FYo,useFactory:function Sfe(n,e,t){return new Cfe(n,e,t)},deps:[su,gC,u.R0b]}],iV=[{provide:_T,useClass:DF},{provide:u.QbO,useValue:"NoopAnimations"},...rV];let Tfe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:iV,imports:[wo]}),n})();const sV_firebase={apiKey:"AIzaSyD3q3vNi04qsFEXmdrpKkAYipKWtOOK1XM",authDomain:"caddieup-magasin.firebaseapp.com",projectId:"caddieup-magasin",storageBucket:"caddieup-magasin.appspot.com",messagingSenderId:"1008186563024",appId:"1:1008186563024:web:253eabd1b2291f56fac1d5"},oV="@firebase/database",aV="0.13.10";let OT="";class Dfe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,j.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,j.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Nfe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,j.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const cV=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Dfe(e)}}catch{}return new Nfe},g0=cV("localStorage"),zT=cV("sessionStorage"),dd=new gi.Yd("@firebase/database"),lV=function(){let n=1;return function(){return n++}}(),uV=function(n){const e=(0,j.dS)(n),t=new j.gQ;t.update(e);const r=t.digest();return j.US.encodeByteArray(r)},S7=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=S7.apply(null,r):e+="object"==typeof r?(0,j.Wl)(r):r,e+=" "}return e};let v0=null,hV=!0;const jr=function(...n){if(!0===hV&&(hV=!1,null===v0&&!0===zT.get("logging_enabled")&&function(n,e){(0,j.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(dd.logLevel=gi.in.VERBOSE,v0=dd.log.bind(dd),e&&zT.set("logging_enabled",!0)):"function"==typeof n?v0=n:(v0=null,zT.remove("logging_enabled"))}(!0)),v0){const e=S7.apply(null,n);v0(e)}},I7=function(n){return function(...e){jr(n,...e)}},FT=function(...n){const e="FIREBASE INTERNAL ERROR: "+S7(...n);dd.error(e)},a1=function(...n){const e=`FIREBASE FATAL ERROR: ${S7(...n)}`;throw dd.error(e),new Error(e)},Ai=function(...n){const e="FIREBASE WARNING: "+S7(...n);dd.warn(e)},_C=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Lc="[MIN_NAME]",c1="[MAX_NAME]",_0=function(n,e){if(n===e)return 0;if(n===Lc||e===c1)return-1;if(e===Lc||n===c1)return 1;{const t=yC(n),r=yC(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},Lfe=function(n,e){return n===e?0:n<e?-1:1},T7=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,j.Wl)(e))},VT=function(n){if("object"!=typeof n||null===n)return(0,j.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,j.Wl)(e[r]),t+=":",t+=VT(n[e[r]]);return t+="}",t},fV=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Gr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const pV=function(n){(0,j.hu)(!_C(n),"Invalid JSON number");const r=1023;let i,s,c,h,p;0===n?(s=0,c=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=h+r,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const v=[];for(p=52;p;p-=1)v.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)v.push(s%2?1:0),s=Math.floor(s/2);v.push(i?1:0),v.reverse();const b=v.join("");let M="";for(p=0;p<64;p+=8){let T=parseInt(b.substr(p,8),2).toString(16);1===T.length&&(T="0"+T),M+=T}return M.toLowerCase()},Ffe=new RegExp("^-?(0*)\\d{1,10}$"),yC=function(n){if(Ffe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},fd=function(n){try{n()}catch(e){setTimeout(()=>{throw Ai("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},x7=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Hfe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ai(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Bfe{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(jr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ai(e)}}let D7=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const CV=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wV="websocket",EV="long_polling";class UT{constructor(e,t,r,i,s=!1,c="",h=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=g0.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&g0.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function MV(n,e,t){let r;if((0,j.hu)("string"==typeof e,"typeof type must == string"),(0,j.hu)("object"==typeof t,"typeof params must == object"),e===wV)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==EV)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Ufe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Gr(t,(s,c)=>{i.push(s+"="+c)}),r+i.join("&")}class jfe{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,j.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,j.p$)(this.counters_)}}const jT={},GT={};function $T(n){const e=n.toString();return jT[e]||(jT[e]=new jfe),jT[e]}class $fe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&fd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class xl{constructor(e,t,r,i,s,c,h){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=I7(e),this.stats_=$T(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),MV(t,EV,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new $fe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,j.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new WT((...s)=>{const[c,h,p,v,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&CV.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xl.forceAllow_=!0}static forceDisallow(){xl.forceDisallow_=!0}static isAvailable(){return!((0,j.Yr)()||!xl.forceAllow_&&(xl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,j.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,j.h$)(t),i=fV(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,j.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,j.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class WT{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,j.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=lV(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=WT.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){jr("frame writing exception"),h.stack&&jr(h.stack),jr(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||jr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const c=this.pendingSegs.shift();r=r+"&seg"+i+"="+c.seg+"&ts"+i+"="+c.ts+"&d"+i+"="+c.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,j.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{jr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let AC=null;typeof MozWebSocket<"u"?AC=MozWebSocket:typeof WebSocket<"u"&&(AC=WebSocket);let pd=(()=>{class n{constructor(t,r,i,s,c,h,p){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=I7(this.connId),this.stats_=$T(r),this.connURL=n.connectionURL_(r,h,p,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,c){const h={v:"5"};return!(0,j.Yr)()&&typeof location<"u"&&location.hostname&&CV.test(location.hostname)&&(h.r="f"),r&&(h.s=r),i&&(h.ls=i),s&&(h.ac=s),c&&(h.p=c),MV(t,wV,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,g0.set("previous_websocket_failure",!0);try{let i;if((0,j.Yr)()){i={headers:{"User-Agent":`Firebase/5/${OT}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,h=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;h&&(i.proxy={origin:h})}this.mySock=new AC(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==AC&&!n.forceDisallow_}static previouslyFailed(){return g0.isInMemoryStorage||!0===g0.get("previous_websocket_failure")}markConnectionHealthy(){g0.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,j.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,j.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,j.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=fV(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),kV=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[xl,pd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=pd&&pd.isAvailable();let i=r&&!pd.previouslyFailed();if(t.webSocketOnly&&(r||Ai("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[pd];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class VV{constructor(e,t,r,i,s,c,h,p,v,b){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=v,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=I7("c:"+this.id+":"),this.transportManager_=new kV(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=x7(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=T7("t",e),r=T7("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=T7("t",e),r=T7("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=T7("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?FT("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):FT("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Ai("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),x7(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):x7(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(g0.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class HV{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class BV{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,j.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,j.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class bC extends BV{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,j.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new bC}getInitialEvent(e){return(0,j.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class gn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ln(){return new gn("")}function Vt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Dl(n){return n.pieces_.length-n.pieceNum_}function Mn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new gn(n.pieces_,e)}function ZT(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function N7(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function GV(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new gn(e,0)}function Un(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof gn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new gn(t,0)}function Ht(n){return n.pieceNum_>=n.pieces_.length}function Ui(n,e){const t=Vt(n),r=Vt(e);if(null===t)return e;if(t===r)return Ui(Mn(n),Mn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function KT(n,e){if(Dl(n)!==Dl(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function eo(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Dl(n)>Dl(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class p8e{constructor(e,t){this.errorPrefix_=t,this.parts_=N7(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,j.ug)(this.parts_[r]);$V(this)}}function $V(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+y0(n))}function y0(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class YT extends BV{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new YT}getInitialEvent(e){return(0,j.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const k7=1e3;let EC,C0=(()=>{class n extends HV{constructor(t,r,i,s,c,h,p,v){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=I7("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=k7,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,j.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");YT.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&bC.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,c={r:s,a:t,b:r};this.log_((0,j.Wl)(c)),(0,j.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new j.BH,i={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:h=>{const p=h.d;"ok"===h.s?r.resolve(p):r.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,j.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,j.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(h).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const c={p:i};t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,p=>{const v=p.d,b=p.s;n.warnOnListenWarnings_(v,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(i,s),t.onComplete&&t.onComplete(b,v))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,j.r3)(t,"w")){const i=(0,j.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();Ai(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,j.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,j.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const c=s.s,h=s.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,j.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const c={p:t};s&&(c.q=i,c.t=s),this.sendRequest("n",c)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const c={p:r,d:i};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,c){this.initConnection_();const h={p:r,d:i};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,j.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):FT("Unrecognized action received from server: "+(0,j.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,j.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=k7,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=k7,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=k7),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,oe.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,v=null;const b=function(){v?v.close():(p=!0,s())};t.realtime_={close:b,sendRequest:function(N){(0,j.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(N)}};const T=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[N,R]=yield Promise.all([t.authTokenProvider_.getToken(T),t.appCheckTokenProvider_.getToken(T)]);p?jr("getToken() completed but was canceled"):(jr("getToken() completed. Creating connection."),t.authToken_=N&&N.accessToken,t.appCheckToken_=R&&R.token,v=new VV(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,V=>{Ai(V+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(N){t.log_("Failed to get token: "+N),p||(t.repoInfo_.nodeAdmin&&Ai(N),b())}}})()}interrupt(t){jr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){jr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,j.xb)(this.interruptReasons_)&&(this.reconnectDelay_=k7,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(c=>VT(c)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new gn(t).toString();let s;if(this.listens.has(i)){const c=this.listens.get(i);s=c.get(r),c.delete(r),0===c.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){jr("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){jr("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,j.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+OT.replace(/\./g,"-")]=1,(0,j.uI)()?t["framework.cordova"]=1:(0,j.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=bC.getInstance().currentlyOnline();return(0,j.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ut{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ut(e,t)}}class wC{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Ut(Lc,e),i=new Ut(Lc,t);return 0!==this.compare(r,i)}minPost(){return Ut.MIN}}class ZV extends wC{static get __EMPTY_NODE(){return EC}static set __EMPTY_NODE(e){EC=e}compare(e,t){return _0(e.name,t.name)}isDefinedOn(e){throw(0,j.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ut.MIN}maxPost(){return new Ut(c1,EC)}makePost(e,t){return(0,j.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ut(e,EC)}toString(){return".key"}}const l1=new ZV;class MC{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,i&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let XT,ia=(()=>{class n{constructor(t,r,i,s,c){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??os.EMPTY_NODE,this.right=c??os.EMPTY_NODE}copy(t,r,i,s,c){return new n(t??this.key,r??this.value,i??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const c=i(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===c?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return os.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return os.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class os{constructor(e,t=os.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new os(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ia.BLACK,null,null))}remove(e){return new os(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ia.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new MC(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new MC(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new MC(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new MC(this.root_,null,this.comparator_,!0,e)}}function b8e(n,e){return _0(n.name,e.name)}function QT(n,e){return _0(n,e)}os.EMPTY_NODE=new class A8e{copy(e,t,r,i,s){return this}insert(e,t,r){return new ia(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const KV=function(n){return"number"==typeof n?"number:"+pV(n):"string:"+n},YV=function(n){if(n.isLeafNode()){const e=n.val();(0,j.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,j.r3)(e,".sv"),"Priority must be a string or number.")}else(0,j.hu)(n===XT||n.isEmpty(),"priority of unexpected type.");(0,j.hu)(n===XT||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let QV,XV,JV,md=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,j.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),YV(this.priorityNode_)}static set __childrenNodeConstructor(t){QV=t}static get __childrenNodeConstructor(){return QV}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Ht(t)?this:".priority"===Vt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=Vt(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,j.hu)(".priority"!==i||1===Dl(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Mn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+KV(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?pV(this.value_):this.value_,this.lazyHash_=uV(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,j.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),c=n.VALUE_TYPE_ORDER.indexOf(i);return(0,j.hu)(s>=0,"Unknown leaf type: "+r),(0,j.hu)(c>=0,"Unknown leaf type: "+i),s===c?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Dn=new class S8e extends wC{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?_0(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ut.MIN}maxPost(){return new Ut(c1,new md("[PRIORITY-POST]",JV))}makePost(e,t){const r=XV(e);return new Ut(t,new md("[PRIORITY-POST]",r))}toString(){return".priority"}},I8e=Math.log(2);class T8e{constructor(e){this.count=parseInt(Math.log(e+1)/I8e,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const SC=function(n,e,t,r){n.sort(e);const i=function(p,v){const b=v-p;let M,T;if(0===b)return null;if(1===b)return M=n[p],T=t?t(M):M,new ia(T,M.node,ia.BLACK,null,null);{const N=parseInt(b/2,10)+p,R=i(p,N),V=i(N+1,v);return M=n[N],T=t?t(M):M,new ia(T,M.node,ia.BLACK,R,V)}},h=function(p){let v=null,b=null,M=n.length;const T=function(R,V){const $=M-R,fe=M;M-=R;const xe=i($+1,fe),Oe=n[$],Te=t?t(Oe):Oe;N(new ia(Te,Oe.node,V,null,xe))},N=function(R){v?(v.left=R,v=R):(b=R,v=R)};for(let R=0;R<p.count;++R){const V=p.nextBitIsOne(),$=Math.pow(2,p.count-(R+1));V?T($,ia.BLACK):(T($,ia.BLACK),T($,ia.RED))}return b}(new T8e(n.length));return new os(r||e,h)};let JT;const gd={};class Pc{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,j.hu)(gd&&Dn,"ChildrenNode.ts has not been loaded"),JT=JT||new Pc({".priority":gd},{".priority":Dn}),JT}get(e){const t=(0,j.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof os?t:null}hasIndex(e){return(0,j.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,j.hu)(e!==l1,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(Ut.Wrap);let h,c=s.getNext();for(;c;)i=i||e.isDefinedOn(c.node),r.push(c),c=s.getNext();h=i?SC(r,e.getCompare()):gd;const p=e.toString(),v=Object.assign({},this.indexSet_);v[p]=e;const b=Object.assign({},this.indexes_);return b[p]=h,new Pc(b,v)}addToIndexes(e,t){const r=(0,j.UI)(this.indexes_,(i,s)=>{const c=(0,j.DV)(this.indexSet_,s);if((0,j.hu)(c,"Missing index implementation for "+s),i===gd){if(c.isDefinedOn(e.node)){const h=[],p=t.getIterator(Ut.Wrap);let v=p.getNext();for(;v;)v.name!==e.name&&h.push(v),v=p.getNext();return h.push(e),SC(h,c.getCompare())}return gd}{const h=t.get(e.name);let p=i;return h&&(p=p.remove(new Ut(e.name,h))),p.insert(e,e.node)}});return new Pc(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,j.UI)(this.indexes_,i=>{if(i===gd)return i;{const s=t.get(e.name);return s?i.remove(new Ut(e.name,s)):i}});return new Pc(r,this.indexSet_)}}let R7,kt=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&YV(this.priorityNode_),this.children_.isEmpty()&&(0,j.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return R7||(R7=new n(new os(QT),null,Pc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||R7}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?R7:r}}getChild(t){const r=Vt(t);return null===r?this:this.getImmediateChild(r).getChild(Mn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,j.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Ut(t,r);let s,c;r.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(i,this.children_));const h=s.isEmpty()?R7:this.priorityNode_;return new n(s,h,c)}}updateChild(t,r){const i=Vt(t);if(null===i)return r;{(0,j.hu)(".priority"!==Vt(t)||1===Dl(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Mn(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,c=!0;if(this.forEachChild(Dn,(h,p)=>{r[h]=p.val(t),i++,c&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):c=!1}),!t&&c&&s<2*i){const h=[];for(const p in r)h[p]=r[p];return h}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+KV(this.getPriority().val())+":"),this.forEachChild(Dn,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":uV(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const c=s.getPredecessorKey(new Ut(t,r));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Ut(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Ut(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Ut.Wrap);let c=s.peek();for(;null!=c&&r.compare(c,t)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Ut.Wrap);let c=s.peek();for(;null!=c&&r.compare(c,t)>0;)s.getNext(),c=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===L7?-1:0}withIndex(t){if(t===l1||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===l1||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Dn),s=r.getIterator(Dn);let c=i.getNext(),h=s.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=i.getNext(),h=s.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(t){return t===l1?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const L7=new class x8e extends kt{constructor(){super(new os(QT),kt.EMPTY_NODE,Pc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return kt.EMPTY_NODE}isEmpty(){return!1}};function Xn(n,e=null){if(null===n)return kt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,j.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new md(n,Xn(e));if(n instanceof Array){let t=kt.EMPTY_NODE;return Gr(n,(r,i)=>{if((0,j.r3)(n,r)&&"."!==r.substring(0,1)){const s=Xn(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Xn(e))}{const t=[];let r=!1;if(Gr(n,(c,h)=>{if("."!==c.substring(0,1)){const p=Xn(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),t.push(new Ut(c,p)))}}),0===t.length)return kt.EMPTY_NODE;const s=SC(t,b8e,c=>c.name,QT);if(r){const c=SC(t,Dn.getCompare());return new kt(s,Xn(e),new Pc({".priority":c},{".priority":Dn}))}return new kt(s,Xn(e),Pc.Default)}}Object.defineProperties(Ut,{MIN:{value:new Ut(Lc,kt.EMPTY_NODE)},MAX:{value:new Ut(c1,L7)}}),ZV.__EMPTY_NODE=kt.EMPTY_NODE,md.__childrenNodeConstructor=kt,function w8e(n){XT=n}(L7),function M8e(n){JV=n}(L7),function E8e(n){XV=n}(Xn);class ex extends wC{constructor(e){super(),this.indexPath_=e,(0,j.hu)(!Ht(e)&&".priority"!==Vt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?_0(e.name,t.name):s}makePost(e,t){const r=Xn(e),i=kt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ut(t,i)}maxPost(){const e=kt.EMPTY_NODE.updateChild(this.indexPath_,L7);return new Ut(c1,e)}toString(){return N7(this.indexPath_,0).join("/")}}const tx=new class N8e extends wC{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?_0(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ut.MIN}maxPost(){return Ut.MAX}makePost(e,t){const r=Xn(e);return new Ut(t,r)}toString(){return".value"}};function O7(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class ix{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Dn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,j.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,j.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Lc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,j.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,j.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:c1}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,j.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Dn}copy(){const e=new ix;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function sH(n){const e={};if(n.isDefault())return e;let t;return n.index_===Dn?t="$priority":n.index_===tx?t="$value":n.index_===l1?t="$key":((0,j.hu)(n.index_ instanceof ex,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,j.Wl)(t),n.startSet_&&(e.startAt=(0,j.Wl)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,j.Wl)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,j.Wl)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,j.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function oH(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Dn&&(e.i=n.index_.toString()),e}class TC extends HV{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=I7("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,j.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const c=TC.getListenId_(e,r),h={};this.listens_[c]=h;const p=sH(e._queryParams);this.restRequest_(s+".json",p,(v,b)=>{let M=b;if(404===v&&(M=null,v=null),null===v&&this.onDataUpdate_(s,M,!1,r),(0,j.DV)(this.listens_,c)===h){let T;T=v?401===v?"permission_denied":"rest_error:"+v:"ok",i(T,null)}})}unlisten(e,t){const r=TC.getListenId_(e,t);delete this.listens_[r]}get(e){const t=sH(e._queryParams),r=e._path.toString(),i=new j.BH;return this.restRequest_(r+".json",t,(s,c)=>{let h=c;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(r,h,!1,null),i.resolve(h)):i.reject(new Error(h))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,j.xO)(t);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,j.cI)(h.responseText)}catch{Ai("Failed to parse JSON response for "+c+": "+h.responseText)}r(null,p)}else 401!==h.status&&404!==h.status&&Ai("Got unsuccessful REST response for "+c+" Status: "+h.status),r(h.status);r=null}},h.open("GET",c,!0),h.send()})}}class H8e{constructor(){this.rootNode_=kt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function xC(){return{value:null,children:new Map}}function yd(n,e,t){if(Ht(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Vt(e);n.children.has(r)||n.children.set(r,xC()),yd(n.children.get(r),e=Mn(e),t)}}function cx(n,e,t){null!==n.value?t(e,n.value):function B8e(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{cx(i,new gn(e.toString()+"/"+r),t)})}class U8e{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Gr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class $8e{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new U8e(e);const r=1e4+2e4*Math.random();x7(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Gr(e,(i,s)=>{s>0&&(0,j.r3)(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),x7(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var to=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(to||(to={})),to))();function hx(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class DC{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=to.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Ht(this.path)){if(null!=this.affectedTree.value)return(0,j.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new gn(e));return new DC(ln(),t,this.revert)}}return(0,j.hu)(Vt(this.path)===e,"operationForChild called for unrelated child."),new DC(Mn(this.path),this.affectedTree,this.revert)}}class A0{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=to.OVERWRITE}operationForChild(e){return Ht(this.path)?new A0(this.source,ln(),this.snap.getImmediateChild(e)):new A0(this.source,Mn(this.path),this.snap)}}class Cd{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=to.MERGE}operationForChild(e){if(Ht(this.path)){const t=this.children.subtree(new gn(e));return t.isEmpty()?null:t.value?new A0(this.source,ln(),t.value):new Cd(this.source,ln(),t)}return(0,j.hu)(Vt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Cd(this.source,Mn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Nl{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ht(e))return this.isFullyInitialized()&&!this.filtered_;const t=Vt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function V7(n,e,t,r,i,s){const c=r.filter(h=>h.type===t);c.sort((h,p)=>function K8e(n,e,t){if(null==e.childName||null==t.childName)throw(0,j.g5)("Should only compare child_ events.");const r=new Ut(e.childName,e.snapshotNode),i=new Ut(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,h,p)),c.forEach(h=>{const p=function Z8e(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);i.forEach(v=>{v.respondsTo(h.type)&&e.push(v.createEvent(p,n.query_))})})}function NC(n,e){return{eventCache:n,serverCache:e}}function H7(n,e,t,r){return NC(new Nl(e,t,r),n.serverCache)}function cH(n,e,t,r){return NC(n.eventCache,new Nl(e,t,r))}function kC(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function b0(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let dx;class Nn{constructor(e,t=(()=>(dx||(dx=new os(Lfe)),dx))()){this.value=e,this.children=t}static fromObject(e){let t=new Nn(null);return Gr(e,(r,i)=>{t=t.set(new gn(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ln(),value:this.value};if(Ht(e))return null;{const r=Vt(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Mn(e),t);return null!=s?{path:Un(new gn(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ht(e))return this;{const t=Vt(e),r=this.children.get(t);return null!==r?r.subtree(Mn(e)):new Nn(null)}}set(e,t){if(Ht(e))return new Nn(t,this.children);{const r=Vt(e),s=(this.children.get(r)||new Nn(null)).set(Mn(e),t),c=this.children.insert(r,s);return new Nn(this.value,c)}}remove(e){if(Ht(e))return this.children.isEmpty()?new Nn(null):new Nn(null,this.children);{const t=Vt(e),r=this.children.get(t);if(r){const i=r.remove(Mn(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new Nn(null):new Nn(this.value,s)}return this}}get(e){if(Ht(e))return this.value;{const t=Vt(e),r=this.children.get(t);return r?r.get(Mn(e)):null}}setTree(e,t){if(Ht(e))return t;{const r=Vt(e),s=(this.children.get(r)||new Nn(null)).setTree(Mn(e),t);let c;return c=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Nn(this.value,c)}}fold(e){return this.fold_(ln(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Un(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,ln(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(Ht(e))return null;{const s=Vt(e),c=this.children.get(s);return c?c.findOnPath_(Mn(e),Un(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ln(),t)}foreachOnPath_(e,t,r){if(Ht(e))return this;{this.value&&r(t,this.value);const i=Vt(e),s=this.children.get(i);return s?s.foreachOnPath_(Mn(e),Un(t,i),r):new Nn(null)}}foreach(e){this.foreach_(ln(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Un(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class sa{constructor(e){this.writeTree_=e}static empty(){return new sa(new Nn(null))}}function B7(n,e,t){if(Ht(e))return new sa(new Nn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const c=Ui(i,e);return s=s.updateChild(c,t),new sa(n.writeTree_.set(i,s))}{const i=new Nn(t),s=n.writeTree_.setTree(e,i);return new sa(s)}}}function fx(n,e,t){let r=n;return Gr(t,(i,s)=>{r=B7(r,Un(e,i),s)}),r}function lH(n,e){if(Ht(e))return sa.empty();{const t=n.writeTree_.setTree(e,new Nn(null));return new sa(t)}}function px(n,e){return null!=w0(n,e)}function w0(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Ui(t.path,e)):null}function uH(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Dn,(r,i)=>{e.push(new Ut(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Ut(r,i.value))}),e}function kl(n,e){if(Ht(e))return n;{const t=w0(n,e);return new sa(null!=t?new Nn(t):n.writeTree_.subtree(e))}}function mx(n){return n.writeTree_.isEmpty()}function Ad(n,e){return hH(ln(),n.writeTree_,e)}function hH(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,j.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=hH(Un(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Un(n,".priority"),r)),t}}function RC(n,e){return gH(e,n)}function t5e(n,e){if(n.snap)return eo(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&eo(Un(n.path,t),e))return!0;return!1}function r5e(n){return n.visible}function dH(n,e,t){let r=sa.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const c=s.path;let h;if(s.snap)eo(t,c)?(h=Ui(t,c),r=B7(r,h,s.snap)):eo(c,t)&&(h=Ui(c,t),r=B7(r,ln(),s.snap.getChild(h)));else{if(!s.children)throw(0,j.g5)("WriteRecord should have .snap or .children");if(eo(t,c))h=Ui(t,c),r=fx(r,h,s.children);else if(eo(c,t))if(h=Ui(c,t),Ht(h))r=fx(r,ln(),s.children);else{const p=(0,j.DV)(s.children,Vt(h));if(p){const v=p.getChild(Mn(h));r=B7(r,ln(),v)}}}}}return r}function fH(n,e,t,r,i){if(r||i){const s=kl(n.visibleWrites,e);return!i&&mx(s)?t:i||null!=t||px(s,ln())?Ad(dH(n.allWrites,function(v){return(v.visible||i)&&(!r||!~r.indexOf(v.writeId))&&(eo(v.path,e)||eo(e,v.path))},e),t||kt.EMPTY_NODE):null}{const s=w0(n.visibleWrites,e);if(null!=s)return s;{const c=kl(n.visibleWrites,e);return mx(c)?t:null!=t||px(c,ln())?Ad(c,t||kt.EMPTY_NODE):null}}}function LC(n,e,t,r){return fH(n.writeTree,n.treePath,e,t,r)}function gx(n,e){return function i5e(n,e,t){let r=kt.EMPTY_NODE;const i=w0(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Dn,(s,c)=>{r=r.updateImmediateChild(s,c)}),r;if(t){const s=kl(n.visibleWrites,e);return t.forEachChild(Dn,(c,h)=>{const p=Ad(kl(s,new gn(c)),h);r=r.updateImmediateChild(c,p)}),uH(s).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}return uH(kl(n.visibleWrites,e)).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}(n.writeTree,n.treePath,e)}function pH(n,e,t,r){return function s5e(n,e,t,r,i){(0,j.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Un(e,t);if(px(n.visibleWrites,s))return null;{const c=kl(n.visibleWrites,s);return mx(c)?i.getChild(t):Ad(c,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function PC(n,e){return function a5e(n,e){return w0(n.visibleWrites,e)}(n.writeTree,Un(n.treePath,e))}function vx(n,e,t){return function o5e(n,e,t,r){const i=Un(e,t),s=w0(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?Ad(kl(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function mH(n,e){return gH(Un(n.treePath,e),n.writeTree)}function gH(n,e){return{treePath:n,writeTree:e}}class h5e{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,j.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,j.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,O7(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,function P7(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,function _d(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,j.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,O7(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const vH=new class d5e{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class _x{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Nl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vx(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:b0(this.viewCache_),s=function u5e(n,e,t,r,i,s){return function c5e(n,e,t,r,i,s,c){let h;const p=kl(n.visibleWrites,e),v=w0(p,ln());if(null!=v)h=v;else{if(null==t)return[];h=Ad(p,t)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const b=[],M=c.getCompare(),T=s?h.getReverseIteratorFrom(r,c):h.getIteratorFrom(r,c);let N=T.getNext();for(;N&&b.length<i;)0!==M(N,r)&&b.push(N),N=T.getNext();return b}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function _H(n,e,t,r,i,s){const c=e.eventCache;if(null!=PC(r,t))return e;{let h,p;if(Ht(t))if((0,j.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=b0(e),M=gx(r,v instanceof kt?v:kt.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),M,s)}else{const v=LC(r,b0(e));h=n.filter.updateFullNode(e.eventCache.getNode(),v,s)}else{const v=Vt(t);if(".priority"===v){(0,j.hu)(1===Dl(t),"Can't have a priority with additional path components");const b=c.getNode();p=e.serverCache.getNode();const M=pH(r,t,b,p);h=null!=M?n.filter.updatePriority(b,M):c.getNode()}else{const b=Mn(t);let M;if(c.isCompleteForChild(v)){p=e.serverCache.getNode();const T=pH(r,t,c.getNode(),p);M=null!=T?c.getNode().getImmediateChild(v).updateChild(b,T):c.getNode().getImmediateChild(v)}else M=vx(r,v,e.serverCache);h=null!=M?n.filter.updateChild(c.getNode(),v,M,b,i,s):c.getNode()}}return H7(e,h,c.isFullyInitialized()||Ht(t),n.filter.filtersNodes())}}function OC(n,e,t,r,i,s,c,h){const p=e.serverCache;let v;const b=c?n.filter:n.filter.getIndexedFilter();if(Ht(t))v=b.updateFullNode(p.getNode(),r,null);else if(b.filtersNodes()&&!p.isFiltered()){const N=p.getNode().updateChild(t,r);v=b.updateFullNode(p.getNode(),N,null)}else{const N=Vt(t);if(!p.isCompleteForPath(t)&&Dl(t)>1)return e;const R=Mn(t),$=p.getNode().getImmediateChild(N).updateChild(R,r);v=".priority"===N?b.updatePriority(p.getNode(),$):b.updateChild(p.getNode(),N,$,R,vH,null)}const M=cH(e,v,p.isFullyInitialized()||Ht(t),b.filtersNodes());return _H(n,M,t,i,new _x(i,M,s),h)}function yx(n,e,t,r,i,s,c){const h=e.eventCache;let p,v;const b=new _x(i,e,s);if(Ht(t))v=n.filter.updateFullNode(e.eventCache.getNode(),r,c),p=H7(e,v,!0,n.filter.filtersNodes());else{const M=Vt(t);if(".priority"===M)v=n.filter.updatePriority(e.eventCache.getNode(),r),p=H7(e,v,h.isFullyInitialized(),h.isFiltered());else{const T=Mn(t),N=h.getNode().getImmediateChild(M);let R;if(Ht(T))R=r;else{const V=b.getCompleteChild(M);R=null!=V?".priority"===ZT(T)&&V.getChild(GV(T)).isEmpty()?V:V.updateChild(T,r):kt.EMPTY_NODE}p=N.equals(R)?e:H7(e,n.filter.updateChild(h.getNode(),M,R,T,b,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function yH(n,e){return n.eventCache.isCompleteForChild(e)}function CH(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Cx(n,e,t,r,i,s,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,p=e;v=Ht(t)?r:new Nn(null).setTree(t,r);const b=e.serverCache.getNode();return v.children.inorderTraversal((M,T)=>{if(b.hasChild(M)){const R=CH(0,e.serverCache.getNode().getImmediateChild(M),T);p=OC(n,p,new gn(M),R,i,s,c,h)}}),v.children.inorderTraversal((M,T)=>{const N=!e.serverCache.isCompleteForChild(M)&&null===T.value;if(!b.hasChild(M)&&!N){const V=CH(0,e.serverCache.getNode().getImmediateChild(M),T);p=OC(n,p,new gn(M),V,i,s,c,h)}}),p}function E5e(n,e){const t=b0(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Ht(e)&&!t.getImmediateChild(Vt(e)).isEmpty())?t.getChild(e):null}function wH(n,e,t,r){e.type===to.MERGE&&null!==e.source.queryId&&((0,j.hu)(b0(n.viewCache_),"We should always have a full cache before handling merges"),(0,j.hu)(kC(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function m5e(n,e,t,r,i){const s=new h5e;let c,h;if(t.type===to.OVERWRITE){const v=t;v.source.fromUser?c=yx(n,e,v.path,v.snap,r,i,s):((0,j.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered()&&!Ht(v.path),c=OC(n,e,v.path,v.snap,r,i,h,s))}else if(t.type===to.MERGE){const v=t;v.source.fromUser?c=function v5e(n,e,t,r,i,s,c){let h=e;return r.foreach((p,v)=>{const b=Un(t,p);yH(e,Vt(b))&&(h=yx(n,h,b,v,i,s,c))}),r.foreach((p,v)=>{const b=Un(t,p);yH(e,Vt(b))||(h=yx(n,h,b,v,i,s,c))}),h}(n,e,v.path,v.children,r,i,s):((0,j.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered(),c=Cx(n,e,v.path,v.children,r,i,h,s))}else if(t.type===to.ACK_USER_WRITE){const v=t;c=v.revert?function C5e(n,e,t,r,i,s){let c;if(null!=PC(r,t))return e;{const h=new _x(r,e,i),p=e.eventCache.getNode();let v;if(Ht(t)||".priority"===Vt(t)){let b;if(e.serverCache.isFullyInitialized())b=LC(r,b0(e));else{const M=e.serverCache.getNode();(0,j.hu)(M instanceof kt,"serverChildren would be complete if leaf node"),b=gx(r,M)}v=n.filter.updateFullNode(p,b,s)}else{const b=Vt(t);let M=vx(r,b,e.serverCache);null==M&&e.serverCache.isCompleteForChild(b)&&(M=p.getImmediateChild(b)),v=null!=M?n.filter.updateChild(p,b,M,Mn(t),h,s):e.eventCache.getNode().hasChild(b)?n.filter.updateChild(p,b,kt.EMPTY_NODE,Mn(t),h,s):p,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=LC(r,b0(e)),c.isLeafNode()&&(v=n.filter.updateFullNode(v,c,s)))}return c=e.serverCache.isFullyInitialized()||null!=PC(r,ln()),H7(e,v,c,n.filter.filtersNodes())}}(n,e,v.path,r,i,s):function _5e(n,e,t,r,i,s,c){if(null!=PC(i,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=r.value){if(Ht(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return OC(n,e,t,p.getNode().getChild(t),i,s,h,c);if(Ht(t)){let v=new Nn(null);return p.getNode().forEachChild(l1,(b,M)=>{v=v.set(new gn(b),M)}),Cx(n,e,t,v,i,s,h,c)}return e}{let v=new Nn(null);return r.foreach((b,M)=>{const T=Un(t,b);p.isCompleteForPath(T)&&(v=v.set(b,p.getNode().getChild(T)))}),Cx(n,e,t,v,i,s,h,c)}}(n,e,v.path,v.affectedTree,r,i,s)}else{if(t.type!==to.LISTEN_COMPLETE)throw(0,j.g5)("Unknown operation type: "+t.type);c=function y5e(n,e,t,r,i){const s=e.serverCache;return _H(n,cH(e,s.getNode(),s.isFullyInitialized()||Ht(t),s.isFiltered()),t,r,vH,i)}(n,e,t.path,r,s)}const p=s.getChanges();return function g5e(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=kC(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(function iH(n){return{type:"value",snapshotNode:n}}(kC(e)))}}(e,c,p),{viewCache:c,changes:p}}(n.processor_,i,e,t,r);return function p5e(n,e){(0,j.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,j.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,j.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function EH(n,e,t,r){return function q8e(n,e,t,r){const i=[],s=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function R8e(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),V7(n,i,"child_removed",e,r,t),V7(n,i,"child_added",e,r,t),V7(n,i,"child_moved",s,r,t),V7(n,i,"child_changed",e,r,t),V7(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let zC,VC;function Ax(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return(0,j.hu)(null!=s,"SyncTree gave us an op for an invalid query."),wH(s,e,t,r)}{let s=[];for(const c of n.views.values())s=s.concat(wH(c,e,t,r));return s}}function Rl(n,e){let t=null;for(const r of n.views.values())t=t||E5e(r,e);return t}class DH{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Nn(null),this.pendingWriteTree_=function l5e(){return{visibleWrites:sa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function bx(n,e,t,r,i){return function Q8e(n,e,t,r,i){(0,j.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=B7(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?bd(n,new A0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Pl(n,e,t=!1){const r=function J8e(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function e5e(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,j.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,c=n.allWrites.length-1;for(;i&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=t&&t5e(h,r.path)?i=!1:eo(r.path,h.path)&&(s=!0)),c--}return!!i&&(s?(function n5e(n){n.visibleWrites=dH(n.allWrites,r5e,ln()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=lH(n.visibleWrites,r.path):Gr(r.children,p=>{n.visibleWrites=lH(n.visibleWrites,Un(r.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new Nn(null);return null!=r.snap?s=s.set(ln(),!0):Gr(r.children,c=>{s=s.set(new gn(c),!0)}),bd(n,new DC(r.path,s,t))}return[]}function U7(n,e,t){return bd(n,new A0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function BC(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(c,h)=>{const v=Rl(h,Ui(c,e));if(v)return v});return fH(i,e,s,t,!0)}function bd(n,e){return kH(e,n.syncPointTree_,null,RC(n.pendingWriteTree_,ln()))}function kH(n,e,t,r){if(Ht(n.path))return RH(n,e,t,r);{const i=e.get(ln());null==t&&null!=i&&(t=Rl(i,ln()));let s=[];const c=Vt(n.path),h=n.operationForChild(c),p=e.children.get(c);if(p&&h){const v=t?t.getImmediateChild(c):null,b=mH(r,c);s=s.concat(kH(h,p,v,b))}return i&&(s=s.concat(Ax(i,n,r,t))),s}}function RH(n,e,t,r){const i=e.get(ln());null==t&&null!=i&&(t=Rl(i,ln()));let s=[];return e.children.inorderTraversal((c,h)=>{const p=t?t.getImmediateChild(c):null,v=mH(r,c),b=n.operationForChild(c);b&&(s=s.concat(RH(b,h,p,v)))}),i&&(s=s.concat(Ax(i,n,r,t))),s}function Ex(n,e){return n.tagToQueryMap.get(e)}function Mx(n){const e=n.indexOf("$");return(0,j.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new gn(n.substr(0,e))}}function Sx(n,e,t){const r=n.syncPointTree_.get(e);return(0,j.hu)(r,"Missing sync point for query tag that we're tracking"),Ax(r,t,RC(n.pendingWriteTree_,e),null)}class Ix{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ix(t)}node(){return this.node_}}class Tx{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Un(this.path_,e);return new Tx(this.syncTree_,t)}node(){return BC(this.syncTree_,this.path_)}}const PH=function(n,e,t){return n&&"object"==typeof n?((0,j.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?W5e(n[".sv"],e,t):"object"==typeof n[".sv"]?q5e(n[".sv"],e):void(0,j.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},W5e=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,j.hu)(!1,"Unexpected server value: "+n)},q5e=function(n,e,t){n.hasOwnProperty("increment")||(0,j.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,j.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,j.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const c=i.getValue();return"number"!=typeof c?r:c+r},xx=function(n,e,t){return Dx(n,new Ix(e),t)};function Dx(n,e,t){const r=n.getPriority().val(),i=PH(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const c=n,h=PH(c.getValue(),e,t);return h!==c.getValue()||i!==c.getPriority().val()?new md(h,Xn(i)):n}{const c=n;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new md(i))),c.forEachChild(Dn,(h,p)=>{const v=Dx(p,e.getImmediateChild(h),t);v!==p&&(s=s.updateImmediateChild(h,v))}),s}}class Nx{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function jC(n,e){let t=e instanceof gn?e:new gn(e),r=n,i=Vt(t);for(;null!==i;){const s=(0,j.DV)(r.node.children,i)||{children:{},childCount:0};r=new Nx(i,r,s),t=Mn(t),i=Vt(t)}return r}function E0(n){return n.node.value}function kx(n,e){n.node.value=e,Rx(n)}function zH(n){return n.node.childCount>0}function GC(n,e){Gr(n.node.children,(t,r)=>{e(new Nx(t,n,r))})}function FH(n,e,t,r){t&&!r&&e(n),GC(n,i=>{FH(i,e,!0,r)}),t&&r&&e(n)}function $7(n){return new gn(null===n.parent?n.name:$7(n.parent)+"/"+n.name)}function Rx(n){null!==n.parent&&function Y5e(n,e,t){const r=function Z5e(n){return void 0===E0(n)&&!zH(n)}(t),i=(0,j.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,Rx(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,Rx(n))}(n.parent,n.name,n)}const Q5e=/[\[\].#$\/\u0000-\u001F\u007F]/,X5e=/[\[\].#$\u0000-\u001F\u007F]/,Lx=10485760,$C=function(n){return"string"==typeof n&&0!==n.length&&!Q5e.test(n)},q7=function(n,e,t){const r=t instanceof gn?new p8e(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+y0(r));if("function"==typeof e)throw new Error(n+"contains a function "+y0(r)+" with contents = "+e.toString());if(_C(e))throw new Error(n+"contains "+e.toString()+" "+y0(r));if("string"==typeof e&&e.length>Lx/3&&(0,j.ug)(e)>Lx)throw new Error(n+"contains a string greater than "+Lx+" utf8 bytes "+y0(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Gr(e,(c,h)=>{if(".value"===c)i=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!$C(c)))throw new Error(n+" contains an invalid key ("+c+") "+y0(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function m8e(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,j.ug)(e),$V(n)})(r,c),q7(n,h,r),function g8e(n){const e=n.parts_.pop();n.byteLength_-=(0,j.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+y0(r)+" in addition to actual children.")}},BH=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!$C(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!X5e.test(n)}(n)}(t))throw new Error((0,j.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class npe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xs(n,e,t){(function WC(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!KT(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function jH(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(rpe(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>eo(r,e)||eo(e,r))}function rpe(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();v0&&jr("event: "+t.toString()),fd(r)}}}class spe{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new npe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xC(),this.transactionQueueTree_=new Nx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $H(n){const t=n.infoData_.getNode(new gn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function K7(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:$H(n)})}function WH(n,e,t,r,i){n.dataUpdateCount++;const s=new gn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(i)if(r){const p=(0,j.UI)(t,v=>Xn(v));c=function V5e(n,e,t,r){const i=Ex(n,r);if(i){const s=Mx(i),c=s.path,h=s.queryId,p=Ui(c,e),v=Nn.fromObject(t);return Sx(n,c,new Cd(hx(h),p,v))}return[]}(n.serverSyncTree_,s,p,i)}else{const p=Xn(t);c=function NH(n,e,t,r){const i=Ex(n,r);if(null!=i){const s=Mx(i),c=s.path,h=s.queryId,p=Ui(c,e);return Sx(n,c,new A0(hx(h),p,t))}return[]}(n.serverSyncTree_,s,p,i)}else if(r){const p=(0,j.UI)(t,v=>Xn(v));c=function O5e(n,e,t){const r=Nn.fromObject(t);return bd(n,new Cd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,p)}else{const p=Xn(t);c=U7(n.serverSyncTree_,s,p)}let h=s;c.length>0&&(h=Ed(n,s)),xs(n.eventQueue_,h,c)}function qH(n,e){zx(n,"connected",e),!1===e&&function upe(n){wd(n,"onDisconnectEvents");const e=K7(n),t=xC();cx(n.onDisconnect_,ln(),(i,s)=>{const c=function(n,e,t,r){return Dx(e,new Tx(t,n),r)}(i,s,n.serverSyncTree_,e);yd(t,i,c)});let r=[];cx(t,ln(),(i,s)=>{r=r.concat(U7(n.serverSyncTree_,i,s));const c=function Bx(n,e){const t=$7(YH(n,e)),r=jC(n.transactionQueueTree_,e);return function K5e(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{Ux(n,i)}),Ux(n,r),FH(r,i=>{Ux(n,i)}),t}(n,i);Ed(n,c)}),n.onDisconnect_=xC(),xs(n.eventQueue_,ln(),r)}(n)}function zx(n,e,t){const r=new gn("/.info/"+e),i=Xn(t);n.infoData_.updateSnapshot(r,i);const s=U7(n.infoSyncTree_,r,i);xs(n.eventQueue_,r,s)}function qC(n){return n.nextWriteId_++}function wd(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),jr(t,...e)}function Hx(n,e,t){return BC(n.serverSyncTree_,e,t)||kt.EMPTY_NODE}function ZC(n,e=n.transactionQueueTree_){if(e||KC(n,e),E0(e)){const t=QH(n,e);(0,j.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function vpe(n,e,t){const r=t.map(v=>v.currentWriteId),i=Hx(n,e,r);let s=i;const c=i.hash();for(let v=0;v<t.length;v++){const b=t[v];(0,j.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const M=Ui(e,b.path);s=s.updateChild(M,b.currentOutputSnapshotRaw)}const h=s.val(!0),p=e;n.server_.put(p.toString(),h,v=>{wd(n,"transaction put response",{path:p.toString(),status:v});let b=[];if("ok"===v){const M=[];for(let T=0;T<t.length;T++)t[T].status=2,b=b.concat(Pl(n.serverSyncTree_,t[T].currentWriteId)),t[T].onComplete&&M.push(()=>t[T].onComplete(null,!0,t[T].currentOutputSnapshotResolved)),t[T].unwatcher();KC(n,jC(n.transactionQueueTree_,e)),ZC(n,n.transactionQueueTree_),xs(n.eventQueue_,e,b);for(let T=0;T<M.length;T++)fd(M[T])}else{if("datastale"===v)for(let M=0;M<t.length;M++)t[M].status=3===t[M].status?4:0;else{Ai("transaction at "+p.toString()+" failed: "+v);for(let M=0;M<t.length;M++)t[M].status=4,t[M].abortReason=v}Ed(n,e)}},c)}(n,$7(e),t)}else zH(e)&&GC(e,t=>{ZC(n,t)})}function Ed(n,e){const t=YH(n,e),r=$7(t);return function _pe(n,e,t){if(0===e.length)return;const r=[];let i=[];const c=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],v=Ui(t,p.path);let M,b=!1;if((0,j.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,M=p.abortReason,i=i.concat(Pl(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)b=!0,M="maxretry",i=i.concat(Pl(n.serverSyncTree_,p.currentWriteId,!0));else{const T=Hx(n,p.path,c);p.currentInputSnapshot=T;const N=e[h].update(T.val());if(void 0!==N){q7("transaction failed: Data returned ",N,p.path);let R=Xn(N);"object"==typeof N&&null!=N&&(0,j.r3)(N,".priority")||(R=R.updatePriority(T.getPriority()));const $=p.currentWriteId,fe=K7(n),xe=xx(R,T,fe);p.currentOutputSnapshotRaw=R,p.currentOutputSnapshotResolved=xe,p.currentWriteId=qC(n),c.splice(c.indexOf($),1),i=i.concat(bx(n.serverSyncTree_,p.path,xe,p.currentWriteId,p.applyLocally)),i=i.concat(Pl(n.serverSyncTree_,$,!0))}else b=!0,M="nodata",i=i.concat(Pl(n.serverSyncTree_,p.currentWriteId,!0))}xs(n.eventQueue_,t,i),i=[],b&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&r.push("nodata"===M?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(M),!1,null)))}KC(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)fd(r[h]);ZC(n,n.transactionQueueTree_)}(n,QH(n,t),r),r}function YH(n,e){let t,r=n.transactionQueueTree_;for(t=Vt(e);null!==t&&void 0===E0(r);)r=jC(r,t),t=Vt(e=Mn(e));return r}function QH(n,e){const t=[];return XH(n,e,t),t.sort((r,i)=>r.order-i.order),t}function XH(n,e,t){const r=E0(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);GC(e,i=>{XH(n,i,t)})}function KC(n,e){const t=E0(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,kx(e,t.length>0?t:void 0)}GC(e,r=>{KC(n,r)})}function Ux(n,e){const t=E0(e);if(t){const r=[];let i=[],s=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,j.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,t[c].status=3,t[c].abortReason="set"):((0,j.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),i=i.concat(Pl(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&r.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?kx(e,void 0):t.length=s+1,xs(n.eventQueue_,$7(e),i);for(let c=0;c<r.length;c++)fd(r[c])}}const jx=function(n,e){const t=Ape(n),r=t.namespace;return"firebase.com"===t.domain&&a1(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&a1("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ai("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new UT(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new gn(t.pathString)}},Ape=function(n){let e="",t="",r="",i="",s="",c=!0,h="https",p=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(h=n.substring(0,v-1),n=n.substring(v+2));let b=n.indexOf("/");-1===b&&(b=n.length);let M=n.indexOf("?");-1===M&&(M=n.length),e=n.substring(0,Math.min(b,M)),b<M&&(i=function ype(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(b,M)));const T=function Cpe(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ai(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,M)));v=e.indexOf(":"),v>=0?(c="https"===h||"wss"===h,p=parseInt(e.substring(v+1),10)):v=e.length;const N=e.slice(0,v);if("localhost"===N.toLowerCase())t="localhost";else if(N.split(".").length<=2)t=N;else{const R=e.indexOf(".");r=e.substring(0,R).toLowerCase(),t=e.substring(R+1),s=r}"ns"in T&&(s=T.ns)}return{host:e,port:p,domain:t,subdomain:r,secure:c,scheme:h,pathString:i,namespace:s}};class Ds{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Ht(this._path)?null:ZT(this._path)}get ref(){return new oa(this._repo,this._path)}get _queryIdentifier(){const e=oH(this._queryParams),t=VT(e);return"{}"===t?"default":t}get _queryObject(){return oH(this._queryParams)}isEqual(e){if(!((e=(0,j.m9)(e))instanceof Ds))return!1;const t=this._repo===e._repo,r=KT(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function d8e(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class oa extends Ds{constructor(e,t){super(e,t,new ix,!1)}get parent(){const e=GV(this._path);return null===e?null:new oa(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function I5e(n){(0,j.hu)(!zC,"__referenceConstructor has already been defined"),zC=n})(oa),function k5e(n){(0,j.hu)(!VC,"__referenceConstructor has already been defined"),VC=n}(oa);const $x={};class Hpe{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ope(n,e,t){if(n.stats_=$T(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new TC(n.repoInfo_,(r,i,s,c)=>{WH(n,r,i,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>qH(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,j.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new C0(n.repoInfo_,e,(r,i,s,c)=>{WH(n,r,i,s,c)},r=>{qH(n,r)},r=>{!function ape(n,e){Gr(e,(t,r)=>{zx(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Gfe(n,e){const t=n.toString();return GT[t]||(GT[t]=e()),GT[t]}(n.repoInfo_,()=>new $8e(n.stats_,n.server_)),n.infoData_=new H8e,n.infoSyncTree_=new DH({startListening:(r,i,s,c)=>{let h=[];const p=n.infoData_.getNode(r._path);return p.isEmpty()||(h=U7(n.infoSyncTree_,r._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),zx(n,"connected",!1),n.serverSyncTree_=new DH({startListening:(r,i,s,c)=>(n.server_.listen(r,s,i,(h,p)=>{const v=c(h,p);xs(n.eventQueue_,r._path,v)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new oa(this._repo,ln())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function zpe(n,e){const t=$x[e];(!t||t[n.key]!==n)&&a1(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function KH(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&a1("Cannot call "+e+" on a deleted database.")}}function Bpe(n=(0,mt.getApp)(),e){const t=(0,mt._getProvider)(n,"database").getImmediate({identifier:e}),r=(0,j.P0)("database");return r&&function Upe(n,e,t,r={}){(n=(0,j.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&a1("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&a1('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new D7(D7.OWNER);else if(r.mockUserToken){const c="string"==typeof r.mockUserToken?r.mockUserToken:(0,j.Sg)(r.mockUserToken,n.app.options.projectId);s=new D7(c)}!function Ppe(n,e,t,r){n.repoInfo_=new UT(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(t,...r),t}C0.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},C0.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function jpe(n){(function xfe(n){OT=n})(mt.SDK_VERSION),(0,mt._registerComponent)(new Pi.wA("database",(e,{instanceIdentifier:t})=>function Ope(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||a1("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),jr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,v,c=jx(s,i),h=c.repoInfo;typeof process<"u"&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(p=!0,s=`http://${v}?ns=${h.namespace}`,c=jx(s,i),h=c.repoInfo):p=!c.repoInfo.secure;const b=i&&p?new D7(D7.OWNER):new Bfe(n.name,n.options,e);BH("Invalid Firebase Database URL",c),Ht(c.path)||a1("Database URL must point to the root of a Firebase Database (not including a child path).");const M=function Fpe(n,e,t,r){let i=$x[e.name];i||(i={},$x[e.name]=i);let s=i[n.toURLString()];return s&&a1("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new spe(n,!1,t,r),i[n.toURLString()]=s,s}(h,n,b,new Hfe(n.name,t));return new Hpe(M,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,mt.registerVersion)(oV,aV,n),(0,mt.registerVersion)(oV,aV,"esm2017")}();class Wx{constructor(e){return e}}const oB="database",qx=new u.OlP("angularfire2.database-instances");function Zpe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Wx(r)}}const Kpe={provide:class Wpe{constructor(){return Q2(oB)}},deps:[[new u.FiY,qx]]},Ype={provide:Wx,useFactory:function qpe(n,e){const t=Y2(oB,n,e);return t&&new Wx(t)},deps:[[new u.FiY,qx],gc]};let Qpe=(()=>{class n{constructor(){(0,mt.registerVersion)("angularfire",pc.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Ype,Kpe]}),n})();function Xpe(n,...e){return{ngModule:Qpe,providers:[{provide:qx,useFactory:Zpe(n),multi:!0,deps:[u.R0b,u.zs3,X2,Za,[new u.FiY,J5],[new u.FiY,ol],...e]}]}}const Jpe=Or(Bpe,!0);class e7e extends Cn.x{constructor(e=1/0,t=1/0,r=T5){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:c}=this;t||(r.push(e),!i&&r.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let c=0;c<s.length&&!e.closed;c+=r?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const c=t.now();let h=0;for(let p=1;p<r.length&&r[p]<=c;p+=2)h=p;h&&r.splice(0,h+1)}}}var t7e=P(3099);function aB(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,t7e.B)({connector:()=>new e7e(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function cB(n,e){return(0,Zn.m)(e)?zn(()=>n,e):zn(()=>n)}var Sd=P(2011),n7e=P(127);const i7e=new u.OlP("angularfire2.auth.use-emulator"),s7e=new u.OlP("angularfire2.auth.settings"),o7e=new u.OlP("angularfire2.auth.tenant-id"),a7e=new u.OlP("angularfire2.auth.langugage-code"),c7e=new u.OlP("angularfire2.auth.use-device-language"),l7e=new u.OlP("angularfire.auth.persistence");let lB=(()=>{class n{constructor(t,r,i,s,c,h,p,v,b,M,T,N){const R=new Cn.x,V=nt(void 0).pipe((0,K2.Q)(c.outsideAngular),zn(()=>s.runOutsideAngular(()=>P.e(881).then(P.bind(P,5881)))),(0,St.U)(()=>(0,Sd.on)(t,s,r)),(0,St.U)($=>((n,e,t,r,i,s,c,h)=>(0,Sd.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),r&&(p.tenantId=r),p.languageCode=i,s&&p.useDeviceLanguage(),c)for(const[v,b]of Object.entries(c))p.settings[v]=b;return h&&p.setPersistence(h),p},[t,r,i,s,c,h]))($,s,h,v,b,M,p,T)),aB({bufferSize:1,refCount:!1}));if(function Gc(n){return"server"===n}(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=nt(null);else{V.pipe(ds()).subscribe();const fe=V.pipe(zn(Te=>Te.getRedirectResult().then(Je=>Je,()=>null)),Qw,aB({bufferSize:1,refCount:!1})),xe=V.pipe(zn(Te=>new Ir.y(Je=>({unsubscribe:s.runOutsideAngular(()=>Te.onAuthStateChanged(Qe=>Je.next(Qe),Qe=>Je.error(Qe),()=>Je.complete()))})))),Oe=V.pipe(zn(Te=>new Ir.y(Je=>({unsubscribe:s.runOutsideAngular(()=>Te.onIdTokenChanged(Qe=>Je.next(Qe),Qe=>Je.error(Qe),()=>Je.complete()))}))));this.authState=fe.pipe(cB(xe),(0,th.R)(c.outsideAngular),(0,K2.Q)(c.insideAngular)),this.user=fe.pipe(cB(Oe),(0,th.R)(c.outsideAngular),(0,K2.Q)(c.insideAngular)),this.idToken=this.user.pipe(zn(Te=>Te?(0,yn.D)(Te.getIdToken()):nt(null))),this.idTokenResult=this.user.pipe(zn(Te=>Te?(0,yn.D)(Te.getIdTokenResult()):nt(null))),this.credential=(0,JP.T)(fe,R,this.authState.pipe(Zr(Te=>!Te))).pipe((0,St.U)(Te=>Te?.user?Te:null),(0,th.R)(c.outsideAngular),(0,K2.Q)(c.insideAngular))}return(0,Sd.pX)(this,V,s,{spy:{apply:($,fe,xe)=>{($.startsWith("signIn")||$.startsWith("createUser"))&&xe.then(Oe=>R.next(Oe))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Sd.Dh),u.LFG(Sd.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(X2),u.LFG(i7e,8),u.LFG(s7e,8),u.LFG(o7e,8),u.LFG(a7e,8),u.LFG(c7e,8),u.LFG(l7e,8),u.LFG(ol,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),h7e=(()=>{class n{constructor(){n7e.Z.registerVersion("angularfire",pc.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[lB]}),n})(),d7e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[W6e]}),n.\u0275inj=u.cJS({providers:[cl],imports:[wo,gm,pQ,The,Tfe,PO,Y9,T8,kv(()=>Jw(sV_firebase)),Xpe(()=>Jpe()),xW(()=>DW()),UY(()=>jY()),bN(()=>I()),FP,h7e]}),n})();(0,u.G48)(),T1().bootstrapModule(d7e).catch(n=>console.error(n))},127:(dt,Me,P)=>{P.d(Me,{Z:()=>u.Z});var u=P(3942);u.Z.registerVersion("firebase","9.14.0","app-compat")},9751:(dt,Me,P)=>{P.d(Me,{y:()=>Ee});var u=P(930),z=P(727),ie=P(8822),de=P(9635),Ce=P(2416),ve=P(576),pe=P(2806);let Ee=(()=>{class Y{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const be=new Y;return be.source=this,be.operator=Pe,be}subscribe(Pe,be,Ze){const re=function U(Y){return Y&&Y instanceof u.Lv||function B(Y){return Y&&(0,ve.m)(Y.next)&&(0,ve.m)(Y.error)&&(0,ve.m)(Y.complete)}(Y)&&(0,z.Nn)(Y)}(Pe)?Pe:new u.Hp(Pe,be,Ze);return(0,pe.x)(()=>{const{operator:ce,source:et}=this;re.add(ce?ce.call(re,et):et?this._subscribe(re):this._trySubscribe(re))}),re}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(be){Pe.error(be)}}forEach(Pe,be){return new(be=ke(be))((Ze,re)=>{const ce=new u.Hp({next:et=>{try{Pe(et)}catch(Xe){re(Xe),ce.unsubscribe()}},error:re,complete:Ze});this.subscribe(ce)})}_subscribe(Pe){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(Pe)}[ie.L](){return this}pipe(...Pe){return(0,de.U)(Pe)(this)}toPromise(Pe){return new(Pe=ke(Pe))((be,Ze)=>{let re;this.subscribe(ce=>re=ce,ce=>Ze(ce),()=>be(re))})}}return Y.create=Fe=>new Y(Fe),Y})();function ke(Y){var Fe;return null!==(Fe=Y??Ce.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(dt,Me,P)=>{P.d(Me,{x:()=>pe});var u=P(9751),z=P(727);const de=(0,P(3888).d)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=P(8737),ve=P(2806);let pe=(()=>{class ke extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const Y=new Ee(this,this);return Y.operator=U,Y}_throwIfClosed(){if(this.closed)throw new de}next(U){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(U)}})}error(U){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:Y}=this;for(;Y.length;)Y.shift().error(U)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:Y,isStopped:Fe,observers:Pe}=this;return Y||Fe?z.Lc:(this.currentObservers=null,Pe.push(U),new z.w0(()=>{this.currentObservers=null,(0,Ce.P)(Pe,U)}))}_checkFinalizedStatuses(U){const{hasError:Y,thrownError:Fe,isStopped:Pe}=this;Y?U.error(Fe):Pe&&U.complete()}asObservable(){const U=new u.y;return U.source=this,U}}return ke.create=(B,U)=>new Ee(B,U),ke})();class Ee extends pe{constructor(B,U){super(),this.destination=B,this.source=U}next(B){var U,Y;null===(Y=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===Y||Y.call(U,B)}error(B){var U,Y;null===(Y=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===Y||Y.call(U,B)}complete(){var B,U;null===(U=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===U||U.call(B)}_subscribe(B){var U,Y;return null!==(Y=null===(U=this.source)||void 0===U?void 0:U.subscribe(B))&&void 0!==Y?Y:z.Lc}}},930:(dt,Me,P)=>{P.d(Me,{Hp:()=>Ze,Lv:()=>Y});var u=P(576),z=P(727),ie=P(2416),de=P(7849),Ce=P(5032);const ve=ke("C",void 0,void 0);function ke(Se,Ae,me){return{kind:Se,value:Ae,error:me}}var B=P(3410),U=P(2806);class Y extends z.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,z.Nn)(Ae)&&Ae.add(this)):this.destination=Xe}static create(Ae,me,Ve){return new Ze(Ae,me,Ve)}next(Ae){this.isStopped?et(function Ee(Se){return ke("N",Se,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?et(function pe(Se){return ke("E",void 0,Se)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?et(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function Pe(Se,Ae){return Fe.call(Se,Ae)}class be{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:me}=this;if(me.next)try{me.next(Ae)}catch(Ve){re(Ve)}}error(Ae){const{partialObserver:me}=this;if(me.error)try{me.error(Ae)}catch(Ve){re(Ve)}else re(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(me){re(me)}}}class Ze extends Y{constructor(Ae,me,Ve){let ee;if(super(),(0,u.m)(Ae)||!Ae)ee={next:Ae??void 0,error:me??void 0,complete:Ve??void 0};else{let ne;this&&ie.v.useDeprecatedNextContext?(ne=Object.create(Ae),ne.unsubscribe=()=>this.unsubscribe(),ee={next:Ae.next&&Pe(Ae.next,ne),error:Ae.error&&Pe(Ae.error,ne),complete:Ae.complete&&Pe(Ae.complete,ne)}):ee=Ae}this.destination=new be(ee)}}function re(Se){ie.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(Se):(0,de.h)(Se)}function et(Se,Ae){const{onStoppedNotification:me}=ie.v;me&&B.z.setTimeout(()=>me(Se,Ae))}const Xe={closed:!0,next:Ce.Z,error:function ce(Se){throw Se},complete:Ce.Z}},727:(dt,Me,P)=>{P.d(Me,{Lc:()=>ve,w0:()=>Ce,Nn:()=>pe});var u=P(576);const ie=(0,P(3888).d)(ke=>function(U){ke(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((Y,Fe)=>`${Fe+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var de=P(8737);class Ce{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const Pe of U)Pe.remove(this);else U.remove(this);const{initialTeardown:Y}=this;if((0,u.m)(Y))try{Y()}catch(Pe){B=Pe instanceof ie?Pe.errors:[Pe]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const Pe of Fe)try{Ee(Pe)}catch(be){B=B??[],be instanceof ie?B=[...B,...be.errors]:B.push(be)}}if(B)throw new ie(B)}}add(B){var U;if(B&&B!==this)if(this.closed)Ee(B);else{if(B instanceof Ce){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push(B)}}_hasParent(B){const{_parentage:U}=this;return U===B||Array.isArray(U)&&U.includes(B)}_addParent(B){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(B),U):U?[U,B]:B}_removeParent(B){const{_parentage:U}=this;U===B?this._parentage=null:Array.isArray(U)&&(0,de.P)(U,B)}remove(B){const{_finalizers:U}=this;U&&(0,de.P)(U,B),B instanceof Ce&&B._removeParent(this)}}Ce.EMPTY=(()=>{const ke=new Ce;return ke.closed=!0,ke})();const ve=Ce.EMPTY;function pe(ke){return ke instanceof Ce||ke&&"closed"in ke&&(0,u.m)(ke.remove)&&(0,u.m)(ke.add)&&(0,u.m)(ke.unsubscribe)}function Ee(ke){(0,u.m)(ke)?ke():ke.unsubscribe()}},2416:(dt,Me,P)=>{P.d(Me,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(dt,Me,P)=>{P.d(Me,{E:()=>z});const z=new(P(9751).y)(Ce=>Ce.complete())},8996:(dt,Me,P)=>{P.d(Me,{D:()=>Ae});var u=P(8421),z=P(5363),ie=P(9468),ve=P(9751),Ee=P(2202),ke=P(576),B=P(9672);function Y(me,Ve){if(!me)throw new Error("Iterable cannot be null");return new ve.y(ee=>{(0,B.f)(ee,Ve,()=>{const ne=me[Symbol.asyncIterator]();(0,B.f)(ee,Ve,()=>{ne.next().then(le=>{le.done?ee.complete():ee.next(le.value)})},0,!0)})})}var Fe=P(3670),Pe=P(8239),be=P(1144),Ze=P(6495),re=P(2206),ce=P(4532),et=P(3260);function Ae(me,Ve){return Ve?function Se(me,Ve){if(null!=me){if((0,Fe.c)(me))return function de(me,Ve){return(0,u.Xf)(me).pipe((0,ie.R)(Ve),(0,z.Q)(Ve))}(me,Ve);if((0,be.z)(me))return function pe(me,Ve){return new ve.y(ee=>{let ne=0;return Ve.schedule(function(){ne===me.length?ee.complete():(ee.next(me[ne++]),ee.closed||this.schedule())})})}(me,Ve);if((0,Pe.t)(me))return function Ce(me,Ve){return(0,u.Xf)(me).pipe((0,ie.R)(Ve),(0,z.Q)(Ve))}(me,Ve);if((0,re.D)(me))return Y(me,Ve);if((0,Ze.T)(me))return function U(me,Ve){return new ve.y(ee=>{let ne;return(0,B.f)(ee,Ve,()=>{ne=me[Ee.h](),(0,B.f)(ee,Ve,()=>{let le,W;try{({value:le,done:W}=ne.next())}catch(q){return void ee.error(q)}W?ee.complete():ee.next(le)},0,!0)}),()=>(0,ke.m)(ne?.return)&&ne.return()})}(me,Ve);if((0,et.L)(me))return function Xe(me,Ve){return Y((0,et.Q)(me),Ve)}(me,Ve)}throw(0,ce.z)(me)}(me,Ve):(0,u.Xf)(me)}},8421:(dt,Me,P)=>{P.d(Me,{Xf:()=>Fe});var u=P(655),z=P(1144),ie=P(8239),de=P(9751),Ce=P(3670),ve=P(2206),pe=P(4532),Ee=P(6495),ke=P(3260),B=P(576),U=P(7849),Y=P(8822);function Fe(Se){if(Se instanceof de.y)return Se;if(null!=Se){if((0,Ce.c)(Se))return function Pe(Se){return new de.y(Ae=>{const me=Se[Y.L]();if((0,B.m)(me.subscribe))return me.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,z.z)(Se))return function be(Se){return new de.y(Ae=>{for(let me=0;me<Se.length&&!Ae.closed;me++)Ae.next(Se[me]);Ae.complete()})}(Se);if((0,ie.t)(Se))return function Ze(Se){return new de.y(Ae=>{Se.then(me=>{Ae.closed||(Ae.next(me),Ae.complete())},me=>Ae.error(me)).then(null,U.h)})}(Se);if((0,ve.D)(Se))return ce(Se);if((0,Ee.T)(Se))return function re(Se){return new de.y(Ae=>{for(const me of Se)if(Ae.next(me),Ae.closed)return;Ae.complete()})}(Se);if((0,ke.L)(Se))return function et(Se){return ce((0,ke.Q)(Se))}(Se)}throw(0,pe.z)(Se)}function ce(Se){return new de.y(Ae=>{(function Xe(Se,Ae){var me,Ve,ee,ne;return(0,u.mG)(this,void 0,void 0,function*(){try{for(me=(0,u.KL)(Se);!(Ve=yield me.next()).done;)if(Ae.next(Ve.value),Ae.closed)return}catch(le){ee={error:le}}finally{try{Ve&&!Ve.done&&(ne=me.return)&&(yield ne.call(me))}finally{if(ee)throw ee.error}}Ae.complete()})})(Se,Ae).catch(me=>Ae.error(me))})}},6451:(dt,Me,P)=>{P.d(Me,{T:()=>ve});var u=P(8189),z=P(8421),ie=P(515),de=P(3269),Ce=P(8996);function ve(...pe){const Ee=(0,de.yG)(pe),ke=(0,de._6)(pe,1/0),B=pe;return B.length?1===B.length?(0,z.Xf)(B[0]):(0,u.J)(ke)((0,Ce.D)(B,Ee)):ie.E}},5403:(dt,Me,P)=>{P.d(Me,{x:()=>z});var u=P(930);function z(de,Ce,ve,pe,Ee){return new ie(de,Ce,ve,pe,Ee)}class ie extends u.Lv{constructor(Ce,ve,pe,Ee,ke,B){super(Ce),this.onFinalize=ke,this.shouldUnsubscribe=B,this._next=ve?function(U){try{ve(U)}catch(Y){Ce.error(Y)}}:super._next,this._error=Ee?function(U){try{Ee(U)}catch(Y){Ce.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(U){Ce.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(Ce=this.onFinalize)||void 0===Ce||Ce.call(this))}}}},4004:(dt,Me,P)=>{P.d(Me,{U:()=>ie});var u=P(4482),z=P(5403);function ie(de,Ce){return(0,u.e)((ve,pe)=>{let Ee=0;ve.subscribe((0,z.x)(pe,ke=>{pe.next(de.call(Ce,ke,Ee++))}))})}},8189:(dt,Me,P)=>{P.d(Me,{J:()=>ie});var u=P(5577),z=P(4671);function ie(de=1/0){return(0,u.z)(z.y,de)}},5577:(dt,Me,P)=>{P.d(Me,{z:()=>Ee});var u=P(4004),z=P(8421),ie=P(4482),de=P(9672),Ce=P(5403),pe=P(576);function Ee(ke,B,U=1/0){return(0,pe.m)(B)?Ee((Y,Fe)=>(0,u.U)((Pe,be)=>B(Y,Pe,Fe,be))((0,z.Xf)(ke(Y,Fe))),U):("number"==typeof B&&(U=B),(0,ie.e)((Y,Fe)=>function ve(ke,B,U,Y,Fe,Pe,be,Ze){const re=[];let ce=0,et=0,Xe=!1;const Se=()=>{Xe&&!re.length&&!ce&&B.complete()},Ae=Ve=>ce<Y?me(Ve):re.push(Ve),me=Ve=>{Pe&&B.next(Ve),ce++;let ee=!1;(0,z.Xf)(U(Ve,et++)).subscribe((0,Ce.x)(B,ne=>{Fe?.(ne),Pe?Ae(ne):B.next(ne)},()=>{ee=!0},void 0,()=>{if(ee)try{for(ce--;re.length&&ce<Y;){const ne=re.shift();be?(0,de.f)(B,be,()=>me(ne)):me(ne)}Se()}catch(ne){B.error(ne)}}))};return ke.subscribe((0,Ce.x)(B,Ae,()=>{Xe=!0,Se()})),()=>{Ze?.()}}(Y,Fe,ke,U)))}},5363:(dt,Me,P)=>{P.d(Me,{Q:()=>de});var u=P(9672),z=P(4482),ie=P(5403);function de(Ce,ve=0){return(0,z.e)((pe,Ee)=>{pe.subscribe((0,ie.x)(Ee,ke=>(0,u.f)(Ee,Ce,()=>Ee.next(ke),ve),()=>(0,u.f)(Ee,Ce,()=>Ee.complete(),ve),ke=>(0,u.f)(Ee,Ce,()=>Ee.error(ke),ve)))})}},3099:(dt,Me,P)=>{P.d(Me,{B:()=>Ce});var u=P(8421),z=P(7579),ie=P(930),de=P(4482);function Ce(pe={}){const{connector:Ee=(()=>new z.x),resetOnError:ke=!0,resetOnComplete:B=!0,resetOnRefCountZero:U=!0}=pe;return Y=>{let Fe,Pe,be,Ze=0,re=!1,ce=!1;const et=()=>{Pe?.unsubscribe(),Pe=void 0},Xe=()=>{et(),Fe=be=void 0,re=ce=!1},Se=()=>{const Ae=Fe;Xe(),Ae?.unsubscribe()};return(0,de.e)((Ae,me)=>{Ze++,!ce&&!re&&et();const Ve=be=be??Ee();me.add(()=>{Ze--,0===Ze&&!ce&&!re&&(Pe=ve(Se,U))}),Ve.subscribe(me),!Fe&&Ze>0&&(Fe=new ie.Hp({next:ee=>Ve.next(ee),error:ee=>{ce=!0,et(),Pe=ve(Xe,ke,ee),Ve.error(ee)},complete:()=>{re=!0,et(),Pe=ve(Xe,B),Ve.complete()}}),(0,u.Xf)(Ae).subscribe(Fe))})(Y)}}function ve(pe,Ee,...ke){if(!0===Ee)return void pe();if(!1===Ee)return;const B=new ie.Hp({next:()=>{B.unsubscribe(),pe()}});return Ee(...ke).subscribe(B)}},9468:(dt,Me,P)=>{P.d(Me,{R:()=>z});var u=P(4482);function z(ie,de=0){return(0,u.e)((Ce,ve)=>{ve.add(ie.schedule(()=>Ce.subscribe(ve),de))})}},3410:(dt,Me,P)=>{P.d(Me,{z:()=>u});const u={setTimeout(z,ie,...de){const{delegate:Ce}=u;return Ce?.setTimeout?Ce.setTimeout(z,ie,...de):setTimeout(z,ie,...de)},clearTimeout(z){const{delegate:ie}=u;return(ie?.clearTimeout||clearTimeout)(z)},delegate:void 0}},2202:(dt,Me,P)=>{P.d(Me,{h:()=>z});const z=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dt,Me,P)=>{P.d(Me,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(dt,Me,P)=>{P.d(Me,{_6:()=>ve,jO:()=>de,yG:()=>Ce});var u=P(576),z=P(3532);function ie(pe){return pe[pe.length-1]}function de(pe){return(0,u.m)(ie(pe))?pe.pop():void 0}function Ce(pe){return(0,z.K)(ie(pe))?pe.pop():void 0}function ve(pe,Ee){return"number"==typeof ie(pe)?pe.pop():Ee}},8737:(dt,Me,P)=>{function u(z,ie){if(z){const de=z.indexOf(ie);0<=de&&z.splice(de,1)}}P.d(Me,{P:()=>u})},3888:(dt,Me,P)=>{function u(z){const de=z(Ce=>{Error.call(Ce),Ce.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}P.d(Me,{d:()=>u})},2806:(dt,Me,P)=>{P.d(Me,{O:()=>de,x:()=>ie});var u=P(2416);let z=null;function ie(Ce){if(u.v.useDeprecatedSynchronousErrorHandling){const ve=!z;if(ve&&(z={errorThrown:!1,error:null}),Ce(),ve){const{errorThrown:pe,error:Ee}=z;if(z=null,pe)throw Ee}}else Ce()}function de(Ce){u.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=Ce)}},9672:(dt,Me,P)=>{function u(z,ie,de,Ce=0,ve=!1){const pe=ie.schedule(function(){de(),ve?z.add(this.schedule(null,Ce)):this.unsubscribe()},Ce);if(z.add(pe),!ve)return pe}P.d(Me,{f:()=>u})},4671:(dt,Me,P)=>{function u(z){return z}P.d(Me,{y:()=>u})},1144:(dt,Me,P)=>{P.d(Me,{z:()=>u});const u=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(dt,Me,P)=>{P.d(Me,{D:()=>z});var u=P(576);function z(ie){return Symbol.asyncIterator&&(0,u.m)(ie?.[Symbol.asyncIterator])}},576:(dt,Me,P)=>{function u(z){return"function"==typeof z}P.d(Me,{m:()=>u})},3670:(dt,Me,P)=>{P.d(Me,{c:()=>ie});var u=P(8822),z=P(576);function ie(de){return(0,z.m)(de[u.L])}},6495:(dt,Me,P)=>{P.d(Me,{T:()=>ie});var u=P(2202),z=P(576);function ie(de){return(0,z.m)(de?.[u.h])}},8239:(dt,Me,P)=>{P.d(Me,{t:()=>z});var u=P(576);function z(ie){return(0,u.m)(ie?.then)}},3260:(dt,Me,P)=>{P.d(Me,{L:()=>de,Q:()=>ie});var u=P(655),z=P(576);function ie(Ce){return(0,u.FC)(this,arguments,function*(){const pe=Ce.getReader();try{for(;;){const{value:Ee,done:ke}=yield(0,u.qq)(pe.read());if(ke)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(Ee)}}finally{pe.releaseLock()}})}function de(Ce){return(0,z.m)(Ce?.getReader)}},3532:(dt,Me,P)=>{P.d(Me,{K:()=>z});var u=P(576);function z(ie){return ie&&(0,u.m)(ie.schedule)}},4482:(dt,Me,P)=>{P.d(Me,{A:()=>z,e:()=>ie});var u=P(576);function z(de){return(0,u.m)(de?.lift)}function ie(de){return Ce=>{if(z(Ce))return Ce.lift(function(ve){try{return de(ve,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(dt,Me,P)=>{function u(){}P.d(Me,{Z:()=>u})},9635:(dt,Me,P)=>{P.d(Me,{U:()=>ie,z:()=>z});var u=P(4671);function z(...de){return ie(de)}function ie(de){return 0===de.length?u.y:1===de.length?de[0]:function(ve){return de.reduce((pe,Ee)=>Ee(pe),ve)}}},7849:(dt,Me,P)=>{P.d(Me,{h:()=>ie});var u=P(2416),z=P(3410);function ie(de){z.z.setTimeout(()=>{const{onUnhandledError:Ce}=u.v;if(!Ce)throw de;Ce(de)})}},4532:(dt,Me,P)=>{function u(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Me,{z:()=>u})},655:(dt,Me,P)=>{function de(W,q){var se={};for(var J in W)Object.prototype.hasOwnProperty.call(W,J)&&q.indexOf(J)<0&&(se[J]=W[J]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(J=Object.getOwnPropertySymbols(W);De<J.length;De++)q.indexOf(J[De])<0&&Object.prototype.propertyIsEnumerable.call(W,J[De])&&(se[J[De]]=W[J[De]])}return se}function Ce(W,q,se,J){var ct,De=arguments.length,Re=De<3?q:null===J?J=Object.getOwnPropertyDescriptor(q,se):J;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Re=Reflect.decorate(W,q,se,J);else for(var Zt=W.length-1;Zt>=0;Zt--)(ct=W[Zt])&&(Re=(De<3?ct(Re):De>3?ct(q,se,Re):ct(q,se))||Re);return De>3&&Re&&Object.defineProperty(q,se,Re),Re}function ve(W,q){return function(se,J){q(se,J,W)}}function pe(W,q){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(W,q)}function Ee(W,q,se,J){return new(se||(se=Promise))(function(Re,ct){function Zt(hn){try{Ue(J.next(hn))}catch(tr){ct(tr)}}function Pt(hn){try{Ue(J.throw(hn))}catch(tr){ct(tr)}}function Ue(hn){hn.done?Re(hn.value):function De(Re){return Re instanceof se?Re:new se(function(ct){ct(Re)})}(hn.value).then(Zt,Pt)}Ue((J=J.apply(W,q||[])).next())})}function re(W){return this instanceof re?(this.v=W,this):new re(W)}function ce(W,q,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,J=se.apply(W,q||[]),Re=[];return De={},ct("next"),ct("throw"),ct("return"),De[Symbol.asyncIterator]=function(){return this},De;function ct(dn){J[dn]&&(De[dn]=function(Kt){return new Promise(function(jt,Tt){Re.push([dn,Kt,jt,Tt])>1||Zt(dn,Kt)})})}function Zt(dn,Kt){try{!function Pt(dn){dn.value instanceof re?Promise.resolve(dn.value.v).then(Ue,hn):tr(Re[0][2],dn)}(J[dn](Kt))}catch(jt){tr(Re[0][3],jt)}}function Ue(dn){Zt("next",dn)}function hn(dn){Zt("throw",dn)}function tr(dn,Kt){dn(Kt),Re.shift(),Re.length&&Zt(Re[0][0],Re[0][1])}}function Xe(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,q=W[Symbol.asyncIterator];return q?q.call(W):(W=function Y(W){var q="function"==typeof Symbol&&Symbol.iterator,se=q&&W[q],J=0;if(se)return se.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&J>=W.length&&(W=void 0),{value:W&&W[J++],done:!W}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),se={},J("next"),J("throw"),J("return"),se[Symbol.asyncIterator]=function(){return this},se);function J(Re){se[Re]=W[Re]&&function(ct){return new Promise(function(Zt,Pt){!function De(Re,ct,Zt,Pt){Promise.resolve(Pt).then(function(Ue){Re({value:Ue,done:Zt})},ct)}(Zt,Pt,(ct=W[Re](ct)).done,ct.value)})}}}P.d(Me,{FC:()=>ce,KL:()=>Xe,_T:()=>de,fM:()=>ve,gn:()=>Ce,mG:()=>Ee,qq:()=>re,w6:()=>pe})},4650:(dt,Me,P)=>{P.d(Me,{$8M:()=>u2,$Z:()=>_9,AFp:()=>Dv,AaK:()=>Ee,Akn:()=>Cs,AsE:()=>s4,BQk:()=>I8,CHM:()=>Pd,CRH:()=>Qs,CZH:()=>tl,CqO:()=>T8,D6c:()=>_h,EJc:()=>O5,EpF:()=>Rb,F$t:()=>f3,F4k:()=>Y9,FYo:()=>Ym,FiY:()=>wa,G48:()=>Qv,Gf:()=>Q3,GfV:()=>zu,Gpc:()=>U,Hsn:()=>j,JOm:()=>Yr,KtG:()=>Wc,LFG:()=>On,LSH:()=>Rf,Lbi:()=>nN,Lck:()=>yw,MMx:()=>$3,NdJ:()=>d3,O4$:()=>U0,OlP:()=>fn,Oqu:()=>i4,PXZ:()=>j5,Q6J:()=>S8,QGY:()=>h3,QP$:()=>Yt,QbO:()=>Jw,Qsj:()=>RA,R0b:()=>ti,RDi:()=>Mf,Rgc:()=>_4,SBq:()=>S2,Sil:()=>oh,Suo:()=>vv,TTD:()=>vo,TgZ:()=>n4,VKq:()=>iv,WFA:()=>Q9,X6Q:()=>il,XFs:()=>Ke,Xpm:()=>_e,Xts:()=>Pf,Y36:()=>nc,YKP:()=>ev,YNc:()=>Z9,Yjl:()=>ge,Yz7:()=>Kt,Z0I:()=>ks,ZZ4:()=>Q5,_Bn:()=>Jg,_UZ:()=>u3,_Vd:()=>M2,_c5:()=>vN,_uU:()=>E3,aQg:()=>X5,c2e:()=>rN,cJS:()=>Tt,cg1:()=>k3,d8E:()=>Mg,dDg:()=>T4,dqk:()=>Ft,eFA:()=>uh,ekj:()=>C3,eoX:()=>B5,f3M:()=>nf,g9A:()=>kv,h0i:()=>W2,hGG:()=>o_,hij:()=>Wa,iGM:()=>gv,ifc:()=>lt,ip1:()=>xv,jDz:()=>nv,kL8:()=>Ig,kcU:()=>j0,lG2:()=>G,lqb:()=>J1,lri:()=>zv,n5z:()=>Fs,oAB:()=>$t,oxw:()=>Pb,q4F:()=>Gf,qLn:()=>zo,qOj:()=>v8,qZA:()=>l3,rWj:()=>Fv,s9C:()=>mt,sBO:()=>aE,sIi:()=>L2,s_b:()=>y4,soG:()=>P5,tb:()=>Xw,tp0:()=>So,uIk:()=>C8,vHH:()=>be,vpe:()=>Ys,wAp:()=>ft,xp6:()=>s9,ynx:()=>r4,z2F:()=>nl,zSh:()=>Ff,zs3:()=>ec});var u=P(7579),z=P(727),ie=P(9751),de=P(6451),Ce=P(3099);function ve(o){for(let a in o)if(o[a]===ve)return a;throw Error("Could not find renamed property on target object.")}function pe(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function Ee(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Ee).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function ke(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const B=ve({__forward_ref__:ve});function U(o){return o.__forward_ref__=U,o.toString=function(){return Ee(this())},o}function Y(o){return Fe(o)?o():o}function Fe(o){return"function"==typeof o&&o.hasOwnProperty(B)&&o.__forward_ref__===U}class be extends Error{constructor(a,l){super(function Ze(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,l)),this.code=a}}function re(o){return"string"==typeof o?o:null==o?"":String(o)}function Ae(o,a){throw new be(-201,!1)}function Pt(o,a){null==o&&function Ue(o,a,l,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${l} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function Kt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Tt(o){return{providers:o.providers||[],imports:o.imports||[]}}function ai(o){return aa(o,Gi)||aa(o,ca)}function ks(o){return null!==ai(o)}function aa(o,a){return o.hasOwnProperty(a)?o[a]:null}function io(o){return o&&(o.hasOwnProperty(wi)||o.hasOwnProperty(la))?o[wi]:null}const Gi=ve({\u0275prov:ve}),wi=ve({\u0275inj:ve}),ca=ve({ngInjectableDef:ve}),la=ve({ngInjectorDef:ve});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let Mr;function nr(o){const a=Mr;return Mr=o,a}function $i(o,a,l){const d=ai(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Ke.Optional?null:void 0!==a?a:void Ae(Ee(o))}function Ln(o){return{toString:o}.toString()}var Gn=(()=>((Gn=Gn||{})[Gn.OnPush=0]="OnPush",Gn[Gn.Default=1]="Default",Gn))(),lt=(()=>{return(o=lt||(lt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",lt;var o})();const Ft=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ci={},wt=[],Ei=ve({\u0275cmp:ve}),tn=ve({\u0275dir:ve}),so=ve({\u0275pipe:ve}),Gt=ve({\u0275mod:ve}),kr=ve({\u0275fac:ve}),li=ve({__NG_ELEMENT_ID__:ve});let Ye=0;function _e(o){return Ln(()=>{const l=!0===o.standalone,d={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Gn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||wt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||lt.Emulated,id:"c"+Ye++,styles:o.styles||wt,_:null,setInput:null,schemas:o.schemas||null,tView:null},m=o.dependencies,y=o.features;return f.inputs=O(o.inputs,d),f.outputs=O(o.outputs),y&&y.forEach(w=>w(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(pt).filter(Ct):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(ut).filter(Ct):null,f})}function pt(o){return K(o)||je(o)}function Ct(o){return null!==o}function $t(o){return Ln(()=>({type:o.type,bootstrap:o.bootstrap||wt,declarations:o.declarations||wt,imports:o.imports||wt,exports:o.exports||wt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function O(o,a){if(null==o)return ci;const l={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),l[f]=d,a&&(a[f]=m)}return l}const G=_e;function ge(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function K(o){return o[Ei]||null}function je(o){return o[tn]||null}function ut(o){return o[so]||null}function Yt(o){const a=K(o)||je(o)||ut(o);return null!==a&&a.standalone}function un(o,a){const l=o[Gt]||null;if(!l&&!0===a)throw new Error(`Type ${Ee(o)} does not have '\u0275mod' property.`);return l}function ur(o){return Array.isArray(o)&&"object"==typeof o[1]}function Wr(o){return Array.isArray(o)&&!0===o[1]}function mo(o){return 0!=(8&o.flags)}function Hc(o){return 2==(2&o.flags)}function ua(o){return 1==(1&o.flags)}function qi(o){return null!==o.template}function Bc(o){return 0!=(256&o[2])}function vr(o,a){return o.hasOwnProperty(kr)?o[kr]:null}class da{constructor(a,l,d){this.previousValue=a,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function vo(){return L0}function L0(o){return o.type.prototype.ngOnChanges&&(o.setInput=Ul),Bl}function Bl(){const o=fa(this),a=o?.current;if(a){const l=o.previous;if(l===ci)o.previous=a;else for(let d in a)l[d]=a[d];o.current=null,this.ngOnChanges(a)}}function Ul(o,a,l,d){const f=fa(o)||function O0(o,a){return o[P0]=a}(o,{previous:ci,current:null}),m=f.current||(f.current={}),y=f.previous,w=this.declaredInputs[l],S=y[w];m[w]=new da(S&&S.currentValue,a,y===ci),o[d]=a}vo.ngInherit=!0;const P0="__ngSimpleChanges__";function fa(o){return o[P0]||null}function Sn(o){for(;Array.isArray(o);)o=o[0];return o}function y1(o,a){return Sn(a[o])}function Sr(o,a){return Sn(a[o.index])}function pa(o,a){return o.data[a]}function Qt(o,a){const l=a[o];return ur(l)?l:l[0]}function Ls(o){return 64==(64&o[2])}function Zi(o,a){return null==a?null:o[a]}function C1(o){o[18]=0}function A1(o,a){o[5]+=a;let l=o,d=o[3];for(;null!==d&&(1===a&&1===l[5]||-1===a&&0===l[5]);)d[5]+=a,l=d,d=d[3]}const Et={lFrame:Jl(null),bindingsEnabled:!0};function b1(){return Et.bindingsEnabled}function ye(){return Et.lFrame.lView}function Lt(){return Et.lFrame.tView}function Pd(o){return Et.lFrame.contextLView=o,o[8]}function Wc(o){return Et.lFrame.contextLView=null,o}function ir(){let o=qc();for(;null!==o&&64===o.type;)o=o.parent;return o}function qc(){return Et.lFrame.currentTNode}function pi(o,a){const l=Et.lFrame;l.currentTNode=o,l.isParent=a}function ql(){return Et.lFrame.isParent}function Kc(){Et.lFrame.isParent=!1}function E1(){return Et.lFrame.bindingIndex++}function Ps(o){const a=Et.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}function H0(o,a){const l=Et.lFrame;l.bindingIndex=l.bindingRootIndex=o,Yc(a)}function Yc(o){Et.lFrame.currentDirectiveIndex=o}function Kl(o){const a=Et.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function Yl(){return Et.lFrame.currentQueryIndex}function Ql(o){Et.lFrame.currentQueryIndex=o}function Xl(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Fd(o,a,l){if(l&Ke.SkipSelf){let f=a,m=o;for(;!(f=f.parent,null!==f||l&Ke.Host||(f=Xl(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;a=f,o=m}const d=Et.lFrame=Vd();return d.currentTNode=a,d.lView=o,!0}function Qc(o){const a=Vd(),l=o[1];Et.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function Vd(){const o=Et.lFrame,a=null===o?null:o.child;return null===a?Jl(o):a}function Jl(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Hd(){const o=Et.lFrame;return Et.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const B0=Hd;function ga(){const o=Hd();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function En(){return Et.lFrame.selectedIndex}function ls(o){Et.lFrame.selectedIndex=o}function An(){const o=Et.lFrame;return pa(o.tView,o.selectedIndex)}function U0(){Et.lFrame.currentNamespace="svg"}function j0(){!function jd(){Et.lFrame.currentNamespace=null}()}function M1(o,a){for(let l=a.directiveStart,d=a.directiveEnd;l<d;l++){const m=o.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:S,ngAfterViewChecked:I,ngOnDestroy:D}=m;y&&(o.contentHooks||(o.contentHooks=[])).push(-l,y),w&&((o.contentHooks||(o.contentHooks=[])).push(l,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,w)),S&&(o.viewHooks||(o.viewHooks=[])).push(-l,S),I&&((o.viewHooks||(o.viewHooks=[])).push(l,I),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,I)),null!=D&&(o.destroyHooks||(o.destroyHooks=[])).push(l,D)}}function Jc(o,a,l){nu(o,a,3,l)}function Co(o,a,l,d){(3&o[2])===l&&nu(o,a,l,d)}function tu(o,a){let l=o[2];(3&l)===a&&(l&=2047,l+=1,o[2]=l)}function nu(o,a,l,d){const m=d??-1,y=a.length-1;let w=0;for(let S=void 0!==d?65535&o[18]:0;S<y;S++)if("number"==typeof a[S+1]){if(w=a[S],null!=d&&w>=d)break}else a[S]<0&&(o[18]+=65536),(w<m||-1==m)&&(G0(o,l,a,S),o[18]=(4294901760&o[18])+S+2),S++}function G0(o,a,l,d){const f=l[d]<0,m=l[d+1],w=o[f?-l[d]:l[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class mi{constructor(a,l,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function us(o,a,l){let d=0;for(;d<l.length;){const f=l[d];if("number"==typeof f){if(0!==f)break;d++;const m=l[d++],y=l[d++],w=l[d++];o.setAttribute(a,y,w,m)}else{const m=f,y=l[++d];au(m)?o.setProperty(a,m,y):o.setAttribute(a,m,y),d++}}return d}function ou(o){return 3===o||4===o||6===o}function au(o){return 64===o.charCodeAt(0)}function I1(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?l=f:0===l||$0(o,l,f,null,-1===l||2===l?a[++d]:null)}}return o}function $0(o,a,l,d,f){let m=0,y=o.length;if(-1===a)y=-1;else for(;m<o.length;){const w=o[m++];if("number"==typeof w){if(w===a){y=-1;break}if(w>a){y=m-1;break}}}for(;m<o.length;){const w=o[m];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==f&&(o[m+1]=f));if(d===o[m+1])return void(o[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==y&&(o.splice(y,0,a),m=y+1),o.splice(m++,0,l),null!==d&&o.splice(m++,0,d),null!==f&&o.splice(m++,0,f)}function Wd(o){return-1!==o}function Ao(o){return 32767&o}function Os(o,a){let l=function qd(o){return o>>16}(o),d=a;for(;l>0;)d=d[15],l--;return d}let cu=!0;function n2(o){const a=cu;return cu=o,a}let W0=0;const Ii={};function bo(o,a){const l=r2(o,a);if(-1!==l)return l;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,lu(d.data,o),lu(a,null),lu(d.blueprint,null));const f=T1(o,a),m=o.injectorIndex;if(Wd(f)){const y=Ao(f),w=Os(f,a),S=w[1].data;for(let I=0;I<8;I++)a[m+I]=w[y+I]|S[y+I]}return a[m+8]=f,m}function lu(o,a){o.push(0,0,0,0,0,0,0,0,a)}function r2(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function T1(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,d=null,f=a;for(;null!==f;){if(d=l2(f),null===d)return-1;if(l++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function x1(o,a,l){!function Kd(o,a,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(li)&&(d=l[li]),null==d&&(d=l[li]=W0++);const f=255&d;a.data[o+(f>>5)]|=1<<f}(o,a,l)}function s2(o,a,l){if(l&Ke.Optional||void 0!==o)return o;Ae()}function wo(o,a,l,d){if(l&Ke.Optional&&void 0===d&&(d=null),0==(l&(Ke.Self|Ke.Host))){const f=o[9],m=nr(void 0);try{return f?f.get(a,d,l&Ke.Optional):$i(a,d,l&Ke.Optional)}finally{nr(m)}}return s2(d,0,l)}function o2(o,a,l,d=Ke.Default,f){if(null!==o){if(1024&a[2]){const y=function Qd(o,a,l,d,f){let m=o,y=a;for(;null!==m&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=q0(m,y,l,d|Ke.Self,Ii);if(w!==Ii)return w;let S=m.parent;if(!S){const I=y[21];if(I){const D=I.get(l,Ii,d);if(D!==Ii)return D}S=l2(y),y=y[15]}m=S}return f}(o,a,l,d,Ii);if(y!==Ii)return y}const m=q0(o,a,l,d,Ii);if(m!==Ii)return m}return wo(a,l,d,f)}function q0(o,a,l,d,f){const m=function Yd(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(li)?o[li]:void 0;return"number"==typeof a?a>=0?255&a:Y0:a}(l);if("function"==typeof m){if(!Fd(a,o,d))return d&Ke.Host?s2(f,0,d):wo(a,l,d,f);try{const y=m(d);if(null!=y||d&Ke.Optional)return y;Ae()}finally{B0()}}else if("number"==typeof m){let y=null,w=r2(o,a),S=-1,I=d&Ke.Host?a[16][6]:null;for((-1===w||d&Ke.SkipSelf)&&(S=-1===w?T1(o,a):a[w+8],-1!==S&&K0(d,!1)?(y=a[1],w=Ao(S),a=Os(S,a)):w=-1);-1!==w;){const D=a[1];if(a2(m,w,D.data)){const L=Z0(w,a,l,y,d,I);if(L!==Ii)return L}S=a[w+8],-1!==S&&K0(d,a[1].data[w+8]===I)&&a2(m,w,a)?(y=D,w=Ao(S),a=Os(S,a)):w=-1}}return f}function Z0(o,a,l,d,f,m){const y=a[1],w=y.data[o+8],D=N1(w,y,l,null==d?Hc(w)&&cu:d!=y&&0!=(3&w.type),f&Ke.Host&&m===w);return null!==D?zs(a,y,D,w):Ii}function N1(o,a,l,d,f){const m=o.providerIndexes,y=a.data,w=1048575&m,S=o.directiveStart,D=m>>20,H=f?w+D:o.directiveEnd;for(let X=d?w:w+D;X<H;X++){const ue=y[X];if(X<S&&l===ue||X>=S&&ue.type===l)return X}if(f){const X=y[S];if(X&&qi(X)&&X.type===l)return S}return null}function zs(o,a,l,d){let f=o[l];const m=a.data;if(function ru(o){return o instanceof mi}(f)){const y=f;y.resolving&&function et(o,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new be(-200,`Circular dependency in DI detected for ${o}${l}`)}(function ce(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():re(o)}(m[l]));const w=n2(y.canSeeViewProviders);y.resolving=!0;const S=y.injectImpl?nr(y.injectImpl):null;Fd(o,d,Ke.Default);try{f=o[l]=y.factory(void 0,m,o,d),a.firstCreatePass&&l>=d.directiveStart&&function Xc(o,a,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(d){const y=L0(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,y)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,f),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,m))}(l,m[l],a)}finally{null!==S&&nr(S),n2(w),y.resolving=!1,B0()}}return f}function a2(o,a,l){return!!(l[a+(o>>5)]&1<<o)}function K0(o,a){return!(o&Ke.Self||o&Ke.Host&&a)}class k1{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,d){return o2(this._tNode,this._lView,a,d,l)}}function Y0(){return new k1(ir(),ye())}function Fs(o){return Ln(()=>{const a=o.prototype.constructor,l=a[kr]||c2(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const m=f[kr]||c2(f);if(m&&m!==l)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function c2(o){return Fe(o)?()=>{const a=c2(Y(o));return a&&a()}:vr(o)}function l2(o){const a=o[1],l=a.type;return 2===l?a.declTNode:1===l?o[6]:null}function u2(o){return function D1(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const m=l[f];if(ou(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(m===a)return l[f+1];f+=2}}}return null}(ir(),o)}const R1="__parameters__";function L1(o,a,l){return Ln(()=>{const d=function Q0(o){return function(...l){if(o){const d=o(...l);for(const f in d)this[f]=d[f]}}}(a);function f(...m){if(this instanceof f)return d.apply(this,m),this;const y=new f(...m);return w.annotation=y,w;function w(S,I,D){const L=S.hasOwnProperty(R1)?S[R1]:Object.defineProperty(S,R1,{value:[]})[R1];for(;L.length<=D;)L.push(null);return(L[D]=L[D]||[]).push(y),S}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class fn{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Kt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Xt(o,a){void 0===a&&(a=o);for(let l=0;l<o.length;l++){let d=o[l];Array.isArray(d)?(a===o&&(a=o.slice(0,l)),Xt(d,a)):a!==o&&a.push(d)}return a}function Zn(o,a){o.forEach(l=>Array.isArray(l)?Zn(l,a):a(l))}function Ti(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function bn(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function pn(o,a){const l=[];for(let d=0;d<o;d++)l.push(a);return l}function Kr(o,a,l){let d=Vs(o,a);return d>=0?o[1|d]=l:(d=~d,function J0(o,a,l,d){let f=o.length;if(f==a)o.push(l,d);else if(1===f)o.push(d,o[0]),o[0]=l;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=l,o[a+1]=d}}(o,d,a,l)),d}function hu(o,a){const l=Vs(o,a);if(l>=0)return o[1|l]}function Vs(o,a){return function du(o,a,l){let d=0,f=o.length>>l;for(;f!==d;){const m=d+(f-d>>1),y=o[m<<l];if(a===y)return m<<l;y>a?f=m:d=m+1}return~(f<<l)}(o,a,1)}const hs={},In="__NG_DI_FLAG__",Hs="ngTempTokenPath",Ca=/\n/gm,F1="__source";let Aa;function Bs(o){const a=Aa;return Aa=o,a}function t6(o,a=Ke.Default){if(void 0===Aa)throw new be(-203,!1);return null===Aa?$i(o,void 0,a):Aa.get(o,a&Ke.Optional?null:void 0,a)}function On(o,a=Ke.Default){return(function Oc(){return Mr}()||t6)(Y(o),a)}function nf(o,a=Ke.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),On(o,a)}function n6(o){const a=[];for(let l=0;l<o.length;l++){const d=Y(o[l]);if(Array.isArray(d)){if(0===d.length)throw new be(900,!1);let f,m=Ke.Default;for(let y=0;y<d.length;y++){const w=d[y],S=pm(w);"number"==typeof S?-1===S?f=w.token:m|=S:f=w}a.push(On(f,m))}else a.push(On(d))}return a}function ba(o,a){return o[In]=a,o.prototype[In]=a,o}function pm(o){return o[In]}const wa=ba(L1("Optional"),8),So=ba(L1("SkipSelf"),4);var Yr=(()=>((Yr=Yr||{})[Yr.Important=1]="Important",Yr[Yr.DashCase=2]="DashCase",Yr))();const ko=new Map;let h6=0;const g="__ngContext__";function _(o,a){ur(a)?(o[g]=a[20],function ds(o){ko.set(o[20],o)}(a)):o[g]=a}function Fn(o,a){return undefined(o,a)}function Ro(o){const a=o[3];return Wr(a)?a[3]:a}function W1(o){return p6(o[13])}function q1(o){return p6(o[4])}function p6(o){for(;null!==o&&!Wr(o);)o=o[4];return o}function Lo(o,a,l,d,f){if(null!=d){let m,y=!1;Wr(d)?m=d:ur(d)&&(y=!0,d=d[0]);const w=Sn(d);0===o&&null!==l?null==f?Am(a,l,w):Da(a,l,w,f||null,!0):1===o&&null!==l?Da(a,l,w,f||null,!0):2===o?function Cf(o,a,l){const d=m6(o,a);d&&function hA(o,a,l,d){o.removeChild(a,l,d)}(o,d,a,l)}(a,w,y):3===o&&a.destroyNode(w),null!=m&&function A2(o,a,l,d,f){const m=l[7];m!==Sn(l)&&Lo(a,o,d,m,f);for(let w=10;w<l.length;w++){const S=l[w];Su(S[1],S,o,a,d,m)}}(a,o,m,l,f)}}function Z1(o,a,l){return o.createElement(a,l)}function bu(o,a){const l=o[9],d=l.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,A1(f,-1)),l.splice(d,1)}function Y1(o,a){if(o.length<=10)return;const l=10+a,d=o[l];if(d){const f=d[17];null!==f&&f!==o&&bu(f,d),a>0&&(o[l-1][4]=d[4]);const m=bn(o,10+a);!function aA(o,a){Su(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const y=m[19];null!==y&&y.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function gf(o,a){if(!(128&a[2])){const l=a[11];l.destroyNode&&Su(o,a,l,3,null,null),function Cm(o){let a=o[13];if(!a)return y2(o[1],o);for(;a;){let l=null;if(ur(a))l=a[13];else{const d=a[10];d&&(l=d)}if(!l){for(;a&&!a[4]&&a!==o;)ur(a)&&y2(a[1],a),a=a[3];null===a&&(a=o),ur(a)&&y2(a[1],a),l=a&&a[4]}a=l}}(a)}}function y2(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function vf(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let d=0;d<l.length;d+=2){const f=a[l[d]];if(!(f instanceof mi)){const m=l[d+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const w=f[m[y]],S=m[y+1];try{S.call(w)}finally{}}else try{m.call(f)}finally{}}}}(o,a),function uA(o,a){const l=o.cleanup,d=a[7];let f=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const y=l[m+1],w="function"==typeof y?y(a):Sn(a[y]),S=d[f=l[m+2]],I=l[m+3];"boolean"==typeof I?w.removeEventListener(l[m],S,I):I>=0?d[f=I]():d[f=-I].unsubscribe(),m+=2}else{const y=d[f=l[m+1]];l[m].call(y)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const l=a[17];if(null!==l&&Wr(a[3])){l!==a[3]&&bu(l,a);const d=a[19];null!==d&&d.detachView(o)}!function js(o){ko.delete(o[20])}(a)}}function wu(o,a,l){return function _f(o,a,l){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return l[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===lt.None||f===lt.Emulated)return null}return Sr(d,l)}(o,a.parent,l)}function Da(o,a,l,d,f){o.insertBefore(a,l,d,f)}function Am(o,a,l){o.appendChild(a,l)}function bm(o,a,l,d,f){null!==d?Da(o,a,l,d,f):Am(o,a,l)}function m6(o,a){return o.parentNode(a)}function wm(o,a,l){return Mm(o,a,l)}let Ef,Mm=function Em(o,a,l){return 40&o.type?Sr(o,l):null};function g6(o,a,l,d){const f=wu(o,d,a),m=a[11],w=wm(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(l))for(let S=0;S<l.length;S++)bm(m,f,l[S],w,!1);else bm(m,f,l,w,!1)}function Gs(o,a){if(null!==a){const l=a.type;if(3&l)return Sr(a,o);if(4&l)return Sm(-1,o[a.index]);if(8&l){const d=a.child;if(null!==d)return Gs(o,d);{const f=o[a.index];return Wr(f)?Sm(-1,f):Sn(f)}}if(32&l)return Fn(a,o)()||Sn(o[a.index]);{const d=v6(o,a);return null!==d?Array.isArray(d)?d[0]:Gs(Ro(o[16]),d):Gs(o,a.next)}}return null}function v6(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Sm(o,a){const l=10+o+1;if(l<a.length){const d=a[l],f=d[1].firstChild;if(null!==f)return Gs(d,f)}return a[7]}function Af(o,a,l,d,f,m,y){for(;null!=l;){const w=d[l.index],S=l.type;if(y&&0===a&&(w&&_(Sn(w),d),l.flags|=4),64!=(64&l.flags))if(8&S)Af(o,a,l.child,d,f,m,!1),Lo(a,o,f,w,m);else if(32&S){const I=Fn(l,d);let D;for(;D=I();)Lo(a,o,f,D,m);Lo(a,o,f,w,m)}else 16&S?C2(o,a,d,l,f,m):Lo(a,o,f,w,m);l=y?l.projectionNext:l.next}}function Su(o,a,l,d,f,m){Af(l,d,o.firstChild,a,f,m,!1)}function C2(o,a,l,d,f,m){const y=l[16],S=y[6].projection[d.projection];if(Array.isArray(S))for(let I=0;I<S.length;I++)Lo(a,o,f,S[I],m);else Af(o,a,S,y[3],f,m,!0)}function bf(o,a,l){o.setAttribute(a,"style",l)}function _6(o,a,l){""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l)}function Mf(o){Ef=o}class Du{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ka(o){return o instanceof Du?o.changingThisBreaksApplicationSecurity:o}const Oo=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Tn=(()=>((Tn=Tn||{})[Tn.NONE=0]="NONE",Tn[Tn.HTML=1]="HTML",Tn[Tn.STYLE=2]="STYLE",Tn[Tn.SCRIPT=3]="SCRIPT",Tn[Tn.URL=4]="URL",Tn[Tn.RESOURCE_URL=5]="RESOURCE_URL",Tn))();function Rf(o){const a=function Pu(){const o=ye();return o&&o[12]}();return a?a.sanitize(Tn.URL,o)||"":function Nu(o,a){const l=function _A(o){return o instanceof Du&&o.getTypeName()||null}(o);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}(o,"URL")?ka(o):function Ra(o){return(o=String(o)).match(Oo)?o:"unsafe:"+o}(re(o))}const Pf=new fn("ENVIRONMENT_INITIALIZER"),Um=new fn("INJECTOR",-1),E6=new fn("INJECTOR_DEF_TYPES");class Di{get(a,l=hs){if(l===hs){const d=new Error(`NullInjectorError: No provider for ${Ee(a)}!`);throw d.name="NullInjectorError",d}return l}}function jm(...o){return{\u0275providers:w2(0,o)}}function w2(o,...a){const l=[],d=new Set;let f;return Zn(a,m=>{const y=m;Of(y,l,[],d)&&(f||(f=[]),f.push(y))}),void 0!==f&&Gm(f,l),l}function Gm(o,a){for(let l=0;l<o.length;l++){const{providers:f}=o[l];Zn(f,m=>{a.push(m)})}}function Of(o,a,l,d){if(!(o=Y(o)))return!1;let f=null,m=io(o);const y=!m&&K(o);if(m||y){if(y&&!y.standalone)return!1;f=o}else{const S=o.ngModule;if(m=io(S),!m)return!1;f=S}const w=d.has(f);if(y){if(w)return!1;if(d.add(f),y.dependencies){const S="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const I of S)Of(I,a,l,d)}}else{if(!m)return!1;{if(null!=m.imports&&!w){let I;d.add(f);try{Zn(m.imports,D=>{Of(D,a,l,d)&&(I||(I=[]),I.push(D))})}finally{}void 0!==I&&Gm(I,a)}if(!w){const I=vr(f)||(()=>new f);a.push({provide:f,useFactory:I,deps:wt},{provide:E6,useValue:f,multi:!0},{provide:Pf,useValue:()=>On(f),multi:!0})}const S=m.providers;null==S||w||Zn(S,D=>{a.push(D)})}}return f!==o&&void 0!==o.providers}const M6=ve({provide:String,useValue:ve});function zf(o){return null!==o&&"object"==typeof o&&M6 in o}function ps(o){return"function"==typeof o}const Ff=new fn("Set Injector scope."),La={},Ou={};let Vf;function S6(){return void 0===Vf&&(Vf=new Di),Vf}class J1{}class Wm extends J1{constructor(a,l,d,f){super(),this.parent=l,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bf(a,y=>this.processProvider(y)),this.records.set(Um,Pa(void 0,this)),f.has("environment")&&this.records.set(J1,Pa(void 0,this));const m=this.records.get(Ff);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(E6.multi,wt,Ke.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const l=Bs(this),d=nr(void 0);try{return a()}finally{Bs(l),nr(d)}}get(a,l=hs,d=Ke.Default){this.assertNotDestroyed();const f=Bs(this),m=nr(void 0);try{if(!(d&Ke.SkipSelf)){let w=this.records.get(a);if(void 0===w){const S=function IA(o){return"function"==typeof o||"object"==typeof o&&o instanceof fn}(a)&&ai(a);w=S&&this.injectableDefInScope(S)?Pa(Hf(a),La):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&Ke.Self?S6():this.parent).get(a,l=d&Ke.Optional&&l===hs?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[Hs]=y[Hs]||[]).unshift(Ee(a)),f)throw y;return function mm(o,a,l,d){const f=o[Hs];throw a[F1]&&f.unshift(a[F1]),o.message=function r6(o,a,l,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=Ee(a);if(Array.isArray(a))f=a.map(Ee).join(" -> ");else if("object"==typeof a){let m=[];for(let y in a)if(a.hasOwnProperty(y)){let w=a[y];m.push(y+":"+("string"==typeof w?JSON.stringify(w):Ee(w)))}f=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${o.replace(Ca,"\n  ")}`}("\n"+o.message,f,l,d),o.ngTokenPath=f,o[Hs]=null,o}(y,a,"R3InjectorError",this.source)}throw y}finally{nr(m),Bs(f)}}resolveInjectorInitializers(){const a=Bs(this),l=nr(void 0);try{const d=this.get(Pf.multi,wt,Ke.Self);for(const f of d)f()}finally{Bs(a),nr(l)}}toString(){const a=[],l=this.records;for(const d of l.keys())a.push(Ee(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(a){let l=ps(a=Y(a))?a:Y(a&&a.provide);const d=function rD(o){return zf(o)?Pa(void 0,o.useValue):Pa(qm(o),La)}(a);if(ps(a)||!0!==a.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=Pa(void 0,La,!0),f.factory=()=>n6(f.multi),this.records.set(l,f)),l=a,f.multi.push(a)}this.records.set(l,d)}hydrate(a,l){return l.value===La&&(l.value=Ou,l.value=l.factory()),"object"==typeof l.value&&l.value&&function E2(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=Y(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Hf(o){const a=ai(o),l=null!==a?a.factory:vr(o);if(null!==l)return l;if(o instanceof fn)throw new be(204,!1);if(o instanceof Function)return function SA(o){const a=o.length;if(a>0)throw pn(a,"?"),new be(204,!1);const l=function jn(o){const a=o&&(o[Gi]||o[ca]);if(a){const l=function ro(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new be(204,!1)}function qm(o,a,l){let d;if(ps(o)){const f=Y(o);return vr(f)||Hf(f)}if(zf(o))d=()=>Y(o.useValue);else if(function X1(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...n6(o.deps||[]));else if(function $m(o){return!(!o||!o.useExisting)}(o))d=()=>On(Y(o.useExisting));else{const f=Y(o&&(o.useClass||o.provide));if(!function I6(o){return!!o.deps}(o))return vr(f)||Hf(f);d=()=>new f(...n6(o.deps))}return d}function Pa(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function TA(o){return!!o.\u0275providers}function Bf(o,a){for(const l of o)Array.isArray(l)?Bf(l,a):TA(l)?Bf(l.\u0275providers,a):a(l)}class Zm{}class NA{resolveComponentFactory(a){throw function DA(o){const a=Error(`No component factory found for ${Ee(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let M2=(()=>{class o{}return o.NULL=new NA,o})();function kA(){return Oa(ir(),ye())}function Oa(o,a){return new S2(Sr(o,a))}let S2=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=kA,o})();function Uf(o){return o instanceof S2?o.nativeElement:o}class Ym{}let RA=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function LA(){const o=ye(),l=Qt(ir().index,o);return(ur(l)?l:o)[11]}(),o})(),PA=(()=>{class o{}return o.\u0275prov=Kt({token:o,providedIn:"root",factory:()=>null}),o})();class zu{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Gf=new zu("14.2.12"),T6={};function D6(o){return o.ngOriginalError}class zo{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&D6(a);for(;l&&D6(l);)l=D6(l);return l||null}}function Fo(o){return o instanceof Function?o():o}function Jm(o,a,l){let d=o.length;for(;;){const f=o.indexOf(a,l);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=a.length;if(f+m===d||o.charCodeAt(f+m)<=32)return f}l=f+1}}const $f="ng-template";function e9(o,a,l){let d=0;for(;d<o.length;){let f=o[d++];if(l&&"class"===f){if(f=o[d],-1!==Jm(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function Wf(o){return 4===o.type&&o.value!==$f}function t9(o,a,l){return a===(4!==o.type||l?o.value:$f)}function $A(o,a,l){let d=4;const f=o.attrs||[],m=function ZA(o){for(let a=0;a<o.length;a++)if(ou(o[a]))return a;return o.length}(f);let y=!1;for(let w=0;w<a.length;w++){const S=a[w];if("number"!=typeof S){if(!y)if(4&d){if(d=2|1&d,""!==S&&!t9(o,S,l)||""===S&&1===a.length){if(ms(d))return!1;y=!0}}else{const I=8&d?S:a[++w];if(8&d&&null!==o.attrs){if(!e9(o.attrs,I,l)){if(ms(d))return!1;y=!0}continue}const L=WA(8&d?"class":S,f,Wf(o),l);if(-1===L){if(ms(d))return!1;y=!0;continue}if(""!==I){let H;H=L>m?"":f[L+1].toLowerCase();const X=8&d?H:null;if(X&&-1!==Jm(X,I,0)||2&d&&I!==H){if(ms(d))return!1;y=!0}}}}else{if(!y&&!ms(d)&&!ms(S))return!1;if(y&&ms(S))continue;y=!1,d=S|1&d}}return ms(d)||y}function ms(o){return 0==(1&o)}function WA(o,a,l,d){if(null===a)return-1;let f=0;if(d||!l){let m=!1;for(;f<a.length;){const y=a[f];if(y===o)return f;if(3===y||6===y)m=!0;else{if(1===y||2===y){let w=a[++f];for(;"string"==typeof w;)w=a[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=m?1:2}return-1}return function r9(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const d=o[l];if("number"==typeof d)return-1;if(d===a)return l;l++}return-1}(a,o)}function n9(o,a,l=!1){for(let d=0;d<a.length;d++)if($A(o,a[d],l))return!0;return!1}function qf(o,a){e:for(let l=0;l<a.length;l++){const d=a[l];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function Zf(o,a){return o?":not("+a.trim()+")":a}function i9(o){let a=o[0],l=1,d=2,f="",m=!1;for(;l<o.length;){let y=o[l];if("string"==typeof y)if(2&d){const w=o[++l];f+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+y:4&d&&(f+=" "+y);else""!==f&&!ms(y)&&(a+=Zf(m,f),f=""),d=y,m=m||!ms(d);l++}return""!==f&&(a+=Zf(m,f)),a}const It={};function s9(o){o9(Lt(),ye(),En()+o,!1)}function o9(o,a,l,d){if(!d)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&Jc(a,m,l)}else{const m=o.preOrderHooks;null!==m&&Co(a,m,0,l)}ls(l)}function l9(o,a=null,l=null,d){const f=u9(o,a,l,d);return f.resolveInjectorInitializers(),f}function u9(o,a=null,l=null,d,f=new Set){const m=[l||wt,jm(o)];return d=d||("object"==typeof o?void 0:Ee(o)),new Wm(m,a||S6(),d||null,f)}let ec=(()=>{class o{static create(l,d){if(Array.isArray(l))return l9({name:""},d,l,"");{const f=l.name??"";return l9({name:f},l.parent,l.providers,f)}}}return o.THROW_IF_NOT_FOUND=hs,o.NULL=new Di,o.\u0275prov=Kt({token:o,providedIn:"any",factory:()=>On(Um)}),o.__NG_ELEMENT_ID__=-1,o})();function nc(o,a=Ke.Default){const l=ye();return null===l?On(o,a):o2(ir(),l,Y(o),a)}function _9(){throw new Error("invalid")}function Vu(o,a){return o<<17|a<<2}function gs(o){return o>>17&32767}function n8(o){return 2|o}function Vo(o){return(131068&o)>>2}function F6(o,a){return-131069&o|a<<2}function b9(o){return 1|o}function c8(o,a){const l=o.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const f=l[d],m=l[d+1];if(-1!==m){const y=o.data[m];Ql(f),y.contentQueries(2,a[m],m)}}}function vs(o,a,l,d,f,m,y,w,S,I,D){const L=a.blueprint.slice();return L[0]=f,L[2]=76|d,(null!==D||o&&1024&o[2])&&(L[2]|=1024),C1(L),L[3]=L[15]=o,L[8]=l,L[10]=y||o&&o[10],L[11]=w||o&&o[11],L[12]=S||o&&o[12]||null,L[9]=I||o&&o[9]||null,L[6]=m,L[20]=function pf(){return h6++}(),L[21]=D,L[16]=2==a.type?o[16]:L,L}function rc(o,a,l,d,f){let m=o.data[a];if(null===m)m=function x9(o,a,l,d,f){const m=qc(),y=ql(),S=o.data[a]=function vD(o,a,l,d,f,m){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,l,a,d,f);return null===o.firstChild&&(o.firstChild=S),null!==m&&(y?null==m.child&&null!==S.parent&&(m.child=S):null===m.next&&(m.next=S)),S}(o,a,l,d,f),function V0(){return Et.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=d,m.attrs=f;const y=function Zc(){const o=Et.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return pi(m,!0),m}function Bu(o,a,l,d){if(0===l)return-1;const f=a.length;for(let m=0;m<l;m++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function Uo(o,a,l){Qc(a);try{const d=o.viewQuery;null!==d&&H9(1,d,l);const f=o.template;null!==f&&q6(o,a,f,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&c8(o,a),o.staticViewQueries&&H9(2,o.viewQuery,l);const m=o.components;null!==m&&function Jr(o,a){for(let l=0;l<a.length;l++)_b(o,a[l])}(a,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,ga()}}function _s(o,a,l,d){const f=a[2];if(128!=(128&f)){Qc(a);try{C1(a),function w1(o){return Et.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&q6(o,a,l,2,d);const y=3==(3&f);if(y){const I=o.preOrderCheckHooks;null!==I&&Jc(a,I,null)}else{const I=o.preOrderHooks;null!==I&&Co(a,I,0,null),tu(a,0)}if(function vb(o){for(let a=W1(o);null!==a;a=q1(a)){if(!a[2])continue;const l=a[9];for(let d=0;d<l.length;d++){const f=l[d],m=f[3];0==(512&f[2])&&A1(m,1),f[2]|=512}}}(a),function X6(o){for(let a=W1(o);null!==a;a=q1(a))for(let l=10;l<a.length;l++){const d=a[l],f=d[1];Ls(d)&&_s(f,d,f.template,d[8])}}(a),null!==o.contentQueries&&c8(o,a),y){const I=o.contentCheckHooks;null!==I&&Jc(a,I)}else{const I=o.contentHooks;null!==I&&Co(a,I,1),tu(a,1)}!function I9(o,a){const l=o.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const f=l[d];if(f<0)ls(~f);else{const m=f,y=l[++d],w=l[++d];H0(y,m),w(2,a[m])}}}finally{ls(-1)}}(o,a);const w=o.components;null!==w&&function T9(o,a){for(let l=0;l<a.length;l++)h8(o,a[l])}(a,w);const S=o.viewQuery;if(null!==S&&H9(2,S,d),y){const I=o.viewCheckHooks;null!==I&&Jc(a,I)}else{const I=o.viewHooks;null!==I&&Co(a,I,2),tu(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,A1(a[3],-1))}finally{ga()}}}function q6(o,a,l,d,f){const m=En(),y=2&d;try{ls(-1),y&&a.length>22&&o9(o,a,22,!1),l(d,f)}finally{ls(m)}}function Uu(o,a,l){if(mo(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const y=o.data[m];y.contentQueries&&y.contentQueries(1,l[m],m)}}}function l8(o,a,l){!b1()||(function u8(o,a,l,d){const f=l.directiveStart,m=l.directiveEnd;o.firstCreatePass||bo(l,a),_(d,a);const y=l.initialInputs;for(let w=f;w<m;w++){const S=o.data[w],I=qi(S);I&&_D(a,l,S);const D=zs(a,o,w,l);_(D,a),null!==y&&yD(0,w-f,D,S,0,y),I&&(Qt(l.index,a)[8]=D)}}(o,a,l,Sr(l,a)),128==(128&l.flags)&&function O9(o,a,l){const d=l.directiveStart,f=l.directiveEnd,m=l.index,y=function lm(){return Et.lFrame.currentDirectiveIndex}();try{ls(m);for(let w=d;w<f;w++){const S=o.data[w],I=a[w];Yc(w),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Z6(S,I)}}finally{ls(-1),Yc(y)}}(o,a,l))}function ju(o,a,l=Sr){const d=a.localNames;if(null!==d){let f=a.index+1;for(let m=0;m<d.length;m+=2){const y=d[m+1],w=-1===y?l(a,o):o[y];o[f++]=w}}}function D9(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=N9(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function N9(o,a,l,d,f,m,y,w,S,I){const D=22+d,L=D+f,H=function mD(o,a){const l=[];for(let d=0;d<a;d++)l.push(d<o?null:It);return l}(D,L),X="function"==typeof I?I():I;return H[1]={type:o,blueprint:H,template:l,queries:null,viewQuery:w,declTNode:a,data:H.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:S,consts:X,incompleteFirstPass:!1}}function pb(o,a,l,d){const f=f8(a);null===l?f.push(d):(f.push(l),o.firstCreatePass&&Cb(o).push(d,f.length-1))}function mb(o,a,l){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(a,f):l[d]=[a,f]}return l}function k9(o,a){const d=a.directiveEnd,f=o.data,m=a.attrs,y=[];let w=null,S=null;for(let I=a.directiveStart;I<d;I++){const D=f[I],L=D.inputs,H=null===m||Wf(a)?null:Y6(L,m);y.push(H),w=mb(L,I,w),S=mb(D.outputs,I,S)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=y,a.inputs=w,a.outputs=S}function ki(o,a,l,d,f,m,y,w){const S=Sr(a,l);let D,I=a.inputs;!w&&null!=I&&(D=I[d])?(e3(o,l,D,d,f),Hc(a)&&L9(l,a.index)):3&a.type&&(d=function R9(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=y?y(f,a.value||"",d):f,m.setProperty(S,d,f))}function L9(o,a){const l=Qt(a,o);16&l[2]||(l[2]|=32)}function N2(o,a,l,d){let f=!1;if(b1()){const m=function z9(o,a,l){const d=o.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const y=d[m];n9(l,y.selectors,!1)&&(f||(f=[]),x1(bo(l,a),o,y.type),qi(y)?(Wu(o,l),f.unshift(y)):f.push(y))}return f}(o,a,l),y=null===d?null:{"":-1};if(null!==m){f=!0,qu(l,o.data.length,m.length);for(let D=0;D<m.length;D++){const L=m[D];L.providersResolver&&L.providersResolver(L)}let w=!1,S=!1,I=Bu(o,a,m.length,null);for(let D=0;D<m.length;D++){const L=m[D];l.mergedAttrs=I1(l.mergedAttrs,L.hostAttrs),k2(o,l,a,I,L),V9(I,L,y),null!==L.contentQueries&&(l.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(l.flags|=128);const H=L.type.prototype;!w&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),w=!0),!S&&(H.ngOnChanges||H.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),S=!0),I++}k9(o,l)}y&&function F9(o,a,l){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const m=l[a[f+1]];if(null==m)throw new be(-301,!1);d.push(a[f],m)}}}(l,d,y)}return l.mergedAttrs=I1(l.mergedAttrs,l.attrs),f}function ic(o,a,l,d,f,m){const y=m.hostBindings;if(y){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const S=~a.index;(function $u(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(w)!=S&&w.push(S),w.push(d,f,y)}}function Z6(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Wu(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function V9(o,a,l){if(l){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)l[a.exportAs[d]]=o;qi(a)&&(l[""]=o)}}function qu(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}function k2(o,a,l,d,f){o.data[d]=f;const m=f.factory||(f.factory=vr(f.type)),y=new mi(m,qi(f),nc);o.blueprint[d]=y,l[d]=y,ic(o,a,0,d,Bu(o,l,f.hostVars,It),f)}function _D(o,a,l){const d=Sr(a,o),f=D9(l),m=o[10],y=Ku(o,vs(o,f,null,l.onPush?32:16,d,a,m,m.createRenderer(d,l),null,null,null));o[a.index]=y}function jo(o,a,l,d,f,m){const y=Sr(o,a);!function K6(o,a,l,d,f,m,y){if(null==m)o.removeAttribute(a,f,l);else{const w=null==y?re(m):y(m,d||"",f);o.setAttribute(a,f,w,l)}}(a[11],y,m,o.value,l,d,f)}function yD(o,a,l,d,f,m){const y=m[a];if(null!==y){const w=d.setInput;for(let S=0;S<y.length;){const I=y[S++],D=y[S++],L=y[S++];null!==w?d.setInput(l,L,I,D):l[D]=L}}}function Y6(o,a){let l=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,o[f],a[d+1])),d+=2}else d+=2;else d+=4}return l}function Zu(o,a,l,d){return new Array(o,!0,!1,a,null,0,d,l,null,null)}function h8(o,a){const l=Qt(a,o);if(Ls(l)){const d=l[1];48&l[2]?_s(d,l,d.template,l[8]):l[5]>0&&R2(l)}}function R2(o){for(let d=W1(o);null!==d;d=q1(d))for(let f=10;f<d.length;f++){const m=d[f];if(Ls(m))if(512&m[2]){const y=m[1];_s(y,m,y.template,m[8])}else m[5]>0&&R2(m)}const l=o[1].components;if(null!==l)for(let d=0;d<l.length;d++){const f=Qt(l[d],o);Ls(f)&&f[5]>0&&R2(f)}}function _b(o,a){const l=Qt(a,o),d=l[1];(function yb(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])})(d,l),Uo(d,l,l[8])}function Ku(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function d8(o){for(;o;){o[2]|=32;const a=Ro(o);if(Bc(o)&&!a)return o;o=a}return null}function Yu(o,a,l,d=!0){const f=a[10];f.begin&&f.begin();try{_s(o,a,o.template,l)}catch(y){throw d&&B9(a,y),y}finally{f.end&&f.end()}}function H9(o,a,l){Ql(0),a(o,l)}function f8(o){return o[7]||(o[7]=[])}function Cb(o){return o.cleanup||(o.cleanup=[])}function J6(o,a,l){return(null===o||qi(o))&&(l=function z0(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(l[a.index])),l[11]}function B9(o,a){const l=o[9],d=l?l.get(zo,null):null;d&&d.handleError(a)}function e3(o,a,l,d,f){for(let m=0;m<l.length;){const y=l[m++],w=l[m++],S=a[y],I=o.data[y];null!==I.setInput?I.setInput(S,f,d,w):S[w]=f}}function ys(o,a,l){const d=y1(a,o);!function xa(o,a,l){o.setValue(a,l)}(o[11],d,l)}function t3(o,a,l){let d=l?o.styles:null,f=l?o.classes:null,m=0;if(null!==a)for(let y=0;y<a.length;y++){const w=a[y];"number"==typeof w?m=w:1==m?f=ke(f,w):2==m&&(d=ke(d,w+": "+a[++y]+";"))}l?o.styles=d:o.stylesWithoutHost=d,l?o.classes=f:o.classesWithoutHost=f}function p8(o,a,l,d,f=!1){for(;null!==l;){const m=a[l.index];if(null!==m&&d.push(Sn(m)),Wr(m))for(let w=10;w<m.length;w++){const S=m[w],I=S[1].firstChild;null!==I&&p8(S[1],S,I,d)}const y=l.type;if(8&y)p8(o,a,l.child,d);else if(32&y){const w=Fn(l,a);let S;for(;S=w();)d.push(S)}else if(16&y){const w=v6(a,l);if(Array.isArray(w))d.push(...w);else{const S=Ro(a[16]);p8(S[1],S,w,d,!0)}}l=f?l.projectionNext:l.next}return d}class Qu{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return p8(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Wr(a)){const l=a[8],d=l?l.indexOf(this):-1;d>-1&&(Y1(a,d),bn(l,d))}this._attachedToViewContainer=!1}gf(this._lView[1],this._lView)}onDestroy(a){pb(this._lView[1],this._lView,null,a)}markForCheck(){d8(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Yu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cA(o,a){Su(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=a}}class Xu extends Qu{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Yu(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class Ju extends M2{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=K(a);return new n3(l,this.ngModule)}}function m8(o){const a=[];for(let l in o)o.hasOwnProperty(l)&&a.push({propName:o[l],templateName:l});return a}class e4{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,d){const f=this.injector.get(a,T6,d);return f!==T6||l===T6?f:this.parentInjector.get(a,l,d)}}class n3 extends Zm{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function aD(o){return o.map(i9).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return m8(this.componentDef.inputs)}get outputs(){return m8(this.componentDef.outputs)}create(a,l,d,f){let m=(f=f||this.ngModule)instanceof J1?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new e4(a,m):a,w=y.get(Ym,null);if(null===w)throw new be(407,!1);const S=y.get(PA,null),I=w.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",L=d?function gD(o,a,l){return o.selectRootElement(a,l===lt.ShadowDom)}(I,d,this.componentDef.encapsulation):Z1(I,D,function U9(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(D)),H=this.componentDef.onPush?288:272,X=N9(0,null,null,1,0,null,null,null,null,null),ue=vs(null,X,null,H,null,null,w,I,S,y,null);let Le,Be;Qc(ue);try{const tt=function wD(o,a,l,d,f,m){const y=l[1];l[22]=o;const S=rc(y,22,2,"#host",null),I=S.mergedAttrs=a.hostAttrs;null!==I&&(t3(S,I,!0),null!==o&&(us(f,o,I),null!==S.classes&&_6(f,o,S.classes),null!==S.styles&&bf(f,o,S.styles)));const D=d.createRenderer(o,a),L=vs(l,D9(a),null,a.onPush?32:16,l[22],S,d,D,m||null,null,null);return y.firstCreatePass&&(x1(bo(S,l),y,a.type),Wu(y,S),qu(S,l.length,1)),Ku(l,L),l[22]=L}(L,this.componentDef,ue,w,I);if(L)if(d)us(I,L,["ng-version",Gf.full]);else{const{attrs:gt,classes:we}=function KA(o){const a=[],l=[];let d=1,f=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===f?""!==m&&a.push(m,o[++d]):8===f&&l.push(m);else{if(!ms(f))break;f=m}d++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);gt&&us(I,L,gt),we&&we.length>0&&_6(I,L,we.join(" "))}if(Be=pa(X,22),void 0!==l){const gt=Be.projection=[];for(let we=0;we<this.ngContentSelectors.length;we++){const yt=l[we];gt.push(null!=yt?Array.from(yt):null)}}Le=function ED(o,a,l,d){const f=l[1],m=function Gu(o,a,l){const d=ir();o.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),k2(o,d,a,Bu(o,a,1,null),l),k9(o,d));const f=zs(a,o,d.directiveStart,d);_(f,a);const m=Sr(d,a);return m&&_(m,a),f}(f,l,a);if(o[8]=l[8]=m,null!==d)for(const w of d)w(m,a);if(a.contentQueries){const w=ir();a.contentQueries(1,m,w.directiveStart)}const y=ir();return!f.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(ls(y.index),ic(l[1],y,0,y.directiveStart,y.directiveEnd,a),Z6(a,m)),m}(tt,this.componentDef,ue,[wb]),Uo(X,ue,null)}finally{ga()}return new bD(this.componentType,Le,Oa(Be,ue),ue,Be)}}class bD extends class xA{}{constructor(a,l,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new Xu(f),this.componentType=a}setInput(a,l){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){const m=this._rootLView;e3(m[1],m,f,a,l),L9(m,this._tNode.index)}}get injector(){return new k1(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function wb(){const o=ir();M1(ye()[1],o)}function v8(o){let a=function g8(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const d=[o];for(;a;){let f;if(qi(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new be(903,!1);f=a.\u0275dir}if(f){if(l){d.push(f);const y=o;y.inputs=r3(o.inputs),y.declaredInputs=r3(o.declaredInputs),y.outputs=r3(o.outputs);const w=f.hostBindings;w&&_8(o,w);const S=f.viewQuery,I=f.contentQueries;if(S&&Ba(o,S),I&&Eb(o,I),pe(o.inputs,f.inputs),pe(o.declaredInputs,f.declaredInputs),pe(o.outputs,f.outputs),qi(f)&&f.data.animation){const D=o.data;D.animation=(D.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let y=0;y<m.length;y++){const w=m[y];w&&w.ngInherit&&w(o),w===v8&&(l=!1)}}a=Object.getPrototypeOf(a)}!function j9(o){let a=0,l=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=I1(f.hostAttrs,l=I1(l,f.hostAttrs))}}(d)}function r3(o){return o===ci?{}:o===wt?[]:o}function Ba(o,a){const l=o.viewQuery;o.viewQuery=l?(d,f)=>{a(d,f),l(d,f)}:a}function Eb(o,a){const l=o.contentQueries;o.contentQueries=l?(d,f,m)=>{a(d,f,m),l(d,f,m)}:a}function _8(o,a){const l=o.hostBindings;o.hostBindings=l?(d,f)=>{a(d,f),l(d,f)}:a}let s3=null;function Ua(){if(!s3){const o=Ft.Symbol;if(o&&o.iterator)s3=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const d=a[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(s3=d)}}}return s3}function L2(o){return!!o3(o)&&(Array.isArray(o)||!(o instanceof Map)&&Ua()in o)}function o3(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function yr(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function C8(o,a,l,d){const f=ye();return yr(f,E1(),a)&&(Lt(),jo(An(),f,o,a,l,d)),C8}function O2(o,a,l,d){return yr(o,E1(),l)?a+re(l)+d:It}function oc(o,a,l,d,f,m){const w=function sc(o,a,l,d){const f=yr(o,a,l);return yr(o,a+1,d)||f}(o,function Ki(){return Et.lFrame.bindingIndex}(),l,f);return Ps(2),w?a+re(l)+d+re(f)+m:It}function Z9(o,a,l,d,f,m,y,w){const S=ye(),I=Lt(),D=o+22,L=I.firstCreatePass?function xb(o,a,l,d,f,m,y,w,S){const I=a.consts,D=rc(a,o,4,y||null,Zi(I,w));N2(a,l,D,Zi(I,S)),M1(a,D);const L=D.tViews=N9(2,D,d,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,I);return null!==a.queries&&(a.queries.template(a,D),L.queries=a.queries.embeddedTView(D)),D}(D,I,S,a,l,d,f,m,y):I.data[D];pi(L,!1);const H=S[11].createComment("");g6(I,S,H,L),_(H,S),Ku(S,S[D]=Zu(H,S,H,L)),ua(L)&&l8(I,S,L),null!=y&&ju(S,L,w)}function S8(o,a,l){const d=ye();return yr(d,E1(),a)&&ki(Lt(),An(),d,o,a,d[11],l,!1),S8}function c3(o,a,l,d,f){const y=f?"class":"style";e3(o,l,a.inputs[y],y,d)}function n4(o,a,l,d){const f=ye(),m=Lt(),y=22+o,w=f[11],S=f[y]=Z1(w,a,function eu(){return Et.lFrame.currentNamespace}()),I=m.firstCreatePass?function Db(o,a,l,d,f,m,y){const w=a.consts,I=rc(a,o,2,f,Zi(w,m));return N2(a,l,I,Zi(w,y)),null!==I.attrs&&t3(I,I.attrs,!1),null!==I.mergedAttrs&&t3(I,I.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,I),I}(y,m,f,0,a,l,d):m.data[y];pi(I,!0);const D=I.mergedAttrs;null!==D&&us(w,S,D);const L=I.classes;null!==L&&_6(w,S,L);const H=I.styles;return null!==H&&bf(w,S,H),64!=(64&I.flags)&&g6(m,f,S,I),0===function Gl(){return Et.lFrame.elementDepthCount}()&&_(S,f),function Ld(){Et.lFrame.elementDepthCount++}(),ua(I)&&(l8(m,f,I),Uu(m,I,f)),null!==d&&ju(f,I),n4}function l3(){let o=ir();ql()?Kc():(o=o.parent,pi(o,!1));const a=o;!function $l(){Et.lFrame.elementDepthCount--}();const l=Lt();return l.firstCreatePass&&(M1(l,o),mo(o)&&l.queries.elementEnd(o)),null!=a.classesWithoutHost&&function e2(o){return 0!=(16&o.flags)}(a)&&c3(l,a,ye(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function t2(o){return 0!=(32&o.flags)}(a)&&c3(l,a,ye(),a.stylesWithoutHost,!1),l3}function u3(o,a,l,d){return n4(o,a,l,d),l3(),u3}function r4(o,a,l){const d=ye(),f=Lt(),m=o+22,y=f.firstCreatePass?function Nb(o,a,l,d,f){const m=a.consts,y=Zi(m,d),w=rc(a,o,8,"ng-container",y);return null!==y&&t3(w,y,!0),N2(a,l,w,Zi(m,f)),null!==a.queries&&a.queries.elementStart(a,w),w}(m,f,d,a,l):f.data[m];pi(y,!0);const w=d[m]=d[11].createComment("");return g6(f,d,w,y),_(w,d),ua(y)&&(l8(f,d,y),Uu(f,y,d)),null!=l&&ju(d,y),r4}function I8(){let o=ir();const a=Lt();return ql()?Kc():(o=o.parent,pi(o,!1)),a.firstCreatePass&&(M1(a,o),mo(o)&&a.queries.elementEnd(o)),I8}function Rb(){return ye()}function h3(o){return!!o&&"function"==typeof o.then}function Y9(o){return!!o&&"function"==typeof o.subscribe}const T8=Y9;function d3(o,a,l,d){const f=ye(),m=Lt(),y=ir();return x8(m,f,f[11],y,o,a,0,d),d3}function Q9(o,a){const l=ir(),d=ye(),f=Lt();return x8(f,d,J6(Kl(f.data),l,d),l,o,a),Q9}function x8(o,a,l,d,f,m,y,w){const S=ua(d),D=o.firstCreatePass&&Cb(o),L=a[8],H=f8(a);let X=!0;if(3&d.type||w){const Be=Sr(d,a),tt=w?w(Be):Be,gt=H.length,we=w?cn=>w(Sn(cn[d.index])):d.index;let yt=null;if(!w&&S&&(yt=function ID(o,a,l,d){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const y=f[m];if(y===l&&f[m+1]===d){const w=a[7],S=f[m+2];return w.length>S?w[S]:null}"string"==typeof y&&(m+=2)}return null}(o,a,f,d.index)),null!==yt)(yt.__ngLastListenerFn__||yt).__ngNextListenerFn__=m,yt.__ngLastListenerFn__=m,X=!1;else{m=Lb(d,a,L,m,!1);const cn=l.listen(tt,f,m);H.push(m,cn),D&&D.push(f,we,gt,gt+1)}}else m=Lb(d,a,L,m,!1);const ue=d.outputs;let Le;if(X&&null!==ue&&(Le=ue[f])){const Be=Le.length;if(Be)for(let tt=0;tt<Be;tt+=2){const kn=a[Le[tt]][Le[tt+1]].subscribe(m),al=H.length;H.push(m,kn),D&&D.push(f,d.index,al,-(al+1))}}}function Ga(o,a,l,d){try{return!1!==l(d)}catch(f){return B9(o,f),!1}}function Lb(o,a,l,d,f){return function m(y){if(y===Function)return d;d8(2&o.flags?Qt(o.index,a):a);let S=Ga(a,0,d,y),I=m.__ngNextListenerFn__;for(;I;)S=Ga(a,0,I,y)&&S,I=I.__ngNextListenerFn__;return f&&!1===S&&(y.preventDefault(),y.returnValue=!1),S}}function Pb(o=1){return function yo(o){return(Et.lFrame.contextLView=function Bd(o,a){for(;o>0;)a=a[15],o--;return a}(o,Et.lFrame.contextLView))[8]}(o)}function TD(o,a){let l=null;const d=function qA(o){const a=o.attrs;if(null!=a){const l=a.indexOf(5);if(0==(1&l))return a[l+1]}return null}(o);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===d?n9(o,m,!0):qf(d,m))return f}else l=f}return l}function f3(o){const a=ye()[16][6];if(!a.projection){const d=a.projection=pn(o?o.length:1,null),f=d.slice();let m=a.child;for(;null!==m;){const y=o?TD(m,o):0;null!==y&&(f[y]?f[y].projectionNext=m:d[y]=m,f[y]=m),m=m.next}}}function j(o,a=0,l){const d=ye(),f=Lt(),m=rc(f,22+o,16,null,l||null);null===m.projection&&(m.projection=a),Kc(),64!=(64&m.flags)&&function Iu(o,a,l){C2(a[11],0,a,l,wu(o,l,a),wm(l.parent||a[6],l,a))}(f,d,m)}function mt(o,a,l){return gi(o,"",a,"",l),mt}function gi(o,a,l,d,f){const m=ye(),y=O2(m,a,l,d);return y!==It&&ki(Lt(),An(),m,o,y,m[11],f,!1),gi}function ng(o,a,l,d,f){const m=o[l+1],y=null===a;let w=d?gs(m):Vo(m),S=!1;for(;0!==w&&(!1===S||y);){const D=o[w+1];Fb(o[w],a)&&(S=!0,o[w+1]=d?b9(D):n8(D)),w=d?gs(D):Vo(D)}S&&(o[l+1]=d?n8(m):b9(m))}function Fb(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Vs(o,a)>=0}const dr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rg(o){return o.substring(dr.key,dr.keyEnd)}function $o(o){return o.substring(dr.value,dr.valueEnd)}function g3(o,a){const l=dr.textEnd;let d=dr.key=uc(o,a,l);return l===d?-1:(d=dr.keyEnd=function k8(o,a,l){let d;for(;a<l&&(45===(d=o.charCodeAt(a))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)a++;return a}(o,d,l),d=_3(o,d,l),d=dr.value=uc(o,d,l),d=dr.valueEnd=function Vb(o,a,l){let d=-1,f=-1,m=-1,y=a,w=y;for(;y<l;){const S=o.charCodeAt(y++);if(59===S)return w;34===S||39===S?w=y=ag(o,S,y,l):a===y-4&&85===m&&82===f&&76===d&&40===S?w=y=ag(o,41,y,l):S>32&&(w=y),m=f,f=d,d=-33&S}return w}(o,d,l),_3(o,d,l))}function uc(o,a,l){for(;a<l&&o.charCodeAt(a)<=32;)a++;return a}function _3(o,a,l,d){return(a=uc(o,a,l))<l&&a++,a}function ag(o,a,l,d){let f=-1,m=l;for(;m<d;){const y=o.charCodeAt(m++);if(y==a&&92!==f)return m;f=92==y&&92===f?0:y}throw new Error}function C3(o,a){return function As(o,a,l,d){const f=ye(),m=Lt(),y=Ps(2);m.firstUpdatePass&&L8(m,o,y,d),a!==It&&yr(f,y,a)&&$a(m,m.data[En()],f,f[11],o,f[y+1]=function b3(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=Ee(ka(o)))),o}(a,l),d,y)}(o,a,null,!0),C3}function Cs(o){!function Pr(o,a,l,d){const f=Lt(),m=Ps(2);f.firstUpdatePass&&L8(f,null,m,d);const y=ye();if(l!==It&&yr(y,m,l)){const w=f.data[En()];if(w3(w,d)&&!hc(f,m)){let S=d?w.classesWithoutHost:w.stylesWithoutHost;null!==S&&(l=ke(S,l||"")),c3(f,w,y,l,d)}else!function Gb(o,a,l,d,f,m,y,w){f===It&&(f=wt);let S=0,I=0,D=0<f.length?f[0]:null,L=0<m.length?m[0]:null;for(;null!==D||null!==L;){const H=S<f.length?f[S+1]:void 0,X=I<m.length?m[I+1]:void 0;let Le,ue=null;D===L?(S+=2,I+=2,H!==X&&(ue=L,Le=X)):null===L||null!==D&&D<L?(S+=2,ue=D):(I+=2,ue=L,Le=X),null!==ue&&$a(o,a,l,d,ue,Le,y,w),D=S<f.length?f[S]:null,L=I<m.length?m[I]:null}}(f,w,y,y[11],y[m+1],y[m+1]=function lg(o,a,l){if(null==l||""===l)return wt;const d=[],f=ka(l);if(Array.isArray(f))for(let m=0;m<f.length;m++)o(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&o(d,m,f[m]);else"string"==typeof f&&a(d,f);return d}(o,a,l),d,m)}}(ug,Hb,o,!1)}function Hb(o,a){for(let l=function sg(o){return function v3(o){dr.key=0,dr.keyEnd=0,dr.value=0,dr.valueEnd=0,dr.textEnd=o.length}(o),g3(o,uc(o,0,dr.textEnd))}(a);l>=0;l=g3(a,l))ug(o,rg(a),$o(a))}function hc(o,a){return a>=o.expandoStartIndex}function L8(o,a,l,d){const f=o.data;if(null===f[l+1]){const m=f[En()],y=hc(o,l);w3(m,d)&&null===a&&!y&&(a=!1),a=function Bb(o,a,l,d){const f=Kl(o);let m=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(l=H2(l=Wo(null,o,a,l,d),a.attrs,d),m=null);else{const y=a.directiveStylingLast;if(-1===y||o[y]!==f)if(l=Wo(f,o,a,l,d),null===m){let S=function Ub(o,a,l){const d=l?a.classBindings:a.styleBindings;if(0!==Vo(d))return o[gs(d)]}(o,a,d);void 0!==S&&Array.isArray(S)&&(S=Wo(null,o,a,S[1],d),S=H2(S,a.attrs,d),function cg(o,a,l,d){o[gs(l?a.classBindings:a.styleBindings)]=d}(o,a,d,S))}else m=function jb(o,a,l){let d;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)d=H2(d,o[m].hostAttrs,l);return H2(d,a.attrs,l)}(o,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),l}(f,m,a,d),function tg(o,a,l,d,f,m){let y=m?a.classBindings:a.styleBindings,w=gs(y),S=Vo(y);o[d]=l;let D,I=!1;if(Array.isArray(l)){const L=l;D=L[1],(null===D||Vs(L,D)>0)&&(I=!0)}else D=l;if(f)if(0!==S){const H=gs(o[w+1]);o[d+1]=Vu(H,w),0!==H&&(o[H+1]=F6(o[H+1],d)),o[w+1]=function tb(o,a){return 131071&o|a<<17}(o[w+1],d)}else o[d+1]=Vu(w,0),0!==w&&(o[w+1]=F6(o[w+1],d)),w=d;else o[d+1]=Vu(S,0),0===w?w=d:o[S+1]=F6(o[S+1],d),S=d;I&&(o[d+1]=n8(o[d+1])),ng(o,D,d,!0),ng(o,D,d,!1),function zb(o,a,l,d,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&Vs(m,a)>=0&&(l[d+1]=b9(l[d+1]))}(a,D,o,d,m),y=Vu(w,S),m?a.classBindings=y:a.styleBindings=y}(f,m,a,l,y,d)}}function Wo(o,a,l,d,f){let m=null;const y=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<y&&(m=a[w],d=H2(d,m.hostAttrs,f),m!==o);)w++;return null!==o&&(l.directiveStylingLast=w),d}function H2(o,a,l){const d=l?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const y=a[m];"number"==typeof y?f=y:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Kr(o,y,!!l||a[++m]))}return void 0===o?null:o}function ug(o,a,l){Kr(o,a,ka(l))}function $a(o,a,l,d,f,m,y,w){if(!(3&a.type))return;const S=o.data,I=S[w+1];B2(function A9(o){return 1==(1&o)}(I)?A3(S,a,l,f,Vo(I),y):void 0)||(B2(m)||function C9(o){return 2==(2&o)}(I)&&(m=A3(S,null,l,f,w,y)),function Im(o,a,l,d,f){if(a)f?o.addClass(l,d):o.removeClass(l,d);else{let m=-1===d.indexOf("-")?void 0:Yr.DashCase;null==f?o.removeStyle(l,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Yr.Important),o.setStyle(l,d,f,m))}}(d,y,y1(En(),l),f,m))}function A3(o,a,l,d,f,m){const y=null===a;let w;for(;f>0;){const S=o[f],I=Array.isArray(S),D=I?S[1]:S,L=null===D;let H=l[f+1];H===It&&(H=L?wt:void 0);let X=L?hu(H,d):D===d?H:void 0;if(I&&!B2(X)&&(X=hu(S,d)),B2(X)&&(w=X,y))return w;const ue=o[f+1];f=y?gs(ue):Vo(ue)}if(null!==a){let S=m?a.residualClasses:a.residualStyles;null!=S&&(w=hu(S,d))}return w}function B2(o){return void 0!==o}function w3(o,a){return 0!=(o.flags&(a?16:32))}function E3(o,a=""){const l=ye(),d=Lt(),f=o+22,m=d.firstCreatePass?rc(d,f,1,a,null):d.data[f],y=l[f]=function _2(o,a){return o.createText(a)}(l[11],a);g6(d,l,y,m),pi(m,!1)}function i4(o){return Wa("",o,""),i4}function Wa(o,a,l){const d=ye(),f=O2(d,o,a,l);return f!==It&&ys(d,En(),f),Wa}function s4(o,a,l,d,f){const m=ye(),y=oc(m,o,a,l,d,f);return y!==It&&ys(m,En(),y),s4}function Mg(o,a,l){const d=ye();if(yr(d,E1(),a)){const m=Lt(),y=An();ki(m,y,d,o,a,J6(Kl(m.data),y,d),l,!0)}return Mg}const qo=void 0;var ND=["en",[["a","p"],["AM","PM"],qo],[["AM","PM"],qo,qo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qo,"{1} 'at' {0}",qo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DD(o){const l=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let U2={};function k3(o){const a=function xg(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=Tg(a);if(l)return l;const d=a.split("-")[0];if(l=Tg(d),l)return l;if("en"===d)return ND;throw new be(701,!1)}function Ig(o){return k3(o)[ft.PluralCase]}function Tg(o){return o in U2||(U2[o]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[o]),U2[o]}var ft=(()=>((ft=ft||{})[ft.LocaleId=0]="LocaleId",ft[ft.DayPeriodsFormat=1]="DayPeriodsFormat",ft[ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",ft[ft.DaysFormat=3]="DaysFormat",ft[ft.DaysStandalone=4]="DaysStandalone",ft[ft.MonthsFormat=5]="MonthsFormat",ft[ft.MonthsStandalone=6]="MonthsStandalone",ft[ft.Eras=7]="Eras",ft[ft.FirstDayOfWeek=8]="FirstDayOfWeek",ft[ft.WeekendRange=9]="WeekendRange",ft[ft.DateFormat=10]="DateFormat",ft[ft.TimeFormat=11]="TimeFormat",ft[ft.DateTimeFormat=12]="DateTimeFormat",ft[ft.NumberSymbols=13]="NumberSymbols",ft[ft.NumberFormats=14]="NumberFormats",ft[ft.CurrencyCode=15]="CurrencyCode",ft[ft.CurrencySymbol=16]="CurrencySymbol",ft[ft.CurrencyName=17]="CurrencyName",ft[ft.Currencies=18]="Currencies",ft[ft.Directionality=19]="Directionality",ft[ft.PluralCase=20]="PluralCase",ft[ft.ExtraData=21]="ExtraData",ft))();const j2="en-US";let Ng=j2;function t5(o,a,l,d,f){if(o=Y(o),Array.isArray(o))for(let m=0;m<o.length;m++)t5(o[m],a,l,d,f);else{const m=Lt(),y=ye();let w=ps(o)?o:Y(o.provide),S=qm(o);const I=ir(),D=1048575&I.providerIndexes,L=I.directiveStart,H=I.providerIndexes>>20;if(ps(o)||!o.multi){const X=new mi(S,f,nc),ue=f4(w,a,f?D:D+H,L);-1===ue?(x1(bo(I,y),m,w),d4(m,o,a.length),a.push(w),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),l.push(X),y.push(X)):(l[ue]=X,y[ue]=X)}else{const X=f4(w,a,D+H,L),ue=f4(w,a,D,D+H),Le=X>=0&&l[X],Be=ue>=0&&l[ue];if(f&&!Be||!f&&!Le){x1(bo(I,y),m,w);const tt=function Xg(o,a,l,d,f){const m=new mi(o,l,nc);return m.multi=[],m.index=a,m.componentProviders=0,n5(m,f,d&&!l),m}(f?r5:_w,l.length,f,d,S);!f&&Be&&(l[ue].providerFactory=tt),d4(m,o,a.length,0),a.push(w),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),l.push(tt),y.push(tt)}else d4(m,o,X>-1?X:ue,n5(l[f?ue:X],S,!f&&d));!f&&d&&Be&&l[ue].componentProviders++}}}function d4(o,a,l,d){const f=ps(a),m=function MA(o){return!!o.useClass}(a);if(f||m){const S=(m?Y(a.useClass):a).prototype.ngOnDestroy;if(S){const I=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const D=I.indexOf(l);-1===D?I.push(l,[d,S]):I[D+1].push(d,S)}else I.push(l,S)}}}function n5(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function f4(o,a,l,d){for(let f=l;f<d;f++)if(a[f]===o)return f;return-1}function _w(o,a,l,d){return s5(this.multi,[])}function r5(o,a,l,d){const f=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=zs(l,l[1],this.providerFactory.index,d);m=w.slice(0,y),s5(f,m);for(let S=y;S<w.length;S++)m.push(w[S])}else m=[],s5(f,m);return m}function s5(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function Jg(o,a=[]){return l=>{l.providersResolver=(d,f)=>function e5(o,a,l){const d=Lt();if(d.firstCreatePass){const f=qi(o);t5(l,d.data,d.blueprint,f,!0),t5(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class W2{}class ev{}function yw(o,a){return new tv(o,a??null)}class tv extends W2{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ju(this);const d=un(a);this._bootstrapComponents=Fo(d.bootstrap),this._r3Injector=u9(a,l,[{provide:W2,useValue:this},{provide:M2,useValue:this.componentFactoryResolver}],Ee(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class p4 extends ev{constructor(a){super(),this.moduleType=a}create(a){return new tv(this.moduleType,a)}}class Aw extends W2{constructor(a,l,d){super(),this.componentFactoryResolver=new Ju(this),this.instance=null;const f=new Wm([...a,{provide:W2,useValue:this},{provide:M2,useValue:this.componentFactoryResolver}],l||S6(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function $3(o,a,l=null){return new Aw(o,a,l).injector}let o5=(()=>{class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=w2(0,l.type),f=d.length>0?$3([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,f)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Kt({token:o,providedIn:"environment",factory:()=>new o(On(J1))}),o})();function nv(o){o.getStandaloneInjector=a=>a.get(o5).getOrCreateStandaloneInjector(o)}function iv(o,a,l,d){return function sv(o,a,l,d,f,m){const y=a+l;return yr(o,y,f)?function hr(o,a,l){return o[a]=l}(o,y+1,m?d.call(m,f):d(f)):function g4(o,a){const l=o[a];return l===It?void 0:l}(o,y+1)}(ye(),function Wn(){const o=Et.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}(),o,a,l,d)}function g5(o){return a=>{setTimeout(o,void 0,a)}}const Ys=class Oi extends u.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,d){let f=a,m=l||(()=>null),y=d;if(a&&"object"==typeof a){const S=a;f=S.next?.bind(S),m=S.error?.bind(S),y=S.complete?.bind(S)}this.__isAsync&&(m=g5(m),f&&(f=g5(f)),y&&(y=g5(y)));const w=super.subscribe({next:f,error:m,complete:y});return a instanceof z.w0&&a.add(w),w}};function Fw(){return this._results[Ua()]()}class Y3{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Ua(),d=Y3.prototype;d[l]||(d[l]=Fw)}get changes(){return this._changes||(this._changes=new Ys)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const d=this;d.dirty=!1;const f=Xt(a);(this._changesDetected=!function Ir(o,a,l){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],m=a[d];if(l&&(f=l(f),m=l(m)),m!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let _4=(()=>{class o{}return o.__NG_ELEMENT_ID__=Hw,o})();const Vw=_4,v5=class extends Vw{constructor(a,l,d){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(a,l){const d=this._declarationTContainer.tViews,f=vs(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,l||null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(d)),Uo(d,f,a),new Qu(f)}};function Hw(){return q2(ir(),ye())}function q2(o,a){return 4&o.type?new v5(a,o,Oa(o,a)):null}let y4=(()=>{class o{}return o.__NG_ELEMENT_ID__=_5,o})();function _5(){return uv(ir(),ye())}const Bw=y4,cv=class extends Bw{constructor(a,l,d){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=d}get element(){return Oa(this._hostTNode,this._hostLView)}get injector(){return new k1(this._hostTNode,this._hostLView)}get parentInjector(){const a=T1(this._hostTNode,this._hostLView);if(Wd(a)){const l=Os(a,this._hostLView),d=Ao(a);return new k1(l[1].data[d+8],l)}return new k1(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=lv(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const y=a.createEmbeddedView(l||{},m);return this.insert(y,f),y}createComponent(a,l,d,f,m){const y=a&&!function yn(o){return"function"==typeof o}(a);let w;if(y)w=l;else{const L=l||{};w=L.index,d=L.injector,f=L.projectableNodes,m=L.environmentInjector||L.ngModuleRef}const S=y?a:new n3(K(a)),I=d||this.parentInjector;if(!m&&null==S.ngModule){const H=(y?I:this.parentInjector).get(J1,null);H&&(m=H)}const D=S.create(I,f,void 0,m);return this.insert(D.hostView,w),D}insert(a,l){const d=a._lView,f=d[1];if(function Rd(o){return Wr(o[3])}(d)){const D=this.indexOf(a);if(-1!==D)this.detach(D);else{const L=d[3],H=new cv(L,L[6],L[3]);H.detach(H.indexOf(a))}}const m=this._adjustIndex(l),y=this._lContainer;!function mf(o,a,l,d){const f=10+d,m=l.length;d>0&&(l[f-1][4]=a),d<m-10?(a[4]=l[f],Ti(l,10+d,a)):(l.push(a),a[4]=null),a[3]=l;const y=a[17];null!==y&&l!==y&&function lA(o,a){const l=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===l?o[9]=[a]:l.push(a)}(y,a);const w=a[19];null!==w&&w.insertView(o),a[2]|=64}(f,d,y,m);const w=Sm(m,y),S=d[11],I=m6(S,y[7]);return null!==I&&function K1(o,a,l,d,f,m){d[0]=f,d[6]=a,Su(o,d,l,1,f,m)}(f,y[6],S,d,I,w),a.attachToViewContainerRef(),Ti(C4(y),m,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=lv(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),d=Y1(this._lContainer,l);d&&(bn(C4(this._lContainer),l),gf(d[1],d))}detach(a){const l=this._adjustIndex(a,-1),d=Y1(this._lContainer,l);return d&&null!=bn(C4(this._lContainer),l)?new Qu(d):null}_adjustIndex(a,l=0){return a??this.length+l}};function lv(o){return o[8]}function C4(o){return o[8]||(o[8]=[])}function uv(o,a){let l;const d=a[o.index];if(Wr(d))l=d;else{let f;if(8&o.type)f=Sn(d);else{const m=a[11];f=m.createComment("");const y=Sr(o,a);Da(m,m6(m,y),f,function dA(o,a){return o.nextSibling(a)}(m,y),!1)}a[o.index]=l=Zu(d,a,f,o),Ku(a,l)}return new cv(l,o,a)}class C5{constructor(a){this.queryList=a,this.matches=null}clone(){return new C5(this.queryList)}setDirty(){this.queryList.setDirty()}}class A4{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const d=null!==a.contentQueries?a.contentQueries[0]:l.length,f=[];for(let m=0;m<d;m++){const y=l.getByIndex(m);f.push(this.queries[y.indexInDeclarationView].clone())}return new A4(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==M5(a,l).matches&&this.queries[l].setDirty()}}class dv{constructor(a,l,d=null){this.predicate=a,this.flags=l,this.read=d}}class b4{constructor(a=[]){this.queries=a}elementStart(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(a,f);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new b4(l):null}template(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class A5{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new A5(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(a,l,b5(l,m)),this.matchTNodeWithReadOption(a,l,N1(l,a,m,!1,!1))}else d===_4?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,N1(l,a,d,!1,!1))}matchTNodeWithReadOption(a,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===S2||f===y4||f===_4&&4&l.type)this.addMatch(l.index,-2);else{const m=N1(l,a,f,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function b5(o,a){const l=o.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===a)return l[d+1];return null}function fv(o,a,l,d){return-1===l?function w5(o,a){return 11&o.type?Oa(o,a):4&o.type?q2(o,a):null}(a,o):-2===l?function pv(o,a,l){return l===S2?Oa(a,o):l===_4?q2(a,o):l===y4?uv(a,o):void 0}(o,a,d):zs(o,o[1],l,a)}function mv(o,a,l,d){const f=a[19].queries[d];if(null===f.matches){const m=o.data,y=l.matches,w=[];for(let S=0;S<y.length;S+=2){const I=y[S];w.push(I<0?null:fv(a,m[I],y[S+1],l.metadata.read))}f.matches=w}return f.matches}function w4(o,a,l,d){const f=o.queries.getByIndex(l),m=f.matches;if(null!==m){const y=mv(o,a,f,l);for(let w=0;w<m.length;w+=2){const S=m[w];if(S>0)d.push(y[w/2]);else{const I=m[w+1],D=a[-S];for(let L=10;L<D.length;L++){const H=D[L];H[17]===H[3]&&w4(H[1],H,I,d)}if(null!==D[9]){const L=D[9];for(let H=0;H<L.length;H++){const X=L[H];w4(X[1],X,I,d)}}}}}return d}function gv(o){const a=ye(),l=Lt(),d=Yl();Ql(d+1);const f=M5(l,d);if(o.dirty&&function kd(o){return 4==(4&o[2])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?w4(l,a,d,[]):mv(l,a,f,d);o.reset(m,Uf),o.notifyOnChanges()}return!0}return!1}function Q3(o,a,l){const d=Lt();d.firstCreatePass&&(E4(d,new dv(o,a,l),-1),2==(2&a)&&(d.staticViewQueries=!0)),E5(d,ye(),a)}function vv(o,a,l,d){const f=Lt();if(f.firstCreatePass){const m=ir();E4(f,new dv(a,l,d),m.index),function yv(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(f,o),2==(2&l)&&(f.staticContentQueries=!0)}E5(f,ye(),l)}function Qs(){return function _v(o,a){return o[19].queries[a].queryList}(ye(),Yl())}function E5(o,a,l){const d=new Y3(4==(4&l));pb(o,a,d,d.destroy),null===a[19]&&(a[19]=new A4),a[19].queries.push(new C5(d))}function E4(o,a,l){null===o.queries&&(o.queries=new b4),o.queries.track(new A5(a,l))}function M5(o,a){return o.queries.getByIndex(a)}function Za(...o){}const xv=new fn("Application Initializer");let tl=(()=>{class o{constructor(l){this.appInits=l,this.resolve=Za,this.reject=Za,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(h3(m))l.push(m);else if(T8(m)){const y=new Promise((w,S)=>{m.subscribe({complete:w,error:S})});l.push(y)}}Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)(On(xv,8))},o.\u0275prov=Kt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Dv=new fn("AppId",{providedIn:"root",factory:function Nv(){return`${L5()}${L5()}${L5()}`}});function L5(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kv=new fn("Platform Initializer"),nN=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xw=new fn("appBootstrapListener"),Jw=new fn("AnimationModuleType");let rN=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Kt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const P5=new fn("LocaleId",{providedIn:"root",factory:()=>nf(P5,Ke.Optional|Ke.SkipSelf)||function iN(){return typeof $localize<"u"&&$localize.locale||j2}()}),O5=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tE{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let oh=(()=>{class o{compileModuleSync(l){return new p4(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=Fo(un(l).declarations).reduce((y,w)=>{const S=K(w);return S&&y.push(new n3(S)),y},[]);return new tE(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Kt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const rE=(()=>Promise.resolve(0))();function V5(o){typeof Zone>"u"?rE.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class ti{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ys(!1),this.onMicrotaskEmpty=new Ys(!1),this.onStable=new Ys(!1),this.onError=new Ys(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function ei(){let o=Ft.requestAnimationFrame,a=Ft.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function H5(o){const a=()=>{!function ah(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Ft,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,I4(o),o.isCheckStableRunning=!0,S4(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),I4(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,m,y,w)=>{try{return Pv(o),l.invokeTask(f,m,y,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),Ov(o)}},onInvoke:(l,d,f,m,y,w,S)=>{try{return Pv(o),l.invoke(f,m,y,w,S)}finally{o.shouldCoalesceRunChangeDetection&&a(),Ov(o)}},onHasTask:(l,d,f,m)=>{l.hasTask(f,m),d===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,I4(o),S4(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,f,m)=>(l.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ti.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(ti.isInAngularZone())throw new be(909,!1)}run(a,l,d){return this._inner.run(a,l,d)}runTask(a,l,d,f){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+f,a,Lv,Za,Za);try{return m.runTask(y,l,d)}finally{m.cancelTask(y)}}runGuarded(a,l,d){return this._inner.runGuarded(a,l,d)}runOutsideAngular(a){return this._outer.run(a)}}const Lv={};function S4(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function I4(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Pv(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Ov(o){o._nesting--,S4(o)}class iE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ys,this.onMicrotaskEmpty=new Ys,this.onStable=new Ys,this.onError=new Ys}run(a,l,d){return a.apply(l,d)}runGuarded(a,l,d){return a.apply(l,d)}runOutsideAngular(a){return a()}runTask(a,l,d,f){return a.apply(l,d)}}const zv=new fn(""),Fv=new fn("");let lh,T4=(()=>{class o{constructor(l,d,f){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,lh||(function ch(o){lh=o}(f),f.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ti.assertNotInAngularZone(),V5(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())V5(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,f){return[]}}return o.\u0275fac=function(l){return new(l||o)(On(ti),On(B5),On(Fv))},o.\u0275prov=Kt({token:o,factory:o.\u0275fac}),o})(),B5=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return lh?.findTestabilityInTree(this,l,d)??null}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Kt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Ka=null;const Vv=new fn("AllowMultipleToken"),U5=new fn("PlatformDestroyListeners");class j5{constructor(a,l){this.name=a,this.token=l}}function uh(o,a,l=[]){const d=`Platform: ${a}`,f=new fn(d);return(m=[])=>{let y=dh();if(!y||y.injector.get(Vv,!1)){const w=[...l,...m,{provide:f,useValue:!0}];o?o(w):function jv(o){if(Ka&&!Ka.get(Vv,!1))throw new be(400,!1);Ka=o;const a=o.get(fh);(function Gv(o){const a=o.get(kv,null);a&&a.forEach(l=>l())})(o)}(function hh(o=[],a){return ec.create({name:a,providers:[{provide:Ff,useValue:"platform"},{provide:U5,useValue:new Set([()=>Ka=null])},...o]})}(w,d))}return function sE(o){const a=dh();if(!a)throw new be(401,!1);return a}()}}function dh(){return Ka?.get(fh)??null}let fh=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const f=function qv(o,a){let l;return l="noop"===o?new iE:("zone.js"===o?void 0:o)||new ti(a),l}(d?.ngZone,function Wv(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:ti,useValue:f}];return f.run(()=>{const y=ec.create({providers:m,parent:this.injector,name:l.moduleType.name}),w=l.create(y),S=w.injector.get(zo,null);if(!S)throw new be(402,!1);return f.runOutsideAngular(()=>{const I=f.onError.subscribe({next:D=>{S.handleError(D)}});w.onDestroy(()=>{rl(this._modules,w),I.unsubscribe()})}),function Zv(o,a,l){try{const d=l();return h3(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(S,f,()=>{const I=w.injector.get(tl);return I.runInitializers(),I.donePromise.then(()=>(function P3(o){Pt(o,"Expected localeId to be defined"),"string"==typeof o&&(Ng=o.toLowerCase().replace(/_/g,"-"))}(w.injector.get(P5,j2)||j2),this._moduleDoBootstrap(w),w))})})}bootstrapModule(l,d=[]){const f=D4({},d);return function Hv(o,a,l){const d=new p4(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(l){const d=l.injector.get(nl);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new be(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(U5,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(On(ec))},o.\u0275prov=Kt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function D4(o,a){return Array.isArray(a)?a.reduce(D4,o):{...o,...a}}let nl=(()=>{class o{constructor(l,d,f){this._zone=l,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new ie.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new ie.y(w=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{ti.assertNotInAngularZone(),V5(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{ti.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{S.unsubscribe(),I.unsubscribe()}});this.isStable=(0,de.T)(m,y.pipe((0,Ce.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const f=l instanceof Zm;if(!this._injector.get(tl).done)throw!f&&Yt(l),new be(405,false);let y;y=f?l:this._injector.get(M2).resolveComponentFactory(l),this.componentTypes.push(y.componentType);const w=function Uv(o){return o.isBoundToModule}(y)?void 0:this._injector.get(W2),I=y.create(ec.NULL,[],d||y.selector,w),D=I.location.nativeElement,L=I.injector.get(zv,null);return L?.registerApplication(D),I.onDestroy(()=>{this.detachView(I.hostView),rl(this.components,I),L?.unregisterApplication(D)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;rl(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Xw,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>rl(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new be(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(l){return new(l||o)(On(ti),On(J1),On(zo))},o.\u0275prov=Kt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function rl(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}let Yv=!0,G5=!1;function il(){return G5=!0,Yv}function Qv(){if(G5)throw new Error("Cannot enable prod mode after platform setup.");Yv=!1}let aE=(()=>{class o{}return o.__NG_ELEMENT_ID__=cE,o})();function cE(o){return function lE(o,a,l){if(Hc(o)&&!l){const d=Qt(o.index,a);return new Qu(d,d)}return 47&o.type?new Qu(a[16],a):null}(ir(),ye(),16==(16&o))}class K5{constructor(){}supports(a){return L2(a)}create(a){return new i_(a)}}const fE=(o,a)=>a;class i_{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||fE}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,d=this._removalsHead,f=0,m=null;for(;l||d;){const y=!d||l&&l.currentIndex<vh(d,f,m)?l:d,w=vh(y,f,m),S=y.currentIndex;if(y===d)f--,d=d._nextRemoved;else if(l=l._next,null==y.previousIndex)f++;else{m||(m=[]);const I=w-f,D=S-f;if(I!=D){for(let H=0;H<I;H++){const X=H<m.length?m[H]:m[H]=0,ue=X+H;D<=ue&&ue<I&&(m[H]=X+1)}m[y.previousIndex]=D-I}}w!==S&&a(y,w,S)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!L2(a))throw new be(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,y,l=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)m=a[w],y=this._trackByFn(w,m),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,m,y,w)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,y,w),d=!0),l=l._next}else f=0,function Sb(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[Ua()]();let d;for(;!(d=l.next()).done;)a(d.value)}}(a,w=>{y=this._trackByFn(f,w),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,w,y,f)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,y,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,d,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,m,f)):a=this._addAfter(new Y5(l,d),m,f),a}_verifyReinsertion(a,l,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,l,d),this._addToMoves(a,d),a}_moveAfter(a,l,d){return this._unlink(a),this._insertAfter(a,l,d),this._addToMoves(a,d),a}_addAfter(a,l,d){return this._insertAfter(a,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,d){const f=null===l?this._itHead:l._next;return a._next=f,a._prev=l,null===f?this._itTail=a:f._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new pE),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,d=a._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pE),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Y5{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ol{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const l=a._prevDup,d=a._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class pE{constructor(){this.map=new Map}put(a){const l=a.trackById;let d=this.map.get(l);d||(d=new ol,this.map.set(l,d)),d.add(a)}get(a,l){const f=this.map.get(a);return f?f.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vh(o,a,l){const d=o.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+a+f}class mE{constructor(){}supports(a){return a instanceof Map||o3(a)}create(){return new gE}}class gE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||o3(a)))throw new be(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const d=a._prev;return l._next=a,l._prev=d,a._prev=l,d&&(d._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,l);const m=f._prev,y=f._next;return m&&(m._next=y),y&&(y._prev=m),f._next=null,f._prev=null,f}const d=new pN(a);return this._records.set(a,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(d=>l(a[d],d))}}class pN{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function s_(){return new Q5([new K5])}let Q5=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||s_()),deps:[[o,new So,new wa]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new be(901,!1)}}return o.\u0275prov=Kt({token:o,providedIn:"root",factory:s_}),o})();function vE(){return new X5([new mE])}let X5=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||vE()),deps:[[o,new So,new wa]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(d)return d;throw new be(901,!1)}}return o.\u0275prov=Kt({token:o,providedIn:"root",factory:vE}),o})();const vN=uh(null,"core",[]);let o_=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(On(nl))},o.\u0275mod=$t({type:o}),o.\u0275inj=Tt({}),o})();function _h(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(dt,Me,P)=>{P.d(Me,{Z:()=>be});var u=P(2090),z=P(4859),ie=P(9681),de=P(1877);class Ce{constructor(re,ce){this._delegate=re,this.firebase=ce,(0,ie._addComponent)(re,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this._delegate.automaticDataCollectionEnabled=re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(re=>{this._delegate.checkDestroyed(),re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ie.deleteApp)(this._delegate)))}_getService(re,ce=ie._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const Xe=this._delegate.container.getProvider(re);return!Xe.isInitialized()&&"EXPLICIT"===(null===(et=Xe.getComponent())||void 0===et?void 0:et.instantiationMode)&&Xe.initialize(),Xe.getImmediate({identifier:ce})}_removeServiceInstance(re,ce=ie._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(re).clearInstance(ce)}_addComponent(re){(0,ie._addComponent)(this._delegate,re)}_addOrOverwriteComponent(re){(0,ie._addOrOverwriteComponent)(this._delegate,re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function ke(){const Ze=function Ee(Ze){const re={},ce={__esModule:!0,initializeApp:function Se(ee,ne={}){const le=ie.initializeApp(ee,ne);if((0,u.r3)(re,le.name))return re[le.name];const W=new Ze(le,ce);return re[le.name]=W,W},app:Xe,registerVersion:ie.registerVersion,setLogLevel:ie.setLogLevel,onLog:ie.onLog,apps:null,SDK_VERSION:ie.SDK_VERSION,INTERNAL:{registerComponent:function me(ee){const ne=ee.name,le=ne.replace("-compat","");if(ie._registerComponent(ee)&&"PUBLIC"===ee.type){const W=(q=Xe())=>{if("function"!=typeof q[le])throw pe.create("invalid-app-argument",{appName:ne});return q[le]()};void 0!==ee.serviceProps&&(0,u.ZB)(W,ee.serviceProps),ce[le]=W,Ze.prototype[le]=function(...q){return this._getService.bind(this,ne).apply(this,ee.multipleInstances?q:[])}}return"PUBLIC"===ee.type?ce[le]:null},removeApp:function et(ee){delete re[ee]},useAsService:function Ve(ee,ne){return"serverAuth"===ne?null:ne},modularAPIs:ie}};function Xe(ee){if(!(0,u.r3)(re,ee=ee||ie._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:ee});return re[ee]}return ce.default=ce,Object.defineProperty(ce,"apps",{get:function Ae(){return Object.keys(re).map(ee=>re[ee])}}),Xe.App=Ze,ce}(Ce);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:ke,extendNamespace:function re(ce){(0,u.ZB)(Ze,ce)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Ze}(),U=new de.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const be=B;!function Pe(Ze){(0,ie.registerVersion)("@firebase/app-compat","0.1.39",Ze)}()},9681:(dt,Me,P)=>{P.r(Me),P.d(Me,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>io,_DEFAULT_ENTRY_NAME:()=>Pt,_addComponent:()=>dn,_addOrOverwriteComponent:()=>Kt,_apps:()=>hn,_clearComponents:()=>ks,_components:()=>tr,_getProvider:()=>Tt,_registerComponent:()=>jt,_removeServiceInstance:()=>ai,deleteApp:()=>la,getApp:()=>wi,getApps:()=>ca,initializeApp:()=>Gi,onLog:()=>Oc,registerVersion:()=>Mr,setLogLevel:()=>nr});var u=P(5861),z=P(4859),ie=P(1877),de=P(2090),Ce=P(8766);class ve{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(qe=>{if(function pe(Ye){return"VERSION"===Ye.getComponent()?.type}(qe)){const pt=qe.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(qe=>qe).join(" ")}}const Ee="@firebase/app",B=new ie.Yd("@firebase/app"),Pt="[DEFAULT]",Ue={[Ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hn=new Map,tr=new Map;function dn(Ye,_e){try{Ye.container.addComponent(_e)}catch(qe){B.debug(`Component ${_e.name} failed to register with FirebaseApp ${Ye.name}`,qe)}}function Kt(Ye,_e){Ye.container.addOrOverwriteComponent(_e)}function jt(Ye){const _e=Ye.name;if(tr.has(_e))return B.debug(`There were multiple attempts to register component ${_e}.`),!1;tr.set(_e,Ye);for(const qe of hn.values())dn(qe,Ye);return!0}function Tt(Ye,_e){const qe=Ye.container.getProvider("heartbeat").getImmediate({optional:!0});return qe&&qe.triggerHeartbeat(),Ye.container.getProvider(_e)}function ai(Ye,_e,qe=Pt){Tt(Ye,_e).clearInstance(qe)}function ks(){tr.clear()}const jn=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ro{constructor(_e,qe,pt){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},qe),this._name=qe.name,this._automaticDataCollectionEnabled=qe.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}const io="9.14.0";function Gi(Ye,_e={}){let qe=Ye;"object"!=typeof _e&&(_e={name:_e});const pt=Object.assign({name:Pt,automaticDataCollectionEnabled:!1},_e),Ct=pt.name;if("string"!=typeof Ct||!Ct)throw jn.create("bad-app-name",{appName:String(Ct)});if(qe||(qe=(0,de.aH)()),!qe)throw jn.create("no-options");const $t=hn.get(Ct);if($t){if((0,de.vZ)(qe,$t.options)&&(0,de.vZ)(pt,$t.config))return $t;throw jn.create("duplicate-app",{appName:Ct})}const F=new z.H0(Ct);for(const G of tr.values())F.addComponent(G);const O=new ro(qe,pt,F);return hn.set(Ct,O),O}function wi(Ye=Pt){const _e=hn.get(Ye);if(!_e&&Ye===Pt)return Gi();if(!_e)throw jn.create("no-app",{appName:Ye});return _e}function ca(){return Array.from(hn.values())}function la(Ye){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,u.Z)(function*(Ye){const _e=Ye.name;hn.has(_e)&&(hn.delete(_e),yield Promise.all(Ye.container.getProviders().map(qe=>qe.delete())),Ye.isDeleted=!0)})).apply(this,arguments)}function Mr(Ye,_e,qe){var pt;let Ct=null!==(pt=Ue[Ye])&&void 0!==pt?pt:Ye;qe&&(Ct+=`-${qe}`);const $t=Ct.match(/\s|\//),F=_e.match(/\s|\//);if($t||F){const O=[`Unable to register library "${Ct}" with version "${_e}":`];return $t&&O.push(`library name "${Ct}" contains illegal characters (whitespace or "/")`),$t&&F&&O.push("and"),F&&O.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void B.warn(O.join(" "))}jt(new z.wA(`${Ct}-version`,()=>({library:Ct,version:_e}),"VERSION"))}function Oc(Ye,_e){if(null!==Ye&&"function"!=typeof Ye)throw jn.create("invalid-log-argument");(0,ie.Am)(Ye,_e)}function nr(Ye){(0,ie.Ub)(Ye)}const Ln="firebase-heartbeat-store";let Gn=null;function vn(){return Gn||(Gn=(0,Ce.X3)("firebase-heartbeat-database",1,{upgrade:(Ye,_e)=>{0===_e&&Ye.createObjectStore(Ln)}}).catch(Ye=>{throw jn.create("idb-open",{originalErrorMessage:Ye.message})})),Gn}function lt(){return(lt=(0,u.Z)(function*(Ye){var _e;try{return(yield vn()).transaction(Ln).objectStore(Ln).get(gr(Ye))}catch(qe){if(qe instanceof de.ZR)B.warn(qe.message);else{const pt=jn.create("idb-get",{originalErrorMessage:null===(_e=qe)||void 0===_e?void 0:_e.message});B.warn(pt.message)}}})).apply(this,arguments)}function Ft(Ye,_e){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,u.Z)(function*(Ye,_e){var qe;try{const Ct=(yield vn()).transaction(Ln,"readwrite");return yield Ct.objectStore(Ln).put(_e,gr(Ye)),Ct.done}catch(pt){if(pt instanceof de.ZR)B.warn(pt.message);else{const Ct=jn.create("idb-set",{originalErrorMessage:null===(qe=pt)||void 0===qe?void 0:qe.message});B.warn(Ct.message)}}})).apply(this,arguments)}function gr(Ye){return`${Ye.name}!${Ye.options.appId}`}class Ei{constructor(_e){this.container=_e,this._heartbeatsCache=null;const qe=this.container.getProvider("app").getImmediate();this._storage=new Gt(qe),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var _e=this;return(0,u.Z)(function*(){const pt=_e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ct=tn();if(null===_e._heartbeatsCache&&(_e._heartbeatsCache=yield _e._heartbeatsCachePromise),_e._heartbeatsCache.lastSentHeartbeatDate!==Ct&&!_e._heartbeatsCache.heartbeats.some($t=>$t.date===Ct))return _e._heartbeatsCache.heartbeats.push({date:Ct,agent:pt}),_e._heartbeatsCache.heartbeats=_e._heartbeatsCache.heartbeats.filter($t=>{const F=new Date($t.date).valueOf();return Date.now()-F<=2592e6}),_e._storage.overwrite(_e._heartbeatsCache)})()}getHeartbeatsHeader(){var _e=this;return(0,u.Z)(function*(){if(null===_e._heartbeatsCache&&(yield _e._heartbeatsCachePromise),null===_e._heartbeatsCache||0===_e._heartbeatsCache.heartbeats.length)return"";const qe=tn(),{heartbeatsToSend:pt,unsentEntries:Ct}=function so(Ye,_e=1024){const qe=[];let pt=Ye.slice();for(const Ct of Ye){const $t=qe.find(F=>F.agent===Ct.agent);if($t){if($t.dates.push(Ct.date),kr(qe)>_e){$t.dates.pop();break}}else if(qe.push({agent:Ct.agent,dates:[Ct.date]}),kr(qe)>_e){qe.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:qe,unsentEntries:pt}}(_e._heartbeatsCache.heartbeats),$t=(0,de.L)(JSON.stringify({version:2,heartbeats:pt}));return _e._heartbeatsCache.lastSentHeartbeatDate=qe,Ct.length>0?(_e._heartbeatsCache.heartbeats=Ct,yield _e._storage.overwrite(_e._heartbeatsCache)):(_e._heartbeatsCache.heartbeats=[],_e._storage.overwrite(_e._heartbeatsCache)),$t})()}}function tn(){return(new Date).toISOString().substring(0,10)}class Gt{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _e=this;return(0,u.Z)(function*(){return(yield _e._canUseIndexedDBPromise)&&(yield function ht(Ye){return lt.apply(this,arguments)}(_e.app))||{heartbeats:[]}})()}overwrite(_e){var qe=this;return(0,u.Z)(function*(){var pt;if(yield qe._canUseIndexedDBPromise){const $t=yield qe.read();return Ft(qe.app,{lastSentHeartbeatDate:null!==(pt=_e.lastSentHeartbeatDate)&&void 0!==pt?pt:$t.lastSentHeartbeatDate,heartbeats:_e.heartbeats})}})()}add(_e){var qe=this;return(0,u.Z)(function*(){var pt;if(yield qe._canUseIndexedDBPromise){const $t=yield qe.read();return Ft(qe.app,{lastSentHeartbeatDate:null!==(pt=_e.lastSentHeartbeatDate)&&void 0!==pt?pt:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,..._e.heartbeats]})}})()}}function kr(Ye){return(0,de.L)(JSON.stringify({version:2,heartbeats:Ye})).length}!function li(Ye){jt(new z.wA("platform-logger",_e=>new ve(_e),"PRIVATE")),jt(new z.wA("heartbeat",_e=>new Ei(_e),"PRIVATE")),Mr(Ee,"0.8.4",Ye),Mr(Ee,"0.8.4","esm2017"),Mr("fire-js","")}("")},4859:(dt,Me,P)=>{P.d(Me,{H0:()=>Ee,wA:()=>ie});var u=P(5861),z=P(2090);class ie{constructor(B,U,Y){this.name=B,this.instanceFactory=U,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const de="[DEFAULT]";class Ce{constructor(B,U){this.name=B,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const U=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(U)){const Y=new z.BH;if(this.instancesDeferred.set(U,Y),this.isInitialized(U)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:U});Fe&&Y.resolve(Fe)}catch{}}return this.instancesDeferred.get(U).promise}getImmediate(B){var U;const Y=this.normalizeInstanceIdentifier(B?.identifier),Fe=null!==(U=B?.optional)&&void 0!==U&&U;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Pe){if(Fe)return null;throw Pe}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function pe(ke){return"EAGER"===ke.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[U,Y]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(U);try{const Pe=this.getOrInitializeService({instanceIdentifier:Fe});Y.resolve(Pe)}catch{}}}}clearInstance(B=de){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,u.Z)(function*(){const U=Array.from(B.instances.values());yield Promise.all([...U.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...U.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=de){return this.instances.has(B)}getOptions(B=de){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:U={}}=B,Y=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:Y,options:U});for(const[Pe,be]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Pe)&&be.resolve(Fe);return Fe}onInit(B,U){var Y;const Fe=this.normalizeInstanceIdentifier(U),Pe=null!==(Y=this.onInitCallbacks.get(Fe))&&void 0!==Y?Y:new Set;Pe.add(B),this.onInitCallbacks.set(Fe,Pe);const be=this.instances.get(Fe);return be&&B(be,Fe),()=>{Pe.delete(B)}}invokeOnInitCallbacks(B,U){const Y=this.onInitCallbacks.get(U);if(Y)for(const Fe of Y)try{Fe(B,U)}catch{}}getOrInitializeService({instanceIdentifier:B,options:U={}}){let Y=this.instances.get(B);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(ke=B,ke===de?void 0:ke),options:U}),this.instances.set(B,Y),this.instancesOptions.set(B,U),this.invokeOnInitCallbacks(Y,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,Y)}catch{}var ke;return Y||null}normalizeInstanceIdentifier(B=de){return this.component?this.component.multipleInstances?B:de:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const U=this.getProvider(B.name);if(U.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);U.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const U=new Ce(B,this);return this.providers.set(B,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(dt,Me,P)=>{P.d(Me,{Am:()=>ke,Ub:()=>Ee,Yd:()=>pe,in:()=>z});const u=[];var z=(()=>{return(B=z||(z={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",z;var B})();const ie={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},de=z.INFO,Ce={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},ve=(B,U,...Y)=>{if(U<B.logLevel)return;const Fe=(new Date).toISOString(),Pe=Ce[U];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Pe](`[${Fe}]  ${B.name}:`,...Y)};class pe{constructor(U){this.name=U,this._logLevel=de,this._logHandler=ve,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in z))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?ie[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...U),this._logHandler(this,z.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...U),this._logHandler(this,z.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,z.INFO,...U),this._logHandler(this,z.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,z.WARN,...U),this._logHandler(this,z.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...U),this._logHandler(this,z.ERROR,...U)}}function Ee(B){u.forEach(U=>{U.setLogLevel(B)})}function ke(B,U){for(const Y of u){let Fe=null;U&&U.level&&(Fe=ie[U.level]),Y.userLogHandler=null===B?null:(Pe,be,...Ze)=>{const re=Ze.map(ce=>{if(null==ce)return null;if("string"==typeof ce)return ce;if("number"==typeof ce||"boolean"==typeof ce)return ce.toString();if(ce instanceof Error)return ce.message;try{return JSON.stringify(ce)}catch{return null}}).filter(ce=>ce).join(" ");be>=(Fe??Pe.logLevel)&&B({level:z[be].toLowerCase(),message:re,args:Ze,type:Pe.name})}}}},8766:(dt,Me,P)=>{P.d(Me,{Lj:()=>Se,X3:()=>Xe});var u=P(5861);let ie,de;const pe=new WeakMap,Ee=new WeakMap,ke=new WeakMap,B=new WeakMap,U=new WeakMap;let Pe={get(ne,le,W){if(ne instanceof IDBTransaction){if("done"===le)return Ee.get(ne);if("objectStoreNames"===le)return ne.objectStoreNames||ke.get(ne);if("store"===le)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return ce(ne[le])},set:(ne,le,W)=>(ne[le]=W,!0),has:(ne,le)=>ne instanceof IDBTransaction&&("done"===le||"store"===le)||le in ne};function re(ne){return"function"==typeof ne?function Ze(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...le){return ne.apply(et(this),le),ce(pe.get(this))}:function(...le){return ce(ne.apply(et(this),le))}:function(le,...W){const q=ne.call(et(this),le,...W);return ke.set(q,le.sort?le.sort():[le]),ce(q)}}(ne):(ne instanceof IDBTransaction&&function Fe(ne){if(Ee.has(ne))return;const le=new Promise((W,q)=>{const se=()=>{ne.removeEventListener("complete",J),ne.removeEventListener("error",De),ne.removeEventListener("abort",De)},J=()=>{W(),se()},De=()=>{q(ne.error||new DOMException("AbortError","AbortError")),se()};ne.addEventListener("complete",J),ne.addEventListener("error",De),ne.addEventListener("abort",De)});Ee.set(ne,le)}(ne),((ne,le)=>le.some(W=>ne instanceof W))(ne,function Ce(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,Pe):ne)}function ce(ne){if(ne instanceof IDBRequest)return function Y(ne){const le=new Promise((W,q)=>{const se=()=>{ne.removeEventListener("success",J),ne.removeEventListener("error",De)},J=()=>{W(ce(ne.result)),se()},De=()=>{q(ne.error),se()};ne.addEventListener("success",J),ne.addEventListener("error",De)});return le.then(W=>{W instanceof IDBCursor&&pe.set(W,ne)}).catch(()=>{}),U.set(le,ne),le}(ne);if(B.has(ne))return B.get(ne);const le=re(ne);return le!==ne&&(B.set(ne,le),U.set(le,ne)),le}const et=ne=>U.get(ne);function Xe(ne,le,{blocked:W,upgrade:q,blocking:se,terminated:J}={}){const De=indexedDB.open(ne,le),Re=ce(De);return q&&De.addEventListener("upgradeneeded",ct=>{q(ce(De.result),ct.oldVersion,ct.newVersion,ce(De.transaction))}),W&&De.addEventListener("blocked",()=>W()),Re.then(ct=>{J&&ct.addEventListener("close",()=>J()),se&&ct.addEventListener("versionchange",()=>se())}).catch(()=>{}),Re}function Se(ne,{blocked:le}={}){const W=indexedDB.deleteDatabase(ne);return le&&W.addEventListener("blocked",()=>le()),ce(W).then(()=>{})}const Ae=["get","getKey","getAll","getAllKeys","count"],me=["put","add","delete","clear"],Ve=new Map;function ee(ne,le){if(!(ne instanceof IDBDatabase)||le in ne||"string"!=typeof le)return;if(Ve.get(le))return Ve.get(le);const W=le.replace(/FromIndex$/,""),q=le!==W,se=me.includes(W);if(!(W in(q?IDBIndex:IDBObjectStore).prototype)||!se&&!Ae.includes(W))return;const J=function(){var De=(0,u.Z)(function*(Re,...ct){const Zt=this.transaction(Re,se?"readwrite":"readonly");let Pt=Zt.store;return q&&(Pt=Pt.index(ct.shift())),(yield Promise.all([Pt[W](...ct),se&&Zt.done]))[0]});return function(ct){return De.apply(this,arguments)}}();return Ve.set(le,J),J}!function be(ne){Pe=ne(Pe)}(ne=>({...ne,get:(le,W,q)=>ee(le,W)||ne.get(le,W,q),has:(le,W)=>!!ee(le,W)||ne.has(le,W)}))},5861:(dt,Me,P)=>{function u(ie,de,Ce,ve,pe,Ee,ke){try{var B=ie[Ee](ke),U=B.value}catch(Y){return void Ce(Y)}B.done?de(U):Promise.resolve(U).then(ve,pe)}function z(ie){return function(){var de=this,Ce=arguments;return new Promise(function(ve,pe){var Ee=ie.apply(de,Ce);function ke(U){u(Ee,ve,pe,ke,B,"next",U)}function B(U){u(Ee,ve,pe,ke,B,"throw",U)}ke(void 0)})}}P.d(Me,{Z:()=>z})}},dt=>{dt(dt.s=8047)}]);